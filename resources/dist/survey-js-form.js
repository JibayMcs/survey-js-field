var Jo=Object.create;var Kn=Object.defineProperty;var Go=Object.getOwnPropertyDescriptor;var Zo=Object.getOwnPropertyNames;var Yo=Object.getPrototypeOf,Xo=Object.prototype.hasOwnProperty;var _t=(q,M)=>()=>(M||q((M={exports:{}}).exports,M),M.exports);var _o=(q,M,d,P)=>{if(M&&typeof M=="object"||typeof M=="function")for(let C of Zo(M))!Xo.call(q,C)&&C!==d&&Kn(q,C,{get:()=>M[C],enumerable:!(P=Go(M,C))||P.enumerable});return q};var xt=(q,M,d)=>(d=q!=null?Jo(Yo(q)):{},_o(M||!q||!q.__esModule?Kn(d,"default",{value:q,enumerable:!0}):d,q));var Mt=_t((en,tn)=>{(function(){(function(q){var M=this||(0,eval)("this"),d=M.document,P=M.navigator,C=M.jQuery,D=M.JSON;C||typeof jQuery>"u"||(C=jQuery),function(A){typeof define=="function"&&define.amd?define(["exports","require"],A):A(typeof en=="object"&&typeof tn=="object"?tn.exports||en:M.ko={})}(function(A,R){function V(i,h){return i===null||typeof i in m?i===h:!1}function O(i,h){var E;return function(){E||(E=e.a.setTimeout(function(){E=q,i()},h))}}function l(i,h){var E;return function(){clearTimeout(E),E=e.a.setTimeout(i,h)}}function y(i,h){h&&h!=="change"?h==="beforeChange"?this.pc(i):this.gb(i,h):this.qc(i)}function p(i,h){h!==null&&h.s&&h.s()}function f(i,h){var E=this.qd,S=E[t];S.ra||(this.Qb&&this.mb[h]?(E.uc(h,i,this.mb[h]),this.mb[h]=null,--this.Qb):S.I[h]||E.uc(h,i,S.J?{da:i}:E.$c(i)),i.Ja&&i.gd())}var e=typeof A<"u"?A:{};e.b=function(i,h){for(var E=i.split("."),S=e,L=0;L<E.length-1;L++)S=S[E[L]];S[E[E.length-1]]=h},e.L=function(i,h,E){i[h]=E},e.version="3.5.1",e.b("version",e.version),e.options={deferUpdates:!1,useOnlyNativeEvents:!1,foreachHidesDestroyed:!1},e.a=function(){function i(k,W){for(var K in k)L.call(k,K)&&W(K,k[K])}function h(k,W){if(W)for(var K in W)L.call(W,K)&&(k[K]=W[K]);return k}function E(k,W){return k.__proto__=W,k}function S(k,W,K,z){var G=k[W].match(N)||[];e.a.D(K.match(N),function($){e.a.Na(G,$,z)}),k[W]=G.join(" ")}var L=Object.prototype.hasOwnProperty,j={__proto__:[]}instanceof Array,w=typeof Symbol=="function",g={},I={};g[P&&/Firefox\/2/i.test(P.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],g.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),i(g,function(k,W){if(W.length)for(var K=0,z=W.length;K<z;K++)I[W[K]]=k});var T={propertychange:!0},B=d&&function(){for(var k=3,W=d.createElement("div"),K=W.getElementsByTagName("i");W.innerHTML="<!--[if gt IE "+ ++k+"]><i></i><![endif]-->",K[0];);return 4<k?k:q}(),N=/\S+/g,H;return{Jc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],D:function(k,W,K){for(var z=0,G=k.length;z<G;z++)W.call(K,k[z],z,k)},A:typeof Array.prototype.indexOf=="function"?function(k,W){return Array.prototype.indexOf.call(k,W)}:function(k,W){for(var K=0,z=k.length;K<z;K++)if(k[K]===W)return K;return-1},Lb:function(k,W,K){for(var z=0,G=k.length;z<G;z++)if(W.call(K,k[z],z,k))return k[z];return q},Pa:function(k,W){var K=e.a.A(k,W);0<K?k.splice(K,1):K===0&&k.shift()},wc:function(k){var W=[];return k&&e.a.D(k,function(K){0>e.a.A(W,K)&&W.push(K)}),W},Mb:function(k,W,K){var z=[];if(k)for(var G=0,$=k.length;G<$;G++)z.push(W.call(K,k[G],G));return z},jb:function(k,W,K){var z=[];if(k)for(var G=0,$=k.length;G<$;G++)W.call(K,k[G],G)&&z.push(k[G]);return z},Nb:function(k,W){if(W instanceof Array)k.push.apply(k,W);else for(var K=0,z=W.length;K<z;K++)k.push(W[K]);return k},Na:function(k,W,K){var z=e.a.A(e.a.bc(k),W);0>z?K&&k.push(W):K||k.splice(z,1)},Ba:j,extend:h,setPrototypeOf:E,Ab:j?E:h,P:i,Ga:function(k,W,K){if(!k)return k;var z={},G;for(G in k)L.call(k,G)&&(z[G]=W.call(K,k[G],G,k));return z},Tb:function(k){for(;k.firstChild;)e.removeNode(k.firstChild)},Yb:function(k){k=e.a.la(k);for(var W=(k[0]&&k[0].ownerDocument||d).createElement("div"),K=0,z=k.length;K<z;K++)W.appendChild(e.oa(k[K]));return W},Ca:function(k,W){for(var K=0,z=k.length,G=[];K<z;K++){var $=k[K].cloneNode(!0);G.push(W?e.oa($):$)}return G},va:function(k,W){if(e.a.Tb(k),W)for(var K=0,z=W.length;K<z;K++)k.appendChild(W[K])},Xc:function(k,W){var K=k.nodeType?[k]:k;if(0<K.length){for(var z=K[0],G=z.parentNode,$=0,Z=W.length;$<Z;$++)G.insertBefore(W[$],z);for($=0,Z=K.length;$<Z;$++)e.removeNode(K[$])}},Ua:function(k,W){if(k.length){for(W=W.nodeType===8&&W.parentNode||W;k.length&&k[0].parentNode!==W;)k.splice(0,1);for(;1<k.length&&k[k.length-1].parentNode!==W;)k.length--;if(1<k.length){var K=k[0],z=k[k.length-1];for(k.length=0;K!==z;)k.push(K),K=K.nextSibling;k.push(z)}}return k},Zc:function(k,W){7>B?k.setAttribute("selected",W):k.selected=W},Db:function(k){return k===null||k===q?"":k.trim?k.trim():k.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Ud:function(k,W){return k=k||"",W.length>k.length?!1:k.substring(0,W.length)===W},vd:function(k,W){if(k===W)return!0;if(k.nodeType===11)return!1;if(W.contains)return W.contains(k.nodeType!==1?k.parentNode:k);if(W.compareDocumentPosition)return(W.compareDocumentPosition(k)&16)==16;for(;k&&k!=W;)k=k.parentNode;return!!k},Sb:function(k){return e.a.vd(k,k.ownerDocument.documentElement)},kd:function(k){return!!e.a.Lb(k,e.a.Sb)},R:function(k){return k&&k.tagName&&k.tagName.toLowerCase()},Ac:function(k){return e.onError?function(){try{return k.apply(this,arguments)}catch(W){throw e.onError&&e.onError(W),W}}:k},setTimeout:function(k,W){return setTimeout(e.a.Ac(k),W)},Gc:function(k){setTimeout(function(){throw e.onError&&e.onError(k),k},0)},B:function(k,W,K){var z=e.a.Ac(K);if(K=T[W],e.options.useOnlyNativeEvents||K||!C)if(K||typeof k.addEventListener!="function")if(typeof k.attachEvent<"u"){var G=function(Z){z.call(k,Z)},$="on"+W;k.attachEvent($,G),e.a.K.za(k,function(){k.detachEvent($,G)})}else throw Error("Browser doesn't support addEventListener or attachEvent");else k.addEventListener(W,z,!1);else H||(H=typeof C(k).on=="function"?"on":"bind"),C(k)[H](W,z)},Fb:function(k,W){if(!k||!k.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var K;if(e.a.R(k)==="input"&&k.type&&W.toLowerCase()=="click"?(K=k.type,K=K=="checkbox"||K=="radio"):K=!1,e.options.useOnlyNativeEvents||!C||K)if(typeof d.createEvent=="function")if(typeof k.dispatchEvent=="function")K=d.createEvent(I[W]||"HTMLEvents"),K.initEvent(W,!0,!0,M,0,0,0,0,0,!1,!1,!1,!1,0,k),k.dispatchEvent(K);else throw Error("The supplied element doesn't support dispatchEvent");else if(K&&k.click)k.click();else if(typeof k.fireEvent<"u")k.fireEvent("on"+W);else throw Error("Browser doesn't support triggering events");else C(k).trigger(W)},f:function(k){return e.O(k)?k():k},bc:function(k){return e.O(k)?k.v():k},Eb:function(k,W,K){var z;W&&(typeof k.classList=="object"?(z=k.classList[K?"add":"remove"],e.a.D(W.match(N),function(G){z.call(k.classList,G)})):typeof k.className.baseVal=="string"?S(k.className,"baseVal",W,K):S(k,"className",W,K))},Bb:function(k,W){var K=e.a.f(W);(K===null||K===q)&&(K="");var z=e.h.firstChild(k);!z||z.nodeType!=3||e.h.nextSibling(z)?e.h.va(k,[k.ownerDocument.createTextNode(K)]):z.data=K,e.a.Ad(k)},Yc:function(k,W){if(k.name=W,7>=B)try{var K=k.name.replace(/[&<>'"]/g,function(z){return"&#"+z.charCodeAt(0)+";"});k.mergeAttributes(d.createElement("<input name='"+K+"'/>"),!1)}catch{}},Ad:function(k){9<=B&&(k=k.nodeType==1?k:k.parentNode,k.style&&(k.style.zoom=k.style.zoom))},wd:function(k){if(B){var W=k.style.width;k.style.width=0,k.style.width=W}},Pd:function(k,W){k=e.a.f(k),W=e.a.f(W);for(var K=[],z=k;z<=W;z++)K.push(z);return K},la:function(k){for(var W=[],K=0,z=k.length;K<z;K++)W.push(k[K]);return W},Da:function(k){return w?Symbol(k):k},Zd:B===6,$d:B===7,W:B,Lc:function(k,W){for(var K=e.a.la(k.getElementsByTagName("input")).concat(e.a.la(k.getElementsByTagName("textarea"))),z=typeof W=="string"?function(Z){return Z.name===W}:function(Z){return W.test(Z.name)},G=[],$=K.length-1;0<=$;$--)z(K[$])&&G.push(K[$]);return G},Nd:function(k){return typeof k=="string"&&(k=e.a.Db(k))?D&&D.parse?D.parse(k):new Function("return "+k)():null},hc:function(k,W,K){if(!D||!D.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return D.stringify(e.a.f(k),W,K)},Od:function(k,W,K){K=K||{};var z=K.params||{},G=K.includeFields||this.Jc,$=k;if(typeof k=="object"&&e.a.R(k)==="form")for(var $=k.action,Z=G.length-1;0<=Z;Z--)for(var X=e.a.Lc(k,G[Z]),ee=X.length-1;0<=ee;ee--)z[X[ee].name]=X[ee].value;W=e.a.f(W);var ne=d.createElement("form");ne.style.display="none",ne.action=$,ne.method="post";for(var oe in W)k=d.createElement("input"),k.type="hidden",k.name=oe,k.value=e.a.hc(e.a.f(W[oe])),ne.appendChild(k);i(z,function(ce,ye){var me=d.createElement("input");me.type="hidden",me.name=ce,me.value=ye,ne.appendChild(me)}),d.body.appendChild(ne),K.submitter?K.submitter(ne):ne.submit(),setTimeout(function(){ne.parentNode.removeChild(ne)},0)}}}(),e.b("utils",e.a),e.b("utils.arrayForEach",e.a.D),e.b("utils.arrayFirst",e.a.Lb),e.b("utils.arrayFilter",e.a.jb),e.b("utils.arrayGetDistinctValues",e.a.wc),e.b("utils.arrayIndexOf",e.a.A),e.b("utils.arrayMap",e.a.Mb),e.b("utils.arrayPushAll",e.a.Nb),e.b("utils.arrayRemoveItem",e.a.Pa),e.b("utils.cloneNodes",e.a.Ca),e.b("utils.createSymbolOrString",e.a.Da),e.b("utils.extend",e.a.extend),e.b("utils.fieldsIncludedWithJsonPost",e.a.Jc),e.b("utils.getFormFields",e.a.Lc),e.b("utils.objectMap",e.a.Ga),e.b("utils.peekObservable",e.a.bc),e.b("utils.postJson",e.a.Od),e.b("utils.parseJson",e.a.Nd),e.b("utils.registerEventHandler",e.a.B),e.b("utils.stringifyJson",e.a.hc),e.b("utils.range",e.a.Pd),e.b("utils.toggleDomNodeCssClass",e.a.Eb),e.b("utils.triggerEvent",e.a.Fb),e.b("utils.unwrapObservable",e.a.f),e.b("utils.objectForEach",e.a.P),e.b("utils.addOrRemoveItem",e.a.Na),e.b("utils.setTextContent",e.a.Bb),e.b("unwrap",e.a.f),Function.prototype.bind||(Function.prototype.bind=function(i){var h=this;if(arguments.length===1)return function(){return h.apply(i,arguments)};var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice(0);return S.push.apply(S,arguments),h.apply(i,S)}}),e.a.g=new function(){var i=0,h="__ko__"+new Date().getTime(),E={},S,L;return e.a.W?(S=function(j,w){var g=j[h];if(!g||g==="null"||!E[g]){if(!w)return q;g=j[h]="ko"+i++,E[g]={}}return E[g]},L=function(j){var w=j[h];return w?(delete E[w],j[h]=null,!0):!1}):(S=function(j,w){var g=j[h];return!g&&w&&(g=j[h]={}),g},L=function(j){return j[h]?(delete j[h],!0):!1}),{get:function(j,w){var g=S(j,!1);return g&&g[w]},set:function(j,w,g){(j=S(j,g!==q))&&(j[w]=g)},Ub:function(j,w,g){return j=S(j,!0),j[w]||(j[w]=g)},clear:L,Z:function(){return i+++h}}},e.b("utils.domData",e.a.g),e.b("utils.domData.clear",e.a.g.clear),e.a.K=new function(){function i(w,g){var I=e.a.g.get(w,S);return I===q&&g&&(I=[],e.a.g.set(w,S,I)),I}function h(w){var g=i(w,!1);if(g)for(var g=g.slice(0),I=0;I<g.length;I++)g[I](w);e.a.g.clear(w),e.a.K.cleanExternalData(w),j[w.nodeType]&&E(w.childNodes,!0)}function E(w,g){for(var I=[],T,B=0;B<w.length;B++)if((!g||w[B].nodeType===8)&&(h(I[I.length]=T=w[B]),w[B]!==T))for(;B--&&e.a.A(I,w[B])==-1;);}var S=e.a.g.Z(),L={1:!0,8:!0,9:!0},j={1:!0,9:!0};return{za:function(w,g){if(typeof g!="function")throw Error("Callback must be a function");i(w,!0).push(g)},yb:function(w,g){var I=i(w,!1);I&&(e.a.Pa(I,g),I.length==0&&e.a.g.set(w,S,q))},oa:function(w){return e.u.G(function(){L[w.nodeType]&&(h(w),j[w.nodeType]&&E(w.getElementsByTagName("*")))}),w},removeNode:function(w){e.oa(w),w.parentNode&&w.parentNode.removeChild(w)},cleanExternalData:function(w){C&&typeof C.cleanData=="function"&&C.cleanData([w])}}},e.oa=e.a.K.oa,e.removeNode=e.a.K.removeNode,e.b("cleanNode",e.oa),e.b("removeNode",e.removeNode),e.b("utils.domNodeDisposal",e.a.K),e.b("utils.domNodeDisposal.addDisposeCallback",e.a.K.za),e.b("utils.domNodeDisposal.removeDisposeCallback",e.a.K.yb),function(){var i=[0,"",""],h=[1,"<table>","</table>"],E=[3,"<table><tbody><tr>","</tr></tbody></table>"],S=[1,"<select multiple='multiple'>","</select>"],L={thead:h,tbody:h,tfoot:h,tr:[2,"<table><tbody>","</tbody></table>"],td:E,th:E,option:S,optgroup:S},j=8>=e.a.W;e.a.ua=function(w,g){var I;if(C){if(C.parseHTML)I=C.parseHTML(w,g)||[];else if((I=C.clean([w],g))&&I[0]){for(var T=I[0];T.parentNode&&T.parentNode.nodeType!==11;)T=T.parentNode;T.parentNode&&T.parentNode.removeChild(T)}}else{(I=g)||(I=d);var T=I.parentWindow||I.defaultView||M,B=e.a.Db(w).toLowerCase(),N=I.createElement("div"),H;for(H=(B=B.match(/^(?:\x3c!--.*?--\x3e\s*?)*?<([a-z]+)[\s>]/))&&L[B[1]]||i,B=H[0],H="ignored<div>"+H[1]+w+H[2]+"</div>",typeof T.innerShiv=="function"?N.appendChild(T.innerShiv(H)):(j&&I.body.appendChild(N),N.innerHTML=H,j&&N.parentNode.removeChild(N));B--;)N=N.lastChild;I=e.a.la(N.lastChild.childNodes)}return I},e.a.Md=function(w,g){var I=e.a.ua(w,g);return I.length&&I[0].parentElement||e.a.Yb(I)},e.a.fc=function(w,g){if(e.a.Tb(w),g=e.a.f(g),g!==null&&g!==q)if(typeof g!="string"&&(g=g.toString()),C)C(w).html(g);else for(var I=e.a.ua(g,w.ownerDocument),T=0;T<I.length;T++)w.appendChild(I[T])}}(),e.b("utils.parseHtmlFragment",e.a.ua),e.b("utils.setHtml",e.a.fc),e.aa=function(){function i(E,S){if(E){if(E.nodeType==8){var L=e.aa.Uc(E.nodeValue);L!=null&&S.push({ud:E,Kd:L})}else if(E.nodeType==1)for(var L=0,j=E.childNodes,w=j.length;L<w;L++)i(j[L],S)}}var h={};return{Xb:function(E){if(typeof E!="function")throw Error("You can only pass a function to ko.memoization.memoize()");var S=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return h[S]=E,"<!--[ko_memo:"+S+"]-->"},bd:function(E,S){var L=h[E];if(L===q)throw Error("Couldn't find any memo with ID "+E+". Perhaps it's already been unmemoized.");try{return L.apply(null,S||[]),!0}finally{delete h[E]}},cd:function(E,S){var L=[];i(E,L);for(var j=0,w=L.length;j<w;j++){var g=L[j].ud,I=[g];S&&e.a.Nb(I,S),e.aa.bd(L[j].Kd,I),g.nodeValue="",g.parentNode&&g.parentNode.removeChild(g)}},Uc:function(E){return(E=E.match(/^\[ko_memo\:(.*?)\]$/))?E[1]:null}}}(),e.b("memoization",e.aa),e.b("memoization.memoize",e.aa.Xb),e.b("memoization.unmemoize",e.aa.bd),e.b("memoization.parseMemoText",e.aa.Uc),e.b("memoization.unmemoizeDomNodeAndDescendants",e.aa.cd),e.na=function(){function i(){if(L){for(var g=L,I=0,T;w<L;)if(T=S[w++]){if(w>g){if(5e3<=++I){w=L,e.a.Gc(Error("'Too much recursion' after processing "+I+" task groups."));break}g=L}try{T()}catch(B){e.a.Gc(B)}}}}function h(){i(),w=L=S.length=0}var E,S=[],L=0,j=1,w=0;return M.MutationObserver?E=function(g){var I=d.createElement("div");return new MutationObserver(g).observe(I,{attributes:!0}),function(){I.classList.toggle("foo")}}(h):E=d&&"onreadystatechange"in d.createElement("script")?function(g){var I=d.createElement("script");I.onreadystatechange=function(){I.onreadystatechange=null,d.documentElement.removeChild(I),I=null,g()},d.documentElement.appendChild(I)}:function(g){setTimeout(g,0)},{scheduler:E,zb:function(g){return L||e.na.scheduler(h),S[L++]=g,j++},cancel:function(g){g=g-(j-L),g>=w&&g<L&&(S[g]=null)},resetForTesting:function(){var g=L-w;return w=L=S.length=0,g},Sd:i}}(),e.b("tasks",e.na),e.b("tasks.schedule",e.na.zb),e.b("tasks.runEarly",e.na.Sd),e.Ta={throttle:function(i,h){i.throttleEvaluation=h;var E=null;return e.$({read:i,write:function(S){clearTimeout(E),E=e.a.setTimeout(function(){i(S)},h)}})},rateLimit:function(i,h){var E,S,L;typeof h=="number"?E=h:(E=h.timeout,S=h.method),i.Hb=!1,L=typeof S=="function"?S:S=="notifyWhenChangesStop"?l:O,i.ub(function(j){return L(j,E,h)})},deferred:function(i,h){if(h!==!0)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");i.Hb||(i.Hb=!0,i.ub(function(E){var S,L=!1;return function(){if(!L){e.na.cancel(S),S=e.na.zb(E);try{L=!0,i.notifySubscribers(q,"dirty")}finally{L=!1}}}}))},notify:function(i,h){i.equalityComparer=h=="always"?null:V}};var m={undefined:1,boolean:1,number:1,string:1};e.b("extenders",e.Ta),e.ic=function(i,h,E){this.da=i,this.lc=h,this.mc=E,this.Ib=!1,this.fb=this.Jb=null,e.L(this,"dispose",this.s),e.L(this,"disposeWhenNodeIsRemoved",this.l)},e.ic.prototype.s=function(){this.Ib||(this.fb&&e.a.K.yb(this.Jb,this.fb),this.Ib=!0,this.mc(),this.da=this.lc=this.mc=this.Jb=this.fb=null)},e.ic.prototype.l=function(i){this.Jb=i,e.a.K.za(i,this.fb=this.s.bind(this))},e.T=function(){e.a.Ab(this,s),s.qb(this)};var s={qb:function(i){i.U={change:[]},i.sc=1},subscribe:function(i,h,E){var S=this;E=E||"change";var L=new e.ic(S,h?i.bind(h):i,function(){e.a.Pa(S.U[E],L),S.hb&&S.hb(E)});return S.Qa&&S.Qa(E),S.U[E]||(S.U[E]=[]),S.U[E].push(L),L},notifySubscribers:function(i,h){if(h=h||"change",h==="change"&&this.Gb(),this.Wa(h)){var E=h==="change"&&this.ed||this.U[h].slice(0);try{e.u.xc();for(var S=0,L;L=E[S];++S)L.Ib||L.lc(i)}finally{e.u.end()}}},ob:function(){return this.sc},Dd:function(i){return this.ob()!==i},Gb:function(){++this.sc},ub:function(i){var h=this,E=e.O(h),S,L,j,w,g;h.gb||(h.gb=h.notifySubscribers,h.notifySubscribers=y);var I=i(function(){h.Ja=!1,E&&w===h&&(w=h.nc?h.nc():h());var T=L||g&&h.sb(j,w);g=L=S=!1,T&&h.gb(j=w)});h.qc=function(T,B){B&&h.Ja||(g=!B),h.ed=h.U.change.slice(0),h.Ja=S=!0,w=T,I()},h.pc=function(T){S||(j=T,h.gb(T,"beforeChange"))},h.rc=function(){g=!0},h.gd=function(){h.sb(j,h.v(!0))&&(L=!0)}},Wa:function(i){return this.U[i]&&this.U[i].length},Bd:function(i){if(i)return this.U[i]&&this.U[i].length||0;var h=0;return e.a.P(this.U,function(E,S){E!=="dirty"&&(h+=S.length)}),h},sb:function(i,h){return!this.equalityComparer||!this.equalityComparer(i,h)},toString:function(){return"[object Object]"},extend:function(i){var h=this;return i&&e.a.P(i,function(E,S){var L=e.Ta[E];typeof L=="function"&&(h=L(h,S)||h)}),h}};e.L(s,"init",s.qb),e.L(s,"subscribe",s.subscribe),e.L(s,"extend",s.extend),e.L(s,"getSubscriptionsCount",s.Bd),e.a.Ba&&e.a.setPrototypeOf(s,Function.prototype),e.T.fn=s,e.Qc=function(i){return i!=null&&typeof i.subscribe=="function"&&typeof i.notifySubscribers=="function"},e.b("subscribable",e.T),e.b("isSubscribable",e.Qc),e.S=e.u=function(){function i(j){E.push(S),S=j}function h(){S=E.pop()}var E=[],S,L=0;return{xc:i,end:h,cc:function(j){if(S){if(!e.Qc(j))throw Error("Only subscribable things can act as dependencies");S.od.call(S.pd,j,j.fd||(j.fd=++L))}},G:function(j,w,g){try{return i(),j.apply(w,g||[])}finally{h()}},qa:function(){if(S)return S.o.qa()},Va:function(){if(S)return S.o.Va()},Ya:function(){if(S)return S.Ya},o:function(){if(S)return S.o}}}(),e.b("computedContext",e.S),e.b("computedContext.getDependenciesCount",e.S.qa),e.b("computedContext.getDependencies",e.S.Va),e.b("computedContext.isInitial",e.S.Ya),e.b("computedContext.registerDependency",e.S.cc),e.b("ignoreDependencies",e.Yd=e.u.G);var a=e.a.Da("_latestValue");e.ta=function(i){function h(){return 0<arguments.length?(h.sb(h[a],arguments[0])&&(h.ya(),h[a]=arguments[0],h.xa()),this):(e.u.cc(h),h[a])}return h[a]=i,e.a.Ba||e.a.extend(h,e.T.fn),e.T.fn.qb(h),e.a.Ab(h,c),e.options.deferUpdates&&e.Ta.deferred(h,!0),h};var c={equalityComparer:V,v:function(){return this[a]},xa:function(){this.notifySubscribers(this[a],"spectate"),this.notifySubscribers(this[a])},ya:function(){this.notifySubscribers(this[a],"beforeChange")}};e.a.Ba&&e.a.setPrototypeOf(c,e.T.fn);var r=e.ta.Ma="__ko_proto__";c[r]=e.ta,e.O=function(i){if((i=typeof i=="function"&&i[r])&&i!==c[r]&&i!==e.o.fn[r])throw Error("Invalid object that looks like an observable; possibly from another Knockout instance");return!!i},e.Za=function(i){return typeof i=="function"&&(i[r]===c[r]||i[r]===e.o.fn[r]&&i.Nc)},e.b("observable",e.ta),e.b("isObservable",e.O),e.b("isWriteableObservable",e.Za),e.b("isWritableObservable",e.Za),e.b("observable.fn",c),e.L(c,"peek",c.v),e.L(c,"valueHasMutated",c.xa),e.L(c,"valueWillMutate",c.ya),e.Ha=function(i){if(i=i||[],typeof i!="object"||!("length"in i))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return i=e.ta(i),e.a.Ab(i,e.Ha.fn),i.extend({trackArrayChanges:!0})},e.Ha.fn={remove:function(i){for(var h=this.v(),E=[],S=typeof i!="function"||e.O(i)?function(w){return w===i}:i,L=0;L<h.length;L++){var j=h[L];if(S(j)){if(E.length===0&&this.ya(),h[L]!==j)throw Error("Array modified during remove; cannot remove item");E.push(j),h.splice(L,1),L--}}return E.length&&this.xa(),E},removeAll:function(i){if(i===q){var h=this.v(),E=h.slice(0);return this.ya(),h.splice(0,h.length),this.xa(),E}return i?this.remove(function(S){return 0<=e.a.A(i,S)}):[]},destroy:function(i){var h=this.v(),E=typeof i!="function"||e.O(i)?function(j){return j===i}:i;this.ya();for(var S=h.length-1;0<=S;S--){var L=h[S];E(L)&&(L._destroy=!0)}this.xa()},destroyAll:function(i){return i===q?this.destroy(function(){return!0}):i?this.destroy(function(h){return 0<=e.a.A(i,h)}):[]},indexOf:function(i){var h=this();return e.a.A(h,i)},replace:function(i,h){var E=this.indexOf(i);0<=E&&(this.ya(),this.v()[E]=h,this.xa())},sorted:function(i){var h=this().slice(0);return i?h.sort(i):h.sort()},reversed:function(){return this().slice(0).reverse()}},e.a.Ba&&e.a.setPrototypeOf(e.Ha.fn,e.ta.fn),e.a.D("pop push reverse shift sort splice unshift".split(" "),function(i){e.Ha.fn[i]=function(){var h=this.v();this.ya(),this.zc(h,i,arguments);var E=h[i].apply(h,arguments);return this.xa(),E===h?this:E}}),e.a.D(["slice"],function(i){e.Ha.fn[i]=function(){var h=this();return h[i].apply(h,arguments)}}),e.Pc=function(i){return e.O(i)&&typeof i.remove=="function"&&typeof i.push=="function"},e.b("observableArray",e.Ha),e.b("isObservableArray",e.Pc),e.Ta.trackArrayChanges=function(i,h){function E(){function N(){if(g){var H=[].concat(i.v()||[]),k;i.Wa("arrayChange")&&((!L||1<g)&&(L=e.a.Pb(I,H,i.Ob)),k=L),I=H,L=null,g=0,k&&k.length&&i.notifySubscribers(k,"arrayChange")}}S?N():(S=!0,w=i.subscribe(function(){++g},null,"spectate"),I=[].concat(i.v()||[]),L=null,j=i.subscribe(N))}if(i.Ob={},h&&typeof h=="object"&&e.a.extend(i.Ob,h),i.Ob.sparse=!0,!i.zc){var S=!1,L=null,j,w,g=0,I,T=i.Qa,B=i.hb;i.Qa=function(N){T&&T.call(i,N),N==="arrayChange"&&E()},i.hb=function(N){B&&B.call(i,N),N!=="arrayChange"||i.Wa("arrayChange")||(j&&j.s(),w&&w.s(),w=j=null,S=!1,I=q)},i.zc=function(N,H,k){function W(ne,oe,ce){return K[K.length]={status:ne,value:oe,index:ce}}if(S&&!g){var K=[],z=N.length,G=k.length,$=0;switch(H){case"push":$=z;case"unshift":for(H=0;H<G;H++)W("added",k[H],$+H);break;case"pop":$=z-1;case"shift":z&&W("deleted",N[$],$);break;case"splice":H=Math.min(Math.max(0,0>k[0]?z+k[0]:k[0]),z);for(var z=G===1?z:Math.min(H+(k[1]||0),z),G=H+G-2,$=Math.max(z,G),Z=[],X=[],ee=2;H<$;++H,++ee)H<z&&X.push(W("deleted",N[H],H)),H<G&&Z.push(W("added",k[ee],H));e.a.Kc(X,Z);break;default:return}L=K}}}};var t=e.a.Da("_state");e.o=e.$=function(i,h,E){function S(){if(0<arguments.length){if(typeof L=="function")L.apply(j.nb,arguments);else throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return this}return j.ra||e.u.cc(S),(j.ka||j.J&&S.Xa())&&S.ha(),j.X}if(typeof i=="object"?E=i:(E=E||{},i&&(E.read=i)),typeof E.read!="function")throw Error("Pass a function that returns the value of the ko.computed");var L=E.write,j={X:q,sa:!0,ka:!0,rb:!1,jc:!1,ra:!1,wb:!1,J:!1,Wc:E.read,nb:h||E.owner,l:E.disposeWhenNodeIsRemoved||E.l||null,Sa:E.disposeWhen||E.Sa,Rb:null,I:{},V:0,Ic:null};return S[t]=j,S.Nc=typeof L=="function",e.a.Ba||e.a.extend(S,e.T.fn),e.T.fn.qb(S),e.a.Ab(S,n),E.pure?(j.wb=!0,j.J=!0,e.a.extend(S,o)):E.deferEvaluation&&e.a.extend(S,u),e.options.deferUpdates&&e.Ta.deferred(S,!0),j.l&&(j.jc=!0,j.l.nodeType||(j.l=null)),j.J||E.deferEvaluation||S.ha(),j.l&&S.ja()&&e.a.K.za(j.l,j.Rb=function(){S.s()}),S};var n={equalityComparer:V,qa:function(){return this[t].V},Va:function(){var i=[];return e.a.P(this[t].I,function(h,E){i[E.Ka]=E.da}),i},Vb:function(i){if(!this[t].V)return!1;var h=this.Va();return e.a.A(h,i)!==-1?!0:!!e.a.Lb(h,function(E){return E.Vb&&E.Vb(i)})},uc:function(i,h,E){if(this[t].wb&&h===this)throw Error("A 'pure' computed must not be called recursively");this[t].I[i]=E,E.Ka=this[t].V++,E.La=h.ob()},Xa:function(){var i,h,E=this[t].I;for(i in E)if(Object.prototype.hasOwnProperty.call(E,i)&&(h=E[i],this.Ia&&h.da.Ja||h.da.Dd(h.La)))return!0},Jd:function(){this.Ia&&!this[t].rb&&this.Ia(!1)},ja:function(){var i=this[t];return i.ka||0<i.V},Rd:function(){this.Ja?this[t].ka&&(this[t].sa=!0):this.Hc()},$c:function(i){if(i.Hb){var h=i.subscribe(this.Jd,this,"dirty"),E=i.subscribe(this.Rd,this);return{da:i,s:function(){h.s(),E.s()}}}return i.subscribe(this.Hc,this)},Hc:function(){var i=this,h=i.throttleEvaluation;h&&0<=h?(clearTimeout(this[t].Ic),this[t].Ic=e.a.setTimeout(function(){i.ha(!0)},h)):i.Ia?i.Ia(!0):i.ha(!0)},ha:function(i){var h=this[t],E=h.Sa,S=!1;if(!h.rb&&!h.ra){if(h.l&&!e.a.Sb(h.l)||E&&E()){if(!h.jc){this.s();return}}else h.jc=!1;h.rb=!0;try{S=this.zd(i)}finally{h.rb=!1}return S}},zd:function(i){var h=this[t],S=!1,E=h.wb?q:!h.V,S={qd:this,mb:h.I,Qb:h.V};e.u.xc({pd:S,od:f,o:this,Ya:E}),h.I={},h.V=0;var L=this.yd(h,S);return h.V?S=this.sb(h.X,L):(this.s(),S=!0),S&&(h.J?this.Gb():this.notifySubscribers(h.X,"beforeChange"),h.X=L,this.notifySubscribers(h.X,"spectate"),!h.J&&i&&this.notifySubscribers(h.X),this.rc&&this.rc()),E&&this.notifySubscribers(h.X,"awake"),S},yd:function(i,h){try{var E=i.Wc;return i.nb?E.call(i.nb):E()}finally{e.u.end(),h.Qb&&!i.J&&e.a.P(h.mb,p),i.sa=i.ka=!1}},v:function(i){var h=this[t];return(h.ka&&(i||!h.V)||h.J&&this.Xa())&&this.ha(),h.X},ub:function(i){e.T.fn.ub.call(this,i),this.nc=function(){return this[t].J||(this[t].sa?this.ha():this[t].ka=!1),this[t].X},this.Ia=function(h){this.pc(this[t].X),this[t].ka=!0,h&&(this[t].sa=!0),this.qc(this,!h)}},s:function(){var i=this[t];!i.J&&i.I&&e.a.P(i.I,function(h,E){E.s&&E.s()}),i.l&&i.Rb&&e.a.K.yb(i.l,i.Rb),i.I=q,i.V=0,i.ra=!0,i.sa=!1,i.ka=!1,i.J=!1,i.l=q,i.Sa=q,i.Wc=q,this.Nc||(i.nb=q)}},o={Qa:function(i){var h=this,E=h[t];if(!E.ra&&E.J&&i=="change"){if(E.J=!1,E.sa||h.Xa())E.I=null,E.V=0,h.ha()&&h.Gb();else{var S=[];e.a.P(E.I,function(L,j){S[j.Ka]=L}),e.a.D(S,function(L,j){var w=E.I[L],g=h.$c(w.da);g.Ka=j,g.La=w.La,E.I[L]=g}),h.Xa()&&h.ha()&&h.Gb()}E.ra||h.notifySubscribers(E.X,"awake")}},hb:function(i){var h=this[t];h.ra||i!="change"||this.Wa("change")||(e.a.P(h.I,function(E,S){S.s&&(h.I[E]={da:S.da,Ka:S.Ka,La:S.La},S.s())}),h.J=!0,this.notifySubscribers(q,"asleep"))},ob:function(){var i=this[t];return i.J&&(i.sa||this.Xa())&&this.ha(),e.T.fn.ob.call(this)}},u={Qa:function(i){i!="change"&&i!="beforeChange"||this.v()}};e.a.Ba&&e.a.setPrototypeOf(n,e.T.fn);var v=e.ta.Ma;n[v]=e.o,e.Oc=function(i){return typeof i=="function"&&i[v]===n[v]},e.Fd=function(i){return e.Oc(i)&&i[t]&&i[t].wb},e.b("computed",e.o),e.b("dependentObservable",e.o),e.b("isComputed",e.Oc),e.b("isPureComputed",e.Fd),e.b("computed.fn",n),e.L(n,"peek",n.v),e.L(n,"dispose",n.s),e.L(n,"isActive",n.ja),e.L(n,"getDependenciesCount",n.qa),e.L(n,"getDependencies",n.Va),e.xb=function(i,h){return typeof i=="function"?e.o(i,h,{pure:!0}):(i=e.a.extend({},i),i.pure=!0,e.o(i,h))},e.b("pureComputed",e.xb),function(){function i(S,L,j){if(j=j||new E,S=L(S),typeof S!="object"||S===null||S===q||S instanceof RegExp||S instanceof Date||S instanceof String||S instanceof Number||S instanceof Boolean)return S;var w=S instanceof Array?[]:{};return j.save(S,w),h(S,function(g){var I=L(S[g]);switch(typeof I){case"boolean":case"number":case"string":case"function":w[g]=I;break;case"object":case"undefined":var T=j.get(I);w[g]=T!==q?T:i(I,L,j)}}),w}function h(S,L){if(S instanceof Array){for(var j=0;j<S.length;j++)L(j);typeof S.toJSON=="function"&&L("toJSON")}else for(j in S)L(j)}function E(){this.keys=[],this.values=[]}e.ad=function(S){if(arguments.length==0)throw Error("When calling ko.toJS, pass the object you want to convert.");return i(S,function(L){for(var j=0;e.O(L)&&10>j;j++)L=L();return L})},e.toJSON=function(S,L,j){return S=e.ad(S),e.a.hc(S,L,j)},E.prototype={constructor:E,save:function(S,L){var j=e.a.A(this.keys,S);0<=j?this.values[j]=L:(this.keys.push(S),this.values.push(L))},get:function(S){return S=e.a.A(this.keys,S),0<=S?this.values[S]:q}}}(),e.b("toJS",e.ad),e.b("toJSON",e.toJSON),e.Wd=function(i,h,E){function S(L){var j=e.xb(i,E).extend({ma:"always"}),w=j.subscribe(function(g){g&&(w.s(),L(g))});return j.notifySubscribers(j.v()),w}return typeof Promise!="function"||h?S(h.bind(E)):new Promise(S)},e.b("when",e.Wd),function(){e.w={M:function(i){switch(e.a.R(i)){case"option":return i.__ko__hasDomDataOptionValue__===!0?e.a.g.get(i,e.c.options.$b):7>=e.a.W?i.getAttributeNode("value")&&i.getAttributeNode("value").specified?i.value:i.text:i.value;case"select":return 0<=i.selectedIndex?e.w.M(i.options[i.selectedIndex]):q;default:return i.value}},cb:function(i,h,E){switch(e.a.R(i)){case"option":typeof h=="string"?(e.a.g.set(i,e.c.options.$b,q),"__ko__hasDomDataOptionValue__"in i&&delete i.__ko__hasDomDataOptionValue__,i.value=h):(e.a.g.set(i,e.c.options.$b,h),i.__ko__hasDomDataOptionValue__=!0,i.value=typeof h=="number"?h:"");break;case"select":(h===""||h===null)&&(h=q);for(var S=-1,L=0,j=i.options.length,w;L<j;++L)if(w=e.w.M(i.options[L]),w==h||w===""&&h===q){S=L;break}(E||0<=S||h===q&&1<i.size)&&(i.selectedIndex=S,e.a.W===6&&e.a.setTimeout(function(){i.selectedIndex=S},0));break;default:(h===null||h===q)&&(h=""),i.value=h}}}}(),e.b("selectExtensions",e.w),e.b("selectExtensions.readValue",e.w.M),e.b("selectExtensions.writeValue",e.w.cb),e.m=function(){function i(g){g=e.a.Db(g),g.charCodeAt(0)===123&&(g=g.slice(1,-1)),g+=`
,`;var I=[],T=g.match(S),B,N=[],H=0;if(1<T.length){for(var k=0,W;W=T[k];++k){var K=W.charCodeAt(0);if(K===44){if(0>=H){I.push(B&&N.length?{key:B,value:N.join("")}:{unknown:B||N.join("")}),B=H=0,N=[];continue}}else if(K===58){if(!H&&!B&&N.length===1){B=N.pop();continue}}else{if(K===47&&1<W.length&&(W.charCodeAt(1)===47||W.charCodeAt(1)===42))continue;K===47&&k&&1<W.length?(K=T[k-1].match(L))&&!j[K[0]]&&(g=g.substr(g.indexOf(W)+1),T=g.match(S),k=-1,W="/"):K===40||K===123||K===91?++H:K===41||K===125||K===93?--H:B||N.length||K!==34&&K!==39||(W=W.slice(1,-1))}N.push(W)}if(0<H)throw Error("Unbalanced parentheses, braces, or brackets")}return I}var h=["true","false","null","undefined"],E=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,S=RegExp(`"(?:\\\\.|[^"])*"|'(?:\\\\.|[^'])*'|\`(?:\\\\.|[^\`])*\`|/\\*(?:[^*]|\\*+[^*/])*\\*+/|//.*
|/(?:\\\\.|[^/])+/w*|[^\\s:,/][^,"'\`{}()/:[\\]]*[^\\s,"'\`{}()/:[\\]]|[^\\s]`,"g"),L=/[\])"'A-Za-z0-9_$]+$/,j={in:1,return:1,typeof:1},w={};return{Ra:[],wa:w,ac:i,vb:function(g,I){function T(K,z){var G;if(!k){var $=e.getBindingHandler(K);if($&&$.preprocess&&!(z=$.preprocess(z,K,T)))return;($=w[K])&&(G=z,0<=e.a.A(h,G)?G=!1:($=G.match(E),G=$===null?!1:$[1]?"Object("+$[1]+")"+$[2]:G),$=G),$&&N.push("'"+(typeof w[K]=="string"?w[K]:K)+"':function(_z){"+G+"=_z}")}H&&(z="function(){return "+z+" }"),B.push("'"+K+"':"+z)}I=I||{};var B=[],N=[],H=I.valueAccessors,k=I.bindingParams,W=typeof g=="string"?i(g):g;return e.a.D(W,function(K){T(K.key||K.unknown,K.value)}),N.length&&T("_ko_property_writers","{"+N.join(",")+" }"),B.join(",")},Id:function(g,I){for(var T=0;T<g.length;T++)if(g[T].key==I)return!0;return!1},eb:function(g,I,T,B,N){g&&e.O(g)?!e.Za(g)||N&&g.v()===B||g(B):(g=I.get("_ko_property_writers"))&&g[T]&&g[T](B)}}}(),e.b("expressionRewriting",e.m),e.b("expressionRewriting.bindingRewriteValidators",e.m.Ra),e.b("expressionRewriting.parseObjectLiteral",e.m.ac),e.b("expressionRewriting.preProcessBindings",e.m.vb),e.b("expressionRewriting._twoWayBindings",e.m.wa),e.b("jsonExpressionRewriting",e.m),e.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",e.m.vb),function(){function i(T){return T.nodeType==8&&j.test(L?T.text:T.nodeValue)}function h(T){return T.nodeType==8&&w.test(L?T.text:T.nodeValue)}function E(T,B){for(var N=T,H=1,k=[];N=N.nextSibling;){if(h(N)&&(e.a.g.set(N,I,!0),H--,H===0))return k;k.push(N),i(N)&&H++}if(!B)throw Error("Cannot find closing comment tag to match: "+T.nodeValue);return null}function S(T,B){var N=E(T,B);return N?0<N.length?N[N.length-1].nextSibling:T.nextSibling:null}var L=d&&d.createComment("test").text==="<!--test-->",j=L?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,w=L?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,g={ul:!0,ol:!0},I="__ko_matchedEndComment__";e.h={ea:{},childNodes:function(T){return i(T)?E(T):T.childNodes},Ea:function(T){if(i(T)){T=e.h.childNodes(T);for(var B=0,N=T.length;B<N;B++)e.removeNode(T[B])}else e.a.Tb(T)},va:function(T,B){if(i(T)){e.h.Ea(T);for(var N=T.nextSibling,H=0,k=B.length;H<k;H++)N.parentNode.insertBefore(B[H],N)}else e.a.va(T,B)},Vc:function(T,B){var N;i(T)?(N=T.nextSibling,T=T.parentNode):N=T.firstChild,N?B!==N&&T.insertBefore(B,N):T.appendChild(B)},Wb:function(T,B,N){N?(N=N.nextSibling,i(T)&&(T=T.parentNode),N?B!==N&&T.insertBefore(B,N):T.appendChild(B)):e.h.Vc(T,B)},firstChild:function(T){if(i(T))return!T.nextSibling||h(T.nextSibling)?null:T.nextSibling;if(T.firstChild&&h(T.firstChild))throw Error("Found invalid end comment, as the first child of "+T);return T.firstChild},nextSibling:function(T){if(i(T)&&(T=S(T)),T.nextSibling&&h(T.nextSibling)){var B=T.nextSibling;if(h(B)&&!e.a.g.get(B,I))throw Error("Found end comment without a matching opening comment, as child of "+T);return null}return T.nextSibling},Cd:i,Vd:function(T){return(T=(L?T.text:T.nodeValue).match(j))?T[1]:null},Sc:function(T){if(g[e.a.R(T)]){var B=T.firstChild;if(B)do if(B.nodeType===1){var N;N=B.firstChild;var H=null;if(N)do if(H)H.push(N);else if(i(N)){var k=S(N,!0);k?N=k:H=[N]}else h(N)&&(H=[N]);while(N=N.nextSibling);if(N=H)for(H=B.nextSibling,k=0;k<N.length;k++)H?T.insertBefore(N[k],H):T.appendChild(N[k])}while(B=B.nextSibling)}}}}(),e.b("virtualElements",e.h),e.b("virtualElements.allowedBindings",e.h.ea),e.b("virtualElements.emptyNode",e.h.Ea),e.b("virtualElements.insertAfter",e.h.Wb),e.b("virtualElements.prepend",e.h.Vc),e.b("virtualElements.setDomNodeChildren",e.h.va),function(){e.ga=function(){this.nd={}},e.a.extend(e.ga.prototype,{nodeHasBindings:function(i){switch(i.nodeType){case 1:return i.getAttribute("data-bind")!=null||e.j.getComponentNameForNode(i);case 8:return e.h.Cd(i);default:return!1}},getBindings:function(i,h){var E=this.getBindingsString(i,h),E=E?this.parseBindingsString(E,h,i):null;return e.j.tc(E,i,h,!1)},getBindingAccessors:function(i,h){var E=this.getBindingsString(i,h),E=E?this.parseBindingsString(E,h,i,{valueAccessors:!0}):null;return e.j.tc(E,i,h,!0)},getBindingsString:function(i){switch(i.nodeType){case 1:return i.getAttribute("data-bind");case 8:return e.h.Vd(i);default:return null}},parseBindingsString:function(i,h,E,S){try{var L=this.nd,j=i+(S&&S.valueAccessors||""),w;if(!(w=L[j])){var g,I="with($context){with($data||{}){return{"+e.m.vb(i,S)+"}}}";g=new Function("$context","$element",I),w=L[j]=g}return w(h,E)}catch(T){throw T.message=`Unable to parse bindings.
Bindings value: `+i+`
Message: `+T.message,T}}}),e.ga.instance=new e.ga}(),e.b("bindingProvider",e.ga),function(){function i($){var Z=($=e.a.g.get($,G))&&$.N;Z&&($.N=null,Z.Tc())}function h($,Z,X){this.node=$,this.yc=Z,this.kb=[],this.H=!1,Z.N||e.a.K.za($,i),X&&X.N&&(X.N.kb.push($),this.Kb=X)}function E($){return function(){return $}}function S($){return $()}function L($){return e.a.Ga(e.u.G($),function(Z,X){return function(){return $()[X]}})}function j($,Z,X){return typeof $=="function"?L($.bind(null,Z,X)):e.a.Ga($,E)}function w($,Z){return L(this.getBindings.bind(this,$,Z))}function g($,Z){var X=e.h.firstChild(Z);if(X){var ee,ne=e.ga.instance,oe=ne.preprocessNode;if(oe){for(;ee=X;)X=e.h.nextSibling(ee),oe.call(ne,ee);X=e.h.firstChild(Z)}for(;ee=X;)X=e.h.nextSibling(ee),I($,ee)}e.i.ma(Z,e.i.H)}function I($,Z){var X=$,ee=Z.nodeType===1;ee&&e.h.Sc(Z),(ee||e.ga.instance.nodeHasBindings(Z))&&(X=B(Z,null,$).bindingContextForDescendants),X&&!K[e.a.R(Z)]&&g(X,Z)}function T($){var Z=[],X={},ee=[];return e.a.P($,function ne(oe){if(!X[oe]){var ce=e.getBindingHandler(oe);ce&&(ce.after&&(ee.push(oe),e.a.D(ce.after,function(ye){if($[ye]){if(e.a.A(ee,ye)!==-1)throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+ee.join(", "));ne(ye)}}),ee.length--),Z.push({key:oe,Mc:ce})),X[oe]=!0}}),Z}function B($,Z,X){var ee=e.a.g.Ub($,G,{}),ne=ee.hd;if(!Z){if(ne)throw Error("You cannot apply bindings multiple times to the same element.");ee.hd=!0}ne||(ee.context=X),ee.Zb||(ee.Zb={});var oe;if(Z&&typeof Z!="function")oe=Z;else{var ce=e.ga.instance,ye=ce.getBindingAccessors||w,me=e.$(function(){return(oe=Z?Z(X,$):ye.call(ce,$,X))&&(X[H]&&X[H](),X[W]&&X[W]()),oe},null,{l:$});oe&&me.ja()||(me=null)}var Ce=X,ve;if(oe){var be=function(){return e.a.Ga(me?me():oe,S)},Pe=me?function(fe){return function(){return S(me()[fe])}}:function(fe){return oe[fe]};be.get=function(fe){return oe[fe]&&S(Pe(fe))},be.has=function(fe){return fe in oe},e.i.H in oe&&e.i.subscribe($,e.i.H,function(){var fe=(0,oe[e.i.H])();if(fe){var Oe=e.h.childNodes($);Oe.length&&fe(Oe,e.Ec(Oe[0]))}}),e.i.pa in oe&&(Ce=e.i.Cb($,X),e.i.subscribe($,e.i.pa,function(){var fe=(0,oe[e.i.pa])();fe&&e.h.firstChild($)&&fe($)})),ee=T(oe),e.a.D(ee,function(fe){var Oe=fe.Mc.init,Ve=fe.Mc.update,Te=fe.key;if($.nodeType===8&&!e.h.ea[Te])throw Error("The binding '"+Te+"' cannot be used with virtual elements");try{typeof Oe=="function"&&e.u.G(function(){var Ie=Oe($,Pe(Te),be,Ce.$data,Ce);if(Ie&&Ie.controlsDescendantBindings){if(ve!==q)throw Error("Multiple bindings ("+ve+" and "+Te+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");ve=Te}}),typeof Ve=="function"&&e.$(function(){Ve($,Pe(Te),be,Ce.$data,Ce)},null,{l:$})}catch(Ie){throw Ie.message='Unable to process binding "'+Te+": "+oe[Te]+`"
Message: `+Ie.message,Ie}})}return ee=ve===q,{shouldBindDescendants:ee,bindingContextForDescendants:ee&&Ce}}function N($,Z){return $&&$ instanceof e.fa?$:new e.fa($,q,q,Z)}var H=e.a.Da("_subscribable"),k=e.a.Da("_ancestorBindingInfo"),W=e.a.Da("_dataDependency");e.c={};var K={script:!0,textarea:!0,template:!0};e.getBindingHandler=function($){return e.c[$]};var z={};e.fa=function($,Z,X,ee,ne){function oe(){var Pe=Ce?me():me,fe=e.a.f(Pe);return Z?(e.a.extend(ce,Z),k in Z&&(ce[k]=Z[k])):(ce.$parents=[],ce.$root=fe,ce.ko=e),ce[H]=ve,ye?fe=ce.$data:(ce.$rawData=Pe,ce.$data=fe),X&&(ce[X]=fe),ee&&ee(ce,Z,fe),Z&&Z[H]&&!e.S.o().Vb(Z[H])&&Z[H](),be&&(ce[W]=be),ce.$data}var ce=this,ye=$===z,me=ye?q:$,Ce=typeof me=="function"&&!e.O(me),ve,be=ne&&ne.dataDependency;ne&&ne.exportDependencies?oe():(ve=e.xb(oe),ve.v(),ve.ja()?ve.equalityComparer=null:ce[H]=q)},e.fa.prototype.createChildContext=function($,Z,X,ee){if(!ee&&Z&&typeof Z=="object"&&(ee=Z,Z=ee.as,X=ee.extend),Z&&ee&&ee.noChildContext){var ne=typeof $=="function"&&!e.O($);return new e.fa(z,this,null,function(oe){X&&X(oe),oe[Z]=ne?$():$},ee)}return new e.fa($,this,Z,function(oe,ce){oe.$parentContext=ce,oe.$parent=ce.$data,oe.$parents=(ce.$parents||[]).slice(0),oe.$parents.unshift(oe.$parent),X&&X(oe)},ee)},e.fa.prototype.extend=function($,Z){return new e.fa(z,this,null,function(X){e.a.extend(X,typeof $=="function"?$(X):$)},Z)};var G=e.a.g.Z();h.prototype.Tc=function(){this.Kb&&this.Kb.N&&this.Kb.N.sd(this.node)},h.prototype.sd=function($){e.a.Pa(this.kb,$),!this.kb.length&&this.H&&this.Cc()},h.prototype.Cc=function(){this.H=!0,this.yc.N&&!this.kb.length&&(this.yc.N=null,e.a.K.yb(this.node,i),e.i.ma(this.node,e.i.pa),this.Tc())},e.i={H:"childrenComplete",pa:"descendantsComplete",subscribe:function($,Z,X,ee,ne){var oe=e.a.g.Ub($,G,{});return oe.Fa||(oe.Fa=new e.T),ne&&ne.notifyImmediately&&oe.Zb[Z]&&e.u.G(X,ee,[$]),oe.Fa.subscribe(X,ee,Z)},ma:function($,Z){var X=e.a.g.get($,G);if(X&&(X.Zb[Z]=!0,X.Fa&&X.Fa.notifySubscribers($,Z),Z==e.i.H)){if(X.N)X.N.Cc();else if(X.N===q&&X.Fa&&X.Fa.Wa(e.i.pa))throw Error("descendantsComplete event not supported for bindings on this node")}},Cb:function($,Z){var X=e.a.g.Ub($,G,{});return X.N||(X.N=new h($,X,Z[k])),Z[k]==X?Z:Z.extend(function(ee){ee[k]=X})}},e.Td=function($){return($=e.a.g.get($,G))&&$.context},e.ib=function($,Z,X){return $.nodeType===1&&e.h.Sc($),B($,Z,N(X))},e.ld=function($,Z,X){return X=N(X),e.ib($,j(Z,X,$),X)},e.Oa=function($,Z){Z.nodeType!==1&&Z.nodeType!==8||g(N($),Z)},e.vc=function($,Z,X){if(!C&&M.jQuery&&(C=M.jQuery),2>arguments.length){if(Z=d.body,!Z)throw Error("ko.applyBindings: could not find document.body; has the document been loaded?")}else if(!Z||Z.nodeType!==1&&Z.nodeType!==8)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");I(N($,X),Z)},e.Dc=function($){return!$||$.nodeType!==1&&$.nodeType!==8?q:e.Td($)},e.Ec=function($){return($=e.Dc($))?$.$data:q},e.b("bindingHandlers",e.c),e.b("bindingEvent",e.i),e.b("bindingEvent.subscribe",e.i.subscribe),e.b("bindingEvent.startPossiblyAsyncContentBinding",e.i.Cb),e.b("applyBindings",e.vc),e.b("applyBindingsToDescendants",e.Oa),e.b("applyBindingAccessorsToNode",e.ib),e.b("applyBindingsToNode",e.ld),e.b("contextFor",e.Dc),e.b("dataFor",e.Ec)}(),function(i){function h(w,g){var I=Object.prototype.hasOwnProperty.call(L,w)?L[w]:i,T;I?I.subscribe(g):(I=L[w]=new e.T,I.subscribe(g),E(w,function(B,N){var H=!(!N||!N.synchronous);j[w]={definition:B,Gd:H},delete L[w],T||H?I.notifySubscribers(B):e.na.zb(function(){I.notifySubscribers(B)})}),T=!0)}function E(w,g){S("getConfig",[w],function(I){I?S("loadComponent",[w,I],function(T){g(T,I)}):g(null,null)})}function S(w,g,I,T){T||(T=e.j.loaders.slice(0));var B=T.shift();if(B){var N=B[w];if(N){var H=!1;if(N.apply(B,g.concat(function(k){H?I(null):k!==null?I(k):S(w,g,I,T)}))!==i&&(H=!0,!B.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else S(w,g,I,T)}else I(null)}var L={},j={};e.j={get:function(w,g){var I=Object.prototype.hasOwnProperty.call(j,w)?j[w]:i;I?I.Gd?e.u.G(function(){g(I.definition)}):e.na.zb(function(){g(I.definition)}):h(w,g)},Bc:function(w){delete j[w]},oc:S},e.j.loaders=[],e.b("components",e.j),e.b("components.get",e.j.get),e.b("components.clearCachedDefinition",e.j.Bc)}(),function(){function i(I,T,B,N){function H(){--W===0&&N(k)}var k={},W=2,K=B.template;B=B.viewModel,K?L(T,K,function(z){e.j.oc("loadTemplate",[I,z],function(G){k.template=G,H()})}):H(),B?L(T,B,function(z){e.j.oc("loadViewModel",[I,z],function(G){k[g]=G,H()})}):H()}function h(I,T,B){if(typeof T=="function")B(function(H){return new T(H)});else if(typeof T[g]=="function")B(T[g]);else if("instance"in T){var N=T.instance;B(function(){return N})}else"viewModel"in T?h(I,T.viewModel,B):I("Unknown viewModel value: "+T)}function E(I){switch(e.a.R(I)){case"script":return e.a.ua(I.text);case"textarea":return e.a.ua(I.value);case"template":if(S(I.content))return e.a.Ca(I.content.childNodes)}return e.a.Ca(I.childNodes)}function S(I){return M.DocumentFragment?I instanceof DocumentFragment:I&&I.nodeType===11}function L(I,T,B){typeof T.require=="string"?R||M.require?(R||M.require)([T.require],function(N){N&&typeof N=="object"&&N.Xd&&N.default&&(N=N.default),B(N)}):I("Uses require, but no AMD loader is present"):B(T)}function j(I){return function(T){throw Error("Component '"+I+"': "+T)}}var w={};e.j.register=function(I,T){if(!T)throw Error("Invalid configuration for "+I);if(e.j.tb(I))throw Error("Component "+I+" is already registered");w[I]=T},e.j.tb=function(I){return Object.prototype.hasOwnProperty.call(w,I)},e.j.unregister=function(I){delete w[I],e.j.Bc(I)},e.j.Fc={getConfig:function(I,T){T(e.j.tb(I)?w[I]:null)},loadComponent:function(I,T,B){var N=j(I);L(N,T,function(H){i(I,N,H,B)})},loadTemplate:function(I,T,B){if(I=j(I),typeof T=="string")B(e.a.ua(T));else if(T instanceof Array)B(T);else if(S(T))B(e.a.la(T.childNodes));else if(T.element)if(T=T.element,M.HTMLElement?T instanceof HTMLElement:T&&T.tagName&&T.nodeType===1)B(E(T));else if(typeof T=="string"){var N=d.getElementById(T);N?B(E(N)):I("Cannot find element with ID "+T)}else I("Unknown element type: "+T);else I("Unknown template value: "+T)},loadViewModel:function(I,T,B){h(j(I),T,B)}};var g="createViewModel";e.b("components.register",e.j.register),e.b("components.isRegistered",e.j.tb),e.b("components.unregister",e.j.unregister),e.b("components.defaultLoader",e.j.Fc),e.j.loaders.push(e.j.Fc),e.j.dd=w}(),function(){function i(E,S){var L=E.getAttribute("params");if(L){var L=h.parseBindingsString(L,S,E,{valueAccessors:!0,bindingParams:!0}),L=e.a.Ga(L,function(g){return e.o(g,null,{l:E})}),j=e.a.Ga(L,function(g){var I=g.v();return g.ja()?e.o({read:function(){return e.a.f(g())},write:e.Za(I)&&function(T){g()(T)},l:E}):I});return Object.prototype.hasOwnProperty.call(j,"$raw")||(j.$raw=L),j}return{$raw:{}}}e.j.getComponentNameForNode=function(E){var S=e.a.R(E);if(e.j.tb(S)&&(S.indexOf("-")!=-1||""+E=="[object HTMLUnknownElement]"||8>=e.a.W&&E.tagName===S))return S},e.j.tc=function(E,S,L,j){if(S.nodeType===1){var w=e.j.getComponentNameForNode(S);if(w){if(E=E||{},E.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var g={name:w,params:i(S,L)};E.component=j?function(){return g}:g}}return E};var h=new e.ga;9>e.a.W&&(e.j.register=function(E){return function(S){return E.apply(this,arguments)}}(e.j.register),d.createDocumentFragment=function(E){return function(){var S=E(),L=e.j.dd,j;for(j in L);return S}}(d.createDocumentFragment))}(),function(){function i(S,L,j){if(L=L.template,!L)throw Error("Component '"+S+"' has no template");S=e.a.Ca(L),e.h.va(j,S)}function h(S,L,j){var w=S.createViewModel;return w?w.call(S,L,j):L}var E=0;e.c.component={init:function(S,L,j,w,g){function I(){var k=T&&T.dispose;typeof k=="function"&&k.call(T),N&&N.s(),B=T=N=null}var T,B,N,H=e.a.la(e.h.childNodes(S));return e.h.Ea(S),e.a.K.za(S,I),e.o(function(){var k=e.a.f(L()),W,K;if(typeof k=="string"?W=k:(W=e.a.f(k.name),K=e.a.f(k.params)),!W)throw Error("No component name specified");var z=e.i.Cb(S,g),G=B=++E;e.j.get(W,function($){if(B===G){if(I(),!$)throw Error("Unknown component '"+W+"'");i(W,$,S);var Z=h($,K,{element:S,templateNodes:H});$=z.createChildContext(Z,{extend:function(X){X.$component=Z,X.$componentTemplateNodes=H}}),Z&&Z.koDescendantsComplete&&(N=e.i.subscribe(S,e.i.pa,Z.koDescendantsComplete,Z)),T=Z,e.Oa($,S)}})},null,{l:S}),{controlsDescendantBindings:!0}}},e.h.ea.component=!0}();var x={class:"className",for:"htmlFor"};e.c.attr={update:function(i,h){var E=e.a.f(h())||{};e.a.P(E,function(S,L){L=e.a.f(L);var j=S.indexOf(":"),j="lookupNamespaceURI"in i&&0<j&&i.lookupNamespaceURI(S.substr(0,j)),w=L===!1||L===null||L===q;w?j?i.removeAttributeNS(j,S):i.removeAttribute(S):L=L.toString(),8>=e.a.W&&S in x?(S=x[S],w?i.removeAttribute(S):i[S]=L):w||(j?i.setAttributeNS(j,S,L):i.setAttribute(S,L)),S==="name"&&e.a.Yc(i,w?"":L)})}},function(){e.c.checked={after:["value","attr"],init:function(i,h,E){function S(){var k=i.checked,W=j();if(!e.S.Ya()&&(k||!g&&!e.S.qa())){var K=e.u.G(h);if(T){var z=B?K.v():K,G=H;H=W,G!==W?k&&(e.a.Na(z,W,!0),e.a.Na(z,G,!1)):e.a.Na(z,W,k),B&&e.Za(K)&&K(z)}else w&&(W===q?W=k:k||(W=q)),e.m.eb(K,E,"checked",W,!0)}}function L(){var k=e.a.f(h()),W=j();T?(i.checked=0<=e.a.A(k,W),H=W):i.checked=w&&W===q?!!k:j()===k}var j=e.xb(function(){if(E.has("checkedValue"))return e.a.f(E.get("checkedValue"));if(N)return E.has("value")?e.a.f(E.get("value")):i.value}),w=i.type=="checkbox",g=i.type=="radio";if(w||g){var I=h(),T=w&&e.a.f(I)instanceof Array,B=!(T&&I.push&&I.splice),N=g||T,H=T?j():q;g&&!i.name&&e.c.uniqueName.init(i,function(){return!0}),e.o(S,null,{l:i}),e.a.B(i,"click",S),e.o(L,null,{l:i}),I=q}}},e.m.wa.checked=!0,e.c.checkedValue={update:function(i,h){i.value=e.a.f(h())}}}(),e.c.class={update:function(i,h){var E=e.a.Db(e.a.f(h()));e.a.Eb(i,i.__ko__cssValue,!1),i.__ko__cssValue=E,e.a.Eb(i,E,!0)}},e.c.css={update:function(i,h){var E=e.a.f(h());E!==null&&typeof E=="object"?e.a.P(E,function(S,L){L=e.a.f(L),e.a.Eb(i,S,L)}):e.c.class.update(i,h)}},e.c.enable={update:function(i,h){var E=e.a.f(h());E&&i.disabled?i.removeAttribute("disabled"):E||i.disabled||(i.disabled=!0)}},e.c.disable={update:function(i,h){e.c.enable.update(i,function(){return!e.a.f(h())})}},e.c.event={init:function(i,h,E,S,L){var j=h()||{};e.a.P(j,function(w){typeof w=="string"&&e.a.B(i,w,function(g){var I,T=h()[w];if(T){try{var B=e.a.la(arguments);S=L.$data,B.unshift(S),I=T.apply(S,B)}finally{I!==!0&&(g.preventDefault?g.preventDefault():g.returnValue=!1)}E.get(w+"Bubble")===!1&&(g.cancelBubble=!0,g.stopPropagation&&g.stopPropagation())}})})}},e.c.foreach={Rc:function(i){return function(){var h=i(),E=e.a.bc(h);return!E||typeof E.length=="number"?{foreach:h,templateEngine:e.ba.Ma}:(e.a.f(h),{foreach:E.data,as:E.as,noChildContext:E.noChildContext,includeDestroyed:E.includeDestroyed,afterAdd:E.afterAdd,beforeRemove:E.beforeRemove,afterRender:E.afterRender,beforeMove:E.beforeMove,afterMove:E.afterMove,templateEngine:e.ba.Ma})}},init:function(i,h){return e.c.template.init(i,e.c.foreach.Rc(h))},update:function(i,h,E,S,L){return e.c.template.update(i,e.c.foreach.Rc(h),E,S,L)}},e.m.Ra.foreach=!1,e.h.ea.foreach=!0,e.c.hasfocus={init:function(i,h,E){function S(w){i.__ko_hasfocusUpdating=!0;var g=i.ownerDocument;if("activeElement"in g){var I;try{I=g.activeElement}catch{I=g.body}w=I===i}g=h(),e.m.eb(g,E,"hasfocus",w,!0),i.__ko_hasfocusLastValue=w,i.__ko_hasfocusUpdating=!1}var L=S.bind(null,!0),j=S.bind(null,!1);e.a.B(i,"focus",L),e.a.B(i,"focusin",L),e.a.B(i,"blur",j),e.a.B(i,"focusout",j),i.__ko_hasfocusLastValue=!1},update:function(i,h){var E=!!e.a.f(h());i.__ko_hasfocusUpdating||i.__ko_hasfocusLastValue===E||(E?i.focus():i.blur(),!E&&i.__ko_hasfocusLastValue&&i.ownerDocument.body.focus(),e.u.G(e.a.Fb,null,[i,E?"focusin":"focusout"]))}},e.m.wa.hasfocus=!0,e.c.hasFocus=e.c.hasfocus,e.m.wa.hasFocus="hasfocus",e.c.html={init:function(){return{controlsDescendantBindings:!0}},update:function(i,h){e.a.fc(i,h())}},function(){function i(h,E,S){e.c[h]={init:function(L,j,w,g,I){var T,B,N={},H,k,W;if(E){g=w.get("as");var K=w.get("noChildContext");W=!(g&&K),N={as:g,noChildContext:K,exportDependencies:W}}return k=(H=w.get("completeOn")=="render")||w.has(e.i.pa),e.o(function(){var z=e.a.f(j()),G=!S!=!z,$=!B,Z;(W||G!==T)&&(k&&(I=e.i.Cb(L,I)),G&&((!E||W)&&(N.dataDependency=e.S.o()),Z=E?I.createChildContext(typeof z=="function"?z:j,N):e.S.qa()?I.extend(null,N):I),$&&e.S.qa()&&(B=e.a.Ca(e.h.childNodes(L),!0)),G?($||e.h.va(L,e.a.Ca(B)),e.Oa(Z,L)):(e.h.Ea(L),H||e.i.ma(L,e.i.H)),T=G)},null,{l:L}),{controlsDescendantBindings:!0}}},e.m.Ra[h]=!1,e.h.ea[h]=!0}i("if"),i("ifnot",!1,!0),i("with",!0)}(),e.c.let={init:function(i,h,E,S,L){return h=L.extend(h),e.Oa(h,i),{controlsDescendantBindings:!0}}},e.h.ea.let=!0;var b={};e.c.options={init:function(i){if(e.a.R(i)!=="select")throw Error("options binding applies only to SELECT elements");for(;0<i.length;)i.remove(0);return{controlsDescendantBindings:!0}},update:function(i,h,E){function S(){return e.a.jb(i.options,function(K){return K.selected})}function L(K,z,G){var $=typeof z;return $=="function"?z(K):$=="string"?K[z]:G}function j(K,z){if(k&&T)e.i.ma(i,e.i.H);else if(H.length){var G=0<=e.a.A(H,e.w.M(z[0]));e.a.Zc(z[0],G),k&&!G&&e.u.G(e.a.Fb,null,[i,"change"])}}var w=i.multiple,g=i.length!=0&&w?i.scrollTop:null,I=e.a.f(h()),T=E.get("valueAllowUnset")&&E.has("value"),B=E.get("optionsIncludeDestroyed");h={};var N,H=[];T||(w?H=e.a.Mb(S(),e.w.M):0<=i.selectedIndex&&H.push(e.w.M(i.options[i.selectedIndex]))),I&&(typeof I.length>"u"&&(I=[I]),N=e.a.jb(I,function(K){return B||K===q||K===null||!e.a.f(K._destroy)}),E.has("optionsCaption")&&(I=e.a.f(E.get("optionsCaption")),I!==null&&I!==q&&N.unshift(b)));var k=!1;if(h.beforeRemove=function(K){i.removeChild(K)},I=j,E.has("optionsAfterRender")&&typeof E.get("optionsAfterRender")=="function"&&(I=function(K,z){j(0,z),e.u.G(E.get("optionsAfterRender"),null,[z[0],K!==b?K:q])}),e.a.ec(i,N,function(K,z,G){return G.length&&(H=!T&&G[0].selected?[e.w.M(G[0])]:[],k=!0),z=i.ownerDocument.createElement("option"),K===b?(e.a.Bb(z,E.get("optionsCaption")),e.w.cb(z,q)):(G=L(K,E.get("optionsValue"),K),e.w.cb(z,e.a.f(G)),K=L(K,E.get("optionsText"),G),e.a.Bb(z,K)),[z]},h,I),!T){var W;w?W=H.length&&S().length<H.length:W=H.length&&0<=i.selectedIndex?e.w.M(i.options[i.selectedIndex])!==H[0]:H.length||0<=i.selectedIndex,W&&e.u.G(e.a.Fb,null,[i,"change"])}(T||e.S.Ya())&&e.i.ma(i,e.i.H),e.a.wd(i),g&&20<Math.abs(g-i.scrollTop)&&(i.scrollTop=g)}},e.c.options.$b=e.a.g.Z(),e.c.selectedOptions={init:function(i,h,E){function S(){var w=h(),g=[];e.a.D(i.getElementsByTagName("option"),function(I){I.selected&&g.push(e.w.M(I))}),e.m.eb(w,E,"selectedOptions",g)}function L(){var w=e.a.f(h()),g=i.scrollTop;w&&typeof w.length=="number"&&e.a.D(i.getElementsByTagName("option"),function(I){var T=0<=e.a.A(w,e.w.M(I));I.selected!=T&&e.a.Zc(I,T)}),i.scrollTop=g}if(e.a.R(i)!="select")throw Error("selectedOptions binding applies only to SELECT elements");var j;e.i.subscribe(i,e.i.H,function(){j?S():(e.a.B(i,"change",S),j=e.o(L,null,{l:i}))},null,{notifyImmediately:!0})},update:function(){}},e.m.wa.selectedOptions=!0,e.c.style={update:function(i,h){var E=e.a.f(h()||{});e.a.P(E,function(S,L){if(L=e.a.f(L),(L===null||L===q||L===!1)&&(L=""),C)C(i).css(S,L);else if(/^--/.test(S))i.style.setProperty(S,L);else{S=S.replace(/-(\w)/g,function(w,g){return g.toUpperCase()});var j=i.style[S];i.style[S]=L,L===j||i.style[S]!=j||isNaN(L)||(i.style[S]=L+"px")}})}},e.c.submit={init:function(i,h,E,S,L){if(typeof h()!="function")throw Error("The value for a submit binding must be a function");e.a.B(i,"submit",function(j){var w,g=h();try{w=g.call(L.$data,i)}finally{w!==!0&&(j.preventDefault?j.preventDefault():j.returnValue=!1)}})}},e.c.text={init:function(){return{controlsDescendantBindings:!0}},update:function(i,h){e.a.Bb(i,h())}},e.h.ea.text=!0,function(){if(M&&M.navigator){var i=function(N){if(N)return parseFloat(N[1])},h=M.navigator.userAgent,E,S,L,j,w;(E=M.opera&&M.opera.version&&parseInt(M.opera.version()))||(w=i(h.match(/Edge\/([^ ]+)$/)))||i(h.match(/Chrome\/([^ ]+)/))||(S=i(h.match(/Version\/([^ ]+) Safari/)))||(L=i(h.match(/Firefox\/([^ ]+)/)))||(j=e.a.W||i(h.match(/MSIE ([^ ]+)/)))||(j=i(h.match(/rv:([^ )]+)/)))}if(8<=j&&10>j)var g=e.a.g.Z(),I=e.a.g.Z(),T=function(N){var H=this.activeElement;(H=H&&e.a.g.get(H,I))&&H(N)},B=function(N,H){var k=N.ownerDocument;e.a.g.get(k,g)||(e.a.g.set(k,g,!0),e.a.B(k,"selectionchange",T)),e.a.g.set(N,I,H)};e.c.textInput={init:function(N,H,k){function W(oe,ce){e.a.B(N,oe,ce)}function K(){var oe=e.a.f(H());(oe===null||oe===q)&&(oe=""),X!==q&&oe===X?e.a.setTimeout(K,4):N.value!==oe&&(ne=!0,N.value=oe,ne=!1,$=N.value)}function z(){Z||(X=N.value,Z=e.a.setTimeout(G,4))}function G(){clearTimeout(Z),X=Z=q;var oe=N.value;$!==oe&&($=oe,e.m.eb(H(),k,"textInput",oe))}var $=N.value,Z,X,ee=e.a.W==9?z:G,ne=!1;j&&W("keypress",G),11>j&&W("propertychange",function(oe){ne||oe.propertyName!=="value"||ee(oe)}),j==8&&(W("keyup",G),W("keydown",G)),B&&(B(N,ee),W("dragend",z)),(!j||9<=j)&&W("input",ee),5>S&&e.a.R(N)==="textarea"?(W("keydown",z),W("paste",z),W("cut",z)):11>E?W("keydown",z):4>L?(W("DOMAutoComplete",G),W("dragdrop",G),W("drop",G)):w&&N.type==="number"&&W("keydown",z),W("change",G),W("blur",G),e.o(K,null,{l:N})}},e.m.wa.textInput=!0,e.c.textinput={preprocess:function(N,H,k){k("textInput",N)}}}(),e.c.uniqueName={init:function(i,h){if(h()){var E="ko_unique_"+ ++e.c.uniqueName.rd;e.a.Yc(i,E)}}},e.c.uniqueName.rd=0,e.c.using={init:function(i,h,E,S,L){var j;return E.has("as")&&(j={as:E.get("as"),noChildContext:E.get("noChildContext")}),h=L.createChildContext(h,j),e.Oa(h,i),{controlsDescendantBindings:!0}}},e.h.ea.using=!0,e.c.value={init:function(i,h,E){var S=e.a.R(i),L=S=="input";if(!L||i.type!="checkbox"&&i.type!="radio"){var j=[],w=E.get("valueUpdate"),g=!1,I=null;w&&(typeof w=="string"?j=[w]:j=e.a.wc(w),e.a.Pa(j,"change"));var T=function(){I=null,g=!1;var H=h(),k=e.w.M(i);e.m.eb(H,E,"value",k)};!e.a.W||!L||i.type!="text"||i.autocomplete=="off"||i.form&&i.form.autocomplete=="off"||e.a.A(j,"propertychange")!=-1||(e.a.B(i,"propertychange",function(){g=!0}),e.a.B(i,"focus",function(){g=!1}),e.a.B(i,"blur",function(){g&&T()})),e.a.D(j,function(H){var k=T;e.a.Ud(H,"after")&&(k=function(){I=e.w.M(i),e.a.setTimeout(T,0)},H=H.substring(5)),e.a.B(i,H,k)});var B;if(B=L&&i.type=="file"?function(){var H=e.a.f(h());H===null||H===q||H===""?i.value="":e.u.G(T)}:function(){var H=e.a.f(h()),k=e.w.M(i);I!==null&&H===I?e.a.setTimeout(B,0):(H!==k||k===q)&&(S==="select"?(k=E.get("valueAllowUnset"),e.w.cb(i,H,k),k||H===e.w.M(i)||e.u.G(T)):e.w.cb(i,H))},S==="select"){var N;e.i.subscribe(i,e.i.H,function(){N?E.get("valueAllowUnset")?B():T():(e.a.B(i,"change",T),N=e.o(B,null,{l:i}))},null,{notifyImmediately:!0})}else e.a.B(i,"change",T),e.o(B,null,{l:i})}else e.ib(i,{checkedValue:h})},update:function(){}},e.m.wa.value=!0,e.c.visible={update:function(i,h){var E=e.a.f(h()),S=i.style.display!="none";E&&!S?i.style.display="":!E&&S&&(i.style.display="none")}},e.c.hidden={update:function(i,h){e.c.visible.update(i,function(){return!e.a.f(h())})}},function(i){e.c[i]={init:function(h,E,S,L,j){return e.c.event.init.call(this,h,function(){var w={};return w[i]=E(),w},S,L,j)}}}("click"),e.ca=function(){},e.ca.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},e.ca.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},e.ca.prototype.makeTemplateSource=function(i,h){if(typeof i=="string"){h=h||d;var E=h.getElementById(i);if(!E)throw Error("Cannot find template with ID "+i);return new e.C.F(E)}if(i.nodeType==1||i.nodeType==8)return new e.C.ia(i);throw Error("Unknown template type: "+i)},e.ca.prototype.renderTemplate=function(i,h,E,S){return i=this.makeTemplateSource(i,S),this.renderTemplateSource(i,h,E,S)},e.ca.prototype.isTemplateRewritten=function(i,h){return this.allowTemplateRewriting===!1?!0:this.makeTemplateSource(i,h).data("isRewritten")},e.ca.prototype.rewriteTemplate=function(i,h,E){i=this.makeTemplateSource(i,E),h=h(i.text()),i.text(h),i.data("isRewritten",!0)},e.b("templateEngine",e.ca),e.kc=function(){function i(S,L,j,w){S=e.m.ac(S);for(var g=e.m.Ra,I=0;I<S.length;I++){var T=S[I].key;if(Object.prototype.hasOwnProperty.call(g,T)){var B=g[T];if(typeof B=="function"){if(T=B(S[I].value))throw Error(T)}else if(!B)throw Error("This template engine does not support the '"+T+"' binding within its templates")}}return j="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+e.m.vb(S,{valueAccessors:!0})+" } })()},'"+j.toLowerCase()+"')",w.createJavaScriptEvaluatorBlock(j)+L}var h=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,E=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{xd:function(S,L,j){L.isTemplateRewritten(S,j)||L.rewriteTemplate(S,function(w){return e.kc.Ld(w,L)},j)},Ld:function(S,L){return S.replace(h,function(j,w,g,I,T){return i(T,w,g,L)}).replace(E,function(j,w){return i(w,"<!-- ko -->","#comment",L)})},md:function(S,L){return e.aa.Xb(function(j,w){var g=j.nextSibling;g&&g.nodeName.toLowerCase()===L&&e.ib(g,S,w)})}}}(),e.b("__tr_ambtns",e.kc.md),function(){e.C={},e.C.F=function(E){if(this.F=E){var S=e.a.R(E);this.ab=S==="script"?1:S==="textarea"?2:S=="template"&&E.content&&E.content.nodeType===11?3:4}},e.C.F.prototype.text=function(){var E=this.ab===1?"text":this.ab===2?"value":"innerHTML";if(arguments.length==0)return this.F[E];var S=arguments[0];E==="innerHTML"?e.a.fc(this.F,S):this.F[E]=S};var i=e.a.g.Z()+"_";e.C.F.prototype.data=function(E){if(arguments.length===1)return e.a.g.get(this.F,i+E);e.a.g.set(this.F,i+E,arguments[1])};var h=e.a.g.Z();e.C.F.prototype.nodes=function(){var E=this.F;if(arguments.length==0){var S=e.a.g.get(E,h)||{},L=S.lb||(this.ab===3?E.content:this.ab===4?E:q);if(!L||S.jd){var j=this.text();j&&j!==S.bb&&(L=e.a.Md(j,E.ownerDocument),e.a.g.set(E,h,{lb:L,bb:j,jd:!0}))}return L}S=arguments[0],this.ab!==q&&this.text(""),e.a.g.set(E,h,{lb:S})},e.C.ia=function(E){this.F=E},e.C.ia.prototype=new e.C.F,e.C.ia.prototype.constructor=e.C.ia,e.C.ia.prototype.text=function(){if(arguments.length==0){var E=e.a.g.get(this.F,h)||{};return E.bb===q&&E.lb&&(E.bb=E.lb.innerHTML),E.bb}e.a.g.set(this.F,h,{bb:arguments[0]})},e.b("templateSources",e.C),e.b("templateSources.domElement",e.C.F),e.b("templateSources.anonymousTemplate",e.C.ia)}(),function(){function i(I,T,B){var N;for(T=e.h.nextSibling(T);I&&(N=I)!==T;)I=e.h.nextSibling(N),B(N,I)}function h(I,T){if(I.length){var B=I[0],N=I[I.length-1],H=B.parentNode,k=e.ga.instance,W=k.preprocessNode;if(W){if(i(B,N,function(K,z){var G=K.previousSibling,$=W.call(k,K);$&&(K===B&&(B=$[0]||z),K===N&&(N=$[$.length-1]||G))}),I.length=0,!B)return;B===N?I.push(B):(I.push(B,N),e.a.Ua(I,H))}i(B,N,function(K){K.nodeType!==1&&K.nodeType!==8||e.vc(T,K)}),i(B,N,function(K){K.nodeType!==1&&K.nodeType!==8||e.aa.cd(K,[T])}),e.a.Ua(I,H)}}function E(I){return I.nodeType?I:0<I.length?I[0]:null}function S(I,T,B,N,H){H=H||{};var k=(I&&E(I)||B||{}).ownerDocument,W=H.templateEngine||j;if(e.kc.xd(B,W,k),B=W.renderTemplate(B,N,H,k),typeof B.length!="number"||0<B.length&&typeof B[0].nodeType!="number")throw Error("Template engine must return an array of DOM nodes");switch(k=!1,T){case"replaceChildren":e.h.va(I,B),k=!0;break;case"replaceNode":e.a.Xc(I,B),k=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+T)}return k&&(h(B,N),H.afterRender&&e.u.G(H.afterRender,null,[B,N[H.as||"$data"]]),T=="replaceChildren"&&e.i.ma(I,e.i.H)),B}function L(I,T,B){return e.O(I)?I():typeof I=="function"?I(T,B):I}var j;e.gc=function(I){if(I!=q&&!(I instanceof e.ca))throw Error("templateEngine must inherit from ko.templateEngine");j=I},e.dc=function(I,T,B,N,H){if(B=B||{},(B.templateEngine||j)==q)throw Error("Set a template engine before calling renderTemplate");if(H=H||"replaceChildren",N){var k=E(N);return e.$(function(){var K=T&&T instanceof e.fa?T:new e.fa(T,null,null,null,{exportDependencies:!0}),W=L(I,K.$data,K),K=S(N,H,W,K,B);H=="replaceNode"&&(N=K,k=E(N))},null,{Sa:function(){return!k||!e.a.Sb(k)},l:k&&H=="replaceNode"?k.parentNode:k})}return e.aa.Xb(function(W){e.dc(I,T,B,W,"replaceNode")})},e.Qd=function(I,T,B,N,H){function k(X,ee){e.u.G(e.a.ec,null,[N,X,K,B,W,ee]),e.i.ma(N,e.i.H)}function W(X,ee){h(ee,z),B.afterRender&&B.afterRender(ee,X),z=null}function K(X,ee){z=H.createChildContext(X,{as:G,noChildContext:B.noChildContext,extend:function(oe){oe.$index=ee,G&&(oe[G+"Index"]=ee)}});var ne=L(I,X,z);return S(N,"ignoreTargetNode",ne,z,B)}var z,G=B.as,$=B.includeDestroyed===!1||e.options.foreachHidesDestroyed&&!B.includeDestroyed;if($||B.beforeRemove||!e.Pc(T))return e.$(function(){var X=e.a.f(T)||[];typeof X.length>"u"&&(X=[X]),$&&(X=e.a.jb(X,function(ee){return ee===q||ee===null||!e.a.f(ee._destroy)})),k(X)},null,{l:N});k(T.v());var Z=T.subscribe(function(X){k(T(),X)},null,"arrayChange");return Z.l(N),Z};var w=e.a.g.Z(),g=e.a.g.Z();e.c.template={init:function(I,T){var B=e.a.f(T());if(typeof B=="string"||"name"in B)e.h.Ea(I);else if("nodes"in B){if(B=B.nodes||[],e.O(B))throw Error('The "nodes" option must be a plain, non-observable array.');var N=B[0]&&B[0].parentNode;N&&e.a.g.get(N,g)||(N=e.a.Yb(B),e.a.g.set(N,g,!0)),new e.C.ia(I).nodes(N)}else if(B=e.h.childNodes(I),0<B.length)N=e.a.Yb(B),new e.C.ia(I).nodes(N);else throw Error("Anonymous template defined, but no template content was provided");return{controlsDescendantBindings:!0}},update:function(I,T,B,N,H){var k=T();T=e.a.f(k),B=!0,N=null,typeof T=="string"?T={}:(k="name"in T?T.name:I,"if"in T&&(B=e.a.f(T.if)),B&&"ifnot"in T&&(B=!e.a.f(T.ifnot)),B&&!k&&(B=!1)),"foreach"in T?N=e.Qd(k,B&&T.foreach||[],T,I,H):B?(B=H,"data"in T&&(B=H.createChildContext(T.data,{as:T.as,noChildContext:T.noChildContext,exportDependencies:!0})),N=e.dc(k,B,T,I)):e.h.Ea(I),H=N,(T=e.a.g.get(I,w))&&typeof T.s=="function"&&T.s(),e.a.g.set(I,w,!H||H.ja&&!H.ja()?q:H)}},e.m.Ra.template=function(I){return I=e.m.ac(I),I.length==1&&I[0].unknown||e.m.Id(I,"name")?null:"This template engine does not support anonymous templates nested within its templates"},e.h.ea.template=!0}(),e.b("setTemplateEngine",e.gc),e.b("renderTemplate",e.dc),e.a.Kc=function(i,h,E){if(i.length&&h.length){var S,L,j,w,g;for(S=L=0;(!E||S<E)&&(w=i[L]);++L){for(j=0;g=h[j];++j)if(w.value===g.value){w.moved=g.index,g.moved=w.index,h.splice(j,1),S=j=0;break}S+=j}}},e.a.Pb=function(){function i(h,E,S,L,j){var w=Math.min,g=Math.max,I=[],T,B=h.length,N,H=E.length,k=H-B||1,W=B+H+1,K,z,G;for(T=0;T<=B;T++)for(z=K,I.push(K=[]),G=w(H,T+k),N=g(0,T-1);N<=G;N++)K[N]=N?T?h[T-1]===E[N-1]?z[N-1]:w(z[N]||W,K[N-1]||W)+1:N+1:T+1;for(w=[],g=[],k=[],T=B,N=H;T||N;)H=I[T][N]-1,N&&H===I[T][N-1]?g.push(w[w.length]={status:S,value:E[--N],index:N}):T&&H===I[T-1][N]?k.push(w[w.length]={status:L,value:h[--T],index:T}):(--N,--T,j.sparse||w.push({status:"retained",value:E[N]}));return e.a.Kc(k,g,!j.dontLimitMoves&&10*B),w.reverse()}return function(h,E,S){return S=typeof S=="boolean"?{dontLimitMoves:S}:S||{},h=h||[],E=E||[],h.length<E.length?i(h,E,"added","deleted",S):i(E,h,"deleted","added",S)}}(),e.b("utils.compareArrays",e.a.Pb),function(){function i(S,L,j,w,g){var I=[],T=e.$(function(){var B=L(j,g,e.a.Ua(I,S))||[];0<I.length&&(e.a.Xc(I,B),w&&e.u.G(w,null,[j,B,g])),I.length=0,e.a.Nb(I,B)},null,{l:S,Sa:function(){return!e.a.kd(I)}});return{Y:I,$:T.ja()?T:q}}var h=e.a.g.Z(),E=e.a.g.Z();e.a.ec=function(S,L,j,w,g,I){function T(fe){ne={Aa:fe,pb:e.ta(z++)},W.push(ne),k||ee.push(ne)}function B(fe){ne=H[fe],z!==ne.pb.v()&&X.push(ne),ne.pb(z++),e.a.Ua(ne.Y,S),W.push(ne)}function N(fe,Oe){if(fe)for(var Ve=0,Te=Oe.length;Ve<Te;Ve++)e.a.D(Oe[Ve].Y,function(Ie){fe(Ie,Ve,Oe[Ve].Aa)})}L=L||[],typeof L.length>"u"&&(L=[L]),w=w||{};var H=e.a.g.get(S,h),k=!H,W=[],K=0,z=0,G=[],$=[],Z=[],X=[],ee=[],ne,oe=0;if(k)e.a.D(L,T);else{if(!I||H&&H._countWaitingForRemove){var ce=e.a.Mb(H,function(fe){return fe.Aa});I=e.a.Pb(ce,L,{dontLimitMoves:w.dontLimitMoves,sparse:!0})}for(var ce=0,ye,me,Ce;ye=I[ce];ce++)switch(me=ye.moved,Ce=ye.index,ye.status){case"deleted":for(;K<Ce;)B(K++);me===q&&(ne=H[K],ne.$&&(ne.$.s(),ne.$=q),e.a.Ua(ne.Y,S).length&&(w.beforeRemove&&(W.push(ne),oe++,ne.Aa===E?ne=null:Z.push(ne)),ne&&G.push.apply(G,ne.Y))),K++;break;case"added":for(;z<Ce;)B(K++);me!==q?($.push(W.length),B(me)):T(ye.value)}for(;z<L.length;)B(K++);W._countWaitingForRemove=oe}e.a.g.set(S,h,W),N(w.beforeMove,X),e.a.D(G,w.beforeRemove?e.oa:e.removeNode);var ve,be,Pe;try{Pe=S.ownerDocument.activeElement}catch{}if($.length)for(;(ce=$.shift())!=q;){for(ne=W[ce],ve=q;ce;)if((be=W[--ce].Y)&&be.length){ve=be[be.length-1];break}for(L=0;K=ne.Y[L];ve=K,L++)e.h.Wb(S,K,ve)}for(ce=0;ne=W[ce];ce++){for(ne.Y||e.a.extend(ne,i(S,j,ne.Aa,g,ne.pb)),L=0;K=ne.Y[L];ve=K,L++)e.h.Wb(S,K,ve);!ne.Ed&&g&&(g(ne.Aa,ne.Y,ne.pb),ne.Ed=!0,ve=ne.Y[ne.Y.length-1])}for(Pe&&S.ownerDocument.activeElement!=Pe&&Pe.focus(),N(w.beforeRemove,Z),ce=0;ce<Z.length;++ce)Z[ce].Aa=E;N(w.afterMove,X),N(w.afterAdd,ee)}}(),e.b("utils.setDomNodeChildrenFromArrayMapping",e.a.ec),e.ba=function(){this.allowTemplateRewriting=!1},e.ba.prototype=new e.ca,e.ba.prototype.constructor=e.ba,e.ba.prototype.renderTemplateSource=function(i,h,E,S){return(h=!(9>e.a.W)&&i.nodes?i.nodes():null)?e.a.la(h.cloneNode(!0).childNodes):(i=i.text(),e.a.ua(i,S))},e.ba.Ma=new e.ba,e.gc(e.ba.Ma),e.b("nativeTemplateEngine",e.ba),function(){e.$a=function(){var h=this.Hd=function(){if(!C||!C.tmpl)return 0;try{if(0<=C.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch{}return 1}();this.renderTemplateSource=function(E,S,L,j){if(j=j||d,L=L||{},2>h)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var w=E.data("precompiled");return w||(w=E.text()||"",w=C.template(null,"{{ko_with $item.koBindingContext}}"+w+"{{/ko_with}}"),E.data("precompiled",w)),E=[S.$data],S=C.extend({koBindingContext:S},L.templateOptions),S=C.tmpl(w,E,S),S.appendTo(j.createElement("div")),C.fragments={},S},this.createJavaScriptEvaluatorBlock=function(E){return"{{ko_code ((function() { return "+E+" })()) }}"},this.addTemplate=function(E,S){d.write("<script type='text/html' id='"+E+"'>"+S+"</script>")},0<h&&(C.tmpl.tag.ko_code={open:"__.push($1 || '');"},C.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},e.$a.prototype=new e.ca,e.$a.prototype.constructor=e.$a;var i=new e.$a;0<i.Hd&&e.gc(i),e.b("jqueryTmplTemplateEngine",e.$a)}()})})()})()});var ht=_t((pt,nn)=>{(function(M,d){typeof pt=="object"&&typeof nn=="object"?nn.exports=d():typeof define=="function"&&define.amd?define("survey-core",[],d):typeof pt=="object"?pt["survey-core"]=d():M.Survey=d()})(pt,function(){return function(q){var M={};function d(P){if(M[P])return M[P].exports;var C=M[P]={i:P,l:!1,exports:{}};return q[P].call(C.exports,C,C.exports,d),C.l=!0,C.exports}return d.m=q,d.c=M,d.d=function(P,C,D){d.o(P,C)||Object.defineProperty(P,C,{enumerable:!0,get:D})},d.r=function(P){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(P,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(P,"__esModule",{value:!0})},d.t=function(P,C){if(C&1&&(P=d(P)),C&8||C&4&&typeof P=="object"&&P&&P.__esModule)return P;var D=Object.create(null);if(d.r(D),Object.defineProperty(D,"default",{enumerable:!0,value:P}),C&2&&typeof P!="string")for(var A in P)d.d(D,A,function(R){return P[R]}.bind(null,A));return D},d.n=function(P){var C=P&&P.__esModule?function(){return P.default}:function(){return P};return d.d(C,"a",C),C},d.o=function(P,C){return Object.prototype.hasOwnProperty.call(P,C)},d.p="",d(d.s="./src/entries/core.ts")}({"./node_modules/signature_pad/dist/signature_pad.js":function(q,M,d){"use strict";d.r(M),d.d(M,"default",function(){return R});class P{constructor(O,l,y,p){if(isNaN(O)||isNaN(l))throw new Error(`Point is invalid: (${O}, ${l})`);this.x=+O,this.y=+l,this.pressure=y||0,this.time=p||Date.now()}distanceTo(O){return Math.sqrt(Math.pow(this.x-O.x,2)+Math.pow(this.y-O.y,2))}equals(O){return this.x===O.x&&this.y===O.y&&this.pressure===O.pressure&&this.time===O.time}velocityFrom(O){return this.time!==O.time?this.distanceTo(O)/(this.time-O.time):0}}class C{static fromPoints(O,l){let y=this.calculateControlPoints(O[0],O[1],O[2]).c2,p=this.calculateControlPoints(O[1],O[2],O[3]).c1;return new C(O[1],y,p,O[2],l.start,l.end)}static calculateControlPoints(O,l,y){let p=O.x-l.x,f=O.y-l.y,e=l.x-y.x,m=l.y-y.y,s={x:(O.x+l.x)/2,y:(O.y+l.y)/2},a={x:(l.x+y.x)/2,y:(l.y+y.y)/2},c=Math.sqrt(p*p+f*f),r=Math.sqrt(e*e+m*m),t=s.x-a.x,n=s.y-a.y,o=r/(c+r),u={x:a.x+t*o,y:a.y+n*o},v=l.x-u.x,x=l.y-u.y;return{c1:new P(s.x+v,s.y+x),c2:new P(a.x+v,a.y+x)}}constructor(O,l,y,p,f,e){this.startPoint=O,this.control2=l,this.control1=y,this.endPoint=p,this.startWidth=f,this.endWidth=e}length(){let l=0,y,p;for(let f=0;f<=10;f+=1){let e=f/10,m=this.point(e,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),s=this.point(e,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(f>0){let a=m-y,c=s-p;l+=Math.sqrt(a*a+c*c)}y=m,p=s}return l}point(O,l,y,p,f){return l*(1-O)*(1-O)*(1-O)+3*y*(1-O)*(1-O)*O+3*p*(1-O)*O*O+f*O*O*O}}class D{constructor(){try{this._et=new EventTarget}catch{this._et=document}}addEventListener(O,l,y){this._et.addEventListener(O,l,y)}dispatchEvent(O){return this._et.dispatchEvent(O)}removeEventListener(O,l,y){this._et.removeEventListener(O,l,y)}}function A(V,O=250){let l=0,y=null,p,f,e,m=()=>{l=Date.now(),y=null,p=V.apply(f,e),y||(f=null,e=[])};return function(...a){let c=Date.now(),r=O-(c-l);return f=this,e=a,r<=0||r>O?(y&&(clearTimeout(y),y=null),l=c,p=V.apply(f,e),y||(f=null,e=[])):y||(y=window.setTimeout(m,r)),p}}class R extends D{constructor(O,l={}){super(),this.canvas=O,this._drawingStroke=!1,this._isEmpty=!0,this._lastPoints=[],this._data=[],this._lastVelocity=0,this._lastWidth=0,this._handleMouseDown=y=>{y.buttons===1&&this._strokeBegin(y)},this._handleMouseMove=y=>{this._strokeMoveUpdate(y)},this._handleMouseUp=y=>{y.buttons===1&&this._strokeEnd(y)},this._handleTouchStart=y=>{if(y.cancelable&&y.preventDefault(),y.targetTouches.length===1){let p=y.changedTouches[0];this._strokeBegin(p)}},this._handleTouchMove=y=>{y.cancelable&&y.preventDefault();let p=y.targetTouches[0];this._strokeMoveUpdate(p)},this._handleTouchEnd=y=>{if(y.target===this.canvas){y.cancelable&&y.preventDefault();let f=y.changedTouches[0];this._strokeEnd(f)}},this._handlePointerStart=y=>{y.preventDefault(),this._strokeBegin(y)},this._handlePointerMove=y=>{this._strokeMoveUpdate(y)},this._handlePointerEnd=y=>{this._drawingStroke&&(y.preventDefault(),this._strokeEnd(y))},this.velocityFilterWeight=l.velocityFilterWeight||.7,this.minWidth=l.minWidth||.5,this.maxWidth=l.maxWidth||2.5,this.throttle="throttle"in l?l.throttle:16,this.minDistance="minDistance"in l?l.minDistance:5,this.dotSize=l.dotSize||0,this.penColor=l.penColor||"black",this.backgroundColor=l.backgroundColor||"rgba(0,0,0,0)",this.compositeOperation=l.compositeOperation||"source-over",this._strokeMoveUpdate=this.throttle?A(R.prototype._strokeUpdate,this.throttle):R.prototype._strokeUpdate,this._ctx=O.getContext("2d"),this.clear(),this.on()}clear(){let{_ctx:O,canvas:l}=this;O.fillStyle=this.backgroundColor,O.clearRect(0,0,l.width,l.height),O.fillRect(0,0,l.width,l.height),this._data=[],this._reset(this._getPointGroupOptions()),this._isEmpty=!0}fromDataURL(O,l={}){return new Promise((y,p)=>{let f=new Image,e=l.ratio||window.devicePixelRatio||1,m=l.width||this.canvas.width/e,s=l.height||this.canvas.height/e,a=l.xOffset||0,c=l.yOffset||0;this._reset(this._getPointGroupOptions()),f.onload=()=>{this._ctx.drawImage(f,a,c,m,s),y()},f.onerror=r=>{p(r)},f.crossOrigin="anonymous",f.src=O,this._isEmpty=!1})}toDataURL(O="image/png",l){switch(O){case"image/svg+xml":return typeof l!="object"&&(l=void 0),`data:image/svg+xml;base64,${btoa(this.toSVG(l))}`;default:return typeof l!="number"&&(l=void 0),this.canvas.toDataURL(O,l)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none";let O=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!O?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerStart),this.canvas.removeEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.removeEventListener("pointerup",this._handlePointerEnd),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(O,{clear:l=!0}={}){l&&this.clear(),this._fromData(O,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(O)}toData(){return this._data}_getPointGroupOptions(O){return{penColor:O&&"penColor"in O?O.penColor:this.penColor,dotSize:O&&"dotSize"in O?O.dotSize:this.dotSize,minWidth:O&&"minWidth"in O?O.minWidth:this.minWidth,maxWidth:O&&"maxWidth"in O?O.maxWidth:this.maxWidth,velocityFilterWeight:O&&"velocityFilterWeight"in O?O.velocityFilterWeight:this.velocityFilterWeight,compositeOperation:O&&"compositeOperation"in O?O.compositeOperation:this.compositeOperation}}_strokeBegin(O){if(!this.dispatchEvent(new CustomEvent("beginStroke",{detail:O,cancelable:!0})))return;this._drawingStroke=!0;let y=this._getPointGroupOptions(),p=Object.assign(Object.assign({},y),{points:[]});this._data.push(p),this._reset(y),this._strokeUpdate(O)}_strokeUpdate(O){if(!this._drawingStroke)return;if(this._data.length===0){this._strokeBegin(O);return}this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:O}));let l=O.clientX,y=O.clientY,p=O.pressure!==void 0?O.pressure:O.force!==void 0?O.force:0,f=this._createPoint(l,y,p),e=this._data[this._data.length-1],m=e.points,s=m.length>0&&m[m.length-1],a=s?f.distanceTo(s)<=this.minDistance:!1,c=this._getPointGroupOptions(e);if(!s||!(s&&a)){let r=this._addPoint(f,c);s?r&&this._drawCurve(r,c):this._drawDot(f,c),m.push({time:f.time,x:f.x,y:f.y,pressure:f.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:O}))}_strokeEnd(O){this._drawingStroke&&(this._strokeUpdate(O),this._drawingStroke=!1,this.dispatchEvent(new CustomEvent("endStroke",{detail:O})))}_handlePointerEvents(){this._drawingStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerStart),this.canvas.addEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.addEventListener("pointerup",this._handlePointerEnd)}_handleMouseEvents(){this._drawingStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(O){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(O.minWidth+O.maxWidth)/2,this._ctx.fillStyle=O.penColor,this._ctx.globalCompositeOperation=O.compositeOperation}_createPoint(O,l,y){let p=this.canvas.getBoundingClientRect();return new P(O-p.left,l-p.top,y,new Date().getTime())}_addPoint(O,l){let{_lastPoints:y}=this;if(y.push(O),y.length>2){y.length===3&&y.unshift(y[0]);let p=this._calculateCurveWidths(y[1],y[2],l),f=C.fromPoints(y,p);return y.shift(),f}return null}_calculateCurveWidths(O,l,y){let p=y.velocityFilterWeight*l.velocityFrom(O)+(1-y.velocityFilterWeight)*this._lastVelocity,f=this._strokeWidth(p,y),e={end:f,start:this._lastWidth};return this._lastVelocity=p,this._lastWidth=f,e}_strokeWidth(O,l){return Math.max(l.maxWidth/(O+1),l.minWidth)}_drawCurveSegment(O,l,y){let p=this._ctx;p.moveTo(O,l),p.arc(O,l,y,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(O,l){let y=this._ctx,p=O.endWidth-O.startWidth,f=Math.ceil(O.length())*2;y.beginPath(),y.fillStyle=l.penColor;for(let e=0;e<f;e+=1){let m=e/f,s=m*m,a=s*m,c=1-m,r=c*c,t=r*c,n=t*O.startPoint.x;n+=3*r*m*O.control1.x,n+=3*c*s*O.control2.x,n+=a*O.endPoint.x;let o=t*O.startPoint.y;o+=3*r*m*O.control1.y,o+=3*c*s*O.control2.y,o+=a*O.endPoint.y;let u=Math.min(O.startWidth+a*p,l.maxWidth);this._drawCurveSegment(n,o,u)}y.closePath(),y.fill()}_drawDot(O,l){let y=this._ctx,p=l.dotSize>0?l.dotSize:(l.minWidth+l.maxWidth)/2;y.beginPath(),this._drawCurveSegment(O.x,O.y,p),y.closePath(),y.fillStyle=l.penColor,y.fill()}_fromData(O,l,y){for(let p of O){let{points:f}=p,e=this._getPointGroupOptions(p);if(f.length>1)for(let m=0;m<f.length;m+=1){let s=f[m],a=new P(s.x,s.y,s.pressure,s.time);m===0&&this._reset(e);let c=this._addPoint(a,e);c&&l(c,e)}else this._reset(e),y(f[0],e)}}toSVG({includeBackgroundColor:O=!1}={}){let l=this._data,y=Math.max(window.devicePixelRatio||1,1),p=0,f=0,e=this.canvas.width/y,m=this.canvas.height/y,s=document.createElementNS("http://www.w3.org/2000/svg","svg");if(s.setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),s.setAttribute("viewBox",`${p} ${f} ${e} ${m}`),s.setAttribute("width",e.toString()),s.setAttribute("height",m.toString()),O&&this.backgroundColor){let a=document.createElement("rect");a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("fill",this.backgroundColor),s.appendChild(a)}return this._fromData(l,(a,{penColor:c})=>{let r=document.createElement("path");if(!isNaN(a.control1.x)&&!isNaN(a.control1.y)&&!isNaN(a.control2.x)&&!isNaN(a.control2.y)){let t=`M ${a.startPoint.x.toFixed(3)},${a.startPoint.y.toFixed(3)} C ${a.control1.x.toFixed(3)},${a.control1.y.toFixed(3)} ${a.control2.x.toFixed(3)},${a.control2.y.toFixed(3)} ${a.endPoint.x.toFixed(3)},${a.endPoint.y.toFixed(3)}`;r.setAttribute("d",t),r.setAttribute("stroke-width",(a.endWidth*2.25).toFixed(3)),r.setAttribute("stroke",c),r.setAttribute("fill","none"),r.setAttribute("stroke-linecap","round"),s.appendChild(r)}},(a,{penColor:c,dotSize:r,minWidth:t,maxWidth:n})=>{let o=document.createElement("circle"),u=r>0?r:(t+n)/2;o.setAttribute("r",u.toString()),o.setAttribute("cx",a.x.toString()),o.setAttribute("cy",a.y.toString()),o.setAttribute("fill",c),s.appendChild(o)}),s.outerHTML}}},"./src/actions/action.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"createDropdownActionModel",function(){return p}),d.d(M,"createDropdownActionModelAdvanced",function(){return f}),d.d(M,"getActionDropdownButtonTarget",function(){return e}),d.d(M,"BaseAction",function(){return m}),d.d(M,"Action",function(){return s}),d.d(M,"ActionDropdownViewModel",function(){return a});var P=d("./src/base.ts"),C=d("./src/surveyStrings.ts"),D=d("./src/jsonobject.ts"),A=d("./src/list.ts"),R=d("./src/popup.ts"),V=d("./src/utils/cssClassBuilder.ts"),O=d("./src/actions/container.ts"),l=function(){var c=function(r,t){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(n[u]=o[u])},c(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");c(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),y=function(c,r,t,n){var o=arguments.length,u=o<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,r,t,n);else for(var x=c.length-1;x>=0;x--)(v=c[x])&&(u=(o<3?v(u):o>3?v(r,t,u):v(r,t))||u);return o>3&&u&&Object.defineProperty(r,t,u),u};function p(c,r,t){return f(c,r,r,t)}function f(c,r,t,n){var o=new A.ListModel(r.items,function(b){x.hasTitle&&(x.title=b.title),r.onSelectionChanged(b),u.toggleVisibility()},r.allowSelection,r.selectedItem,r.onFilterStringChangedCallback);o.locOwner=n;var u=new R.PopupModel("sv-list",{model:o},t?.verticalPosition,t?.horizontalPosition,t?.showPointer,t?.isModal,t?.onCancel,t?.onApply,t?.onHide,t?.onShow,t?.cssClass,t?.title,function(){o.dispose()});u.displayMode=t?.displayMode;var v=Object.assign({},c,{component:"sv-action-bar-item-dropdown",popupModel:u,action:function(b,i){c.action&&c.action(),u.isFocusedContent=!i||o.showFilter,u.toggleVisibility(),o.scrollToSelectedItem()}}),x=new s(v);return x.data=o,x}function e(c){return c?.previousElementSibling}var m=function(c){l(r,c);function r(){var t=c!==null&&c.apply(this,arguments)||this;return t.iconSize=24,t}return Object.defineProperty(r.prototype,"visible",{get:function(){return this.getVisible()},set:function(t){this.setVisible(t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"enabled",{get:function(){return this.getEnabled()},set:function(t){this.setEnabled(t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"component",{get:function(){return this.getComponent()},set:function(t){this.setComponent(t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"locTitle",{get:function(){return this.getLocTitle()},set:function(t){this.setLocTitle(t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"title",{get:function(){return this.getTitle()},set:function(t){this.setTitle(t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"cssClasses",{get:function(){return this.cssClassesValue||O.defaultActionBarCss},set:function(t){this.cssClassesValue=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isVisible",{get:function(){return this.visible&&this.mode!=="popup"&&this.mode!=="removed"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"disabled",{get:function(){return this.enabled!==void 0&&!this.enabled},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"canShrink",{get:function(){return!!this.iconName},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasTitle",{get:function(){return(this.mode!="small"&&(this.showTitle||this.showTitle===void 0)||!this.iconName)&&!!this.title},enumerable:!1,configurable:!0}),r.prototype.getActionBarItemTitleCss=function(){return new V.CssClassBuilder().append(this.cssClasses.itemTitle).append(this.cssClasses.itemTitleWithIcon,!!this.iconName).toString()},r.prototype.getActionBarItemCss=function(){return new V.CssClassBuilder().append(this.cssClasses.item).append(this.cssClasses.itemWithTitle,this.hasTitle).append(this.cssClasses.itemAsIcon,!this.hasTitle).append(this.cssClasses.itemActive,!!this.active).append(this.cssClasses.itemPressed,!!this.pressed).append(this.innerCss).toString()},r.prototype.getActionRootCss=function(){return new V.CssClassBuilder().append("sv-action").append(this.css).append("sv-action--space",this.needSpace).append("sv-action--hidden",!this.isVisible).toString()},r.prototype.getTooltip=function(){return this.tooltip||this.title},r.prototype.getIsTrusted=function(t){return t.originalEvent?t.originalEvent.isTrusted:t.isTrusted},y([Object(D.property)()],r.prototype,"tooltip",void 0),y([Object(D.property)()],r.prototype,"showTitle",void 0),y([Object(D.property)()],r.prototype,"innerCss",void 0),y([Object(D.property)()],r.prototype,"active",void 0),y([Object(D.property)()],r.prototype,"pressed",void 0),y([Object(D.property)()],r.prototype,"data",void 0),y([Object(D.property)()],r.prototype,"popupModel",void 0),y([Object(D.property)()],r.prototype,"needSeparator",void 0),y([Object(D.property)()],r.prototype,"template",void 0),y([Object(D.property)({defaultValue:"large"})],r.prototype,"mode",void 0),y([Object(D.property)()],r.prototype,"visibleIndex",void 0),y([Object(D.property)()],r.prototype,"disableTabStop",void 0),y([Object(D.property)()],r.prototype,"disableShrink",void 0),y([Object(D.property)()],r.prototype,"disableHide",void 0),y([Object(D.property)({defaultValue:!1})],r.prototype,"needSpace",void 0),y([Object(D.property)()],r.prototype,"ariaChecked",void 0),y([Object(D.property)()],r.prototype,"ariaExpanded",void 0),y([Object(D.property)({defaultValue:"button"})],r.prototype,"ariaRole",void 0),y([Object(D.property)()],r.prototype,"iconName",void 0),y([Object(D.property)()],r.prototype,"iconSize",void 0),y([Object(D.property)()],r.prototype,"css",void 0),r}(P.Base),s=function(c){l(r,c);function r(t){var n=c.call(this)||this;if(n.innerItem=t,n.locTitleChanged=function(){var u=n.locTitle.renderedHtml;n.setPropertyValue("_title",u||void 0)},n.locTitle=t?t.locTitle:null,t)for(var o in t)o!=="locTitle"&&(n[o]=t[o]);return n.locTitleName&&n.locTitleChanged(),n.registerFunctionOnPropertyValueChanged("_title",function(){n.raiseUpdate(!0)}),n.locStrChangedInPopupModel(),n}return r.prototype.raiseUpdate=function(t){t===void 0&&(t=!1),this.updateCallback&&this.updateCallback(t)},r.prototype.createLocTitle=function(){return this.createLocalizableString("title",this,!0)},r.prototype.getLocTitle=function(){return this.locTitleValue},r.prototype.setLocTitle=function(t){!t&&!this.locTitleValue&&(t=this.createLocTitle()),this.locTitleValue&&this.locTitleValue.onStringChanged.remove(this.locTitleChanged),this.locTitleValue=t,this.locTitleValue.onStringChanged.add(this.locTitleChanged),this.locTitleChanged()},r.prototype.getTitle=function(){return this._title},r.prototype.setTitle=function(t){this._title=t},Object.defineProperty(r.prototype,"locTitleName",{get:function(){return this.locTitle.localizationName},set:function(t){this.locTitle.localizationName=t},enumerable:!1,configurable:!0}),r.prototype.locStrsChanged=function(){c.prototype.locStrsChanged.call(this),this.locTooltipChanged(),this.locStrChangedInPopupModel()},r.prototype.locStrChangedInPopupModel=function(){if(!(!this.popupModel||!this.popupModel.contentComponentData||!this.popupModel.contentComponentData.model)){var t=this.popupModel.contentComponentData.model;if(Array.isArray(t.actions)){var n=t.actions;n.forEach(function(o){o.locStrsChanged&&o.locStrsChanged()})}}},r.prototype.locTooltipChanged=function(){this.locTooltipName&&(this.tooltip=C.surveyLocalization.getString(this.locTooltipName,this.locTitle.locale))},r.prototype.getLocale=function(){return this.owner?this.owner.getLocale():""},r.prototype.getMarkdownHtml=function(t,n){return this.owner?this.owner.getMarkdownHtml(t,n):void 0},r.prototype.getProcessedText=function(t){return this.owner?this.owner.getProcessedText(t):t},r.prototype.getRenderer=function(t){return this.owner?this.owner.getRenderer(t):null},r.prototype.getRendererContext=function(t){return this.owner?this.owner.getRendererContext(t):t},r.prototype.setVisible=function(t){this._visible=t},r.prototype.getVisible=function(){return this._visible},r.prototype.setEnabled=function(t){this._enabled=t},r.prototype.getEnabled=function(){return this.enabledIf?this.enabledIf():this._enabled},r.prototype.setComponent=function(t){this._component=t},r.prototype.getComponent=function(){return this._component},r.prototype.dispose=function(){this.action=void 0,c.prototype.dispose.call(this),this.popupModel&&this.popupModel.dispose(),this.locTitleValue&&(this.locTitleValue.onStringChanged.remove(this.locTitleChanged),this.locTitleChanged=void 0)},y([Object(D.property)()],r.prototype,"id",void 0),y([Object(D.property)({defaultValue:!0,onSet:function(t,n){n.raiseUpdate()}})],r.prototype,"_visible",void 0),y([Object(D.property)({onSet:function(t,n){n.locTooltipChanged()}})],r.prototype,"locTooltipName",void 0),y([Object(D.property)()],r.prototype,"_enabled",void 0),y([Object(D.property)()],r.prototype,"action",void 0),y([Object(D.property)()],r.prototype,"_component",void 0),y([Object(D.property)()],r.prototype,"items",void 0),y([Object(D.property)({onSet:function(t,n){n.locTitleValue.text!==t&&(n.locTitleValue.text=t)}})],r.prototype,"_title",void 0),r}(m),a=function(){function c(r){this.item=r,this.funcKey="sv-dropdown-action",this.setupPopupCallbacks()}return c.prototype.setupPopupCallbacks=function(){var r=this,t=this.popupModel=this.item.popupModel;t&&t.registerPropertyChangedHandlers(["isVisible"],function(){t.isVisible?r.item.pressed=!0:r.item.pressed=!1},this.funcKey)},c.prototype.removePopupCallbacks=function(){this.popupModel&&this.popupModel.unregisterPropertyChangedHandlers(["isVisible"],this.funcKey)},c.prototype.dispose=function(){this.removePopupCallbacks()},c}()},"./src/actions/adaptive-container.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"AdaptiveActionContainer",function(){return V});var P=d("./src/utils/responsivity-manager.ts"),C=d("./src/actions/action.ts"),D=d("./src/actions/container.ts"),A=d("./src/surveyStrings.ts"),R=function(){var O=function(l,y){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var e in f)Object.prototype.hasOwnProperty.call(f,e)&&(p[e]=f[e])},O(l,y)};return function(l,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");O(l,y);function p(){this.constructor=l}l.prototype=y===null?Object.create(y):(p.prototype=y.prototype,new p)}}(),V=function(O){R(l,O);function l(){var y=O.call(this)||this;return y.minVisibleItemsCount=0,y.isResponsivenessDisabled=!1,y.dotsItem=Object(C.createDropdownActionModelAdvanced)({id:"dotsItem-id"+l.ContainerID++,css:"sv-dots",innerCss:"sv-dots__item",iconName:"icon-more",visible:!1,tooltip:A.surveyLocalization.getString("more")},{items:[],onSelectionChanged:function(p){y.hiddenItemSelected(p)},allowSelection:!1}),y}return l.prototype.hideItemsGreaterN=function(y){var p=this.getActionsToHide();y=Math.max(y,this.minVisibleItemsCount-(this.visibleActions.length-p.length));var f=[];p.forEach(function(e){y<=0&&(e.removePriority?e.mode="removed":(e.mode="popup",f.push(e.innerItem))),y--}),this.hiddenItemsListModel.setItems(f)},l.prototype.getActionsToHide=function(){return this.visibleActions.filter(function(y){return!y.disableHide}).sort(function(y,p){return y.removePriority||0-p.removePriority||0})},l.prototype.getVisibleItemsCount=function(y){this.visibleActions.filter(function(m){return m.disableHide}).forEach(function(m){return y-=m.minDimension});for(var p=this.getActionsToHide().map(function(m){return m.minDimension}),f=0,e=0;e<p.length;e++)if(f+=p[e],f>y)return e;return e},l.prototype.updateItemMode=function(y,p){for(var f=this.visibleActions,e=f.length-1;e>=0;e--)p>y&&!f[e].disableShrink?(p-=f[e].maxDimension-f[e].minDimension,f[e].mode="small"):f[e].mode="large";if(p>y){var m=this.visibleActions.filter(function(s){return s.removePriority});m.sort(function(s,a){return s.removePriority-a.removePriority});for(var e=0;e<m.length;e++)p>y&&(p-=f[e].disableShrink?m[e].maxDimension:m[e].minDimension,m[e].mode="removed")}},Object.defineProperty(l.prototype,"hiddenItemsListModel",{get:function(){return this.dotsItem.data},enumerable:!1,configurable:!0}),l.prototype.hiddenItemSelected=function(y){y&&typeof y.action=="function"&&y.action()},l.prototype.onSet=function(){var y=this;this.actions.forEach(function(p){return p.updateCallback=function(f){return y.raiseUpdate(f)}}),O.prototype.onSet.call(this)},l.prototype.onPush=function(y){var p=this;y.updateCallback=function(f){return p.raiseUpdate(f)},O.prototype.onPush.call(this,y)},l.prototype.getRenderedActions=function(){return this.actions.length===1&&this.actions[0].iconName?this.actions:this.actions.concat([this.dotsItem])},l.prototype.raiseUpdate=function(y){this.isResponsivenessDisabled||O.prototype.raiseUpdate.call(this,y)},l.prototype.fit=function(y,p){if(!(y<=0)){this.dotsItem.visible=!1;var f=0,e=0,m=this.visibleActions;m.forEach(function(s){f+=s.minDimension,e+=s.maxDimension}),y>=e?this.setActionsMode("large"):y<f?(this.setActionsMode("small"),this.hideItemsGreaterN(this.getVisibleItemsCount(y-p)),this.dotsItem.visible=!!this.hiddenItemsListModel.actions.length):this.updateItemMode(y,e)}},l.prototype.initResponsivityManager=function(y,p){this.responsivityManager=new P.ResponsivityManager(y,this,":scope > .sv-action:not(.sv-dots) > .sv-action__content",null,p)},l.prototype.resetResponsivityManager=function(){this.responsivityManager&&(this.responsivityManager.dispose(),this.responsivityManager=void 0)},l.prototype.setActionsMode=function(y){this.actions.forEach(function(p){y=="small"&&p.disableShrink||(p.mode=y)})},l.prototype.dispose=function(){O.prototype.dispose.call(this),this.dotsItem.data.dispose(),this.dotsItem.dispose(),this.resetResponsivityManager()},l.ContainerID=1,l}(D.ActionContainer)},"./src/actions/container.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"defaultActionBarCss",function(){return l}),d.d(M,"ActionContainer",function(){return y});var P=d("./src/jsonobject.ts"),C=d("./src/base.ts"),D=d("./src/actions/action.ts"),A=d("./src/utils/cssClassBuilder.ts"),R=d("./src/utils/utils.ts"),V=function(){var p=function(f,e){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,s){m.__proto__=s}||function(m,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(m[a]=s[a])},p(f,e)};return function(f,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");p(f,e);function m(){this.constructor=f}f.prototype=e===null?Object.create(e):(m.prototype=e.prototype,new m)}}(),O=function(p,f,e,m){var s=arguments.length,a=s<3?f:m===null?m=Object.getOwnPropertyDescriptor(f,e):m,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(p,f,e,m);else for(var r=p.length-1;r>=0;r--)(c=p[r])&&(a=(s<3?c(a):s>3?c(f,e,a):c(f,e))||a);return s>3&&a&&Object.defineProperty(f,e,a),a},l={root:"sv-action-bar",defaultSizeMode:"sv-action-bar--default-size-mode",smallSizeMode:"sv-action-bar--small-size-mode",item:"sv-action-bar-item",itemWithTitle:"",itemAsIcon:"sv-action-bar-item--icon",itemActive:"sv-action-bar-item--active",itemPressed:"sv-action-bar-item--pressed",itemIcon:"sv-action-bar-item__icon",itemTitle:"sv-action-bar-item__title",itemTitleWithIcon:"sv-action-bar-item__title--with-icon"},y=function(p){V(f,p);function f(){var e=p!==null&&p.apply(this,arguments)||this;return e.sizeMode="default",e}return f.prototype.getMarkdownHtml=function(e,m){return this.locOwner?this.locOwner.getMarkdownHtml(e,m):void 0},f.prototype.getRenderer=function(e){return this.locOwner?this.locOwner.getRenderer(e):null},f.prototype.getRendererContext=function(e){return this.locOwner?this.locOwner.getRendererContext(e):e},f.prototype.getProcessedText=function(e){return this.locOwner?this.locOwner.getProcessedText(e):e},f.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},f.prototype.getRenderedActions=function(){return this.actions},f.prototype.locStrsChanged=function(){p.prototype.locStrsChanged.call(this),this.actions.forEach(function(e){e.locTitle&&e.locTitle.strChanged(),e.locStrsChanged()})},f.prototype.raiseUpdate=function(e){this.isEmpty=!this.actions.some(function(m){return m.visible}),this.updateCallback&&this.updateCallback(e)},f.prototype.onSet=function(){var e=this;this.actions.forEach(function(m){e.setActionCssClasses(m)}),this.raiseUpdate(!0)},f.prototype.onPush=function(e){this.setActionCssClasses(e),e.owner=this,this.raiseUpdate(!0)},f.prototype.onRemove=function(e){e.owner=null,this.raiseUpdate(!0)},f.prototype.setActionCssClasses=function(e){e.cssClasses=this.cssClasses},Object.defineProperty(f.prototype,"hasActions",{get:function(){return(this.actions||[]).length>0},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"renderedActions",{get:function(){return this.getRenderedActions()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"visibleActions",{get:function(){return this.actions.filter(function(e){return e.visible!==!1})},enumerable:!1,configurable:!0}),f.prototype.getRootCss=function(){var e=this.sizeMode==="small"?this.cssClasses.smallSizeMode:this.cssClasses.defaultSizeMode;return new A.CssClassBuilder().append(this.cssClasses.root+(e?" "+e:"")+(this.containerCss?" "+this.containerCss:"")).append(this.cssClasses.root+"--empty",this.isEmpty).toString()},f.prototype.getDefaultCssClasses=function(){return l},Object.defineProperty(f.prototype,"cssClasses",{get:function(){return this.cssClassesValue||(this.cssClassesValue=this.getDefaultCssClasses()),this.cssClassesValue},set:function(e){var m=this;this.cssClassesValue={},this.copyCssClasses(this.cssClassesValue,this.getDefaultCssClasses()),Object(R.mergeValues)(e,this.cssClasses),this.actions.forEach(function(s){m.setActionCssClasses(s)})},enumerable:!1,configurable:!0}),f.prototype.createAction=function(e){return e instanceof D.BaseAction?e:new D.Action(e)},f.prototype.addAction=function(e,m){m===void 0&&(m=!0);var s=this.createAction(e);return this.actions.push(s),this.sortItems(),s},f.prototype.sortItems=function(){this.actions=[].concat(this.actions.filter(function(e){return e.visibleIndex===void 0||e.visibleIndex>=0})).sort(function(e,m){return e.visibleIndex-m.visibleIndex})},f.prototype.setItems=function(e,m){var s=this;m===void 0&&(m=!0),this.actions=e.map(function(a){return s.createAction(a)}),m&&this.sortItems()},f.prototype.initResponsivityManager=function(e,m){},f.prototype.resetResponsivityManager=function(){},f.prototype.getActionById=function(e){for(var m=0;m<this.actions.length;m++)if(this.actions[m].id===e)return this.actions[m];return null},f.prototype.dispose=function(){p.prototype.dispose.call(this),this.actions.forEach(function(e){return e.dispose()}),this.actions.length=0},O([Object(P.propertyArray)({onSet:function(e,m){m.onSet()},onPush:function(e,m,s){s.onPush(e)},onRemove:function(e,m,s){s.onRemove(e)}})],f.prototype,"actions",void 0),O([Object(P.property)({})],f.prototype,"containerCss",void 0),O([Object(P.property)({defaultValue:!1})],f.prototype,"isEmpty",void 0),f}(C.Base)},"./src/base.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"Bindings",function(){return p}),d.d(M,"Dependencies",function(){return f}),d.d(M,"ComputedUpdater",function(){return e}),d.d(M,"Base",function(){return m}),d.d(M,"ArrayChanges",function(){return s}),d.d(M,"Event",function(){return a}),d.d(M,"EventBase",function(){return c});var P=d("./src/localizablestring.ts"),C=d("./src/helpers.ts"),D=d("./src/jsonobject.ts"),A=d("./src/settings.ts"),R=d("./src/conditions.ts"),V=d("./src/surveyStrings.ts"),O=d("./src/console-warnings.ts"),l=function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var v in u)Object.prototype.hasOwnProperty.call(u,v)&&(o[v]=u[v])},r(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),y=function(r,t){for(var n=0,o=t.length,u=r.length;n<o;n++,u++)r[u]=t[n];return r},p=function(){function r(t){this.obj=t,this.properties=null,this.values=null}return r.prototype.getType=function(){return"bindings"},r.prototype.getNames=function(){var t=[];this.fillProperties();for(var n=0;n<this.properties.length;n++)this.properties[n].isVisible("",this.obj)&&t.push(this.properties[n].name);return t},r.prototype.getProperties=function(){var t=[];this.fillProperties();for(var n=0;n<this.properties.length;n++)t.push(this.properties[n]);return t},r.prototype.setBinding=function(t,n){this.values||(this.values={});var o=this.getJson();o!==n&&(n?this.values[t]=n:(delete this.values[t],Object.keys(this.values).length==0&&(this.values=null)),this.onChangedJSON(o))},r.prototype.clearBinding=function(t){this.setBinding(t,"")},r.prototype.isEmpty=function(){if(!this.values)return!0;for(var t in this.values)return!1;return!0},r.prototype.getValueNameByPropertyName=function(t){if(this.values)return this.values[t]},r.prototype.getPropertiesByValueName=function(t){if(!this.values)return[];var n=[];for(var o in this.values)this.values[o]==t&&n.push(o);return n},r.prototype.getJson=function(){if(!this.isEmpty()){var t={};for(var n in this.values)t[n]=this.values[n];return t}},r.prototype.setJson=function(t){var n=this.getJson();if(this.values=null,t){this.values={};for(var o in t)this.values[o]=t[o]}this.onChangedJSON(n)},r.prototype.fillProperties=function(){if(this.properties===null){this.properties=[];for(var t=D.Serializer.getPropertiesByObj(this.obj),n=0;n<t.length;n++)t[n].isBindable&&this.properties.push(t[n])}},r.prototype.onChangedJSON=function(t){this.obj&&this.obj.onBindingChanged(t,this.getJson())},r}(),f=function(){function r(t,n,o){this.currentDependency=t,this.target=n,this.property=o,this.dependencies=[],this.id=""+ ++r.DependenciesCount}return r.prototype.addDependency=function(t,n){this.target===t&&this.property===n||this.dependencies.some(function(o){return o.obj===t&&o.prop===n})||(this.dependencies.push({obj:t,prop:n,id:this.id}),t.registerPropertyChangedHandlers([n],this.currentDependency,this.id))},r.prototype.dispose=function(){this.dependencies.forEach(function(t){t.obj.unregisterPropertyChangedHandlers([t.prop],t.id)})},r.DependenciesCount=0,r}(),e=function(){function r(t){this._updater=t,this.dependencies=void 0,this.type=r.ComputedUpdaterType}return Object.defineProperty(r.prototype,"updater",{get:function(){return this._updater},enumerable:!1,configurable:!0}),r.prototype.setDependencies=function(t){this.clearDependencies(),this.dependencies=t},r.prototype.getDependencies=function(){return this.dependencies},r.prototype.clearDependencies=function(){this.dependencies&&(this.dependencies.dispose(),this.dependencies=void 0)},r.prototype.dispose=function(){this.clearDependencies()},r.ComputedUpdaterType="__dependency_computed",r}(),m=function(){function r(){this.dependencies={},this.propertyHash=r.createPropertiesHash(),this.eventList=[],this.isLoadingFromJsonValue=!1,this.loadingOwner=null,this.onPropertyChanged=this.addEvent(),this.onItemValuePropertyChanged=this.addEvent(),this.isCreating=!0,this.bindingsValue=new p(this),D.CustomPropertiesCollection.createProperties(this),this.onBaseCreating(),this.isCreating=!1}return r.finishCollectDependencies=function(){var t=r.currentDependencis;return r.currentDependencis=void 0,t},r.startCollectDependencies=function(t,n,o){if(r.currentDependencis!==void 0)throw new Error("Attempt to collect nested dependencies. Nested dependencies are not supported.");r.currentDependencis=new f(t,n,o)},r.collectDependency=function(t,n){r.currentDependencis!==void 0&&r.currentDependencis.addDependency(t,n)},Object.defineProperty(r,"commentSuffix",{get:function(){return A.settings.commentSuffix},set:function(t){A.settings.commentSuffix=t},enumerable:!1,configurable:!0}),Object.defineProperty(r,"commentPrefix",{get:function(){return r.commentSuffix},set:function(t){r.commentSuffix=t},enumerable:!1,configurable:!0}),r.prototype.isValueEmpty=function(t,n){return n===void 0&&(n=!0),n&&(t=this.trimValue(t)),C.Helpers.isValueEmpty(t)},r.prototype.equals=function(t){return!t||this.isDisposed||t.isDisposed||this.getType()!=t.getType()?!1:this.equalsCore(t)},r.prototype.equalsCore=function(t){return this.name!==t.name?!1:C.Helpers.isTwoValueEquals(this.toJSON(),t.toJSON(),!1,!0,!1)},r.prototype.trimValue=function(t){return t&&(typeof t=="string"||t instanceof String)?t.trim():t},r.prototype.isPropertyEmpty=function(t){return t!==""&&this.isValueEmpty(t)},r.createPropertiesHash=function(){return{}},r.prototype.dispose=function(){for(var t=this,n=0;n<this.eventList.length;n++)this.eventList[n].clear();this.onPropertyValueChangedCallback=void 0,this.isDisposedValue=!0,Object.keys(this.dependencies).forEach(function(o){return t.dependencies[o].dispose()})},Object.defineProperty(r.prototype,"isDisposed",{get:function(){return this.isDisposedValue===!0},enumerable:!1,configurable:!0}),r.prototype.addEvent=function(){var t=new c;return this.eventList.push(t),t},r.prototype.onBaseCreating=function(){},r.prototype.getType=function(){return"base"},r.prototype.isDescendantOf=function(t){return D.Serializer.isDescendantOf(this.getType(),t)},r.prototype.getSurvey=function(t){return t===void 0&&(t=!1),null},Object.defineProperty(r.prototype,"isDesignMode",{get:function(){var t=this.getSurvey();return!!t&&t.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isDesignModeV2",{get:function(){return A.settings.supportCreatorV2&&this.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"inSurvey",{get:function(){return!!this.getSurvey(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bindings",{get:function(){return this.bindingsValue},enumerable:!1,configurable:!0}),r.prototype.checkBindings=function(t,n){},r.prototype.updateBindings=function(t,n){var o=this.bindings.getValueNameByPropertyName(t);o&&this.updateBindingValue(o,n)},r.prototype.updateBindingValue=function(t,n){},r.prototype.getTemplate=function(){return this.getType()},Object.defineProperty(r.prototype,"isLoadingFromJson",{get:function(){return this.isLoadingFromJsonValue||this.getIsLoadingFromJson()},enumerable:!1,configurable:!0}),r.prototype.getIsLoadingFromJson=function(){return this.loadingOwner&&this.loadingOwner.isLoadingFromJson?!0:this.isLoadingFromJsonValue},r.prototype.startLoadingFromJson=function(t){this.isLoadingFromJsonValue=!0,this.jsonObj=t},r.prototype.endLoadingFromJson=function(){this.isLoadingFromJsonValue=!1},r.prototype.toJSON=function(t){return new D.JsonObject().toJsonObject(this,t)},r.prototype.fromJSON=function(t,n){new D.JsonObject().toObject(t,this,n),this.onSurveyLoad()},r.prototype.onSurveyLoad=function(){},r.prototype.clone=function(){var t=D.Serializer.createClass(this.getType());return t.fromJSON(this.toJSON()),t},r.prototype.getPropertyByName=function(t){var n=this.getType();return(!this.classMetaData||this.classMetaData.name!==n)&&(this.classMetaData=D.Serializer.findClass(n)),this.classMetaData?this.classMetaData.findProperty(t):null},r.prototype.isPropertyVisible=function(t){var n=this.getPropertyByName(t);return n?n.isVisible("",this):!1},r.createProgressInfo=function(){return{questionCount:0,answeredQuestionCount:0,requiredQuestionCount:0,requiredAnsweredQuestionCount:0}},r.prototype.getProgressInfo=function(){return r.createProgressInfo()},r.prototype.localeChanged=function(){},r.prototype.locStrsChanged=function(){if(this.arraysInfo)for(var t in this.arraysInfo){var n=this.arraysInfo[t];if(n&&n.isItemValues){var o=this.getPropertyValue(t);o&&r.itemValueLocStrChanged&&r.itemValueLocStrChanged(o)}}if(this.localizableStrings)for(var t in this.localizableStrings){var n=this.getLocalizableString(t);n&&n.strChanged()}},r.prototype.getPropertyValue=function(t,n){n===void 0&&(n=null);var o=this.getPropertyValueWithoutDefault(t);if(this.isPropertyEmpty(o)){var u=this.localizableStrings?this.localizableStrings[t]:void 0;if(u)return u.text;if(n!=null)return n;var v=this.getDefaultPropertyValue(t);if(v!==void 0)return v}return o},r.prototype.getDefaultPropertyValue=function(t){var n=this.getPropertyByName(t);if(!(!n||n.isCustom&&this.isCreating)){var o=n.defaultValue;if(!this.isPropertyEmpty(o)&&!Array.isArray(o))return o;var u=this.localizableStrings?this.localizableStrings[t]:void 0;if(u&&u.localizationName)return this.getLocalizationString(u.localizationName);if(n.type=="boolean"||n.type=="switch")return!1;if(n.isCustom&&n.onGetValue)return n.onGetValue(this)}},r.prototype.hasDefaultPropertyValue=function(t){return this.getDefaultPropertyValue(t)!==void 0},r.prototype.resetPropertyValue=function(t){var n=this.localizableStrings?this.localizableStrings[t]:void 0;n?(this.setLocalizableStringText(t,void 0),n.clear()):this.setPropertyValue(t,void 0)},r.prototype.getPropertyValueWithoutDefault=function(t){return this.getPropertyValueCore(this.propertyHash,t)},r.prototype.getPropertyValueCore=function(t,n){return this.isLoadingFromJson||r.collectDependency(this,n),this.getPropertyValueCoreHandler?this.getPropertyValueCoreHandler(t,n):t[n]},r.prototype.geValueFromHash=function(){return this.propertyHash.value},r.prototype.setPropertyValueCore=function(t,n,o){this.setPropertyValueCoreHandler?this.isDisposedValue?O.ConsoleWarnings.disposedObjectChangedProperty(n,this.getType()):this.setPropertyValueCoreHandler(t,n,o):t[n]=o},Object.defineProperty(r.prototype,"isEditingSurveyElement",{get:function(){var t=this.getSurvey();return!!t&&t.isEditingSurveyElement},enumerable:!1,configurable:!0}),r.prototype.iteratePropertiesHash=function(t){var n=this,o=[];for(var u in this.propertyHash)u==="value"&&this.isEditingSurveyElement&&Array.isArray(this.value)||o.push(u);o.forEach(function(v){return t(n.propertyHash,v)})},r.prototype.setPropertyValue=function(t,n){if(!this.isLoadingFromJson){var o=this.getPropertyByName(t);o&&(n=o.settingValue(this,n))}var u=this.getPropertyValue(t);u&&Array.isArray(u)&&this.arraysInfo&&(!n||Array.isArray(n))?this.isTwoValueEquals(u,n)||this.setArrayPropertyDirectly(t,n):(this.setPropertyValueDirectly(t,n),!this.isDisposedValue&&!this.isTwoValueEquals(u,n)&&this.propertyValueChanged(t,u,n))},r.prototype.setArrayPropertyDirectly=function(t,n,o){o===void 0&&(o=!0);var u=this.arraysInfo[t];this.setArray(t,this.getPropertyValue(t),n,u?u.isItemValues:!1,u?o&&u.onPush:null)},r.prototype.setPropertyValueDirectly=function(t,n){this.setPropertyValueCore(this.propertyHash,t,n)},r.prototype.clearPropertyValue=function(t){this.setPropertyValueCore(this.propertyHash,t,null),delete this.propertyHash[t]},r.prototype.onPropertyValueChangedCallback=function(t,n,o,u,v){},r.prototype.itemValuePropertyChanged=function(t,n,o,u){this.onItemValuePropertyChanged.fire(this,{obj:t,name:n,oldValue:o,newValue:u,propertyName:t.ownerPropertyName})},r.prototype.onPropertyValueChanged=function(t,n,o){},r.prototype.propertyValueChanged=function(t,n,o,u,v){if(!this.isLoadingFromJson&&(this.updateBindings(t,o),this.onPropertyValueChanged(t,n,o),this.onPropertyChanged.fire(this,{name:t,oldValue:n,newValue:o}),this.doPropertyValueChangedCallback(t,n,o,u,this),this.checkConditionPropertyChanged(t),!!this.onPropChangeFunctions))for(var x=0;x<this.onPropChangeFunctions.length;x++)this.onPropChangeFunctions[x].name==t&&this.onPropChangeFunctions[x].func(o)},r.prototype.onBindingChanged=function(t,n){this.isLoadingFromJson||this.doPropertyValueChangedCallback("bindings",t,n)},Object.defineProperty(r.prototype,"isInternal",{get:function(){return!1},enumerable:!1,configurable:!0}),r.prototype.doPropertyValueChangedCallback=function(t,n,o,u,v){if(!this.isInternal){v||(v=this);var x=this.getSurvey();x||(x=this),x.onPropertyValueChangedCallback&&x.onPropertyValueChangedCallback(t,n,o,v,u),x!==this&&this.onPropertyValueChangedCallback&&this.onPropertyValueChangedCallback(t,n,o,v,u)}},r.prototype.addExpressionProperty=function(t,n,o){this.expressionInfo||(this.expressionInfo={}),this.expressionInfo[t]={onExecute:n,canRun:o}},r.prototype.getDataFilteredValues=function(){return{}},r.prototype.getDataFilteredProperties=function(){return{}},r.prototype.runConditionCore=function(t,n){if(this.expressionInfo)for(var o in this.expressionInfo)this.runConditionItemCore(o,t,n)},r.prototype.canRunConditions=function(){return!this.isDesignMode},r.prototype.checkConditionPropertyChanged=function(t){!this.expressionInfo||!this.expressionInfo[t]||this.canRunConditions()&&this.runConditionItemCore(t,this.getDataFilteredValues(),this.getDataFilteredProperties())},r.prototype.runConditionItemCore=function(t,n,o){var u=this,v=this.expressionInfo[t],x=this.getPropertyValue(t);x&&(v.canRun&&!v.canRun(this)||(v.runner||(v.runner=this.createExpressionRunner(x),v.runner.onRunComplete=function(b){v.onExecute(u,b)}),v.runner.expression=x,v.runner.run(n,o)))},r.prototype.doBeforeAsynRun=function(t){this.asynExpressionHash||(this.asynExpressionHash=[]);var n=!this.isAsyncExpressionRunning;this.asynExpressionHash[t]=!0,n&&this.onAsyncRunningChanged()},r.prototype.doAfterAsynRun=function(t){this.asynExpressionHash&&(delete this.asynExpressionHash[t],this.isAsyncExpressionRunning||this.onAsyncRunningChanged())},r.prototype.onAsyncRunningChanged=function(){},Object.defineProperty(r.prototype,"isAsyncExpressionRunning",{get:function(){return!!this.asynExpressionHash&&Object.keys(this.asynExpressionHash).length>0},enumerable:!1,configurable:!0}),r.prototype.createExpressionRunner=function(t){var n=this,o=new R.ExpressionRunner(t);return o.onBeforeAsyncRun=function(u){n.doBeforeAsynRun(u)},o.onAfterAsyncRun=function(u){n.doAfterAsynRun(u)},o},r.prototype.registerPropertyChangedHandlers=function(t,n,o){o===void 0&&(o=null);for(var u=0;u<t.length;u++)this.registerFunctionOnPropertyValueChanged(t[u],n,o)},r.prototype.unregisterPropertyChangedHandlers=function(t,n){n===void 0&&(n=null);for(var o=0;o<t.length;o++)this.unRegisterFunctionOnPropertyValueChanged(t[o],n)},r.prototype.registerFunctionOnPropertyValueChanged=function(t,n,o){if(o===void 0&&(o=null),this.onPropChangeFunctions||(this.onPropChangeFunctions=[]),o)for(var u=0;u<this.onPropChangeFunctions.length;u++){var v=this.onPropChangeFunctions[u];if(v.name==t&&v.key==o){v.func=n;return}}this.onPropChangeFunctions.push({name:t,func:n,key:o})},r.prototype.registerFunctionOnPropertiesValueChanged=function(t,n,o){o===void 0&&(o=null),this.registerPropertyChangedHandlers(t,n,o)},r.prototype.unRegisterFunctionOnPropertyValueChanged=function(t,n){if(n===void 0&&(n=null),!!this.onPropChangeFunctions)for(var o=0;o<this.onPropChangeFunctions.length;o++){var u=this.onPropChangeFunctions[o];if(u.name==t&&u.key==n){this.onPropChangeFunctions.splice(o,1);return}}},r.prototype.unRegisterFunctionOnPropertiesValueChanged=function(t,n){n===void 0&&(n=null),this.unregisterPropertyChangedHandlers(t,n)},r.prototype.createCustomLocalizableObj=function(t){var n=this.getLocalizableString(t);return n||this.createLocalizableString(t,this,!1,!0)},r.prototype.getLocale=function(){var t=this.getSurvey();return t?t.getLocale():""},r.prototype.getLocalizationString=function(t){return V.surveyLocalization.getString(t,this.getLocale())},r.prototype.getLocalizationFormatString=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var u=this.getLocalizationString(t);return!u||!u.format?"":u.format.apply(u,n)},r.prototype.createLocalizableString=function(t,n,o,u){var v=this;o===void 0&&(o=!1),u===void 0&&(u=!1);var x=new P.LocalizableString(n,o,t);u&&(x.localizationName=u===!0?t:u),x.onStrChanged=function(i,h){v.propertyValueChanged(t,i,h)},this.localizableStrings||(this.localizableStrings={}),this.localizableStrings[t]=x;var b=this.getPropertyByName(t);return x.disableLocalization=b&&b.isLocalizable===!1,x},r.prototype.getLocalizableString=function(t){return this.localizableStrings?this.localizableStrings[t]:null},r.prototype.getLocalizableStringText=function(t,n){n===void 0&&(n=""),r.collectDependency(this,t);var o=this.getLocalizableString(t);if(!o)return"";var u=o.text;return u||n},r.prototype.setLocalizableStringText=function(t,n){var o=this.getLocalizableString(t);if(o){var u=o.text;u!=n&&(o.text=n)}},r.prototype.addUsedLocales=function(t){if(this.localizableStrings)for(var n in this.localizableStrings){var o=this.getLocalizableString(n);o&&this.AddLocStringToUsedLocales(o,t)}if(this.arraysInfo)for(var n in this.arraysInfo){var u=this.getPropertyValue(n);if(!(!u||!u.length))for(var v=0;v<u.length;v++){var o=u[v];o&&o.addUsedLocales&&o.addUsedLocales(t)}}},r.prototype.searchText=function(t,n){var o=[];this.getSearchableLocalizedStrings(o);for(var u=0;u<o.length;u++)o[u].setFindText(t)&&n.push({element:this,str:o[u]})},r.prototype.getSearchableLocalizedStrings=function(t){if(this.localizableStrings){var n=[];this.getSearchableLocKeys(n);for(var o=0;o<n.length;o++){var u=this.getLocalizableString(n[o]);u&&t.push(u)}}if(this.arraysInfo){var v=[];this.getSearchableItemValueKeys(v);for(var o=0;o<v.length;o++){var x=this.getPropertyValue(v[o]);if(x)for(var b=0;b<x.length;b++)t.push(x[b].locText)}}},r.prototype.getSearchableLocKeys=function(t){},r.prototype.getSearchableItemValueKeys=function(t){},r.prototype.AddLocStringToUsedLocales=function(t,n){for(var o=t.getLocales(),u=0;u<o.length;u++)n.indexOf(o[u])<0&&n.push(o[u])},r.prototype.createItemValues=function(t){var n=this,o=this.createNewArray(t,function(u){if(u.locOwner=n,u.ownerPropertyName=t,typeof u.getSurvey=="function"){var v=u.getSurvey();v&&typeof v.makeReactive=="function"&&v.makeReactive(u)}});return this.arraysInfo[t].isItemValues=!0,o},r.prototype.notifyArrayChanged=function(t,n){t.onArrayChanged&&t.onArrayChanged(n)},r.prototype.createNewArrayCore=function(t){var n=null;return this.createArrayCoreHandler&&(n=this.createArrayCoreHandler(this.propertyHash,t)),n||(n=new Array,this.setPropertyValueCore(this.propertyHash,t,n)),n},r.prototype.ensureArray=function(t,n,o){if(n===void 0&&(n=null),o===void 0&&(o=null),!(this.arraysInfo&&this.arraysInfo[t]))return this.createNewArray(t,n,o)},r.prototype.createNewArray=function(t,n,o){n===void 0&&(n=null),o===void 0&&(o=null);var u=this.createNewArrayCore(t);this.arraysInfo||(this.arraysInfo={}),this.arraysInfo[t]={onPush:n,isItemValues:!1};var v=this;return u.push=function(x){var b=Object.getPrototypeOf(u).push.call(u,x);if(!v.isDisposedValue){n&&n(x,u.length-1);var i=new s(u.length-1,0,[x],[]);v.propertyValueChanged(t,u,u,i),v.notifyArrayChanged(u,i)}return b},u.shift=function(){var x=Object.getPrototypeOf(u).shift.call(u);if(!v.isDisposedValue&&x){o&&o(x);var b=new s(u.length-1,1,[],[]);v.propertyValueChanged(t,u,u,b),v.notifyArrayChanged(u,b)}return x},u.unshift=function(x){var b=Object.getPrototypeOf(u).unshift.call(u,x);if(!v.isDisposedValue){n&&n(x,u.length-1);var i=new s(0,0,[x],[]);v.propertyValueChanged(t,u,u,i),v.notifyArrayChanged(u,i)}return b},u.pop=function(){var x=Object.getPrototypeOf(u).pop.call(u);if(!v.isDisposedValue){o&&o(x);var b=new s(u.length-1,1,[],[]);v.propertyValueChanged(t,u,u,b),v.notifyArrayChanged(u,b)}return x},u.splice=function(x,b){for(var i,h=[],E=2;E<arguments.length;E++)h[E-2]=arguments[E];x||(x=0),b||(b=0);var S=(i=Object.getPrototypeOf(u).splice).call.apply(i,y([u,x,b],h));if(h||(h=[]),!v.isDisposedValue){if(o&&S)for(var L=0;L<S.length;L++)o(S[L]);if(n)for(var L=0;L<h.length;L++)n(h[L],x+L);var j=new s(x,b,h,S);v.propertyValueChanged(t,u,u,j),v.notifyArrayChanged(u,j)}return S},u},r.prototype.getItemValueType=function(){},r.prototype.setArray=function(t,n,o,u,v){var x=[].concat(n);if(Object.getPrototypeOf(n).splice.call(n,0,n.length),o)for(var b=0;b<o.length;b++){var i=o[b];u&&r.createItemValue&&(i=r.createItemValue(i,this.getItemValueType())),Object.getPrototypeOf(n).push.call(n,i),v&&v(n[b])}var h=new s(0,x.length,n,x);this.propertyValueChanged(t,x,n,h),this.notifyArrayChanged(n,h)},r.prototype.isTwoValueEquals=function(t,n,o,u){return o===void 0&&(o=!1),u===void 0&&(u=!1),C.Helpers.isTwoValueEquals(t,n,!1,!o,u)},r.copyObject=function(t,n){for(var o in n){var u=n[o];typeof u=="object"&&(u={},this.copyObject(u,n[o])),t[o]=u}},r.prototype.copyCssClasses=function(t,n){n&&(typeof n=="string"||n instanceof String?t.root=n:r.copyObject(t,n))},r.prototype.getValueInLowCase=function(t){return t&&typeof t=="string"?t.toLowerCase():t},r.prototype.getElementsInDesign=function(t){return t===void 0&&(t=!1),[]},r.currentDependencis=void 0,r}(),s=function(){function r(t,n,o,u){this.index=t,this.deleteCount=n,this.itemsToAdd=o,this.deletedItems=u}return r}(),a=function(){function r(){}return Object.defineProperty(r.prototype,"isEmpty",{get:function(){return this.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"length",{get:function(){return this.callbacks?this.callbacks.length:0},enumerable:!1,configurable:!0}),r.prototype.fireByCreatingOptions=function(t,n){if(this.callbacks){for(var o=0;o<this.callbacks.length;o++)if(this.callbacks[o](t,n()),!this.callbacks)return}},r.prototype.fire=function(t,n){if(this.callbacks){for(var o=0;o<this.callbacks.length;o++)if(this.callbacks[o](t,n),!this.callbacks)return}},r.prototype.clear=function(){this.callbacks=void 0},r.prototype.add=function(t){this.hasFunc(t)||(this.callbacks||(this.callbacks=new Array),this.callbacks.push(t),this.fireCallbackChanged())},r.prototype.remove=function(t){if(this.hasFunc(t)){var n=this.callbacks.indexOf(t,0);this.callbacks.splice(n,1),this.fireCallbackChanged()}},r.prototype.hasFunc=function(t){return this.callbacks==null?!1:this.callbacks.indexOf(t,0)>-1},r.prototype.fireCallbackChanged=function(){this.onCallbacksChanged&&this.onCallbacksChanged()},r}(),c=function(r){l(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t}(a)},"./src/calculatedValue.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"CalculatedValue",function(){return V});var P=d("./src/helpers.ts"),C=d("./src/base.ts"),D=d("./src/conditions.ts"),A=d("./src/jsonobject.ts"),R=function(){var O=function(l,y){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var e in f)Object.prototype.hasOwnProperty.call(f,e)&&(p[e]=f[e])},O(l,y)};return function(l,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");O(l,y);function p(){this.constructor=l}l.prototype=y===null?Object.create(y):(p.prototype=y.prototype,new p)}}(),V=function(O){R(l,O);function l(y,p){y===void 0&&(y=null),p===void 0&&(p=null);var f=O.call(this)||this;return f.expressionIsRunning=!1,f.isCalculated=!1,y&&(f.name=y),p&&(f.expression=p),f}return l.prototype.setOwner=function(y){this.data=y,this.rerunExpression()},l.prototype.getType=function(){return"calculatedvalue"},l.prototype.getSurvey=function(y){return y===void 0&&(y=!1),this.data&&this.data.getSurvey?this.data.getSurvey():null},Object.defineProperty(l.prototype,"owner",{get:function(){return this.data},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"name",{get:function(){return this.getPropertyValue("name")||""},set:function(y){this.setPropertyValue("name",y)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"includeIntoResult",{get:function(){return this.getPropertyValue("includeIntoResult")},set:function(y){this.setPropertyValue("includeIntoResult",y)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"expression",{get:function(){return this.getPropertyValue("expression")||""},set:function(y){this.setPropertyValue("expression",y),this.rerunExpression()},enumerable:!1,configurable:!0}),l.prototype.locCalculation=function(){this.expressionIsRunning=!0},l.prototype.unlocCalculation=function(){this.expressionIsRunning=!1},l.prototype.resetCalculation=function(){this.isCalculated=!1},l.prototype.doCalculation=function(y,p,f){this.isCalculated||(this.runExpressionCore(y,p,f),this.isCalculated=!0)},l.prototype.runExpression=function(y,p){this.runExpressionCore(null,y,p)},Object.defineProperty(l.prototype,"value",{get:function(){if(this.data)return this.data.getVariable(this.name)},enumerable:!1,configurable:!0}),l.prototype.setValue=function(y){this.data&&this.data.setVariable(this.name,y)},Object.defineProperty(l.prototype,"canRunExpression",{get:function(){return!!this.data&&!this.isLoadingFromJson&&!!this.expression&&!this.expressionIsRunning&&!!this.name},enumerable:!1,configurable:!0}),l.prototype.rerunExpression=function(){this.canRunExpression&&this.runExpression(this.data.getFilteredValues(),this.data.getFilteredProperties())},l.prototype.runExpressionCore=function(y,p,f){this.canRunExpression&&(this.ensureExpression(p),this.locCalculation(),y&&this.runDependentExpressions(y,p,f),this.expressionRunner.run(p,f))},l.prototype.runDependentExpressions=function(y,p,f){var e=this.expressionRunner.getVariables();if(e)for(var m=0;m<y.length;m++){var s=y[m];s===this||e.indexOf(s.name)<0||(s.doCalculation(y,p,f),p[s.name]=s.value)}},l.prototype.ensureExpression=function(y){var p=this;this.expressionRunner||(this.expressionRunner=new D.ExpressionRunner(this.expression),this.expressionRunner.onRunComplete=function(f){P.Helpers.isTwoValueEquals(f,p.value,!1,!0,!1)||p.setValue(f),p.unlocCalculation()})},l}(C.Base);A.Serializer.addClass("calculatedvalue",[{name:"!name",isUnique:!0},"expression:expression","includeIntoResult:boolean"],function(){return new V},"base")},"./src/choicesRestful.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"ChoicesRestful",function(){return l}),d.d(M,"ChoicesRestfull",function(){return y});var P=d("./src/base.ts"),C=d("./src/itemvalue.ts"),D=d("./src/jsonobject.ts"),A=d("./src/error.ts"),R=d("./src/settings.ts"),V=function(){var p=function(f,e){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,s){m.__proto__=s}||function(m,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(m[a]=s[a])},p(f,e)};return function(f,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");p(f,e);function m(){this.constructor=f}f.prototype=e===null?Object.create(e):(m.prototype=e.prototype,new m)}}(),O=function(){function p(){this.parser=new DOMParser}return p.prototype.assignValue=function(f,e,m){Array.isArray(f[e])?f[e].push(m):f[e]!==void 0?f[e]=[f[e]].concat(m):typeof m=="object"&&Object.keys(m).length===1&&Object.keys(m)[0]===e?f[e]=m[e]:f[e]=m},p.prototype.xml2Json=function(f,e){if(f.children&&f.children.length>0)for(var m=0;m<f.children.length;m++){var s=f.children[m],a={};this.xml2Json(s,a),this.assignValue(e,s.nodeName,a)}else this.assignValue(e,f.nodeName,f.textContent)},p.prototype.parseXmlString=function(f){var e=this.parser.parseFromString(f,"text/xml"),m={};return this.xml2Json(e,m),m},p}(),l=function(p){V(f,p);function f(){var e=p.call(this)||this;return e.lastObjHash="",e.isRunningValue=!1,e.processedUrl="",e.processedPath="",e.isUsingCacheFromUrl=void 0,e.error=null,e.createItemValue=function(m){return new C.ItemValue(m)},e.registerPropertyChangedHandlers(["url"],function(){e.owner&&e.owner.setPropertyValue("isUsingRestful",!!e.url)}),e}return Object.defineProperty(f,"EncodeParameters",{get:function(){return R.settings.web.encodeUrlParams},set:function(e){R.settings.web.encodeUrlParams=e},enumerable:!1,configurable:!0}),f.clearCache=function(){f.itemsResult={},f.sendingSameRequests={}},f.addSameRequest=function(e){if(!e.isUsingCache)return!1;var m=e.objHash,s=f.sendingSameRequests[m];return s?(s.push(e),e.isRunningValue=!0,!0):(f.sendingSameRequests[e.objHash]=[],!1)},f.unregisterSameRequests=function(e,m){if(e.isUsingCache){var s=f.sendingSameRequests[e.objHash];if(delete f.sendingSameRequests[e.objHash],!!s)for(var a=0;a<s.length;a++)s[a].isRunningValue=!1,s[a].getResultCallback&&s[a].getResultCallback(m)}},Object.defineProperty(f,"onBeforeSendRequest",{get:function(){return R.settings.web.onBeforeRequestChoices},set:function(e){R.settings.web.onBeforeRequestChoices=e},enumerable:!1,configurable:!0}),f.getCachedItemsResult=function(e){var m=e.objHash,s=f.itemsResult[m];return s?(e.getResultCallback&&e.getResultCallback(s),!0):!1},f.prototype.getSurvey=function(e){return e===void 0&&(e=!1),this.owner?this.owner.survey:null},f.prototype.run=function(e){if(e===void 0&&(e=null),!(!this.url||!this.getResultCallback)){if(this.processedText(e),!this.processedUrl){this.doEmptyResultCallback({}),this.lastObjHash=this.objHash;return}this.lastObjHash!==this.objHash&&(this.lastObjHash=this.objHash,this.error=null,!this.useChangedItemsResults()&&(f.addSameRequest(this)||this.sendRequest()))}},Object.defineProperty(f.prototype,"isUsingCache",{get:function(){return this.isUsingCacheFromUrl===!0?!0:this.isUsingCacheFromUrl===!1?!1:R.settings.web.cacheLoadedChoices},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isRunning",{get:function(){return this.getIsRunning()},enumerable:!1,configurable:!0}),f.prototype.getIsRunning=function(){return this.isRunningValue},Object.defineProperty(f.prototype,"isWaitingForParameters",{get:function(){return this.url&&!this.processedUrl},enumerable:!1,configurable:!0}),f.prototype.useChangedItemsResults=function(){return f.getCachedItemsResult(this)},f.prototype.doEmptyResultCallback=function(e){var m=[];this.updateResultCallback&&(m=this.updateResultCallback(m,e)),this.getResultCallback(m)},f.prototype.processedText=function(e){var m=this.url;if(m&&(m=m.replace(f.cacheText,"").replace(f.noCacheText,"")),e){var s=e.processTextEx(m,!1,R.settings.web.encodeUrlParams),a=e.processTextEx(this.path,!1,R.settings.web.encodeUrlParams);!s.hasAllValuesOnLastRun||!a.hasAllValuesOnLastRun?(this.processedUrl="",this.processedPath=""):(this.processedUrl=s.text,this.processedPath=a.text)}else this.processedUrl=m,this.processedPath=this.path;this.onProcessedUrlCallback&&this.onProcessedUrlCallback(this.processedUrl,this.processedPath)},f.prototype.parseResponse=function(e){var m;if(e&&typeof e.indexOf=="function"&&e.indexOf("<")===0){var s=new O;m=s.parseXmlString(e)}else try{m=JSON.parse(e)}catch{m=(e||"").split(`
`).map(function(c){return c.trim(" ")}).filter(function(c){return!!c})}return m},f.prototype.sendRequest=function(){var e=new XMLHttpRequest;e.open("GET",this.processedUrl),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var m=this,s=this.objHash;e.onload=function(){m.beforeLoadRequest(),e.status===200?m.onLoad(m.parseResponse(e.response),s):m.onError(e.statusText,e.responseText)};var a={request:e};R.settings.web.onBeforeRequestChoices&&R.settings.web.onBeforeRequestChoices(this,a),this.beforeSendRequest(),a.request.send()},f.prototype.getType=function(){return"choicesByUrl"},Object.defineProperty(f.prototype,"isEmpty",{get:function(){return!this.url&&!this.path},enumerable:!1,configurable:!0}),f.prototype.getCustomPropertiesNames=function(){for(var e=this.getCustomProperties(),m=new Array,s=0;s<e.length;s++)m.push(this.getCustomPropertyName(e[s].name));return m},f.prototype.getCustomPropertyName=function(e){return e+"Name"},f.prototype.getCustomProperties=function(){for(var e=D.Serializer.getProperties(this.itemValueType),m=[],s=0;s<e.length;s++)e[s].name==="value"||e[s].name==="text"||e[s].name==="visibleIf"||e[s].name==="enableIf"||m.push(e[s]);return m},f.prototype.setData=function(e){this.clear(),e.url&&(this.url=e.url),e.path&&(this.path=e.path),e.valueName&&(this.valueName=e.valueName),e.titleName&&(this.titleName=e.titleName),e.imageLinkName&&(this.imageLinkName=e.imageLinkName),e.allowEmptyResponse!==void 0&&(this.allowEmptyResponse=e.allowEmptyResponse),e.attachOriginalItems!==void 0&&(this.attachOriginalItems=e.attachOriginalItems);for(var m=this.getCustomPropertiesNames(),s=0;s<m.length;s++)e[m[s]]&&(this[m[s]]=e[m[s]])},f.prototype.getData=function(){if(this.isEmpty)return null;var e={};this.url&&(e.url=this.url),this.path&&(e.path=this.path),this.valueName&&(e.valueName=this.valueName),this.titleName&&(e.titleName=this.titleName),this.imageLinkName&&(e.imageLinkName=this.imageLinkName),this.allowEmptyResponse&&(e.allowEmptyResponse=this.allowEmptyResponse),this.attachOriginalItems&&(e.attachOriginalItems=this.attachOriginalItems);for(var m=this.getCustomPropertiesNames(),s=0;s<m.length;s++)this[m[s]]&&(e[m[s]]=this[m[s]]);return e},Object.defineProperty(f.prototype,"url",{get:function(){return this.getPropertyValue("url")||""},set:function(e){this.setPropertyValue("url",e),this.isUsingCacheFromUrl=void 0,e&&(e.indexOf(f.cacheText)>-1?this.isUsingCacheFromUrl=!0:e.indexOf(f.noCacheText)>-1&&(this.isUsingCacheFromUrl=!1))},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"path",{get:function(){return this.getPropertyValue("path")||""},set:function(e){this.setPropertyValue("path",e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"valueName",{get:function(){return this.getPropertyValue("valueName","")},set:function(e){this.setPropertyValue("valueName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"titleName",{get:function(){return this.getPropertyValue("titleName","")},set:function(e){this.setPropertyValue("titleName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"imageLinkName",{get:function(){return this.getPropertyValue("imageLinkName","")},set:function(e){this.setPropertyValue("imageLinkName",e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"allowEmptyResponse",{get:function(){return this.getPropertyValue("allowEmptyResponse")},set:function(e){this.setPropertyValue("allowEmptyResponse",e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"attachOriginalItems",{get:function(){return this.getPropertyValue("attachOriginalItems")},set:function(e){this.setPropertyValue("attachOriginalItems",e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"itemValueType",{get:function(){if(!this.owner)return"itemvalue";var e=D.Serializer.findProperty(this.owner.getType(),"choices");return!e||e.type=="itemvalue[]"?"itemvalue":e.type},enumerable:!1,configurable:!0}),f.prototype.clear=function(){this.url=void 0,this.path=void 0,this.valueName=void 0,this.titleName=void 0,this.imageLinkName=void 0;for(var e=this.getCustomPropertiesNames(),m=0;m<e.length;m++)this[e[m]]&&(this[e[m]]="")},f.prototype.beforeSendRequest=function(){this.isRunningValue=!0,this.beforeSendRequestCallback&&this.beforeSendRequestCallback()},f.prototype.beforeLoadRequest=function(){this.isRunningValue=!1},f.prototype.onLoad=function(e,m){m===void 0&&(m=null),m||(m=this.objHash);var s=new Array,a=this.getResultAfterPath(e);if(a&&a.length)for(var c=0;c<a.length;c++){var r=a[c];if(r){var t=this.getItemValueCallback?this.getItemValueCallback(r):this.getValue(r),n=this.createItemValue(t);this.setTitle(n,r),this.setCustomProperties(n,r),this.attachOriginalItems&&(n.originalItem=r);var o=this.getImageLink(r);o&&(n.imageLink=o),s.push(n)}}else this.allowEmptyResponse||(this.error=new A.WebRequestEmptyError(null,this.owner));this.updateResultCallback&&(s=this.updateResultCallback(s,e)),this.isUsingCache&&(f.itemsResult[m]=s),this.callResultCallback(s,m),f.unregisterSameRequests(this,s)},f.prototype.callResultCallback=function(e,m){m==this.objHash&&this.getResultCallback(e)},f.prototype.setCustomProperties=function(e,m){for(var s=this.getCustomProperties(),a=0;a<s.length;a++){var c=s[a],r=this.getValueCore(m,this.getPropertyBinding(c.name));this.isValueEmpty(r)||(e[c.name]=r)}},f.prototype.getPropertyBinding=function(e){return this[this.getCustomPropertyName(e)]?this[this.getCustomPropertyName(e)]:this[e]?this[e]:e},f.prototype.onError=function(e,m){this.error=new A.WebRequestError(e,m,this.owner),this.doEmptyResultCallback(m),f.unregisterSameRequests(this,[])},f.prototype.getResultAfterPath=function(e){if(!e||!this.processedPath)return e;for(var m=this.getPathes(),s=0;s<m.length;s++)if(e=e[m[s]],!e)return null;return e},f.prototype.getPathes=function(){var e=[];return this.processedPath.indexOf(";")>-1?e=this.path.split(";"):e=this.processedPath.split(","),e.length==0&&e.push(this.processedPath),e},f.prototype.getValue=function(e){if(!e)return null;if(this.valueName)return this.getValueCore(e,this.valueName);if(!(e instanceof Object))return e;var m=Object.keys(e).length;return m<1?null:e[Object.keys(e)[0]]},f.prototype.setTitle=function(e,m){var s=this.titleName?this.titleName:"title",a=this.getValueCore(m,s);a&&(typeof a=="string"?e.text=a:e.locText.setJson(a))},f.prototype.getImageLink=function(e){var m=this.imageLinkName?this.imageLinkName:"imageLink";return this.getValueCore(e,m)},f.prototype.getValueCore=function(e,m){if(!e)return null;if(m.indexOf(".")<0)return e[m];for(var s=m.split("."),a=0;a<s.length;a++)if(e=e[s[a]],!e)return null;return e},Object.defineProperty(f.prototype,"objHash",{get:function(){return this.processedUrl+";"+this.processedPath+";"+this.valueName+";"+this.titleName+";"+this.imageLinkName},enumerable:!1,configurable:!0}),f.cacheText="{CACHE}",f.noCacheText="{NOCACHE}",f.itemsResult={},f.sendingSameRequests={},f}(P.Base),y=function(p){V(f,p);function f(){return p!==null&&p.apply(this,arguments)||this}return Object.defineProperty(f,"EncodeParameters",{get:function(){return l.EncodeParameters},set:function(e){l.EncodeParameters=e},enumerable:!1,configurable:!0}),f.clearCache=function(){l.clearCache()},Object.defineProperty(f,"onBeforeSendRequest",{get:function(){return R.settings.web.onBeforeRequestChoices},set:function(e){R.settings.web.onBeforeRequestChoices=e},enumerable:!1,configurable:!0}),f}(l);D.Serializer.addClass("choicesByUrl",["url","path","valueName","titleName",{name:"imageLinkName",visibleIf:function(p){return!!p&&!!p.owner&&p.owner.getType()=="imagepicker"}},{name:"allowEmptyResponse:boolean"},{name:"attachOriginalItems:boolean",visible:!1}],function(){return new l})},"./src/conditionProcessValue.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"ProcessValue",function(){return D});var P=d("./src/helpers.ts"),C="@survey",D=function(){function A(){this.values=null,this.properties=null}return A.prototype.getFirstName=function(R,V){if(V===void 0&&(V=null),!R)return R;var O="";if(V&&(O=this.getFirstPropertyName(R,V),O))return O;for(var l=0;l<R.length;l++){var y=R[l];if(y=="."||y=="[")break;O+=y}return O},A.prototype.hasValue=function(R,V){V===void 0&&(V=null),V||(V=this.values);var O=this.getValueCore(R,V);return O.hasValue},A.prototype.getValue=function(R,V){V===void 0&&(V=null),V||(V=this.values);var O=this.getValueCore(R,V);return O.value},A.prototype.setValue=function(R,V,O){if(V){var l=this.getNonNestedObject(R,V,!0);l&&(R=l.value,V=l.text,R&&V&&(R[V]=O))}},A.prototype.getValueInfo=function(R){if(R.path){R.value=this.getValueFromPath(R.path,this.values),R.hasValue=R.value!==null&&!P.Helpers.isValueEmpty(R.value),!R.hasValue&&R.path.length>1&&R.path[R.path.length-1]=="length"&&(R.hasValue=!0,R.value=0);return}var V=this.getValueCore(R.name,this.values);R.value=V.value,R.hasValue=V.hasValue,R.path=V.hasValue?V.path:null,R.sctrictCompare=V.sctrictCompare},A.prototype.isAnyKeyChanged=function(R,V){for(var O=0;O<V.length;O++){var l=V[O];if(R.hasOwnProperty(l))return!0;var y=this.getFirstName(l);if(R.hasOwnProperty(y)){if(l===y)return!0;var p=R[y];if(p!=null){if(!p.hasOwnProperty("oldValue")||!p.hasOwnProperty("newValue"))return!0;var f={};f[y]=p.oldValue;var e=this.getValue(l,f);f[y]=p.newValue;var m=this.getValue(l,f);if(!P.Helpers.isTwoValueEquals(e,m,!1,!1,!1))return!0}}}return!1},A.prototype.getValueFromPath=function(R,V){if(R.length===2&&R[0]===C)return this.getValueFromSurvey(R[1]);for(var O=0;V&&O<R.length;){var l=R[O];if(P.Helpers.isNumber(l)&&Array.isArray(V)&&l>=V.length)return null;V=V[l],O++}return V},A.prototype.getValueCore=function(R,V){var O=this.getQuestionDirectly(R);if(O)return{hasValue:!0,value:O.value,path:[R],sctrictCompare:O.requireStrictCompare};var l=this.getValueFromValues(R,V);if(R&&!l.hasValue){var y=this.getValueFromSurvey(R);y!==void 0&&(l.hasValue=!0,l.value=y,l.path=[C,R])}return l},A.prototype.getQuestionDirectly=function(R){if(this.properties&&this.properties.survey)return this.properties.survey.getQuestionByValueName(R)},A.prototype.getValueFromSurvey=function(R){if(this.properties&&this.properties.survey)return this.properties.survey.getBuiltInVariableValue(R.toLocaleLowerCase())},A.prototype.getValueFromValues=function(R,V){var O={hasValue:!1,value:null,path:null},l=V;if(!l&&l!==0&&l!==!1)return O;R&&R.lastIndexOf(".length")>-1&&R.lastIndexOf(".length")===R.length-7&&(O.value=0,O.hasValue=!0);var y=this.getNonNestedObject(l,R,!1);return y&&(O.path=y.path,O.value=y.text?this.getObjectValue(y.value,y.text):y.value,O.hasValue=!P.Helpers.isValueEmpty(O.value)),O},A.prototype.getNonNestedObject=function(R,V,O){for(var l=new Array,y=0,p=this.getNonNestedObjectCore(R,V,O,l);!p&&y<l.length;)y=l.length,p=this.getNonNestedObjectCore(R,V,O,l);return p},A.prototype.getNonNestedObjectCore=function(R,V,O,l){var y=this.getFirstPropertyName(V,R,O,l);y&&l.push(y);for(var p=y?[y]:null;V!=y&&R;){var f=V[0]=="[";if(f){var e=this.getObjInArray(R,V);if(!e)return null;R=e.value,V=e.text,p.push(e.index)}else{if(!y&&V==this.getFirstName(V))return{value:R,text:V,path:p};if(R=this.getObjectValue(R,y),P.Helpers.isValueEmpty(R)&&!O)return null;V=V.substring(y.length)}V&&V[0]=="."&&(V=V.substring(1)),y=this.getFirstPropertyName(V,R,O,l),y&&p.push(y)}return{value:R,text:V,path:p}},A.prototype.getObjInArray=function(R,V){if(!Array.isArray(R))return null;for(var O=1,l="";O<V.length&&V[O]!="]";)l+=V[O],O++;return V=O<V.length?V.substring(O+1):"",O=this.getIntValue(l),O<0||O>=R.length?null:{value:R[O],text:V,index:O}},A.prototype.getFirstPropertyName=function(R,V,O,l){if(O===void 0&&(O=!1),l===void 0&&(l=void 0),!R||(V||(V={}),V.hasOwnProperty(R)))return R;var y=R.toLowerCase(),p=y[0],f=p.toUpperCase();for(var e in V)if(!(Array.isArray(l)&&l.indexOf(e)>-1)){var m=e[0];if(m===f||m===p){var s=e.toLowerCase();if(s==y)return e;if(y.length<=s.length)continue;var a=y[s.length];if(a!="."&&a!="[")continue;if(s==y.substring(0,s.length))return e}}if(O&&R[0]!=="["){var c=R.indexOf(".");return c>-1&&(R=R.substring(0,c),V[R]={}),R}return""},A.prototype.getObjectValue=function(R,V){return V?R[V]:null},A.prototype.getIntValue=function(R){return R=="0"||(R|0)>0&&R%1==0?Number(R):-1},A}()},"./src/conditions.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"ExpressionExecutor",function(){return R}),d.d(M,"ExpressionRunnerBase",function(){return V}),d.d(M,"ConditionRunner",function(){return O}),d.d(M,"ExpressionRunner",function(){return l});var P=d("./src/conditionProcessValue.ts"),C=d("./src/console-warnings.ts"),D=d("./src/conditionsParser.ts"),A=function(){var y=function(p,f){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,m){e.__proto__=m}||function(e,m){for(var s in m)Object.prototype.hasOwnProperty.call(m,s)&&(e[s]=m[s])},y(p,f)};return function(p,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");y(p,f);function e(){this.constructor=p}p.prototype=f===null?Object.create(f):(e.prototype=f.prototype,new e)}}(),R=function(){function y(p){this.processValue=new P.ProcessValue,this.parser=new D.ConditionsParser,this.isAsyncValue=!1,this.hasFunctionValue=!1,this.setExpression(p)}return Object.defineProperty(y.prototype,"expression",{get:function(){return this.expressionValue},enumerable:!1,configurable:!0}),y.prototype.setExpression=function(p){this.expression!==p&&(this.expressionValue=p,this.operand=this.parser.parseExpression(p),this.hasFunctionValue=this.canRun()?this.operand.hasFunction():!1,this.isAsyncValue=this.hasFunction()?this.operand.hasAsyncFunction():!1)},y.prototype.getVariables=function(){if(!this.operand)return[];var p=[];return this.operand.setVariables(p),p},y.prototype.hasFunction=function(){return this.hasFunctionValue},Object.defineProperty(y.prototype,"isAsync",{get:function(){return this.isAsyncValue},enumerable:!1,configurable:!0}),y.prototype.canRun=function(){return!!this.operand},y.prototype.run=function(p,f){var e=this;if(f===void 0&&(f=null),!this.operand)return this.expression&&C.ConsoleWarnings.warn("Invalid expression: "+this.expression),null;if(this.processValue.values=p,this.processValue.properties=f,!this.isAsync)return this.runValues();this.asyncFuncList=[],this.operand.addToAsyncList(this.asyncFuncList);for(var m=0;m<this.asyncFuncList.length;m++)this.asyncFuncList[m].onAsyncReady=function(){e.doAsyncFunctionReady()};for(var m=0;m<this.asyncFuncList.length;m++)this.asyncFuncList[m].evaluateAsync(this.processValue);return!1},y.prototype.doAsyncFunctionReady=function(){for(var p=0;p<this.asyncFuncList.length;p++)if(!this.asyncFuncList[p].isReady)return;this.runValues()},y.prototype.runValues=function(){var p=this.operand.evaluate(this.processValue);return this.onComplete&&this.onComplete(p),p},y.createExpressionExecutor=function(p){return new y(p)},y}(),V=function(){function y(p){this._id=y.IdCounter++,this.expression=p}return Object.defineProperty(y.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"expression",{get:function(){return this.expressionExecutor?this.expressionExecutor.expression:""},set:function(p){var f=this;this.expressionExecutor&&p===this.expression||(this.expressionExecutor=R.createExpressionExecutor(p),this.expressionExecutor.onComplete=function(e){f.doOnComplete(e)},this.variables=void 0,this.containsFunc=void 0)},enumerable:!1,configurable:!0}),y.prototype.getVariables=function(){return this.variables===void 0&&(this.variables=this.expressionExecutor.getVariables()),this.variables},y.prototype.hasFunction=function(){return this.containsFunc===void 0&&(this.containsFunc=this.expressionExecutor.hasFunction()),this.containsFunc},Object.defineProperty(y.prototype,"isAsync",{get:function(){return this.expressionExecutor.isAsync},enumerable:!1,configurable:!0}),y.prototype.canRun=function(){return this.expressionExecutor.canRun()},y.prototype.runCore=function(p,f){return f===void 0&&(f=null),this.onBeforeAsyncRun&&this.isAsync&&this.onBeforeAsyncRun(this.id),this.expressionExecutor.run(p,f)},y.prototype.doOnComplete=function(p){this.onAfterAsyncRun&&this.isAsync&&this.onAfterAsyncRun(this.id)},y.IdCounter=1,y}(),O=function(y){A(p,y);function p(){return y!==null&&y.apply(this,arguments)||this}return p.prototype.run=function(f,e){return e===void 0&&(e=null),this.runCore(f,e)==!0},p.prototype.doOnComplete=function(f){this.onRunComplete&&this.onRunComplete(f==!0),y.prototype.doOnComplete.call(this,f)},p}(V),l=function(y){A(p,y);function p(){return y!==null&&y.apply(this,arguments)||this}return p.prototype.run=function(f,e){return e===void 0&&(e=null),this.runCore(f,e)},p.prototype.doOnComplete=function(f){this.onRunComplete&&this.onRunComplete(f),y.prototype.doOnComplete.call(this,f)},p}(V)},"./src/conditionsParser.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"ConditionsParserError",function(){return C}),d.d(M,"ConditionsParser",function(){return D});var P=d("./src/expressions/expressionParser.ts"),C=function(){function A(R,V){this.at=R,this.code=V}return A}(),D=function(){function A(){}return A.prototype.patchExpression=function(R){return R.replace(/=>/g,">=").replace(/=</g,"<=").replace(/<>/g,"!=").replace(/equals/g,"equal ").replace(/notequals/g,"notequal ")},A.prototype.createCondition=function(R){return this.parseExpression(R)},A.prototype.parseExpression=function(R){try{var V=A.parserCache[R];return V===void 0&&(V=Object(P.parse)(this.patchExpression(R)),V.hasAsyncFunction()||(A.parserCache[R]=V)),V}catch(O){O instanceof P.SyntaxError&&(this.conditionError=new C(O.location.start.offset,O.message))}},Object.defineProperty(A.prototype,"error",{get:function(){return this.conditionError},enumerable:!1,configurable:!0}),A.parserCache={},A}()},"./src/console-warnings.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"ConsoleWarnings",function(){return P});var P=function(){function C(){}return C.disposedObjectChangedProperty=function(D,A){C.warn('An attempt to set a property "'+D+'" of a disposed object "'+A+'"')},C.inCorrectQuestionValue=function(D,A){var R=JSON.stringify(A,null,3);C.warn("An attempt to assign an incorrect value"+R+' to the following question: "'+D+'"')},C.warn=function(D){console.warn(D)},C.error=function(D){console.error(D)},C}()},"./src/defaultCss/cssmodern.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"modernCss",function(){return C});var P=d("./src/defaultCss/defaultV2Css.ts"),C={root:"sv-root-modern",timerRoot:"sv-body__timer",container:"sv-container-modern",header:"sv-title sv-container-modern__title",headerClose:"sv-container-modern__close",bodyContainer:"sv-components-row",body:"sv-body",bodyEmpty:"sv-body sv-body--empty",footer:"sv-footer sv-body__footer sv-clearfix",title:"",description:"",logo:"sv-logo",logoImage:"sv-logo__image",headerText:"sv-header__text",navigationButton:"sv-btn sv-btn--navigation",completedPage:"sv-completedpage",navigation:{complete:"sv-footer__complete-btn",prev:"sv-footer__prev-btn",next:"sv-footer__next-btn",start:"sv-footer__start-btn",preview:"sv-footer__preview-btn",edit:"sv-footer__edit-btn"},panel:{title:"sv-title sv-panel__title",titleExpandable:"sv-panel__title--expandable",titleExpanded:"sv-panel__title--expanded",titleCollapsed:"sv-panel__title--collapsed",titleOnError:"sv-panel__title--error",description:"sv-description sv-panel__description",container:"sv-panel sv-row__panel",content:"sv-panel__content",icon:"sv-panel__icon",iconExpanded:"sv-panel__icon--expanded",footer:"sv-panel__footer",requiredText:"sv-panel__required-text",number:"sv-question__num"},paneldynamic:{root:"sv-paneldynamic",navigation:"sv-paneldynamic__navigation",title:"sv-title sv-question__title",button:"sv-btn",buttonRemove:"sv-paneldynamic__remove-btn",buttonRemoveRight:"sv-paneldynamic__remove-btn--right",buttonAdd:"sv-paneldynamic__add-btn",progressTop:"sv-paneldynamic__progress sv-paneldynamic__progress--top",progressBottom:"sv-paneldynamic__progress sv-paneldynamic__progress--bottom",buttonPrev:"sv-paneldynamic__prev-btn",buttonNext:"sv-paneldynamic__next-btn",buttonPrevDisabled:"sv-paneldynamic__prev-btn--disabled",buttonNextDisabled:"sv-paneldynamic__next-btn--disabled",progressContainer:"sv-paneldynamic__progress-container",progress:"sv-progress",progressBar:"sv-progress__bar",progressText:"sv-paneldynamic__progress-text",separator:"sv-paneldynamic__separator",panelWrapper:"sv-paneldynamic__panel-wrapper",panelWrapperInRow:"sv-paneldynamic__panel-wrapper--in-row",progressBtnIcon:"icon-progressbutton",footer:""},progress:"sv-progress sv-body__progress",progressBar:"sv-progress__bar",progressText:"sv-progress__text",progressTextInBar:"sv-hidden",progressButtonsContainerCenter:"sv_progress-buttons__container-center",progressButtonsContainer:"sv_progress-buttons__container",progressButtonsImageButtonLeft:"sv_progress-buttons__image-button-left",progressButtonsImageButtonRight:"sv_progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sv_progress-buttons__image-button--hidden",progressButtonsListContainer:"sv_progress-buttons__list-container",progressButtonsList:"sv_progress-buttons__list",progressButtonsListElementPassed:"sv_progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sv_progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sv_progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sv_progress-buttons__page-title",progressButtonsPageDescription:"sv_progress-buttons__page-description",page:{root:"sv-page sv-body__page",title:"sv-title sv-page__title",description:"sv-description sv-page__description"},pageTitle:"sv-title sv-page__title",pageDescription:"sv-description sv-page__description",row:"sv-row sv-clearfix",question:{mainRoot:"sv-question sv-row__question",flowRoot:"sv-question sv-row__question sv-row__question--flow",asCell:"sv-table__cell",header:"sv-question__header",headerLeft:"sv-question__header--location--left",headerTop:"sv-question__header--location--top",headerBottom:"sv-question__header--location--bottom",content:"sv-question__content",contentLeft:"sv-question__content--left",titleLeftRoot:"",answered:"sv-question--answered",titleOnAnswer:"sv-question__title--answer",titleOnError:"sv-question__title--error",title:"sv-title sv-question__title",titleExpandable:"sv-question__title--expandable",titleExpanded:"sv-question__title--expanded",titleCollapsed:"sv-question__title--collapsed",icon:"sv-question__icon",iconExpanded:"sv-question__icon--expanded",requiredText:"sv-question__required-text",number:"sv-question__num",description:"sv-description sv-question__description",descriptionUnderInput:"sv-description sv-question__description",comment:"sv-comment",required:"sv-question--required",titleRequired:"sv-question__title--required",indent:20,footer:"sv-question__footer",formGroup:"sv-question__form-group",hasError:"",disabled:"sv-question--disabled"},image:{root:"sv-image",image:"sv_image_image"},error:{root:"sv-question__erbox",icon:"",item:"",locationTop:"sv-question__erbox--location--top",locationBottom:"sv-question__erbox--location--bottom"},checkbox:{root:"sv-selectbase",item:"sv-item sv-checkbox sv-selectbase__item",itemSelectAll:"sv-checkbox--selectall",itemNone:"sv-checkbox--none",itemDisabled:"sv-item--disabled sv-checkbox--disabled",itemChecked:"sv-checkbox--checked",itemHover:"sv-checkbox--allowhover",itemInline:"sv-selectbase__item--inline",label:"sv-selectbase__label",labelChecked:"",itemControl:"sv-visuallyhidden sv-item__control",itemDecorator:"sv-item__svg sv-checkbox__svg",itemSvgIconId:"#icon-moderncheck",controlLabel:"sv-item__control-label",materialDecorator:"sv-item__decorator sv-selectbase__decorator sv-checkbox__decorator",other:"sv-comment sv-question__other",column:"sv-selectbase__column"},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sv-ranking--disabled",rootDragHandleAreaIcon:"sv-ranking--drag-handle-area-icon",rootSelectToRankMod:"sv-ranking--select-to-rank",rootSelectToRankAlignVertical:"sv-ranking--select-to-rank-vertical",rootSelectToRankAlignHorizontal:"sv-ranking--select-to-rank-horizontal",item:"sv-ranking-item",itemContent:"sv-ranking-item__content",itemIndex:"sv-ranking-item__index",itemIndexEmptyMode:"sv-ranking-item__index--empty",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking-item--drag",container:"sv-ranking__container",containerEmptyMode:"sv-ranking__container--empty",containerFromMode:"sv-ranking__container--from",containerToMode:"sv-ranking__container--to",containerPlaceholder:"sv-ranking__container-placeholder",containersDivider:"sv-ranking__containers-divider"},radiogroup:{root:"sv-selectbase",item:"sv-item sv-radio sv-selectbase__item",itemInline:"sv-selectbase__item--inline",label:"sv-selectbase__label",labelChecked:"",itemDisabled:"sv-item--disabled sv-radio--disabled",itemChecked:"sv-radio--checked",itemHover:"sv-radio--allowhover",itemControl:"sv-visuallyhidden sv-item__control",itemDecorator:"sv-item__svg sv-radio__svg",itemSvgIconId:"#icon-modernradio",controlLabel:"sv-item__control-label",materialDecorator:"sv-item__decorator sv-selectbase__decorator sv-radio__decorator",other:"sv-comment sv-question__other",clearButton:"sv-btn sv-selectbase__clear-btn",column:"sv-selectbase__column"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemSelected:"sv-button-group__item--selected",itemHover:"sv-button-group__item--hover",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},boolean:{root:"sv_qbln",rootRadio:"sv_qbln",small:"sv-row__question--small",item:"sv-boolean sv-item",control:"sv-visuallyhidden",itemChecked:"sv-boolean--checked",itemIndeterminate:"sv-boolean--indeterminate",itemDisabled:"sv-item--disabled sv-boolean--disabled",switch:"sv-boolean__switch",slider:"sv-boolean__slider",label:"sv-boolean__label",disabledLabel:"sv-boolean__label--disabled",sliderGhost:"sv-boolean__thumb-ghost",rootCheckbox:"sv_qbln",checkboxItem:"sv-boolean sv-item",checkboxItemChecked:"sv-boolean--checked",controlCheckbox:"sv-visuallyhidden",checkboxControlLabel:"sv-boolean__label",checkboxItemIndeterminate:"sv-boolean--indeterminate",checkboxItemDisabled:"sv-item--disabled sv-boolean--disabled",checkboxMaterialDecorator:"sv-item__decorator sv-boolean__decorator ",checkboxItemDecorator:"sv-item__svg  sv-boolean__svg",indeterminatePath:"sv-boolean__indeterminate-path",svgIconCheckedId:"#icon-modernbooleancheckchecked",svgIconUncheckedId:"#icon-modernbooleancheckunchecked",svgIconIndId:"#icon-modernbooleancheckind"},text:{root:"sv-text",small:"sv-row__question--small",remainingCharacterCounter:"sv-remaining-character-counter",onError:"sv-text--error"},multipletext:{root:"sv-multipletext",item:"sv-multipletext__item",itemLabel:"sv-multipletext__item-label",itemTitle:"sv-multipletext__item-title",row:"sv-multipletext__row",cell:"sv-multipletext__cell"},dropdown:{root:"",popup:"sv-dropdown-popup",small:"sv-row__question--small",control:"sv-dropdown",selectWrapper:"",other:"sv-comment sv-question__other",onError:"sv-dropdown--error",cleanButton:"sv-dropdown_clean-button",cleanButtonSvg:"sv-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",filterStringInput:"sv-dropdown__filter-string-input",controlValue:"sv-dropdown__value",controlInputFieldComponent:"sv_dropdown_control__input-field-component",hintPrefix:"sv-dropdown__hint-prefix",hintSuffix:"sv-dropdown__hint-suffix"},tagbox:{root:"",popup:"sv-dropdown-popup",small:"sv-row__question--small",selectWrapper:"sv_select_wrapper sv-tagbox_wrapper",other:"sv-input sv-comment sv-selectbase__other",cleanButton:"sv-tagbox_clean-button sv-dropdown_clean-button",cleanButtonSvg:"sv-tagbox_clean-button-svg sv-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",cleanItemButton:"sv-tagbox__item_clean-button",cleanItemButtonSvg:"sv-tagbox__item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",control:"sv-input sv-tagbox sv-dropdown",controlValue:"sv-tagbox__value sv-dropdown__value",controlEmpty:"sv-dropdown--empty sv-tagbox--empty",placeholderInput:"sv-tagbox__placeholder",filterStringInput:"sv-tagbox__filter-string-input sv-dropdown__filter-string-input"},imagepicker:{root:"sv-selectbase sv-imagepicker",column:"sv-selectbase__column",item:"sv-imagepicker__item",itemInline:"sv-imagepicker__item--inline",itemChecked:"sv-imagepicker__item--checked",itemDisabled:"sv-imagepicker__item--disabled",itemHover:"sv-imagepicker__item--allowhover",label:"sv-imagepicker__label",itemControl:"sv-imagepicker__control sv-visuallyhidden",image:"sv-imagepicker__image",itemText:"sv-imagepicker__text",clearButton:"sv-btn",other:"sv-comment sv-question__other"},matrix:{tableWrapper:"sv-matrix",root:"sv-table sv-matrix-root",rowError:"sv-matrix__row--error",cell:"sv-table__cell sv-matrix__cell",headerCell:"sv-table__cell sv-table__cell--header",label:"sv-item sv-radio sv-matrix__label",itemValue:"sv-visuallyhidden sv-item__control sv-radio__control",itemChecked:"sv-radio--checked",itemDisabled:"sv-item--disabled sv-radio--disabled",itemHover:"sv-radio--allowhover",materialDecorator:"sv-item__decorator sv-radio__decorator",itemDecorator:"sv-item__svg sv-radio__svg",cellText:"sv-matrix__text",cellTextSelected:"sv-matrix__text--checked",cellTextDisabled:"sv-matrix__text--disabled",cellResponsiveTitle:"sv-hidden",itemSvgIconId:"#icon-modernradio"},matrixdropdown:{root:"sv-table sv-matrixdropdown",cell:"sv-table__cell",headerCell:"sv-table__cell sv-table__cell--header",row:"sv-table__row",rowAdditional:"sv-table__row--additional",detailRow:"sv-table__row--detail",detailRowText:"sv-table__cell--detail-rowtext",detailCell:"sv-table__cell--detail",choiceCell:"sv-table__cell--choice",detailButton:"sv-table__cell--detail-button",detailButtonExpanded:"sv-table__cell--detail-button--expanded",detailIcon:"sv-detail-panel__icon",detailIconExpanded:"sv-detail-panel__icon--expanded",detailPanelCell:"sv-table__cell--detail-panel",actionsCell:"sv-table__cell sv-table__cell--actions"},matrixdynamic:{root:"sv-table sv-matrixdynamic",cell:"sv-table__cell",headerCell:"sv-table__cell sv-table__cell--header",button:"sv-btn",buttonAdd:"sv-matrixdynamic__add-btn",buttonRemove:"sv-matrixdynamic__remove-btn",iconAdd:"",iconRemove:"",iconDrag:"sv-matrixdynamic__drag-icon",row:"sv-table__row",detailRow:"sv-table__row--detail",detailCell:"sv-table__cell--detail",choiceCell:"sv-table__cell--choice",detailButton:"sv-table__cell--detail-button",detailButtonExpanded:"sv-table__cell--detail-button--expanded",detailIcon:"sv-detail-panel__icon",detailIconExpanded:"sv-detail-panel__icon--expanded",detailPanelCell:"sv-table__cell--detail-panel",actionsCell:"sv-table__cell sv-table__cell--actions",emptyRowsSection:"sv-table__empty--rows--section",emptyRowsText:"sv-table__empty--rows--text",emptyRowsButton:"",ghostRow:"sv-matrix-row--drag-drop-ghost-mod"},rating:{root:"sv-rating",item:"sv-rating__item",selected:"sv-rating__item--selected",minText:"sv-rating__min-text",itemText:"sv-rating__item-text",maxText:"sv-rating__max-text",itemDisabled:"sv-rating--disabled",filterStringInput:"sv-dropdown__filter-string-input",control:"sv-dropdown",cleanButton:"sv-dropdown_clean-button",cleanButtonSvg:"sv-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",controlValue:"sv-dropdown__value",controlInputFieldComponent:"sv_dropdown_control__input-field-component",itemSmiley:"sv-rating__item-smiley",itemStar:"sv-rating__item-star",itemSmileySelected:"sv-rating__item-smiley--selected",itemStarSelected:"sv-rating__item-star--selected"},comment:{root:"sv-comment",small:"sv-row__question--small",remainingCharacterCounter:"sv-remaining-character-counter"},expression:"",file:{root:"sv-file",other:"sv-comment sv-question__other",placeholderInput:"sv-visuallyhidden",preview:"sv-file__preview",fileSignBottom:"sv-file__sign",fileDecorator:"sv-file__decorator",fileInput:"sv-visuallyhidden",noFileChosen:"sv-description sv-file__no-file-chosen",chooseFile:"sv-btn sv-file__choose-btn",controlDisabled:"sv-file__choose-btn--disabled",removeButton:"sv-hidden",removeButtonBottom:"sv-btn sv-file__clean-btn",removeFile:"sv-hidden",removeFileSvg:"sv-file__remove-svg",removeFileSvgIconId:"icon-removefile",wrapper:"sv-file__wrapper",dragAreaPlaceholder:"sv-hidden",fileList:""},signaturepad:{root:"sv-signaturepad sjs_sp_container",small:"sv-row__question--small",controls:"sjs_sp_controls",placeholder:"sjs_sp_placeholder",canvas:"sjs_sp_canvas",backgroundImage:"sjs_sp__background-image",clearButton:"sjs_sp_clear"},saveData:{root:"sv-save-data_root",rootWithButtons:"sv-save-data_root--with-buttons",info:"sv-save-data_info",error:"sv-save-data_error",success:"sv-save-data_success",button:"sv-save-data_button",shown:"sv-save-data_root--shown"},window:{root:"sv_window",rootCollapsedMod:"sv_window--collapsed",rootContent:"sv_window_root-content",body:"sv_window_content",header:{root:"sv_window_header",titleCollapsed:"sv_window_header_title_collapsed",buttonsContainer:"sv_window_buttons_container",button:"sv_window_button",buttonExpanded:"",buttonCollapsed:"",collapseButton:"sv_window_button sv_window_button_collapse",closeButton:"sv_window_button sv_window_button_close"}},variables:{mobileWidth:"--sv-mobile-width",themeMark:"--sv-modern-mark"}};P.surveyCss.modern=C},"./src/defaultCss/cssstandard.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"defaultStandardCss",function(){return C});var P=d("./src/defaultCss/defaultV2Css.ts"),C={root:"sv_main sv_default_css",container:"sv_container",header:"sv_header",bodyContainer:"sv-components-row",body:"sv_body",bodyEmpty:"sv_body sv_body_empty",footer:"sv_nav",title:"",description:"",logo:"sv_logo",logoImage:"sv_logo__image",headerText:"sv_header__text",navigationButton:"sv_nav_btn",completedPage:"sv_completed_page",navigation:{complete:"sv_complete_btn",prev:"sv_prev_btn",next:"sv_next_btn",start:"sv_start_btn",preview:"sv_preview_btn",edit:"sv_edit_btn"},progress:"sv_progress",progressBar:"sv_progress_bar",progressTextInBar:"sv-hidden",progressButtonsContainerCenter:"sv_progress-buttons__container-center",progressButtonsContainer:"sv_progress-buttons__container",progressButtonsImageButtonLeft:"sv_progress-buttons__image-button-left",progressButtonsImageButtonRight:"sv_progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sv_progress-buttons__image-button--hidden",progressButtonsListContainer:"sv_progress-buttons__list-container",progressButtonsList:"sv_progress-buttons__list",progressButtonsListElementPassed:"sv_progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sv_progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sv_progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sv_progress-buttons__page-title",progressButtonsPageDescription:"sv_progress-buttons__page-description",page:{root:"sv_p_root",title:"sv_page_title",description:""},pageTitle:"sv_page_title",pageDescription:"",row:"sv_row",question:{mainRoot:"sv_q sv_qstn",flowRoot:"sv_q_flow sv_qstn",header:"",headerLeft:"title-left",content:"",contentLeft:"content-left",titleLeftRoot:"sv_qstn_left",requiredText:"sv_q_required_text",title:"sv_q_title",titleExpandable:"sv_q_title_expandable",titleExpanded:"sv_q_title_expanded",titleCollapsed:"sv_q_title_collapsed",number:"sv_q_num",description:"sv_q_description",comment:"",required:"",titleRequired:"",hasError:"",indent:20,footer:"sv_q_footer",formGroup:"form-group",asCell:"sv_matrix_cell",icon:"sv_question_icon",iconExpanded:"sv_expanded",disabled:"sv_q--disabled"},panel:{title:"sv_p_title",titleExpandable:"sv_p_title_expandable",titleExpanded:"sv_p_title_expanded",titleCollapsed:"sv_p_title_collapsed",titleOnError:"",icon:"sv_panel_icon",iconExpanded:"sv_expanded",description:"sv_p_description",container:"sv_p_container",footer:"sv_p_footer",number:"sv_q_num",requiredText:"sv_q_required_text"},error:{root:"sv_q_erbox",icon:"",item:"",locationTop:"sv_qstn_error_top",locationBottom:"sv_qstn_error_bottom"},boolean:{root:"sv_qcbc sv_qbln",rootRadio:"sv_qcbc sv_qbln",item:"sv-boolean",control:"sv-visuallyhidden",itemChecked:"sv-boolean--checked checked",itemIndeterminate:"sv-boolean--indeterminate",itemDisabled:"sv-boolean--disabled",switch:"sv-boolean__switch",slider:"sv-boolean__slider",label:"sv-boolean__label ",disabledLabel:"sv-boolean__label--disabled",sliderGhost:"sv-boolean__thumb-ghost",rootCheckbox:"sv_qcbc sv_qbln",checkboxItem:"sv-boolean",checkboxItemChecked:"sv-boolean--checked",controlCheckbox:"sv-visuallyvisible",checkboxControlLabel:"sv-boolean__label",checkboxItemIndeterminate:"sv-boolean--indeterminate",checkboxItemDisabled:"sv-item--disabled sv-boolean--disabled",checkboxMaterialDecorator:"sv-item__decorator sv-boolean__decorator",checkboxItemDecorator:"sv-item__svg sv-boolean__svg"},checkbox:{root:"sv_qcbc sv_qcbx",item:"sv_q_checkbox",itemSelectAll:"sv_q_checkbox_selectall",itemNone:"sv_q_checkbox_none",itemChecked:"checked",itemInline:"sv_q_checkbox_inline",label:"sv_q_checkbox_label",labelChecked:"",itemControl:"sv_q_checkbox_control_item",itemDecorator:"sv-hidden",controlLabel:"sv_q_checkbox_control_label",other:"sv_q_other sv_q_checkbox_other",column:"sv_q_select_column"},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sv-ranking--disabled",rootDragHandleAreaIcon:"sv-ranking--drag-handle-area-icon",rootSelectToRankMod:"sv-ranking--select-to-rank",rootSelectToRankAlignVertical:"sv-ranking--select-to-rank-vertical",rootSelectToRankAlignHorizontal:"sv-ranking--select-to-rank-horizontal",item:"sv-ranking-item",itemContent:"sv-ranking-item__content",itemIndex:"sv-ranking-item__index",itemIndexEmptyMode:"sv-ranking-item__index--empty",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking-item--drag",container:"sv-ranking__container",containerEmptyMode:"sv-ranking__container--empty",containerFromMode:"sv-ranking__container--from",containerToMode:"sv-ranking__container--to",containerPlaceholder:"sv-ranking__container-placeholder",containersDivider:"sv-ranking__containers-divider"},comment:{remainingCharacterCounter:"sv-remaining-character-counter"},dropdown:{root:"",popup:"sv-dropdown-popup",control:"sv_q_dropdown_control",controlInputFieldComponent:"sv_q_dropdown_control__input-field-component",selectWrapper:"sv_select_wrapper",other:"sv_q_dd_other",cleanButton:"sv_q_dropdown_clean-button",cleanButtonSvg:"sv_q_dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",controlValue:"sv_q_dropdown__value",filterStringInput:"sv_q_dropdown__filter-string-input",hintPrefix:"sv_q_dropdown__hint-prefix",hintSuffix:"sv_q_dropdown__hint-suffix"},html:{root:""},image:{root:"sv_q_image",image:"sv_image_image",noImage:"sv-image__no-image",noImageSvgIconId:"icon-no-image"},matrix:{root:"sv_q_matrix",label:"sv_q_m_label",itemChecked:"checked",itemDecorator:"sv-hidden",cell:"sv_q_m_cell",cellText:"sv_q_m_cell_text",cellTextSelected:"sv_q_m_cell_selected",cellLabel:"sv_q_m_cell_label",cellResponsiveTitle:"sv-hidden"},matrixdropdown:{root:"sv_q_matrix_dropdown",cell:"sv_matrix_cell",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",rowAdditional:"sv-matrix__row--additional",detailRow:"sv_matrix_detail_row",detailRowText:"sv_matrix_cell_detail_rowtext",detailCell:"sv_matrix_cell_detail",choiceCell:"sv-table__cell--choice",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",actionsCell:"sv_matrix_cell sv_matrix_cell_actions"},matrixdynamic:{root:"sv_q_matrix_dynamic",button:"sv_matrix_dynamic_button",buttonAdd:"",buttonRemove:"",iconAdd:"",iconRemove:"",iconDrag:"sv-matrixdynamic__drag-icon",cell:"sv_matrix_cell",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",detailRow:"sv_matrix_detail_row",detailCell:"sv_matrix_cell_detail",choiceCell:"sv-table__cell--choice",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",actionsCell:"sv_matrix_cell sv_matrix_cell_actions",emptyRowsSection:"sv_matrix_empty_rows_section",emptyRowsText:"sv_matrix_empty_rows_text",emptyRowsButton:"",ghostRow:"sv-matrix-row--drag-drop-ghost-mod"},paneldynamic:{root:"sv_panel_dynamic",title:"sv_p_title",header:"sv-paneldynamic__header sv_header",headerTab:"sv-paneldynamic__header-tab",button:"",buttonAdd:"sv-paneldynamic__add-btn",buttonRemove:"sv_p_remove_btn",buttonRemoveRight:"sv_p_remove_btn_right",buttonPrev:"sv-paneldynamic__prev-btn",buttonPrevDisabled:"sv-paneldynamic__prev-btn--disabled",buttonNextDisabled:"sv-paneldynamic__next-btn--disabled",buttonNext:"sv-paneldynamic__next-btn",progressContainer:"sv-paneldynamic__progress-container",progress:"sv-progress",progressBar:"sv-progress__bar",progressText:"sv-paneldynamic__progress-text",panelWrapper:"sv_p_wrapper",panelWrapperInRow:"sv_p_wrapper_in_row",footer:"",progressBtnIcon:"icon-progressbutton"},multipletext:{root:"sv_q_mt",itemTitle:"sv_q_mt_title",item:"sv_q_mt_item",row:"sv_q_mt_row",itemLabel:"sv_q_mt_label",itemValue:"sv_q_mt_item_value sv_q_text_root"},radiogroup:{root:"sv_qcbc",item:"sv_q_radiogroup",itemChecked:"checked",itemInline:"sv_q_radiogroup_inline",itemDecorator:"sv-hidden",label:"sv_q_radiogroup_label",labelChecked:"",itemControl:"sv_q_radiogroup_control_item",controlLabel:"",other:"sv_q_other sv_q_radiogroup_other",clearButton:"sv_q_radiogroup_clear",column:"sv_q_select_column"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemHover:"sv-button-group__item--hover",itemSelected:"sv-button-group__item--selected",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},imagepicker:{root:"sv_imgsel",item:"sv_q_imgsel",itemChecked:"checked",label:"sv_q_imgsel_label",itemControl:"sv_q_imgsel_control_item",image:"sv_q_imgsel_image",itemInline:"sv_q_imagepicker_inline",itemText:"sv_q_imgsel_text",clearButton:"sv_q_radiogroup_clear",column:"sv_q_select_column",itemNoImage:"sv_q_imgsel__no-image",itemNoImageSvgIcon:"sv_q_imgsel__no-image-svg",itemNoImageSvgIconId:"icon-no-image"},rating:{root:"sv_q_rating",item:"sv_q_rating_item",itemFixedSize:"sv_q_rating_item_fixed",selected:"active",minText:"sv_q_rating_min_text",itemText:"sv_q_rating_item_text",maxText:"sv_q_rating_max_text",itemStar:"sv_q_rating__item-star",itemStarSelected:"sv_q_rating__item-star--selected",itemSmiley:"sv_q_rating__item-smiley",itemSmileySelected:"sv_q_rating__item-smiley--selected"},text:{root:"sv_q_text_root",remainingCharacterCounter:"sv-remaining-character-counter"},expression:"",file:{root:"sv_q_file",placeholderInput:"sv-visuallyhidden",preview:"sv_q_file_preview",removeButton:"sv_q_file_remove_button",fileInput:"sv-visuallyhidden",removeFile:"sv_q_file_remove",fileDecorator:"sv-file__decorator",fileSign:"sv_q_file_sign",chooseFile:"sv_q_file_choose_button",noFileChosen:"sv_q_file_placeholder",dragAreaPlaceholder:"sv-hidden",fileList:""},signaturepad:{root:"sv_q_signaturepad sjs_sp_container",controls:"sjs_sp_controls",placeholder:"sjs_sp_placeholder",canvas:"sjs_sp_canvas",backgroundImage:"sjs_sp__background-image",clearButton:"sjs_sp_clear"},saveData:{root:"sv-save-data_root",rootWithButtons:"sv-save-data_root--with-buttons",info:"sv-save-data_info",error:"sv-save-data_error",success:"sv-save-data_success",button:"sv-save-data_button",shown:"sv-save-data_root--shown"},window:{root:"sv_window",rootCollapsedMod:"sv_window--collapsed",rootContent:"sv_window_root-content",body:"sv_window_content",header:{root:"sv_window_header",titleCollapsed:"sv_window_header_title_collapsed",buttonsContainer:"sv_window_buttons_container",button:"sv_window_button",buttonExpanded:"",buttonCollapsed:"",collapseButton:"sv_window_button sv_window_button_collapse",closeButton:"sv_window_button sv_window_button_close"}},variables:{mobileWidth:"--sv-mobile-width",themeMark:"--sv-default-mark"},tagbox:{root:"",popup:"sv-dropdown-popup",small:"sv_q_row__question--small",selectWrapper:"sv_select_wrapper sv_q_tagbox_wrapper",other:"sv_q_input sv_q_comment sv_q_selectbase__other",cleanButton:"sv_q_tagbox_clean-button sv_q_dropdown_clean-button",cleanButtonSvg:"sv_q_tagbox_clean-button-svg sv_q_dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",cleanItemButton:"sv_q_tagbox-item_clean-button",cleanItemButtonSvg:"sv_q_tagbox-item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",control:"sv_q_input sv_q_tagbox sv_q_dropdown_control",controlValue:"sv_q_tagbox__value sv_q_dropdown__value",controlEmpty:"sv_q_dropdown--empty sv_q_tagbox--empty",placeholderInput:"sv_q_tagbox__placeholder",filterStringInput:"sv_q_tagbox__filter-string-input sv_q_dropdown__filter-string-input",hint:"sv_q_tagbox__hint",hintPrefix:"sv_q_dropdown__hint-prefix sv_q_tagbox__hint-prefix",hintSuffix:"sv_q_dropdown__hint-suffix sv_q_tagbox__hint-suffix",hintSuffixWrapper:"sv_q_tagbox__hint-suffix-wrapper"}};P.surveyCss.default=C,P.surveyCss.orange=C,P.surveyCss.darkblue=C,P.surveyCss.darkrose=C,P.surveyCss.stone=C,P.surveyCss.winter=C,P.surveyCss.winterstone=C},"./src/defaultCss/defaultV2Css.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"surveyCss",function(){return P}),d.d(M,"defaultV2Css",function(){return C}),d.d(M,"defaultV2ThemeName",function(){return D});var P={currentType:"",getCss:function(){var A=this.currentType?this[this.currentType]:C;return A||(A=C),A},getAvailableThemes:function(){return Object.keys(this).filter(function(A){return["currentType","getCss","getAvailableThemes"].indexOf(A)===-1})}},C={root:"sd-root-modern",rootMobile:"sd-root-modern--mobile",rootAnimationDisabled:"sd-root-modern--animation-disabled",rootReadOnly:"sd-root--readonly",rootCompact:"sd-root--compact",rootFitToContainer:"sd-root-modern--full-container",rootWrapper:"sd-root-modern__wrapper",rootWrapperFixed:"sd-root-modern__wrapper--fixed",rootBackgroundImage:"sd-root_background-image",container:"sd-container-modern",header:"sd-title sd-container-modern__title",bodyContainer:"sv-components-row",body:"sd-body",bodyWithTimer:"sd-body--with-timer",clockTimerRoot:"sd-timer",clockTimerRootTop:"sd-timer--top",clockTimerRootBottom:"sd-timer--bottom",clockTimerProgress:"sd-timer__progress",clockTimerProgressAnimation:"sd-timer__progress--animation",clockTimerTextContainer:"sd-timer__text-container",clockTimerMinorText:"sd-timer__text--minor",clockTimerMajorText:"sd-timer__text--major",bodyEmpty:"sd-body sd-body--empty",bodyLoading:"sd-body--loading",footer:"sd-footer sd-body__navigation sd-clearfix",title:"sd-title",description:"sd-description",logo:"sd-logo",logoImage:"sd-logo__image",headerText:"sd-header__text",headerClose:"sd-hidden",navigationButton:"",bodyNavigationButton:"sd-btn",completedPage:"sd-completedpage",completedBeforePage:"sd-completed-before-page",timerRoot:"sd-body__timer",navigation:{complete:"sd-btn--action sd-navigation__complete-btn",prev:"sd-navigation__prev-btn",next:"sd-navigation__next-btn",start:"sd-navigation__start-btn",preview:"sd-navigation__preview-btn",edit:""},panel:{asPage:"sd-panel--as-page",number:"sd-element__num",title:"sd-title sd-element__title sd-panel__title",titleExpandable:"sd-element__title--expandable",titleNumInline:"sd-element__title--num-inline",titleExpanded:"sd-element__title--expanded",titleCollapsed:"sd-element__title--collapsed",titleDisabled:"sd-element__title--disabled",titleOnExpand:"sd-panel__title--expanded",titleOnError:"sd-panel__title--error",titleBar:"sd-action-title-bar",description:"sd-description sd-panel__description",container:"sd-element sd-element--complex sd-panel sd-row__panel",withFrame:"sd-element--with-frame",content:"sd-panel__content",icon:"sd-panel__icon",iconExpanded:"sd-panel__icon--expanded",footer:"sd-panel__footer",requiredText:"sd-panel__required-text",header:"sd-panel__header sd-element__header sd-element__header--location-top",collapsed:"sd-element--collapsed",expanded:"sd-element--expanded",nested:"sd-element--nested sd-element--nested-with-borders",invisible:"sd-element--invisible",navigationButton:"",compact:"sd-element--with-frame sd-element--compact",errorsContainer:"sd-panel__errbox sd-element__erbox sd-element__erbox--above-element"},paneldynamic:{mainRoot:"sd-element  sd-question sd-question--paneldynamic sd-element--complex sd-question--complex sd-row__question",empty:"sd-question--empty",root:"sd-paneldynamic",iconRemove:"sd-hidden",navigation:"sd-paneldynamic__navigation",title:"sd-title sd-element__title sd-question__title",header:"sd-paneldynamic__header sd-element__header",headerTab:"sd-paneldynamic__header-tab",button:"sd-action sd-paneldynamic__btn",buttonRemove:"sd-action--negative sd-paneldynamic__remove-btn",buttonAdd:"sd-paneldynamic__add-btn",buttonPrev:"sd-paneldynamic__prev-btn sd-action--icon sd-action",buttonPrevDisabled:"sd-action--disabled",buttonNextDisabled:"sd-action--disabled",buttonNext:"sd-paneldynamic__next-btn sd-action--icon sd-action",progressContainer:"sd-paneldynamic__progress-container",progress:"sd-progress",progressBar:"sd-progress__bar",nested:"sd-element--nested sd-element--nested-with-borders",progressText:"sd-paneldynamic__progress-text",separator:"sd-paneldynamic__separator",panelWrapper:"sd-paneldynamic__panel-wrapper",footer:"sd-paneldynamic__footer",panelFooter:"sd-paneldynamic__panel-footer",footerButtonsContainer:"sd-paneldynamic__buttons-container",panelWrapperInRow:"sd-paneldynamic__panel-wrapper--in-row",progressBtnIcon:"icon-progressbuttonv2",noEntriesPlaceholder:"sd-paneldynamic__placeholder sd-question__placeholder",compact:"sd-element--with-frame sd-element--compact",tabsRoot:"sd-tabs-toolbar",tabsLeft:"sd-tabs-toolbar--left",tabsRight:"sd-tabs-toolbar--right",tabsCenter:"sd-tabs-toolbar--center",tabs:{item:"sd-tab-item",itemPressed:"sd-tab-item--pressed",itemAsIcon:"sd-tab-item--icon",itemIcon:"sd-tab-item__icon",itemTitle:"sd-tab-item__title"}},progress:"sd-progress sd-body__progress",progressTop:"sd-body__progress--top",progressBottom:"sd-body__progress--bottom",progressBar:"sd-progress__bar",progressText:"sd-progress__text",progressButtonsRoot:"sd-progress-buttons",progressButtonsNumbered:"sd-progress-buttons--numbered",progressButtonsContainerCenter:"sd-progress-buttons__container-center",progressButtonsContainer:"sd-progress-buttons__container",progressButtonsConnector:"sd-progress-buttons__connector",progressButtonsHeader:"sd-progress-buttons__header",progressButtonsFooter:"sd-progress-buttons__footer",progressButtonsImageButtonLeft:"sd-progress-buttons__image-button-left",progressButtonsImageButtonRight:"sd-progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sd-progress-buttons__image-button--hidden",progressButtonsListContainer:"sd-progress-buttons__list-container",progressButtonsList:"sd-progress-buttons__list",progressButtonsListElementPassed:"sd-progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sd-progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sd-progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sd-progress-buttons__page-title",progressButtonsPageDescription:"sd-progress-buttons__page-description",progressTextInBar:"sd-hidden",page:{root:"sd-page sd-body__page",emptyHeaderRoot:"sd-page__empty-header",title:"sd-title sd-page__title",description:"sd-description sd-page__description",errorsContainer:"sd-page__errbox"},pageTitle:"sd-title sd-page__title",pageDescription:"sd-description sd-page__description",row:"sd-row sd-clearfix",rowMultiple:"sd-row--multiple",rowCompact:"sd-row--compact",pageRow:"sd-page__row",question:{mainRoot:"sd-element sd-question sd-row__question",flowRoot:"sd-element sd-question sd-row__question sd-row__question--flow",withFrame:"sd-element--with-frame",asCell:"sd-table__cell",answered:"sd-question--answered",header:"sd-question__header sd-element__header",headerLeft:"sd-question__header--location--left",headerTop:"sd-question__header--location-top sd-element__header--location-top",headerBottom:"sd-question__header--location--bottom",content:"sd-question__content",contentSupportContainerQueries:"sd-question__content--support-container-queries",contentLeft:"sd-question__content--left",titleNumInline:"sd-element__title--num-inline",titleLeftRoot:"sd-question--left",titleTopRoot:"sd-question--title-top",descriptionUnderInputRoot:"sd-question--description-under-input",titleBottomRoot:"sd-question--title-bottom",titleOnAnswer:"sd-question__title--answer",titleEmpty:"sd-question__title--empty",titleOnError:"sd-question__title--error",title:"sd-title sd-element__title sd-question__title",titleExpandable:"sd-element__title--expandable",titleExpanded:"sd-element__title--expanded",titleCollapsed:"sd-element__title--collapsed",titleDisabled:"sd-element__title--disabled",titleBar:"sd-action-title-bar",requiredText:"sd-question__required-text",number:"sd-element__num",description:"sd-description sd-question__description",descriptionUnderInput:"sd-description sd-question__description sd-question__description--under-input",comment:"sd-input sd-comment",other:"sd-input sd-comment",required:"sd-question--required",titleRequired:"sd-question__title--required",indent:20,footer:"sd-question__footer",commentArea:"sd-question__comment-area",formGroup:"sd-question__form-group",hasError:"sd-question--error",hasErrorTop:"sd-question--error-top",hasErrorBottom:"sd-question--error-bottom",collapsed:"sd-element--collapsed",expanded:"sd-element--expanded",nested:"sd-element--nested",invisible:"sd-element--invisible",composite:"sd-element--complex",disabled:"sd-question--disabled",errorsContainer:"sd-element__erbox sd-question__erbox",errorsContainerTop:"sd-element__erbox--above-element sd-question__erbox--above-question",errorsContainerBottom:"sd-question__erbox--below-question"},image:{mainRoot:"sd-question sd-question--image",root:"sd-image",image:"sd-image__image",adaptive:"sd-image__image--adaptive",noImage:"sd-image__no-image",noImageSvgIconId:"icon-no-image",withFrame:""},html:{mainRoot:"sd-question sd-row__question sd-question--html",root:"sd-html",withFrame:""},error:{root:"sd-error",icon:"",item:"",locationTop:"",locationBottom:""},checkbox:{root:"sd-selectbase",rootMobile:"sd-selectbase--mobile",rootRow:"sd-selectbase--row",rootMultiColumn:"sd-selectbase--multi-column",item:"sd-item sd-checkbox sd-selectbase__item",itemOnError:"sd-item--error",itemSelectAll:"sd-checkbox--selectall",itemNone:"sd-checkbox--none",itemDisabled:"sd-item--disabled sd-checkbox--disabled",itemChecked:"sd-item--checked sd-checkbox--checked",itemHover:"sd-item--allowhover sd-checkbox--allowhover",itemInline:"sd-selectbase__item--inline",label:"sd-selectbase__label",labelChecked:"",itemControl:"sd-visuallyhidden sd-item__control sd-checkbox__control",itemDecorator:"sd-item__svg sd-checkbox__svg",itemSvgIconId:"#icon-v2check",controlLabel:"sd-item__control-label",materialDecorator:"sd-item__decorator sd-checkbox__decorator",other:"sd-input sd-comment sd-selectbase__other",column:"sd-selectbase__column"},radiogroup:{root:"sd-selectbase",rootMobile:"sd-selectbase--mobile",rootRow:"sd-selectbase--row",rootMultiColumn:"sd-selectbase--multi-column",item:"sd-item sd-radio sd-selectbase__item",itemOnError:"sd-item--error",itemInline:"sd-selectbase__item--inline",label:"sd-selectbase__label",labelChecked:"",itemDisabled:"sd-item--disabled sd-radio--disabled",itemChecked:"sd-item--checked sd-radio--checked",itemHover:"sd-item--allowhover sd-radio--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-radio__control",itemDecorator:"sd-item__svg sd-radio__svg",controlLabel:"sd-item__control-label",materialDecorator:"sd-item__decorator sd-radio__decorator",other:"sd-input sd-comment sd-selectbase__other",clearButton:"",column:"sd-selectbase__column"},boolean:{mainRoot:"sd-element sd-question sd-row__question sd-question--boolean",root:"sv_qcbc sv_qbln sd-scrollable-container sd-boolean-root",rootRadio:"sv_qcbc sv_qbln sd-scrollable-container sd-scrollable-container--compact",item:"sd-boolean",itemOnError:"sd-boolean--error",control:"sd-boolean__control sd-visuallyhidden",itemChecked:"sd-boolean--checked",itemIndeterminate:"sd-boolean--indeterminate",itemDisabled:"sd-boolean--disabled",itemHover:"sd-boolean--allowhover",label:"sd-boolean__label",labelTrue:"sd-boolean__label--true",labelFalse:"sd-boolean__label--false",switch:"sd-boolean__switch",disabledLabel:"sd-checkbox__label--disabled",sliderText:"sd-boolean__thumb-text",slider:"sd-boolean__thumb",sliderGhost:"sd-boolean__thumb-ghost",radioItem:"sd-item",radioItemChecked:"sd-item--checked sd-radio--checked",radioLabel:"sd-selectbase__label",radioControlLabel:"sd-item__control-label",radioFieldset:"sd-selectbase",itemRadioDecorator:"sd-item__svg sd-radio__svg",materialRadioDecorator:"sd-item__decorator sd-radio__decorator",itemRadioControl:"sd-visuallyhidden sd-item__control sd-radio__control",rootCheckbox:"sd-selectbase",checkboxItem:"sd-item sd-selectbase__item sd-checkbox",checkboxLabel:"sd-selectbase__label",checkboxItemOnError:"sd-item--error",checkboxItemIndeterminate:"sd-checkbox--intermediate",checkboxItemChecked:"sd-item--checked sd-checkbox--checked",checkboxItemDecorator:"sd-item__svg sd-checkbox__svg",checkboxItemDisabled:"sd-item--disabled sd-checkbox--disabled",controlCheckbox:"sd-visuallyhidden sd-item__control sd-checkbox__control",checkboxMaterialDecorator:"sd-item__decorator sd-checkbox__decorator",checkboxControlLabel:"sd-item__control-label",svgIconCheckedId:"#icon-v2check"},text:{root:"sd-input sd-text",small:"sd-row__question--small",controlDisabled:"sd-input--disabled",constrolWithCharacterCounter:"sd-text__character-counter",characterCounterBig:"sd-text__character-counter--big",content:"sd-text__content sd-question__content",remainingCharacterCounter:"sd-remaining-character-counter",onError:"sd-input--error"},multipletext:{root:"sd-multipletext",rootMobile:"sd-multipletext--mobile",itemLabel:"sd-multipletext__item-container sd-input",itemLabelOnError:"sd-multipletext__item-container--error",itemLabelAllowFocus:"sd-multipletext__item-container--allow-focus",itemLabelAnswered:"sd-multipletext__item-container--answered",itemWithCharacterCounter:"sd-multipletext-item__character-counter",item:"sd-multipletext__item",itemTitle:"sd-multipletext__item-title",content:"sd-multipletext__content sd-question__content",row:"sd-multipletext__row",cell:"sd-multipletext__cell",cellError:"sd-multipletext__cell--error",cellErrorTop:"sd-multipletext__cell--error-top",cellErrorBottom:"sd-multipletext__cell--error-bottom"},dropdown:{root:"sd-selectbase",popup:"sv-dropdown-popup",small:"sd-row__question--small",selectWrapper:"sv-dropdown_select-wrapper",other:"sd-input sd-comment sd-selectbase__other",onError:"sd-input--error",label:"sd-selectbase__label",item:"sd-item sd-radio sd-selectbase__item",itemDisabled:"sd-item--disabled sd-radio--disabled",itemChecked:"sd-item--checked sd-radio--checked",itemHover:"sd-item--allowhover sd-radio--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-radio__control",itemDecorator:"sd-item__svg sd-radio__svg",cleanButton:"sd-dropdown_clean-button",cleanButtonSvg:"sd-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear",chevronButton:"sd-dropdown_chevron-button",chevronButtonSvg:"sd-dropdown_chevron-button-svg",chevronButtonIconId:"icon-chevron",control:"sd-input sd-dropdown",controlInputFieldComponent:"sd-dropdown__input-field-component",controlValue:"sd-dropdown__value",controlDisabled:"sd-input--disabled",controlEmpty:"sd-dropdown--empty",controlLabel:"sd-item__control-label",filterStringInput:"sd-dropdown__filter-string-input",materialDecorator:"sd-item__decorator sd-radio__decorator",hintPrefix:"sd-dropdown__hint-prefix",hintSuffix:"sd-dropdown__hint-suffix"},imagepicker:{mainRoot:"sd-element sd-question sd-row__question",root:"sd-selectbase sd-imagepicker",rootColumn:"sd-imagepicker--column",item:"sd-imagepicker__item",itemOnError:"sd-imagepicker__item--error",itemInline:"sd-imagepicker__item--inline",itemChecked:"sd-imagepicker__item--checked",itemDisabled:"sd-imagepicker__item--disabled",itemHover:"sd-imagepicker__item--allowhover",label:"sd-imagepicker__label",itemDecorator:"sd-imagepicker__item-decorator",imageContainer:"sd-imagepicker__image-container",itemControl:"sd-imagepicker__control sd-visuallyhidden",image:"sd-imagepicker__image",itemText:"sd-imagepicker__text",other:"sd-input sd-comment",itemNoImage:"sd-imagepicker__no-image",itemNoImageSvgIcon:"sd-imagepicker__no-image-svg",itemNoImageSvgIconId:"icon-no-image",column:"sd-selectbase__column sd-imagepicker__column",checkedItemDecorator:"sd-imagepicker__check-decorator",checkedItemSvgIcon:"sd-imagepicker__check-icon",checkedItemSvgIconId:"icon-v2check_24x24"},matrix:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",tableWrapper:"sd-matrix sd-table-wrapper",root:"sd-table sd-matrix__table",noHeader:"sd-table--no-header",rootVerticalAlignTop:"sd-table--align-top",rootVerticalAlignMiddle:"sd-table--align-middle",rootAlternateRows:"sd-table--alternate-rows",rowError:"sd-matrix__row--error",cell:"sd-table__cell sd-matrix__cell",row:"sd-table__row",rowDisabled:"sd-table__row-disabled",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-matrix__cell sd-table__cell--row-text",label:"sd-item sd-radio sd-matrix__label",itemOnError:"sd-item--error",itemValue:"sd-visuallyhidden sd-item__control sd-radio__control",itemChecked:"sd-item--checked sd-radio--checked",itemDisabled:"sd-item--disabled sd-radio--disabled",itemHover:"sd-radio--allowhover",materialDecorator:"sd-item__decorator sd-radio__decorator",itemDecorator:"sd-item__svg sd-radio__svg",cellText:"sd-matrix__text",cellTextSelected:"sd-matrix__text--checked",cellTextDisabled:"sd-matrix__text--disabled",cellResponsiveTitle:"sd-matrix__responsive-title",compact:"sd-element--with-frame sd-element--compact"},matrixdropdown:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",rootScroll:"sd-question--scroll",root:"sd-table sd-matrixdropdown",noHeader:"sd-table--no-header",hasFooter:"sd-table--has-footer",rootVerticalAlignTop:"sd-table--align-top",rootVerticalAlignMiddle:"sd-table--align-middle",tableWrapper:"sd-table-wrapper",rootAlternateRows:"sd-table--alternate-rows",cell:"sd-table__cell",errorsCell:"sd-table__cell--error",errorsCellTop:"sd-table__cell--error-top",errorsCellBottom:"sd-table__cell--error-bottom",itemCell:"sd-table__cell--item",row:"sd-table__row",expandedRow:"sd-table__row--expanded",rowHasPanel:"sd-table__row--has-panel",rowHasEndActions:"sd-table__row--has-end-actions",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-table__cell--row-text",footerCell:"sd-table__cell sd-table__cell--footer",footerTotalCell:"sd-table__cell sd-table__cell--footer-total",columnTitleCell:"sd-table__cell--column-title",cellRequiredText:"sd-question__required-text",detailButton:"sd-table__cell--detail-button",detailButtonExpanded:"sd-table__cell--detail-button--expanded",detailIcon:"sd-detail-panel__icon",detailIconExpanded:"sd-detail-panel__icon--expanded",detailIconId:"icon-expanddetail",detailIconExpandedId:"icon-collapsedetail",detailPanelCell:"sd-table__cell--detail-panel",detailRowCell:"sd-table__cell--detail",actionsCellPrefix:"sd-table__cell-action",actionsCell:"sd-table__cell sd-table__cell--actions",actionsCellDrag:"sd-table__cell--drag",emptyCell:"sd-table__cell--empty",verticalCell:"sd-table__cell--vertical",cellQuestionWrapper:"sd-table__question-wrapper",compact:"sd-element--with-frame sd-element--compact"},matrixdynamic:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",rootScroll:"sd-question--scroll",empty:"sd-question--empty",root:"sd-table sd-matrixdynamic",noHeader:"sd-table--no-header",hasFooter:"sd-table--has-footer",tableWrapper:"sd-table-wrapper",rootAlternateRows:"sd-table--alternate-rows",content:"sd-matrixdynamic__content sd-question__content",cell:"sd-table__cell",row:"sd-table__row",rowHasPanel:"sd-table__row--has-panel",rowHasEndActions:"sd-table__row--has-end-actions",expandedRow:"sd-table__row--expanded",itemCell:"sd-table__cell--item",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-table__cell--row-text",footerCell:"sd-table__cell sd-table__cell--footer",columnTitleCell:"sd-table__cell--column-title",cellRequiredText:"sd-question__required-text",button:"sd-action sd-matrixdynamic__btn",detailRow:"sd-table__row sd-table__row--detail",detailButton:"sd-table__cell--detail-button",detailButtonExpanded:"sd-table__cell--detail-button--expanded",detailIcon:"sd-detail-panel__icon",detailIconExpanded:"sd-detail-panel__icon--expanded",detailIconId:"icon-expanddetail",detailIconExpandedId:"icon-collapsedetail",detailPanelCell:"sd-table__cell--detail-panel",detailRowCell:"sd-table__cell--detail",actionsCellPrefix:"sd-table__cell-action",actionsCell:"sd-table__cell sd-table__cell--actions",actionsCellDrag:"sd-table__cell--drag",buttonAdd:"sd-matrixdynamic__add-btn",buttonRemove:"sd-action--negative sd-matrixdynamic__remove-btn",iconAdd:"sd-hidden",iconRemove:"",dragElementDecorator:"sd-drag-element__svg",iconDragElement:"#icon-v2dragelement_16x16",footer:"sd-matrixdynamic__footer",emptyRowsSection:"sd-matrixdynamic__placeholder sd-question__placeholder",iconDrag:"sv-matrixdynamic__drag-icon",ghostRow:"sv-matrix-row--drag-drop-ghost-mod",emptyCell:"sd-table__cell--empty",verticalCell:"sd-table__cell--vertical",cellQuestionWrapper:"sd-table__question-wrapper",errorsCell:"sd-table__cell--error",errorsCellTop:"sd-table__cell--error-top",errorsCellBottom:"sd-table__cell--error-bottom",compact:"sd-element--with-frame sd-element--compact"},rating:{rootDropdown:"sd-scrollable-container sd-scrollable-container--compact sd-selectbase",root:"sd-scrollable-container sd-rating",rootWrappable:"sd-rating--wrappable",rootLabelsTop:"sd-rating--labels-top",rootLabelsBottom:"sd-rating--labels-bottom",rootLabelsDiagonal:"sd-rating--labels-diagonal",item:"sd-rating__item",itemOnError:"sd-rating__item--error",itemHover:"sd-rating__item--allowhover",selected:"sd-rating__item--selected",itemStar:"sd-rating__item-star",itemStarOnError:"sd-rating__item-star--error",itemStarHover:"sd-rating__item-star--allowhover",itemStarSelected:"sd-rating__item-star--selected",itemStarDisabled:"sd-rating__item-star--disabled",itemStarHighlighted:"sd-rating__item-star--highlighted",itemStarUnhighlighted:"sd-rating__item-star--unhighlighted",itemStarSmall:"sd-rating__item-star--small",itemSmiley:"sd-rating__item-smiley",itemSmileyOnError:"sd-rating__item-smiley--error",itemSmileyHover:"sd-rating__item-smiley--allowhover",itemSmileySelected:"sd-rating__item-smiley--selected",itemSmileyDisabled:"sd-rating__item-smiley--disabled",itemSmileyHighlighted:"sd-rating__item-star--highlighted",itemSmileyScaleColored:"sd-rating__item-smiley--scale-colored",itemSmileyRateColored:"sd-rating__item-smiley--rate-colored",itemSmileySmall:"sd-rating__item-smiley--small",minText:"sd-rating__item-text sd-rating__min-text",itemText:"sd-rating__item-text",maxText:"sd-rating__item-text sd-rating__max-text",itemDisabled:"sd-rating__item--disabled",itemFixedSize:"sd-rating__item--fixed-size",control:"sd-input sd-dropdown",itemSmall:"sd-rating--small",selectWrapper:"sv-dropdown_select-wrapper",controlValue:"sd-dropdown__value",controlDisabled:"sd-input--disabled",controlEmpty:"sd-dropdown--empty",filterStringInput:"sd-dropdown__filter-string-input",chevronButton:"sd-dropdown_chevron-button",chevronButtonSvg:"sd-dropdown_chevron-button-svg",chevronButtonIconId:"icon-chevron",popup:"sv-dropdown-popup",onError:"sd-input--error"},comment:{root:"sd-input sd-comment",small:"sd-row__question--small",controlDisabled:"sd-input--disabled",content:"sd-comment__content sd-question__content",remainingCharacterCounter:"sd-remaining-character-counter",onError:"sd-input--error"},expression:"sd-expression",file:{root:"sd-file",rootDragging:"sd-file--dragging",rootAnswered:"sd-file--answered",other:"sd-input sd-comment",placeholderInput:"sd-visuallyhidden",preview:"sd-file__preview",fileSign:"",fileList:"sd-file__list",fileSignBottom:"sd-file__sign",dragArea:"sd-file__drag-area",dragAreaActive:"sd-file__drag-area--active",fileDecorator:"sd-file__decorator",onError:"sd-file__decorator--error",fileDecoratorDrag:"sd-file__decorator--drag",fileInput:"sd-visuallyhidden",noFileChosen:"sd-description sd-file__no-file-chosen",chooseFile:"sd-file__choose-btn",chooseFileAsText:"sd-action sd-file__choose-btn--text",chooseFileAsTextDisabled:"sd-action--disabled",chooseFileAsIcon:"sd-file__choose-btn--icon",chooseFileIconId:"icon-choosefile",disabled:"sd-file__choose-btn--disabled",removeButton:"sd-context-btn--negative",removeButtonBottom:"",removeButtonIconId:"icon-clear",removeFile:"sd-hidden",removeFileSvg:"",removeFileSvgIconId:"icon-delete",wrapper:"sd-file__wrapper",defaultImage:"sd-file__default-image",defaultImageIconId:"icon-defaultfile",leftIconId:"icon-arrowleft",rightIconId:"icon-arrowright",removeFileButton:"sd-context-btn--negative sd-file__remove-file-button",dragAreaPlaceholder:"sd-file__drag-area-placeholder",imageWrapper:"sd-file__image-wrapper",imageWrapperDefaultImage:"sd-file__image-wrapper--default-image",single:"sd-file--single",singleImage:"sd-file--single-image",mobile:"sd-file--mobile",videoContainer:"sd-file__video-container",contextButton:"sd-context-btn",video:"sd-file__video",actionsContainer:"sd-file__actions-container",closeCameraButton:"sd-file__close-camera-button",changeCameraButton:"sd-file__change-camera-button",takePictureButton:"sd-file__take-picture-button",loadingIndicator:"sd-file__loading-indicator"},signaturepad:{mainRoot:"sd-element sd-question sd-question--signature sd-row__question",root:"sd-signaturepad sjs_sp_container",small:"sd-row__question--small",controls:"sjs_sp_controls sd-signaturepad__controls",placeholder:"sjs_sp_placeholder",canvas:"sjs_sp_canvas sd-signaturepad__canvas",backgroundImage:"sjs_sp__background-image sd-signaturepad__background-image",clearButton:"sjs_sp_clear sd-context-btn sd-context-btn--negative sd-signaturepad__clear",clearButtonIconId:"icon-clear",loadingIndicator:"sd-signaturepad__loading-indicator"},saveData:{root:"sv-save-data_root",rootWithButtons:"sv-save-data_root--with-buttons",info:"sv-save-data_info",error:"sv-save-data_error",success:"sv-save-data_success",button:"sv-save-data_button",shown:"sv-save-data_root--shown"},window:{root:"sv_window",rootCollapsedMod:"sv_window--collapsed",rootContent:"sv_window_root-content",body:"sv_window_content",header:{root:"sv_window_header",titleCollapsed:"sv_window_header_title_collapsed",buttonsContainer:"sv_window_buttons_container",button:"sv_window_button",buttonExpanded:"",buttonCollapsed:"",collapseButton:"sv_window_button sv_window_button_collapse",closeButton:"sv_window_button sv_window_button_close"}},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sd-ranking--disabled",rootDesignMode:"sv-ranking--design-mode",rootDragHandleAreaIcon:"sv-ranking--drag-handle-area-icon",rootSelectToRankMod:"sv-ranking--select-to-rank",rootSelectToRankAlignVertical:"sv-ranking--select-to-rank-vertical",rootSelectToRankAlignHorizontal:"sv-ranking--select-to-rank-horizontal",item:"sv-ranking-item",itemContent:"sv-ranking-item__content sd-ranking-item__content",itemIndex:"sv-ranking-item__index sd-ranking-item__index",itemIndexEmptyMode:"sv-ranking-item__index--empty sd-ranking-item__index--empty",itemDisabled:"sv-ranking-item--disabled",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking--drag",itemOnError:"sv-ranking-item--error",container:"sv-ranking__container",containerEmptyMode:"sv-ranking__container--empty",containerFromMode:"sv-ranking__container--from",containerToMode:"sv-ranking__container--to",containerPlaceholder:"sv-ranking__container-placeholder",containersDivider:"sv-ranking__containers-divider"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemHover:"sv-button-group__item--hover",itemSelected:"sv-button-group__item--selected",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},list:{root:"sv-list__container sd-list",item:"sv-list__item sd-list__item",itemBody:"sv-list__item-body sd-list__item-body",itemSelected:"sv-list__item--selected sd-list__item--selected",itemFocused:"sv-list__item--focused sd-list__item--focused"},actionBar:{root:"sd-action-bar",item:"sd-action",defaultSizeMode:"",smallSizeMode:"",itemPressed:"sd-action--pressed",itemAsIcon:"sd-action--icon",itemIcon:"sd-action__icon",itemTitle:"sd-action__title"},variables:{mobileWidth:"--sd-mobile-width",themeMark:"--sv-defaultV2-mark"},tagbox:{root:"sd-selectbase",popup:"sv-dropdown-popup",small:"sd-row__question--small",selectWrapper:"sv-dropdown_select-wrapper",other:"sd-input sd-comment sd-selectbase__other",onError:"sd-input--error",label:"sd-selectbase__label",itemSvgIconId:"#icon-v2check",item:"sd-item sd-checkbox sd-selectbase__item",itemDisabled:"sd-item--disabled sd-checkbox--disabled",itemChecked:"sd-item--checked sd-checkbox--checked",itemHover:"sd-item--allowhover sd-checkbox--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-checkbox__control",itemDecorator:"sd-item__svg sd-checkbox__svg",cleanButton:"sd-tagbox_clean-button sd-dropdown_clean-button",cleanButtonSvg:"sd-tagbox_clean-button-svg sd-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear",cleanItemButton:"sd-tagbox-item_clean-button",cleanItemButtonSvg:"sd-tagbox-item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",chevronButton:"sd-dropdown_chevron-button",chevronButtonSvg:"sd-dropdown_chevron-button-svg",chevronButtonIconId:"icon-chevron",control:"sd-input sd-tagbox sd-dropdown",controlValue:"sd-tagbox__value sd-dropdown__value",controlValueItems:"sd-tagbox__value-items",placeholderInput:"sd-tagbox__placeholder",controlDisabled:"sd-input--disabled",controlEmpty:"sd-dropdown--empty sd-tagbox--empty",controlLabel:"sd-item__control-label",filterStringInput:"sd-tagbox__filter-string-input sd-dropdown__filter-string-input",materialDecorator:"sd-item__decorator sd-checkbox__decorator",hint:"sd-tagbox__hint",hintPrefix:"sd-dropdown__hint-prefix sd-tagbox__hint-prefix",hintSuffix:"sd-dropdown__hint-suffix sd-tagbox__hint-suffix",hintSuffixWrapper:"sd-tagbox__hint-suffix-wrapper"}},D="defaultV2";P[D]=C},"./src/defaultTitle.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"DefaultTitleModel",function(){return C});var P=d("./src/utils/cssClassBuilder.ts"),C=function(){function D(){}return D.getIconCss=function(A,R){return new P.CssClassBuilder().append(A.icon).append(A.iconExpanded,!R).toString()},D}()},"./src/drag-drop-helper-v1.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"DragDropInfo",function(){return P});var P=function(){function C(D,A,R){R===void 0&&(R=-1),this.source=D,this.target=A,this.nestedPanelDepth=R}return C}()},"./src/drag-drop-page-helper-v1.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"DragDropPageHelperV1",function(){return C});var P=d("./src/drag-drop-helper-v1.ts"),C=function(){function D(A){this.page=A}return D.prototype.getDragDropInfo=function(){return this.dragDropInfo},D.prototype.dragDropStart=function(A,R,V){V===void 0&&(V=-1),this.dragDropInfo=new P.DragDropInfo(A,R,V)},D.prototype.dragDropMoveTo=function(A,R,V){if(R===void 0&&(R=!1),V===void 0&&(V=!1),!this.dragDropInfo||(this.dragDropInfo.destination=A,this.dragDropInfo.isBottom=R,this.dragDropInfo.isEdge=V,this.correctDragDropInfo(this.dragDropInfo),!this.dragDropCanDropTagert()))return!1;if(!this.dragDropCanDropSource()||!this.dragDropAllowFromSurvey()){if(this.dragDropInfo.source){var O=this.page.dragDropFindRow(this.dragDropInfo.target);this.page.updateRowsRemoveElementFromRow(this.dragDropInfo.target,O)}return!1}return this.page.dragDropAddTarget(this.dragDropInfo),!0},D.prototype.correctDragDropInfo=function(A){if(A.destination){var R=A.destination.isPanel?A.destination:null;R&&(A.target.isLayoutTypeSupported(R.getChildrenLayoutType())||(A.isEdge=!0))}},D.prototype.dragDropAllowFromSurvey=function(){var A=this.dragDropInfo.destination;if(!A||!this.page.survey)return!0;var R=null,V=null,O=A.isPage||!this.dragDropInfo.isEdge&&A.isPanel?A:A.parent;if(!A.isPage){var l=A.parent;if(l){var y=l.elements,p=y.indexOf(A);p>-1&&(R=A,V=A,this.dragDropInfo.isBottom?R=p<y.length-1?y[p+1]:null:V=p>0?y[p-1]:null)}}var f={allow:!0,target:this.dragDropInfo.target,source:this.dragDropInfo.source,toElement:this.dragDropInfo.target,draggedElement:this.dragDropInfo.source,parent:O,fromElement:this.dragDropInfo.source?this.dragDropInfo.source.parent:null,insertAfter:V,insertBefore:R};return this.page.survey.dragAndDropAllow(f)},D.prototype.dragDropFinish=function(A){if(A===void 0&&(A=!1),!!this.dragDropInfo){var R=this.dragDropInfo.target,V=this.dragDropInfo.source,O=this.dragDropInfo.destination,l=this.page.dragDropFindRow(R),y=this.dragDropGetElementIndex(R,l);this.page.updateRowsRemoveElementFromRow(R,l);var p=[],f=[];if(!A&&l){var e=!1;if(this.page.isDesignModeV2){var m=V&&V.parent&&V.parent.dragDropFindRow(V);l.panel.elements[y]&&l.panel.elements[y].startWithNewLine&&l.elements.length>1&&l.panel.elements[y]===O&&(p.push(R),f.push(l.panel.elements[y])),R.startWithNewLine&&l.elements.length>1&&(!l.panel.elements[y]||!l.panel.elements[y].startWithNewLine)&&f.push(R),m&&m.elements[0]===V&&m.elements[1]&&p.push(m.elements[1]),l.elements.length<=1&&p.push(R),R.startWithNewLine&&l.elements.length>1&&l.elements[0]!==O&&f.push(R)}this.page.survey.startMovingQuestion(),V&&V.parent&&(e=l.panel==V.parent,e?(l.panel.dragDropMoveElement(V,R,y),y=-1):V.parent.removeElement(V)),y>-1&&l.panel.addElement(R,y),this.page.survey.stopMovingQuestion()}return p.map(function(s){s.startWithNewLine=!0}),f.map(function(s){s.startWithNewLine=!1}),this.dragDropInfo=null,A?null:R}},D.prototype.dragDropGetElementIndex=function(A,R){if(!R)return-1;var V=R.elements.indexOf(A);if(R.index==0)return V;var O=R.panel.rows[R.index-1],l=O.elements[O.elements.length-1];return V+R.panel.elements.indexOf(l)+1},D.prototype.dragDropCanDropTagert=function(){var A=this.dragDropInfo.destination;return!A||A.isPage?!0:this.dragDropCanDropCore(this.dragDropInfo.target,A)},D.prototype.dragDropCanDropSource=function(){var A=this.dragDropInfo.source;if(!A)return!0;var R=this.dragDropInfo.destination;if(!this.dragDropCanDropCore(A,R))return!1;if(this.page.isDesignModeV2){var V=this.page.dragDropFindRow(A),O=this.page.dragDropFindRow(R);if(V!==O&&(!A.startWithNewLine&&R.startWithNewLine||A.startWithNewLine&&!R.startWithNewLine))return!0;var l=this.page.dragDropFindRow(R);if(l&&l.elements.length==1)return!0}return this.dragDropCanDropNotNext(A,R,this.dragDropInfo.isEdge,this.dragDropInfo.isBottom)},D.prototype.dragDropCanDropCore=function(A,R){if(!R)return!0;if(this.dragDropIsSameElement(R,A))return!1;if(A.isPanel){var V=A;if(V.containsElement(R)||V.getElementByName(R.name))return!1}return!0},D.prototype.dragDropCanDropNotNext=function(A,R,V,O){if(!R||R.isPanel&&!V||typeof A.parent>"u"||A.parent!==R.parent)return!0;var l=A.parent,y=l.elements.indexOf(A),p=l.elements.indexOf(R);return p<y&&!O&&p--,O&&p++,y<p?p-y>1:y-p>0},D.prototype.dragDropIsSameElement=function(A,R){return A==R||A.name==R.name},D}()},"./src/drag-drop-panel-helper-v1.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"DragDropPanelHelperV1",function(){return C});var P=d("./src/drag-drop-helper-v1.ts"),C=function(){function D(A){this.panel=A}return D.prototype.dragDropAddTarget=function(A){var R=this.dragDropFindRow(A.target);this.dragDropAddTargetToRow(A,R)&&this.panel.updateRowsRemoveElementFromRow(A.target,R)},D.prototype.dragDropFindRow=function(A){if(!A||A.isPage)return null;for(var R=A,V=this.panel.rows,O=0;O<V.length;O++)if(V[O].elements.indexOf(R)>-1)return V[O];for(var O=0;O<this.panel.elements.length;O++){var l=this.panel.elements[O].getPanel();if(l){var y=l.dragDropFindRow(R);if(y)return y}}return null},D.prototype.dragDropMoveElement=function(A,R,V){var O=A.parent.elements.indexOf(A);V>O&&V--,this.panel.removeElement(A),this.panel.addElement(R,V)},D.prototype.updateRowsOnElementAdded=function(A,R,V,O){V||(V=new P.DragDropInfo(null,A),V.target=A,V.isEdge=this.panel.elements.length>1,this.panel.elements.length<2?V.destination=O:(V.isBottom=R>0,R==0?V.destination=this.panel.elements[1]:V.destination=this.panel.elements[R-1])),this.dragDropAddTargetToRow(V,null)},D.prototype.dragDropAddTargetToRow=function(A,R){if(!A.destination||this.dragDropAddTargetToEmptyPanel(A))return!0;var V=A.destination,O=this.dragDropFindRow(V);return O?A.target.startWithNewLine?this.dragDropAddTargetToNewRow(A,O,R):this.dragDropAddTargetToExistingRow(A,O,R):!0},D.prototype.dragDropAddTargetToEmptyPanel=function(A){if(A.destination.isPage)return this.dragDropAddTargetToEmptyPanelCore(this.panel.root,A.target,A.isBottom),!0;var R=A.destination;if(R.isPanel&&!A.isEdge){var V=R;if(A.target.template===R)return!1;if(A.nestedPanelDepth<0||A.nestedPanelDepth>=V.depth)return this.dragDropAddTargetToEmptyPanelCore(R,A.target,A.isBottom),!0}return!1},D.prototype.dragDropAddTargetToExistingRow=function(A,R,V){var O=R.elements.indexOf(A.destination);if(O==0&&!A.isBottom&&!this.panel.isDesignModeV2){if(R.elements[0].startWithNewLine)return R.index>0?(A.isBottom=!0,R=R.panel.rows[R.index-1],A.destination=R.elements[R.elements.length-1],this.dragDropAddTargetToExistingRow(A,R,V)):this.dragDropAddTargetToNewRow(A,R,V)}var l=-1;V==R&&(l=R.elements.indexOf(A.target)),A.isBottom&&O++;var y=this.panel.findRowByElement(A.source);return y==R&&y.elements.indexOf(A.source)==O||O==l?!1:(l>-1&&(R.elements.splice(l,1),l<O&&O--),R.elements.splice(O,0,A.target),R.updateVisible(),l<0)},D.prototype.dragDropAddTargetToNewRow=function(A,R,V){var O=R.panel.createRowAndSetLazy(R.panel.rows.length);this.panel.isDesignModeV2&&O.setIsLazyRendering(!1),O.addElement(A.target);var l=R.index;if(A.isBottom&&l++,V&&V.panel==O.panel&&V.index==l)return!1;var y=this.panel.findRowByElement(A.source);return y&&y.panel==O.panel&&y.elements.length==1&&y.index==l?!1:(R.panel.rows.splice(l,0,O),!0)},D.prototype.dragDropAddTargetToEmptyPanelCore=function(A,R,V){var O=A.createRow();O.addElement(R),A.elements.length==0||V?A.rows.push(O):A.rows.splice(0,0,O)},D}()},"./src/dragdrop/choices.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"DragDropChoices",function(){return D});var P=d("./src/dragdrop/core.ts"),C=function(){var A=function(R,V){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,l){O.__proto__=l}||function(O,l){for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(O[y]=l[y])},A(R,V)};return function(R,V){if(typeof V!="function"&&V!==null)throw new TypeError("Class extends value "+String(V)+" is not a constructor or null");A(R,V);function O(){this.constructor=R}R.prototype=V===null?Object.create(V):(O.prototype=V.prototype,new O)}}(),D=function(A){C(R,A);function R(){var V=A!==null&&A.apply(this,arguments)||this;return V.doDragOver=function(){if(V.parentElement.getType()!=="imagepicker"){var O=V.domAdapter.draggedElementShortcut.querySelector(".svc-item-value-controls__button");O.style.cursor="grabbing"}},V.doBanDropHere=function(){if(V.parentElement.getType()!=="imagepicker"){var O=V.domAdapter.draggedElementShortcut.querySelector(".svc-item-value-controls__button");O.style.cursor="not-allowed"}},V}return Object.defineProperty(R.prototype,"draggedElementType",{get:function(){return"item-value"},enumerable:!1,configurable:!0}),R.prototype.createDraggedElementShortcut=function(V,O,l){if(this.parentElement.getType()==="imagepicker")return this.createImagePickerShortcut(this.draggedElement,V,O,l);var y=document.createElement("div");y.style.cssText=` 
          cursor: grabbing;
          position: absolute;
          z-index: 10000;
          font-family: var(--sjs-font-family, var(--font-family, var(--sjs-default-font-family)));
        `;var p=!0,f=O.closest("[data-sv-drop-target-item-value]").cloneNode(p);f.style.cssText=`
      min-width: 100px;
      box-shadow: var(--sjs-shadow-large, 0px 8px 16px 0px rgba(0, 0, 0, 0.1)), var(--sjs-shadow-medium, 0px 2px 6px 0px rgba(0, 0, 0, 0.1));
      background-color: var(--sjs-general-backcolor, var(--background, #fff));
      border-radius: calc(4.5 * var(--sjs-base-unit, var(--base-unit, 8px)));
      padding-right: calc(2* var(--sjs-base-unit, var(--base-unit, 8px)));
      margin-left: 0;
    `;var e=f.querySelector(".svc-item-value-controls__drag-icon");e.style.visibility="visible";var m=f.querySelector(".svc-item-value-controls__remove");m.style.backgroundColor="transparent",f.classList.remove("svc-item-value--moveup"),f.classList.remove("svc-item-value--movedown"),this.draggedElement.isDragDropMoveDown=!1,this.draggedElement.isDragDropMoveUp=!1,y.appendChild(f);var s=O.getBoundingClientRect();return y.shortcutXOffset=l.clientX-s.x,y.shortcutYOffset=l.clientY-s.y,this.isBottom=null,y},R.prototype.createImagePickerShortcut=function(V,O,l,y){var p=document.createElement("div");p.style.cssText=` 
      cursor: grabbing;
      position: absolute;
      z-index: 10000;
      box-shadow: var(--sjs-shadow-large, 0px 8px 16px 0px rgba(0, 0, 0, 0.1)), var(--sjs-shadow-medium, 0px 2px 6px 0px rgba(0, 0, 0, 0.1));
      background-color: var(--sjs-general-backcolor, var(--background, #fff));
      padding: calc(0.5 * var(--sjs-base-unit, var(--base-unit, 8px)));
      border-radius: calc(0.5 * var(--sjs-base-unit, var(--base-unit, 8px)));
    `;var f=l.closest("[data-sv-drop-target-item-value]");this.imagepickerControlsNode=f.querySelector(".svc-image-item-value-controls");var e=f.querySelector(".sd-imagepicker__image-container"),m=f.querySelector(V.imageLink?"img":".sd-imagepicker__no-image").cloneNode(!0);return this.imagepickerControlsNode&&(this.imagepickerControlsNode.style.display="none"),e.style.width=m.width+"px",e.style.height=m.height+"px",m.style.objectFit="cover",m.style.borderRadius="4px",p.appendChild(m),p},R.prototype.getDropTargetByDataAttributeValue=function(V){var O;return O=this.parentElement.choices.filter(function(l){return""+l.value==V})[0],O},R.prototype.getVisibleChoices=function(){var V=this.parentElement;return V.getType()==="ranking"?V.selectToRankEnabled?V.visibleChoices:V.rankingChoices:V.visibleChoices},R.prototype.isDropTargetValid=function(V,O){var l=this.getVisibleChoices();if(this.parentElement.getType()!=="imagepicker"){var y=l.indexOf(this.dropTarget),p=l.indexOf(this.draggedElement);if(p>y&&this.dropTarget.isDragDropMoveUp)return this.dropTarget.isDragDropMoveUp=!1,!1;if(p<y&&this.dropTarget.isDragDropMoveDown)return this.dropTarget.isDragDropMoveDown=!1,!1}return l.indexOf(V)!==-1},R.prototype.calculateIsBottom=function(V){var O=this.getVisibleChoices();return O.indexOf(this.dropTarget)-O.indexOf(this.draggedElement)>0},R.prototype.afterDragOver=function(V){if(!this.isDropTargetDoesntChanged(this.isBottom)&&this.dropTarget!==this.draggedElement){var O=this.getVisibleChoices(),l=O.indexOf(this.dropTarget),y=O.indexOf(this.draggedElement);O.splice(y,1),O.splice(l,0,this.draggedElement),this.parentElement.getType()!=="imagepicker"&&(y!==l&&(V.classList.remove("svc-item-value--moveup"),V.classList.remove("svc-item-value--movedown"),this.dropTarget.isDragDropMoveDown=!1,this.dropTarget.isDragDropMoveUp=!1),y>l&&(this.dropTarget.isDragDropMoveDown=!0),y<l&&(this.dropTarget.isDragDropMoveUp=!0),A.prototype.ghostPositionChanged.call(this))}},R.prototype.doDrop=function(){var V=this.parentElement.choices,O=this.getVisibleChoices().filter(function(p){return V.indexOf(p)!==-1}),l=V.indexOf(this.draggedElement),y=O.indexOf(this.draggedElement);return V.splice(l,1),V.splice(y,0,this.draggedElement),this.parentElement},R.prototype.clear=function(){this.parentElement&&this.updateVisibleChoices(this.parentElement),this.imagepickerControlsNode&&(this.imagepickerControlsNode.style.display="flex",this.imagepickerControlsNode=null),A.prototype.clear.call(this)},R.prototype.updateVisibleChoices=function(V){V.getType()==="ranking"?V.updateRankingChoices():V.updateVisibleChoices()},R}(P.DragDropCore)},"./src/dragdrop/core.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"DragDropCore",function(){return D});var P=d("./src/base.ts"),C=d("./src/dragdrop/dom-adapter.ts"),D=function(){function A(R,V,O,l){var y=this;this.surveyValue=R,this.creator=V,this._isBottom=null,this.onGhostPositionChanged=new P.EventBase,this.onDragStart=new P.EventBase,this.onDragEnd=new P.EventBase,this.onBeforeDrop=this.onDragStart,this.onAfterDrop=this.onDragEnd,this.draggedElement=null,this.dropTarget=null,this.prevDropTarget=null,this.allowDropHere=!1,this.banDropHere=function(){y.allowDropHere=!1,y.doBanDropHere(),y.dropTarget=null,y.domAdapter.draggedElementShortcut.style.cursor="not-allowed",y.isBottom=null},this.doBanDropHere=function(){},this.domAdapter=l||new C.DragDropDOMAdapter(this,O)}return Object.defineProperty(A.prototype,"isBottom",{get:function(){return!!this._isBottom},set:function(R){this._isBottom=R,this.ghostPositionChanged()},enumerable:!1,configurable:!0}),A.prototype.ghostPositionChanged=function(){this.onGhostPositionChanged.fire({},{})},Object.defineProperty(A.prototype,"dropTargetDataAttributeName",{get:function(){return"[data-sv-drop-target-"+this.draggedElementType+"]"},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"survey",{get:function(){return this.surveyValue||this.creator.survey},enumerable:!1,configurable:!0}),A.prototype.startDrag=function(R,V,O,l,y){var p;y===void 0&&(y=!1),this.domAdapter.rootContainer=(p=this.survey)===null||p===void 0?void 0:p.rootElement,this.domAdapter.startDrag(R,V,O,l,y)},A.prototype.dragInit=function(R,V,O,l){this.draggedElement=V,this.parentElement=O;var y=this.getShortcutText(this.draggedElement);this.domAdapter.draggedElementShortcut=this.createDraggedElementShortcut(y,l,R),this.onStartDrag(R)},A.prototype.onStartDrag=function(R){},A.prototype.isDropTargetDoesntChanged=function(R){return this.dropTarget===this.prevDropTarget&&R===this.isBottom},A.prototype.getShortcutText=function(R){return R.shortcutText},A.prototype.createDraggedElementShortcut=function(R,V,O){var l=document.createElement("div");return l.innerText=R,l.className=this.getDraggedElementClass(),l},A.prototype.getDraggedElementClass=function(){return"sv-dragged-element-shortcut"},A.prototype.doDragOver=function(){},A.prototype.afterDragOver=function(R){},A.prototype.findDropTargetNodeFromPoint=function(R,V){var O=this.domAdapter.draggedElementShortcut.style.display;this.domAdapter.draggedElementShortcut.style.display="none";var l=document.elementFromPoint(R,V);return this.domAdapter.draggedElementShortcut.style.display=O||"block",l?this.findDropTargetNodeByDragOverNode(l):null},A.prototype.getDataAttributeValueByNode=function(R){var V=this,O="svDropTarget",l=this.draggedElementType.split("-");return l.forEach(function(y){O+=V.capitalizeFirstLetter(y)}),R.dataset[O]},A.prototype.getDropTargetByNode=function(R,V){var O=this.getDataAttributeValueByNode(R);return this.getDropTargetByDataAttributeValue(O,R,V)},A.prototype.capitalizeFirstLetter=function(R){return R.charAt(0).toUpperCase()+R.slice(1)},A.prototype.calculateVerticalMiddleOfHTMLElement=function(R){var V=R.getBoundingClientRect();return V.y+V.height/2},A.prototype.calculateHorizontalMiddleOfHTMLElement=function(R){var V=R.getBoundingClientRect();return V.x+V.width/2},A.prototype.calculateIsBottom=function(R,V){return!1},A.prototype.findDropTargetNodeByDragOverNode=function(R){var V=R.closest(this.dropTargetDataAttributeName);return V},A.prototype.dragOver=function(R){var V=this.findDropTargetNodeFromPoint(R.clientX,R.clientY);if(!V){this.banDropHere();return}this.dropTarget=this.getDropTargetByNode(V,R);var O=this.isDropTargetValid(this.dropTarget,V);if(this.doDragOver(),!O){this.banDropHere();return}var l=this.calculateIsBottom(R.clientY,V);this.allowDropHere=!0,!this.isDropTargetDoesntChanged(l)&&(this.isBottom=null,this.isBottom=l,this.afterDragOver(V),this.prevDropTarget=this.dropTarget)},A.prototype.drop=function(){if(this.allowDropHere){var R=this.draggedElement.parent;this.onDragStart.fire(this,{fromElement:R,draggedElement:this.draggedElement});var V=this.doDrop();this.onDragEnd.fire(this,{fromElement:R,draggedElement:V,toElement:this.dropTarget})}},A.prototype.clear=function(){this.dropTarget=null,this.prevDropTarget=null,this.draggedElement=null,this.isBottom=null,this.parentElement=null},A}()},"./src/dragdrop/dom-adapter.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"DragDropDOMAdapter",function(){return R});var P=d("./src/utils/utils.ts"),C=d("./src/utils/devices.ts"),D=d("./src/settings.ts"),A=function(V,O){for(var l=0,y=O.length,p=V.length;l<y;l++,p++)V[p]=O[l];return V};typeof window<"u"&&window.addEventListener("touchmove",function(V){R.PreventScrolling&&V.preventDefault()},{passive:!1});var R=function(){function V(O,l){var y=this;l===void 0&&(l=!0),this.dd=O,this.longTap=l,this.scrollIntervalId=null,this.stopLongTapIfMoveEnough=function(p){p.preventDefault(),y.currentX=p.pageX,y.currentY=p.pageY,!y.isMicroMovement&&(y.returnUserSelectBack(),y.stopLongTap())},this.stopLongTap=function(p){clearTimeout(y.timeoutID),y.timeoutID=null,document.removeEventListener("pointerup",y.stopLongTap),document.removeEventListener("pointermove",y.stopLongTapIfMoveEnough)},this.handlePointerCancel=function(p){y.clear()},this.handleEscapeButton=function(p){p.keyCode==27&&y.clear()},this.onContextMenu=function(p){p.preventDefault(),p.stopPropagation()},this.dragOver=function(p){y.moveShortcutElement(p),y.draggedElementShortcut.style.cursor="grabbing",y.dd.dragOver(p)},this.clear=function(){cancelAnimationFrame(y.scrollIntervalId),document.removeEventListener("pointermove",y.dragOver),document.removeEventListener("pointercancel",y.handlePointerCancel),document.removeEventListener("keydown",y.handleEscapeButton),document.removeEventListener("pointerup",y.drop),y.draggedElementShortcut.removeEventListener("pointerup",y.drop),C.IsTouch&&y.draggedElementShortcut.removeEventListener("contextmenu",y.onContextMenu),y.draggedElementShortcut.parentElement.removeChild(y.draggedElementShortcut),y.dd.clear(),y.draggedElementShortcut=null,y.scrollIntervalId=null,C.IsTouch&&(y.savedTargetNode.style.cssText=null,y.savedTargetNode&&y.savedTargetNode.parentElement.removeChild(y.savedTargetNode),y.insertNodeToParentAtIndex(y.savedTargetNodeParent,y.savedTargetNode,y.savedTargetNodeIndex),V.PreventScrolling=!1),y.savedTargetNode=null,y.savedTargetNodeParent=null,y.savedTargetNodeIndex=null,y.returnUserSelectBack()},this.drop=function(){y.dd.drop(),y.clear()},this.draggedElementShortcut=null}return Object.defineProperty(V.prototype,"rootElement",{get:function(){return Object(P.isShadowDOM)(D.settings.environment.root)?D.settings.environment.root.host:this.rootContainer||D.settings.environment.root.documentElement||document.body},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"isMicroMovement",{get:function(){var O=5,l=Math.abs(this.currentX-this.startX),y=Math.abs(this.currentY-this.startY);return l<O&&y<O},enumerable:!1,configurable:!0}),V.prototype.startLongTapProcessing=function(O,l,y,p,f){var e=this;f===void 0&&(f=!1),this.startX=O.pageX,this.startY=O.pageY,document.body.style.setProperty("touch-action","none","important"),this.timeoutID=setTimeout(function(){e.doStartDrag(O,l,y,p),f||(e.savedTargetNode=O.target,e.savedTargetNode.style.cssText=`
          position: absolute;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden;
          clip: rect(1px 1px 1px 1px);
          clip: rect(1px, 1px, 1px, 1px);
        `,e.savedTargetNodeParent=e.savedTargetNode.parentElement,e.savedTargetNodeIndex=e.getNodeIndexInParent(e.savedTargetNode),e.rootElement.appendChild(e.savedTargetNode)),e.stopLongTap()},this.longTap?500:0),document.addEventListener("pointerup",this.stopLongTap),document.addEventListener("pointermove",this.stopLongTapIfMoveEnough)},V.prototype.moveShortcutElement=function(O){var l=this.rootElement.getBoundingClientRect().x,y=this.rootElement.getBoundingClientRect().y;this.doScroll(O.clientY,O.clientX);var p=this.draggedElementShortcut.offsetHeight,f=this.draggedElementShortcut.offsetWidth,e=this.draggedElementShortcut.shortcutXOffset||f/2,m=this.draggedElementShortcut.shortcutYOffset||p/2;document.querySelectorAll("[dir='rtl']").length!==0&&(e=f/2,m=p/2);var s=document.documentElement.clientHeight,a=document.documentElement.clientWidth,c=O.pageX,r=O.pageY,t=O.clientX,n=O.clientY,o=this.getShortcutBottomCoordinate(n,p,m),u=this.getShortcutRightCoordinate(t,f,e);if(u>=a){this.draggedElementShortcut.style.left=a-f-l+"px",this.draggedElementShortcut.style.top=n-m-y+"px";return}if(t-e<=0){this.draggedElementShortcut.style.left=c-t-l+"px",this.draggedElementShortcut.style.top=n-y-m+"px";return}if(o>=s){this.draggedElementShortcut.style.left=t-e-l+"px",this.draggedElementShortcut.style.top=s-p-y+"px";return}if(n-m<=0){this.draggedElementShortcut.style.left=t-e-l+"px",this.draggedElementShortcut.style.top=r-n-y+"px";return}this.draggedElementShortcut.style.left=t-l-e+"px",this.draggedElementShortcut.style.top=n-y-m+"px"},V.prototype.getShortcutBottomCoordinate=function(O,l,y){return O+l-y},V.prototype.getShortcutRightCoordinate=function(O,l,y){return O+l-y},V.prototype.doScroll=function(O,l){var y=this;cancelAnimationFrame(this.scrollIntervalId);var p=100,f=this.draggedElementShortcut.style.display;this.draggedElementShortcut.style.display="none";var e=document.elementFromPoint(l,O);this.draggedElementShortcut.style.display=f||"block";var m=Object(P.findScrollableParent)(e),s,a,c,r;m.tagName==="HTML"?(s=0,a=document.documentElement.clientHeight,c=0,r=document.documentElement.clientWidth):(s=m.getBoundingClientRect().top,a=m.getBoundingClientRect().bottom,c=m.getBoundingClientRect().left,r=m.getBoundingClientRect().right);var t=function(){O-s<=p?m.scrollTop-=15:a-O<=p?m.scrollTop+=15:r-l<=p?m.scrollLeft+=15:l-c<=p&&(m.scrollLeft-=15),y.scrollIntervalId=requestAnimationFrame(t)};this.scrollIntervalId=requestAnimationFrame(t)},V.prototype.doStartDrag=function(O,l,y,p){C.IsTouch&&(V.PreventScrolling=!0),O.which!==3&&(this.dd.dragInit(O,l,y,p),this.rootElement.append(this.draggedElementShortcut),this.moveShortcutElement(O),document.addEventListener("pointermove",this.dragOver),document.addEventListener("pointercancel",this.handlePointerCancel),document.addEventListener("keydown",this.handleEscapeButton),document.addEventListener("pointerup",this.drop),C.IsTouch?this.draggedElementShortcut.addEventListener("contextmenu",this.onContextMenu):this.draggedElementShortcut.addEventListener("pointerup",this.drop))},V.prototype.returnUserSelectBack=function(){document.body.style.setProperty("touch-action","auto"),document.body.style.setProperty("user-select","auto"),document.body.style.setProperty("-webkit-user-select","auto")},V.prototype.startDrag=function(O,l,y,p,f){if(f===void 0&&(f=!1),document.body.style.setProperty("user-select","none","important"),document.body.style.setProperty("-webkit-user-select","none","important"),C.IsTouch){this.startLongTapProcessing(O,l,y,p,f);return}this.doStartDrag(O,l,y,p)},V.prototype.getNodeIndexInParent=function(O){return A([],O.parentElement.childNodes).indexOf(O)},V.prototype.insertNodeToParentAtIndex=function(O,l,y){O.insertBefore(l,O.childNodes[y])},V.PreventScrolling=!1,V}()},"./src/dragdrop/matrix-rows.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"DragDropMatrixRows",function(){return D});var P=d("./src/dragdrop/core.ts"),C=function(){var A=function(R,V){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,l){O.__proto__=l}||function(O,l){for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(O[y]=l[y])},A(R,V)};return function(R,V){if(typeof V!="function"&&V!==null)throw new TypeError("Class extends value "+String(V)+" is not a constructor or null");A(R,V);function O(){this.constructor=R}R.prototype=V===null?Object.create(V):(O.prototype=V.prototype,new O)}}(),D=function(A){C(R,A);function R(){var V=A!==null&&A.apply(this,arguments)||this;return V.fromIndex=null,V.toIndex=null,V.doDrop=function(){return V.parentElement.moveRowByIndex(V.fromIndex,V.toIndex),V.parentElement},V}return Object.defineProperty(R.prototype,"draggedElementType",{get:function(){return"matrix-row"},enumerable:!1,configurable:!0}),R.prototype.onStartDrag=function(){this.restoreUserSelectValue=document.body.style.userSelect,document.body.style.userSelect="none"},R.prototype.createDraggedElementShortcut=function(V,O,l){var y=this,p=document.createElement("div");p.style.cssText=` 
          cursor: grabbing;
          position: absolute;
          z-index: 10000;
          font-family: var(--sjs-font-family, var(--font-family, var(--sjs-default-font-family)));
        `;var f=!0;if(O){var e=O.closest("[data-sv-drop-target-matrix-row]"),m=e.cloneNode(f);m.style.cssText=`
        box-shadow: var(--sjs-shadow-large, 0px 8px 16px 0px rgba(0, 0, 0, 0.1)), var(--sjs-shadow-medium, 0px 2px 6px 0px rgba(0, 0, 0, 0.1));
        background-color: var(--sjs-general-backcolor, var(--background, #fff));
        display: flex;
        flex-grow: 0;
        flex-shrink: 0;
        align-items: center;
        line-height: 0;
        width: `+e.offsetWidth+`px;
      `,m.classList.remove("sv-matrix__drag-drop--moveup"),m.classList.remove("sv-matrix__drag-drop--movedown"),this.draggedElement.isDragDropMoveDown=!1,this.draggedElement.isDragDropMoveUp=!1,p.appendChild(m);var s=O.getBoundingClientRect();p.shortcutXOffset=l.clientX-s.x,p.shortcutYOffset=l.clientY-s.y}var a=this.parentElement.renderedTable.rows;return a.forEach(function(c,r){c.row===y.draggedElement&&(c.isGhostRow=!0)}),this.fromIndex=this.parentElement.visibleRows.indexOf(this.draggedElement),p},R.prototype.getDropTargetByDataAttributeValue=function(V){var O=this.parentElement,l;return l=O.renderedTable.rows.filter(function(y){return y.row&&y.row.id===V})[0],l.row},R.prototype.isDropTargetValid=function(V,O){return!0},R.prototype.calculateIsBottom=function(V){var O=this.parentElement.renderedTable.rows,l=O.map(function(y){return y.row});return l.indexOf(this.dropTarget)-l.indexOf(this.draggedElement)>0},R.prototype.afterDragOver=function(V){var O=this;if(!this.isDropTargetDoesntChanged(this.isBottom)&&this.dropTarget!==this.draggedElement){var l,y,p,f=this.parentElement.renderedTable.rows;f.forEach(function(e,m){e.row===O.dropTarget&&(l=m),e.row===O.draggedElement&&(p=e,y=m,p.isGhostRow=!0)}),f.splice(y,1),f.splice(l,0,p),this.toIndex=this.parentElement.visibleRows.indexOf(this.dropTarget),A.prototype.ghostPositionChanged.call(this)}},R.prototype.clear=function(){var V=this.parentElement.renderedTable.rows;V.forEach(function(O){O.isGhostRow=!1}),this.parentElement.clearOnDrop(),this.fromIndex=null,this.toIndex=null,document.body.style.userSelect=this.restoreUserSelectValue||"initial",A.prototype.clear.call(this)},R}(P.DragDropCore)},"./src/dragdrop/ranking-choices.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"DragDropRankingChoices",function(){return R});var P=d("./src/dragdrop/choices.ts"),C=d("./src/utils/cssClassBuilder.ts"),D=d("./src/utils/devices.ts"),A=function(){var V=function(O,l){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,p){y.__proto__=p}||function(y,p){for(var f in p)Object.prototype.hasOwnProperty.call(p,f)&&(y[f]=p[f])},V(O,l)};return function(O,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");V(O,l);function y(){this.constructor=O}O.prototype=l===null?Object.create(l):(y.prototype=l.prototype,new y)}}(),R=function(V){A(O,V);function O(){var l=V!==null&&V.apply(this,arguments)||this;return l.isDragOverRootNode=!1,l.doDragOver=function(){var y=l.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item");y.style.cursor="grabbing"},l.doBanDropHere=function(){if(l.isDragOverRootNode){l.allowDropHere=!0;return}var y=l.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item");y.style.cursor="not-allowed"},l.doDrop=function(){return l.parentElement.setValue(),l.parentElement},l}return Object.defineProperty(O.prototype,"draggedElementType",{get:function(){return"ranking-item"},enumerable:!1,configurable:!0}),O.prototype.createDraggedElementShortcut=function(l,y,p){var f=document.createElement("div");f.className=this.shortcutClass+" sv-ranking-shortcut",f.style.cssText=` 
          cursor: grabbing;
          position: absolute;
          z-index: 10000;
          border-radius: calc(12.5 * var(--sjs-base-unit, var(--base-unit, 8px)));
          min-width: 100px;
          max-width: 400px;
          box-shadow: var(--sjs-shadow-medium, 0px 2px 6px 0px rgba(0, 0, 0, 0.1)), var(--sjs-shadow-large, 0px 8px 16px 0px rgba(0, 0, 0, 0.1));
          background-color: var(--sjs-general-backcolor, var(--background, #fff));
          font-family: var(--sjs-font-family, var(--font-family, var(--sjs-default-font-family)));
        `;var e=!0,m=y.cloneNode(e);f.appendChild(m);var s=y.getBoundingClientRect();return f.shortcutXOffset=p.clientX-s.x,f.shortcutYOffset=p.clientY-s.y,this.parentElement&&this.parentElement.useFullItemSizeForShortcut&&(f.style.width=y.offsetWidth+"px",f.style.height=y.offsetHeight+"px"),f},Object.defineProperty(O.prototype,"shortcutClass",{get:function(){return new C.CssClassBuilder().append(this.parentElement.cssClasses.root).append(this.parentElement.cssClasses.rootMobileMod,D.IsMobile).toString()},enumerable:!1,configurable:!0}),O.prototype.getDropTargetByDataAttributeValue=function(l){return this.parentElement.rankingChoices[l]},O.prototype.findDropTargetNodeByDragOverNode=function(l){return this.isDragOverRootNode=this.getIsDragOverRootNode(l),V.prototype.findDropTargetNodeByDragOverNode.call(this,l)},O.prototype.getIsDragOverRootNode=function(l){return typeof l.className=="string"&&l.className.indexOf("sv-ranking")!==-1},O.prototype.isDropTargetValid=function(l,y){var p=this.parentElement.rankingChoices,f=p.indexOf(this.dropTarget),e=p.indexOf(this.draggedElement);return e>f&&y.classList.contains("sv-dragdrop-moveup")?(this.parentElement.dropTargetNodeMove=null,!1):e<f&&y.classList.contains("sv-dragdrop-movedown")?(this.parentElement.dropTargetNodeMove=null,!1):p.indexOf(l)!==-1},O.prototype.calculateIsBottom=function(l){var y=this.parentElement.rankingChoices;return y.indexOf(this.dropTarget)-y.indexOf(this.draggedElement)>0},O.prototype.afterDragOver=function(l){var y=this.parentElement.rankingChoices,p=y.indexOf(this.dropTarget),f=y.indexOf(this.draggedElement);y.splice(f,1),y.splice(p,0,this.draggedElement),this.parentElement.setPropertyValue("rankingChoices",y),this.updateDraggedElementShortcut(p+1),f!==p&&(l.classList.remove("sv-dragdrop-moveup"),l.classList.remove("sv-dragdrop-movedown"),this.parentElement.dropTargetNodeMove=null),f>p&&(this.parentElement.dropTargetNodeMove="down"),f<p&&(this.parentElement.dropTargetNodeMove="up")},O.prototype.updateDraggedElementShortcut=function(l){var y=l!==null?l+"":"",p=this.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item__index");p.innerText=y},O.prototype.ghostPositionChanged=function(){this.parentElement.currentDropTarget=this.draggedElement,V.prototype.ghostPositionChanged.call(this)},O.prototype.clear=function(){this.parentElement&&(this.parentElement.dropTargetNodeMove=null,this.parentElement.updateRankingChoices(!0)),V.prototype.clear.call(this)},O}(P.DragDropChoices)},"./src/dragdrop/ranking-select-to-rank.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"DragDropRankingSelectToRank",function(){return D});var P=d("./src/dragdrop/ranking-choices.ts"),C=function(){var A=function(R,V){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,l){O.__proto__=l}||function(O,l){for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(O[y]=l[y])},A(R,V)};return function(R,V){if(typeof V!="function"&&V!==null)throw new TypeError("Class extends value "+String(V)+" is not a constructor or null");A(R,V);function O(){this.constructor=R}R.prototype=V===null?Object.create(V):(O.prototype=V.prototype,new O)}}(),D=function(A){C(R,A);function R(){return A!==null&&A.apply(this,arguments)||this}return R.prototype.findDropTargetNodeByDragOverNode=function(V){if(V.dataset.ranking==="from-container"||V.dataset.ranking==="to-container")return V;if(this.parentElement.isEmpty()){var O=V.closest("[data-ranking='to-container']"),l=V.closest("[data-ranking='from-container']");return O||l||null}return A.prototype.findDropTargetNodeByDragOverNode.call(this,V)},R.prototype.getDropTargetByDataAttributeValue=function(V){return this.parentElement.rankingChoices[V]||this.parentElement.unRankingChoices[V]},R.prototype.getDropTargetByNode=function(V,O){return V.dataset.ranking==="to-container"?"to-container":V.dataset.ranking==="from-container"||V.closest("[data-ranking='from-container']")?"from-container":A.prototype.getDropTargetByNode.call(this,V,O)},R.prototype.isDropTargetValid=function(V,O){return V==="to-container"||V==="from-container"?!0:A.prototype.isDropTargetValid.call(this,V,O)},R.prototype.afterDragOver=function(V){var O=this.parentElement,l=O.rankingChoices,y=O.unRankingChoices;if(this.isDraggedElementUnranked&&this.isDropTargetRanked){this.doRankBetween(V,y,l,this.selectToRank);return}if(this.isDraggedElementRanked&&this.isDropTargetRanked){this.doRankBetween(V,l,l,this.reorderRankedItem);return}if(this.isDraggedElementRanked&&!this.isDropTargetRanked){this.doRankBetween(V,l,y,this.unselectFromRank);return}},R.prototype.doRankBetween=function(V,O,l,y){var p=this.parentElement,f=this.getIndixies(p,O,l),e=f.fromIndex,m=f.toIndex;y(p,e,m),this.doUIEffects(V,e,m)},R.prototype.getIndixies=function(V,O,l){var y=O.indexOf(this.draggedElement),p=l.indexOf(this.dropTarget);return p===-1&&(p=V.value.length),{fromIndex:y,toIndex:p}},R.prototype.doUIEffects=function(V,O,l){var y=this.parentElement,p=this.dropTarget==="to-container"&&y.isEmpty(),f=!this.isDropTargetUnranked||p,e=f?l+1:null;this.updateDraggedElementShortcut(e),O!==l&&(V.classList.remove("sv-dragdrop-moveup"),V.classList.remove("sv-dragdrop-movedown"),y.dropTargetNodeMove=null),O>l&&(y.dropTargetNodeMove="down"),O<l&&(y.dropTargetNodeMove="up")},Object.defineProperty(R.prototype,"isDraggedElementRanked",{get:function(){return this.parentElement.rankingChoices.indexOf(this.draggedElement)!==-1},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isDropTargetRanked",{get:function(){return this.dropTarget==="to-container"?!0:this.parentElement.rankingChoices.indexOf(this.dropTarget)!==-1},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isDraggedElementUnranked",{get:function(){return!this.isDraggedElementRanked},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"isDropTargetUnranked",{get:function(){return!this.isDropTargetRanked},enumerable:!1,configurable:!0}),R.prototype.selectToRank=function(V,O,l){var y=V.rankingChoices,p=V.unRankingChoices,f=p[O];V.isValueSetByUser=!0,y.splice(l,0,f),V.setPropertyValue("rankingChoices",y)},R.prototype.unselectFromRank=function(V,O,l){var y=V.rankingChoices;V.isValueSetByUser=!0,y.splice(O,1),V.setPropertyValue("rankingChoices",y)},R.prototype.reorderRankedItem=function(V,O,l){var y=V.rankingChoices,p=y[O];V.isValueSetByUser=!0,y.splice(O,1),y.splice(l,0,p),V.setPropertyValue("rankingChoices",y)},R}(P.DragDropRankingChoices)},"./src/dropdownListModel.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"DropdownListModel",function(){return m});var P=d("./src/base.ts"),C=d("./src/itemvalue.ts"),D=d("./src/jsonobject.ts"),A=d("./src/list.ts"),R=d("./src/popup.ts"),V=d("./src/question_dropdown.ts"),O=d("./src/settings.ts"),l=d("./src/utils/cssClassBuilder.ts"),y=d("./src/utils/devices.ts"),p=d("./src/utils/utils.ts"),f=function(){var s=function(a,c){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])},s(a,c)};return function(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");s(a,c);function r(){this.constructor=a}a.prototype=c===null?Object.create(c):(r.prototype=c.prototype,new r)}}(),e=function(s,a,c,r){var t=arguments.length,n=t<3?a:r===null?r=Object.getOwnPropertyDescriptor(a,c):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,a,c,r);else for(var u=s.length-1;u>=0;u--)(o=s[u])&&(n=(t<3?o(n):t>3?o(a,c,n):o(a,c))||n);return t>3&&n&&Object.defineProperty(a,c,n),n},m=function(s){f(a,s);function a(c,r){var t=s.call(this)||this;return t.question=c,t.onSelectionChanged=r,t.minPageSize=25,t.loadingItemHeight=40,t._markdownMode=!1,t.filteredItems=void 0,t.selectedItemSelector=".sv-list__item--selected",t.itemSelector=".sv-list__item",t.itemsSettings={skip:0,take:0,totalCount:0,items:[]},t.isRunningLoadQuestionChoices=!1,t.popupCssClasses="sv-single-select-list",t.listModelFilterStringChanged=function(n){t.filterString!==n&&(t.filterString=n)},t.qustionPropertyChangedHandler=function(n,o){t.onPropertyChangedHandler(n,o)},c.onPropertyChanged.add(t.qustionPropertyChangedHandler),t.showInputFieldComponent=t.question.showInputFieldComponent,t.listModel=t.createListModel(),t.updateAfterListModelCreated(t.listModel),t.setSearchEnabled(t.question.searchEnabled),t.createPopup(),t.resetItemsSettings(),t}return Object.defineProperty(a.prototype,"focusFirstInputSelector",{get:function(){return this.getFocusFirstInputSelector()},enumerable:!1,configurable:!0}),a.prototype.getFocusFirstInputSelector=function(){return y.IsTouch?this.isValueEmpty(this.question.value)?this.itemSelector:this.selectedItemSelector:!this.listModel.showFilter&&this.question.value?this.selectedItemSelector:""},a.prototype.resetItemsSettings=function(){this.itemsSettings.skip=0,this.itemsSettings.take=Math.max(this.minPageSize,this.question.choicesLazyLoadPageSize),this.itemsSettings.totalCount=0,this.itemsSettings.items=[]},a.prototype.setItems=function(c,r){this.itemsSettings.items=[].concat(this.itemsSettings.items,c),this.itemsSettings.totalCount=r,this.listModel.isAllDataLoaded=this.question.choicesLazyLoadEnabled&&this.itemsSettings.items.length==this.itemsSettings.totalCount,this.question.choices=this.itemsSettings.items},a.prototype.updateQuestionChoices=function(c){var r=this;if(!this.isRunningLoadQuestionChoices){var t=this.itemsSettings.skip+1<this.itemsSettings.totalCount;(!this.itemsSettings.skip||t)&&(this.isRunningLoadQuestionChoices=!0,this.question.survey.loadQuestionChoices({question:this.question,filter:this.filterString,skip:this.itemsSettings.skip,take:this.itemsSettings.take,setItems:function(n,o){r.isRunningLoadQuestionChoices=!1,r.setItems(n||[],o||0),r.popupRecalculatePosition(r.itemsSettings.skip===r.itemsSettings.take),c&&c()}}),this.itemsSettings.skip+=this.itemsSettings.take)}},a.prototype.updatePopupFocusFirstInputSelector=function(){this._popupModel.focusFirstInputSelector=this.focusFirstInputSelector},a.prototype.createPopup=function(){var c=this;this._popupModel=new R.PopupModel("sv-list",{model:this.listModel},"bottom","center",!1),this._popupModel.displayMode=y.IsTouch?"overlay":"popup",this._popupModel.positionMode="fixed",this._popupModel.isFocusedContainer=!1,this._popupModel.isFocusedContent=y.IsTouch,this._popupModel.setWidthByTarget=!y.IsTouch,this.updatePopupFocusFirstInputSelector(),this.listModel.registerPropertyChangedHandlers(["showFilter"],function(){c.updatePopupFocusFirstInputSelector()}),this._popupModel.cssClass=this.popupCssClasses,this._popupModel.onVisibilityChanged.add(function(r,t){t.isVisible&&(c.listModel.renderElements=!0),t.isVisible&&c.question.choicesLazyLoadEnabled&&(c.listModel.actions=[],c.updateQuestionChoices()),t.isVisible&&c.question.onOpenedCallBack&&(c.updatePopupFocusFirstInputSelector(),c.question.onOpenedCallBack()),t.isVisible||(c.onHidePopup(),c.question.choicesLazyLoadEnabled&&c.resetItemsSettings()),c.question.processPopupVisiblilityChanged(c.popupModel,t.isVisible)})},a.prototype.setFilterStringToListModel=function(c){var r=this;if(this.listModel.filterString=c,this.listModel.resetFocusedItem(),this.question.selectedItem&&this.question.selectedItem.text.indexOf(c)>=0){this.listModel.focusedItem=this.getAvailableItems().filter(function(t){return t.id==r.question.selectedItem.value})[0],this.listModel.filterString&&this.listModel.actions.map(function(t){return t.selectedValue=!1});return}(!this.listModel.focusedItem||!this.listModel.isItemVisible(this.listModel.focusedItem))&&this.listModel.focusFirstVisibleItem()},a.prototype.popupRecalculatePosition=function(c){var r=this;setTimeout(function(){r.popupModel.recalculatePosition(c)},1)},a.prototype.onHidePopup=function(){this.resetFilterString(),this.question.suggestedItem=null,this.listModel.refresh()},a.prototype.getAvailableItems=function(){return this.question.visibleChoices},a.prototype.createListModel=function(){var c=this,r=this.getAvailableItems(),t=this.onSelectionChanged;t||(t=function(o){c.question.value=o.id,c.question.searchEnabled&&c.applyInputString(o),c._popupModel.toggleVisibility()});var n=new A.ListModel(r,t,!1,void 0,this.question.choicesLazyLoadEnabled?this.listModelFilterStringChanged:void 0,this.listElementId);return n.setOnTextSearchCallback(function(o,u){if(c.filteredItems)return c.filteredItems.indexOf(o)>=0;var v=o.text.toLocaleLowerCase();v=O.settings.comparator.normalizeTextCallback(v,"filter");var x=v.indexOf(u.toLocaleLowerCase());return c.question.searchMode=="startsWith"?x==0:x>-1}),n.renderElements=!1,n.forceShowFilter=!0,n.areSameItemsCallback=function(o,u){return o===u},n},a.prototype.updateAfterListModelCreated=function(c){var r=this;c.isItemSelected=function(t){return!!t.selected},c.locOwner=this.question,c.onPropertyChanged.add(function(t,n){n.name=="hasVerticalScroller"&&(r.hasScroll=n.newValue)}),c.isAllDataLoaded=!this.question.choicesLazyLoadEnabled},a.prototype.updateCssClasses=function(c,r){this.popupModel.cssClass=new l.CssClassBuilder().append(c).append(this.popupCssClasses).toString(),this.listModel.cssClasses=r},a.prototype.resetFilterString=function(){this.filterString&&(this.filterString=void 0)},a.prototype.clear=function(){this.inputString=null,this.hintString="",this.resetFilterString()},a.prototype.onSetFilterString=function(){var c=this;if(this.filteredItems=void 0,!(!this.filterString&&!this.popupModel.isVisible)){var r={question:this.question,choices:this.getAvailableItems(),filter:this.filterString,filteredChoices:void 0};this.question.survey.onChoicesSearch.fire(this.question.survey,r),this.filteredItems=r.filteredChoices,this.filterString&&!this.popupModel.isVisible&&(this.popupModel.isVisible=!0);var t=function(){c.setFilterStringToListModel(c.filterString),c.popupRecalculatePosition(!0)};this.question.choicesLazyLoadEnabled?(this.resetItemsSettings(),this.updateQuestionChoices(t)):t()}},Object.defineProperty(a.prototype,"isAllDataLoaded",{get:function(){return!!this.itemsSettings.totalCount&&this.itemsSettings.items.length==this.itemsSettings.totalCount},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"canShowSelectedItem",{get:function(){return!this.focused||this._markdownMode||!this.searchEnabled},enumerable:!1,configurable:!0}),a.prototype.applyInputString=function(c){var r=c?.locText.hasHtml;r||this.question.inputFieldComponentName?(this._markdownMode=!0,this.inputString="",this.hintString=""):(this.inputString=c?.title,this.hintString=c?.title)},a.prototype.fixInputCase=function(){var c=this.hintStringMiddle;c&&this.inputString!=c&&(this.inputString=c)},a.prototype.applyHintString=function(c){var r=c?.locText.hasHtml;r||this.question.inputFieldComponentName?(this._markdownMode=!0,this.hintString=""):this.hintString=c?.title},Object.defineProperty(a.prototype,"inputStringRendered",{get:function(){return this.inputString||""},set:function(c){this.inputString=c,this.filterString=c,c?this.applyHintString(this.listModel.focusedItem||this.question.selectedItem):this.hintString=""},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"placeholderRendered",{get:function(){return this.hintString?"":this.question.readOnlyText},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"listElementId",{get:function(){return this.question.inputId+"_list"},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"hintStringLC",{get:function(){var c;return((c=this.hintString)===null||c===void 0?void 0:c.toLowerCase())||""},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"inputStringLC",{get:function(){var c;return((c=this.inputString)===null||c===void 0?void 0:c.toLowerCase())||""},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"showHintPrefix",{get:function(){return!!this.inputString&&this.hintStringLC.indexOf(this.inputStringLC)>0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"hintStringPrefix",{get:function(){return this.inputString?this.hintString.substring(0,this.hintStringLC.indexOf(this.inputStringLC)):null},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"showHintString",{get:function(){return!!this.question.searchEnabled&&this.hintStringLC&&this.hintStringLC.indexOf(this.inputStringLC)>=0||!this.question.searchEnabled&&this.hintStringLC&&this.question.isEmpty()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"hintStringSuffix",{get:function(){return this.hintString.substring(this.hintStringLC.indexOf(this.inputStringLC)+this.inputStringLC.length)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"hintStringMiddle",{get:function(){var c=this.hintStringLC.indexOf(this.inputStringLC);return c==-1?null:this.hintString.substring(c,c+this.inputStringLC.length)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"popupModel",{get:function(){return this._popupModel},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"noTabIndex",{get:function(){return this.question.isInputReadOnly||this.searchEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"filterReadOnly",{get:function(){return this.question.isInputReadOnly||!this.searchEnabled||!this.focused},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"filterStringEnabled",{get:function(){return!this.question.isInputReadOnly&&this.searchEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"inputMode",{get:function(){return y.IsTouch?"none":"text"},enumerable:!1,configurable:!0}),a.prototype.setSearchEnabled=function(c){this.listModel.searchEnabled=y.IsTouch,this.listModel.showSearchClearButton=y.IsTouch,this.searchEnabled=c},a.prototype.updateItems=function(){this.listModel.setItems(this.getAvailableItems())},a.prototype.onClick=function(c){this.question.readOnly||this.question.isDesignMode||(this._popupModel.toggleVisibility(),this.focusItemOnClickAndPopup(),this.question.focus())},a.prototype.chevronPointerDown=function(c){this._popupModel.isVisible&&c.preventDefault()},a.prototype.onPropertyChangedHandler=function(c,r){r.name=="value"&&(this.showInputFieldComponent=this.question.showInputFieldComponent),r.name=="choicesLazyLoadEnabled"&&r.newValue&&this.listModel.setOnFilterStringChangedCallback(this.listModelFilterStringChanged)},a.prototype.focusItemOnClickAndPopup=function(){this._popupModel.isVisible&&this.question.value&&this.changeSelectionWithKeyboard(!1)},a.prototype.onClear=function(c){this.question.clearValue(),this._popupModel.isVisible=!1,c&&(c.preventDefault(),c.stopPropagation())},a.prototype.getSelectedAction=function(){return this.question.selectedItem||null},a.prototype.changeSelectionWithKeyboard=function(c){var r,t=this.listModel.focusedItem;!t&&this.question.selectedItem?C.ItemValue.getItemByValue(this.question.visibleChoices,this.question.value)&&(this.listModel.focusedItem=this.question.selectedItem):c?this.listModel.focusPrevVisibleItem():this.listModel.focusNextVisibleItem(),this.beforeScrollToFocusedItem(t),this.scrollToFocusedItem(),this.afterScrollToFocusedItem(),this.ariaActivedescendant=(r=this.listModel.focusedItem)===null||r===void 0?void 0:r.elementId},a.prototype.beforeScrollToFocusedItem=function(c){this.question.value&&c&&(c.selectedValue=!1,this.listModel.focusedItem.selectedValue=!this.listModel.filterString,this.question.suggestedItem=this.listModel.focusedItem)},a.prototype.afterScrollToFocusedItem=function(){var c;this.question.value&&!this.listModel.filterString&&this.question.searchEnabled?this.applyInputString(this.listModel.focusedItem||this.question.selectedItem):this.applyHintString(this.listModel.focusedItem||this.question.selectedItem),this.fixInputCase(),this.ariaActivedescendant=(c=this.listModel.focusedItem)===null||c===void 0?void 0:c.elementId},a.prototype.keyHandler=function(c){var r=c.which||c.keyCode;if(this.popupModel.isVisible&&c.keyCode===38?(this.changeSelectionWithKeyboard(!0),c.preventDefault(),c.stopPropagation()):c.keyCode===40&&(this.popupModel.isVisible||this.popupModel.toggleVisibility(),this.changeSelectionWithKeyboard(!1),c.preventDefault(),c.stopPropagation()),c.keyCode===9)this.popupModel.isVisible=!1;else if(!this.popupModel.isVisible&&(c.keyCode===13||c.keyCode===32))c.keyCode===32&&(this.popupModel.toggleVisibility(),this.changeSelectionWithKeyboard(!1)),c.keyCode===13&&this.question.survey.questionEditFinishCallback(this.question,c),c.preventDefault(),c.stopPropagation();else if(this.popupModel.isVisible&&(c.keyCode===13||c.keyCode===32&&(!this.question.searchEnabled||!this.inputString)))c.keyCode===13&&this.question.searchEnabled&&!this.inputString&&this.question instanceof V.QuestionDropdownModel&&!this._markdownMode&&this.question.value?(this._popupModel.isVisible=!1,this.onClear(c)):(this.listModel.selectFocusedItem(),this.onFocus(c)),c.preventDefault(),c.stopPropagation();else if(r===46||r===8)this.searchEnabled||this.onClear(c);else if(c.keyCode===27)this._popupModel.isVisible=!1,this.hintString="",this.onEscape();else{if((c.keyCode===38||c.keyCode===40||c.keyCode===32&&!this.question.searchEnabled)&&(c.preventDefault(),c.stopPropagation()),c.keyCode===32&&this.question.searchEnabled)return;Object(p.doKey2ClickUp)(c,{processEsc:!1,disableTabStop:this.question.isInputReadOnly})}},a.prototype.onEscape=function(){this.question.searchEnabled&&this.applyInputString(this.question.selectedItem)},a.prototype.onScroll=function(c){var r=c.target;r.scrollHeight-(r.scrollTop+r.offsetHeight)<=this.loadingItemHeight&&this.updateQuestionChoices()},a.prototype.onBlur=function(c){if(this.focused=!1,this.popupModel.isVisible&&y.IsTouch){this._popupModel.isVisible=!0;return}Object(p.doKey2ClickBlur)(c),this._popupModel.isVisible=!1,this.resetFilterString(),this.inputString=null,this.hintString="",c.stopPropagation()},a.prototype.onFocus=function(c){this.focused=!0,this.setInputStringFromSelectedItem(this.question.selectedItem)},a.prototype.setInputStringFromSelectedItem=function(c){this.focused&&(this.question.searchEnabled&&c?this.applyInputString(c):this.inputString=null)},a.prototype.dispose=function(){s.prototype.dispose.call(this),this.question&&this.question.onPropertyChanged.remove(this.qustionPropertyChangedHandler),this.qustionPropertyChangedHandler=void 0,this.listModel&&this.listModel.dispose(),this.popupModel&&this.popupModel.dispose()},a.prototype.scrollToFocusedItem=function(){this.listModel.scrollToFocusedItem()},e([Object(D.property)({defaultValue:!1})],a.prototype,"focused",void 0),e([Object(D.property)({defaultValue:!0})],a.prototype,"searchEnabled",void 0),e([Object(D.property)({defaultValue:"",onSet:function(c,r){r.onSetFilterString()}})],a.prototype,"filterString",void 0),e([Object(D.property)({defaultValue:"",onSet:function(c,r){r.question.inputHasValue=!!c}})],a.prototype,"inputString",void 0),e([Object(D.property)({})],a.prototype,"showInputFieldComponent",void 0),e([Object(D.property)()],a.prototype,"ariaActivedescendant",void 0),e([Object(D.property)({defaultValue:!1,onSet:function(c,r){c?r.listModel.addScrollEventListener(function(t){r.onScroll(t)}):r.listModel.removeScrollEventListener()}})],a.prototype,"hasScroll",void 0),e([Object(D.property)({defaultValue:""})],a.prototype,"hintString",void 0),a}(P.Base)},"./src/dropdownMultiSelectListModel.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"DropdownMultiSelectListModel",function(){return y});var P=d("./src/base.ts"),C=d("./src/dropdownListModel.ts"),D=d("./src/jsonobject.ts"),A=d("./src/multiSelectListModel.ts"),R=d("./src/settings.ts"),V=d("./src/utils/devices.ts"),O=function(){var p=function(f,e){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,s){m.__proto__=s}||function(m,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(m[a]=s[a])},p(f,e)};return function(f,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");p(f,e);function m(){this.constructor=f}f.prototype=e===null?Object.create(e):(m.prototype=e.prototype,new m)}}(),l=function(p,f,e,m){var s=arguments.length,a=s<3?f:m===null?m=Object.getOwnPropertyDescriptor(f,e):m,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(p,f,e,m);else for(var r=p.length-1;r>=0;r--)(c=p[r])&&(a=(s<3?c(a):s>3?c(f,e,a):c(f,e))||a);return s>3&&a&&Object.defineProperty(f,e,a),a},y=function(p){O(f,p);function f(e,m){var s=p.call(this,e,m)||this;return s.popupCssClasses="sv-multi-select-list",s.setHideSelectedItems(e.hideSelectedItems),s.syncFilterStringPlaceholder(),s.closeOnSelect=e.closeOnSelect,s}return f.prototype.locStrsChanged=function(){p.prototype.locStrsChanged.call(this),this.syncFilterStringPlaceholder()},f.prototype.updateListState=function(){this.listModel.updateState(),this.syncFilterStringPlaceholder()},f.prototype.syncFilterStringPlaceholder=function(){var e=this.getSelectedActions();e.length||this.question.selectedItems.length||this.listModel.focusedItem?this.filterStringPlaceholder=void 0:this.filterStringPlaceholder=this.question.placeholder},f.prototype.getSelectedActions=function(){return this.listModel.actions.filter(function(e){return e.selected})},f.prototype.getFocusFirstInputSelector=function(){return this.listModel.hideSelectedItems&&V.IsTouch&&!this.isValueEmpty(this.question.value)?this.itemSelector:p.prototype.getFocusFirstInputSelector.call(this)},f.prototype.createListModel=function(){var e=this,m=this.getAvailableItems(),s=this.onSelectionChanged;s||(s=function(c,r){e.resetFilterString(),c.id==="selectall"?e.selectAllItems():r==="added"&&c.value===R.settings.noneItemValue?e.selectNoneItem():r==="added"?e.selectItem(c.value):r==="removed"&&e.deselectItem(c.value),e.popupRecalculatePosition(!1),e.closeOnSelect&&(e.popupModel.isVisible=!1)});var a=new A.MultiSelectListModel(m,s,!1,void 0,this.question.choicesLazyLoadEnabled?this.listModelFilterStringChanged:void 0,this.listElementId);return a.forceShowFilter=!0,a},f.prototype.resetFilterString=function(){p.prototype.resetFilterString.call(this),this.inputString=null,this.hintString=""},Object.defineProperty(f.prototype,"shouldResetAfterCancel",{get:function(){return V.IsTouch&&!this.closeOnSelect},enumerable:!1,configurable:!0}),f.prototype.createPopup=function(){var e=this;p.prototype.createPopup.call(this),this.popupModel.onFooterActionsCreated.add(function(m,s){e.shouldResetAfterCancel&&s.actions.push({id:"sv-dropdown-done-button",title:e.doneButtonCaption,innerCss:"sv-popup__button--done",needSpace:!0,action:function(){e.popupModel.isVisible=!1},enabled:new P.ComputedUpdater(function(){return!e.isTwoValueEquals(e.question.renderedValue,e.previousValue)})})}),this.popupModel.onVisibilityChanged.add(function(m,s){e.shouldResetAfterCancel&&s.isVisible&&(e.previousValue=[].concat(e.question.renderedValue||[]))}),this.popupModel.onCancel=function(){e.shouldResetAfterCancel&&(e.question.renderedValue=e.previousValue,e.updateListState())}},f.prototype.selectAllItems=function(){this.question.toggleSelectAll(),this.updateListState()},f.prototype.selectNoneItem=function(){this.question.renderedValue=[R.settings.noneItemValue],this.updateListState()},f.prototype.selectItem=function(e){var m=[].concat(this.question.renderedValue||[]);m.push(e),this.question.renderedValue=m,this.updateListState()},f.prototype.deselectItem=function(e){var m=[].concat(this.question.renderedValue||[]);m.splice(m.indexOf(e),1),this.question.renderedValue=m,this.applyHintString(this.listModel.focusedItem),this.updateListState()},f.prototype.clear=function(){p.prototype.clear.call(this),this.syncFilterStringPlaceholder()},f.prototype.onClear=function(e){p.prototype.onClear.call(this,e),this.updateListState()},f.prototype.setHideSelectedItems=function(e){this.listModel.hideSelectedItems=e,this.updateListState()},f.prototype.removeLastSelectedItem=function(){this.deselectItem(this.question.renderedValue[this.question.renderedValue.length-1]),this.popupRecalculatePosition(!1)},f.prototype.inputKeyHandler=function(e){e.keyCode===8&&!this.filterString&&(this.removeLastSelectedItem(),e.preventDefault(),e.stopPropagation())},f.prototype.setInputStringFromSelectedItem=function(e){this.question.searchEnabled&&(this.inputString=null)},f.prototype.focusItemOnClickAndPopup=function(){},f.prototype.onEscape=function(){},f.prototype.beforeScrollToFocusedItem=function(e){},f.prototype.afterScrollToFocusedItem=function(){var e;!((e=this.listModel.focusedItem)===null||e===void 0)&&e.selected?this.hintString="":this.applyHintString(this.listModel.focusedItem||this.question.selectedItem),this.syncFilterStringPlaceholder()},f.prototype.onPropertyChangedHandler=function(e,m){p.prototype.onPropertyChangedHandler.call(this,e,m),(m.name==="value"||m.name==="renderedValue")&&this.syncFilterStringPlaceholder()},l([Object(D.property)({defaultValue:""})],f.prototype,"filterStringPlaceholder",void 0),l([Object(D.property)({defaultValue:!0})],f.prototype,"closeOnSelect",void 0),l([Object(D.property)()],f.prototype,"previousValue",void 0),l([Object(D.property)({localizable:{defaultStr:"tagboxDoneButtonCaption"}})],f.prototype,"doneButtonCaption",void 0),f}(C.DropdownListModel)},"./src/dxSurveyService.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"dxSurveyService",function(){return C});var P=d("./src/settings.ts"),C=function(){function D(){}return Object.defineProperty(D,"serviceUrl",{get:function(){return P.settings.web.surveyServiceUrl},set:function(A){P.settings.web.surveyServiceUrl=A},enumerable:!1,configurable:!0}),D.prototype.loadSurvey=function(A,R){var V=new XMLHttpRequest;V.open("GET",D.serviceUrl+"/getSurvey?surveyId="+A),V.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),V.onload=function(){var O=JSON.parse(V.response);R(V.status==200,O,V.response)},V.send()},D.prototype.getSurveyJsonAndIsCompleted=function(A,R,V){var O=new XMLHttpRequest;O.open("GET",D.serviceUrl+"/getSurveyAndIsCompleted?surveyId="+A+"&clientId="+R),O.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),O.onload=function(){var l=JSON.parse(O.response),y=l?l.survey:null,p=l?l.isCompleted:null;V(O.status==200,y,p,O.response)},O.send()},D.prototype.sendResult=function(A,R,V,O,l){O===void 0&&(O=null),l===void 0&&(l=!1);var y=new XMLHttpRequest;y.open("POST",D.serviceUrl+"/post/"),y.setRequestHeader("Content-Type","application/json; charset=utf-8");var p={postId:A,surveyResult:JSON.stringify(R)};O&&(p.clientId=O),l&&(p.isPartialCompleted=!0);var f=JSON.stringify(p),e=this;y.onload=y.onerror=function(){V&&V(y.status===200,y.response,y)},y.send(f)},D.prototype.sendFile=function(A,R,V){var O=new XMLHttpRequest;O.onload=O.onerror=function(){V&&V(O.status==200,JSON.parse(O.response))},O.open("POST",D.serviceUrl+"/upload/",!0);var l=new FormData;l.append("file",R),l.append("postId",A),O.send(l)},D.prototype.getResult=function(A,R,V){var O=new XMLHttpRequest,l="resultId="+A+"&name="+R;O.open("GET",D.serviceUrl+"/getResult?"+l),O.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var y=this;O.onload=function(){var p=null,f=null;if(O.status==200){p=JSON.parse(O.response),f=[];for(var e in p.QuestionResult){var m={name:e,value:p.QuestionResult[e]};f.push(m)}}V(O.status==200,p,f,O.response)},O.send()},D.prototype.isCompleted=function(A,R,V){var O=new XMLHttpRequest,l="resultId="+A+"&clientId="+R;O.open("GET",D.serviceUrl+"/isCompleted?"+l),O.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var y=this;O.onload=function(){var p=null;O.status==200&&(p=JSON.parse(O.response)),V(O.status==200,p,O.response)},O.send()},D}()},"./src/element-helper.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"ElementHelper",function(){return P});var P=function(){function C(){}return C.focusElement=function(D){D&&D.focus()},C.visibility=function(D){var A=window.getComputedStyle(D);return A.display==="none"||A.visibility==="hidden"?!1:D.parentElement?this.visibility(D.parentElement):!0},C.getNextElementPreorder=function(D){var A=D.nextElementSibling?D.nextElementSibling:D.parentElement.firstElementChild;return this.visibility(A)?A:this.getNextElementPreorder(A)},C.getNextElementPostorder=function(D){var A=D.previousElementSibling?D.previousElementSibling:D.parentElement.lastElementChild;return this.visibility(A)?A:this.getNextElementPostorder(A)},C.hasHorizontalScroller=function(D){return D?D.scrollWidth>D.offsetWidth:!1},C.hasVerticalScroller=function(D){return D?D.scrollHeight>D.offsetHeight:!1},C}()},"./src/entries/chunks/model.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"Version",function(){return Je}),d.d(M,"ReleaseDate",function(){return st}),d.d(M,"checkLibraryVersion",function(){return jt}),d.d(M,"setLicenseKey",function(){return bt}),d.d(M,"slk",function(){return at}),d.d(M,"hasLicense",function(){return Pt});var P=d("./src/settings.ts");d.d(M,"settings",function(){return P.settings});var C=d("./src/helpers.ts");d.d(M,"Helpers",function(){return C.Helpers});var D=d("./src/validator.ts");d.d(M,"AnswerCountValidator",function(){return D.AnswerCountValidator}),d.d(M,"EmailValidator",function(){return D.EmailValidator}),d.d(M,"NumericValidator",function(){return D.NumericValidator}),d.d(M,"RegexValidator",function(){return D.RegexValidator}),d.d(M,"SurveyValidator",function(){return D.SurveyValidator}),d.d(M,"TextValidator",function(){return D.TextValidator}),d.d(M,"ValidatorResult",function(){return D.ValidatorResult}),d.d(M,"ExpressionValidator",function(){return D.ExpressionValidator}),d.d(M,"ValidatorRunner",function(){return D.ValidatorRunner});var A=d("./src/itemvalue.ts");d.d(M,"ItemValue",function(){return A.ItemValue});var R=d("./src/base.ts");d.d(M,"Base",function(){return R.Base}),d.d(M,"Event",function(){return R.Event}),d.d(M,"EventBase",function(){return R.EventBase}),d.d(M,"ArrayChanges",function(){return R.ArrayChanges}),d.d(M,"ComputedUpdater",function(){return R.ComputedUpdater});var V=d("./src/survey-error.ts");d.d(M,"SurveyError",function(){return V.SurveyError});var O=d("./src/survey-element.ts");d.d(M,"SurveyElementCore",function(){return O.SurveyElementCore}),d.d(M,"SurveyElement",function(){return O.SurveyElement}),d.d(M,"DragTypeOverMeEnum",function(){return O.DragTypeOverMeEnum});var l=d("./src/calculatedValue.ts");d.d(M,"CalculatedValue",function(){return l.CalculatedValue});var y=d("./src/error.ts");d.d(M,"CustomError",function(){return y.CustomError}),d.d(M,"AnswerRequiredError",function(){return y.AnswerRequiredError}),d.d(M,"OneAnswerRequiredError",function(){return y.OneAnswerRequiredError}),d.d(M,"RequreNumericError",function(){return y.RequreNumericError}),d.d(M,"ExceedSizeError",function(){return y.ExceedSizeError});var p=d("./src/localizablestring.ts");d.d(M,"LocalizableString",function(){return p.LocalizableString}),d.d(M,"LocalizableStrings",function(){return p.LocalizableStrings});var f=d("./src/expressionItems.ts");d.d(M,"HtmlConditionItem",function(){return f.HtmlConditionItem}),d.d(M,"UrlConditionItem",function(){return f.UrlConditionItem});var e=d("./src/choicesRestful.ts");d.d(M,"ChoicesRestful",function(){return e.ChoicesRestful}),d.d(M,"ChoicesRestfull",function(){return e.ChoicesRestfull});var m=d("./src/functionsfactory.ts");d.d(M,"FunctionFactory",function(){return m.FunctionFactory}),d.d(M,"registerFunction",function(){return m.registerFunction});var s=d("./src/conditions.ts");d.d(M,"ConditionRunner",function(){return s.ConditionRunner}),d.d(M,"ExpressionRunner",function(){return s.ExpressionRunner}),d.d(M,"ExpressionExecutor",function(){return s.ExpressionExecutor});var a=d("./src/expressions/expressions.ts");d.d(M,"Operand",function(){return a.Operand}),d.d(M,"Const",function(){return a.Const}),d.d(M,"BinaryOperand",function(){return a.BinaryOperand}),d.d(M,"Variable",function(){return a.Variable}),d.d(M,"FunctionOperand",function(){return a.FunctionOperand}),d.d(M,"ArrayOperand",function(){return a.ArrayOperand}),d.d(M,"UnaryOperand",function(){return a.UnaryOperand});var c=d("./src/conditionsParser.ts");d.d(M,"ConditionsParser",function(){return c.ConditionsParser});var r=d("./src/conditionProcessValue.ts");d.d(M,"ProcessValue",function(){return r.ProcessValue});var t=d("./src/jsonobject.ts");d.d(M,"JsonError",function(){return t.JsonError}),d.d(M,"JsonIncorrectTypeError",function(){return t.JsonIncorrectTypeError}),d.d(M,"JsonMetadata",function(){return t.JsonMetadata}),d.d(M,"JsonMetadataClass",function(){return t.JsonMetadataClass}),d.d(M,"JsonMissingTypeError",function(){return t.JsonMissingTypeError}),d.d(M,"JsonMissingTypeErrorBase",function(){return t.JsonMissingTypeErrorBase}),d.d(M,"JsonObject",function(){return t.JsonObject}),d.d(M,"JsonObjectProperty",function(){return t.JsonObjectProperty}),d.d(M,"JsonRequiredPropertyError",function(){return t.JsonRequiredPropertyError}),d.d(M,"JsonUnknownPropertyError",function(){return t.JsonUnknownPropertyError}),d.d(M,"Serializer",function(){return t.Serializer}),d.d(M,"property",function(){return t.property}),d.d(M,"propertyArray",function(){return t.propertyArray});var n=d("./src/question_matrixdropdownbase.ts");d.d(M,"MatrixDropdownCell",function(){return n.MatrixDropdownCell}),d.d(M,"MatrixDropdownRowModelBase",function(){return n.MatrixDropdownRowModelBase}),d.d(M,"QuestionMatrixDropdownModelBase",function(){return n.QuestionMatrixDropdownModelBase});var o=d("./src/question_matrixdropdowncolumn.ts");d.d(M,"MatrixDropdownColumn",function(){return o.MatrixDropdownColumn}),d.d(M,"matrixDropdownColumnTypes",function(){return o.matrixDropdownColumnTypes});var u=d("./src/question_matrixdropdownrendered.ts");d.d(M,"QuestionMatrixDropdownRenderedCell",function(){return u.QuestionMatrixDropdownRenderedCell}),d.d(M,"QuestionMatrixDropdownRenderedRow",function(){return u.QuestionMatrixDropdownRenderedRow}),d.d(M,"QuestionMatrixDropdownRenderedTable",function(){return u.QuestionMatrixDropdownRenderedTable});var v=d("./src/question_matrixdropdown.ts");d.d(M,"MatrixDropdownRowModel",function(){return v.MatrixDropdownRowModel}),d.d(M,"QuestionMatrixDropdownModel",function(){return v.QuestionMatrixDropdownModel});var x=d("./src/question_matrixdynamic.ts");d.d(M,"MatrixDynamicRowModel",function(){return x.MatrixDynamicRowModel}),d.d(M,"QuestionMatrixDynamicModel",function(){return x.QuestionMatrixDynamicModel});var b=d("./src/question_matrix.ts");d.d(M,"MatrixRowModel",function(){return b.MatrixRowModel}),d.d(M,"MatrixCells",function(){return b.MatrixCells}),d.d(M,"QuestionMatrixModel",function(){return b.QuestionMatrixModel});var i=d("./src/martixBase.ts");d.d(M,"QuestionMatrixBaseModel",function(){return i.QuestionMatrixBaseModel});var h=d("./src/question_multipletext.ts");d.d(M,"MultipleTextItemModel",function(){return h.MultipleTextItemModel}),d.d(M,"MultipleTextCell",function(){return h.MultipleTextCell}),d.d(M,"MultipleTextErrorCell",function(){return h.MultipleTextErrorCell}),d.d(M,"MutlipleTextErrorRow",function(){return h.MutlipleTextErrorRow}),d.d(M,"MutlipleTextRow",function(){return h.MutlipleTextRow}),d.d(M,"QuestionMultipleTextModel",function(){return h.QuestionMultipleTextModel}),d.d(M,"MultipleTextEditorModel",function(){return h.MultipleTextEditorModel});var E=d("./src/panel.ts");d.d(M,"PanelModel",function(){return E.PanelModel}),d.d(M,"PanelModelBase",function(){return E.PanelModelBase}),d.d(M,"QuestionRowModel",function(){return E.QuestionRowModel});var S=d("./src/flowpanel.ts");d.d(M,"FlowPanelModel",function(){return S.FlowPanelModel});var L=d("./src/page.ts");d.d(M,"PageModel",function(){return L.PageModel});var j=d("./src/template-renderer.ts"),w=d("./src/defaultTitle.ts");d.d(M,"DefaultTitleModel",function(){return w.DefaultTitleModel});var g=d("./src/question.ts");d.d(M,"Question",function(){return g.Question});var I=d("./src/questionnonvalue.ts");d.d(M,"QuestionNonValue",function(){return I.QuestionNonValue});var T=d("./src/question_empty.ts");d.d(M,"QuestionEmptyModel",function(){return T.QuestionEmptyModel});var B=d("./src/question_baseselect.ts");d.d(M,"QuestionCheckboxBase",function(){return B.QuestionCheckboxBase}),d.d(M,"QuestionSelectBase",function(){return B.QuestionSelectBase});var N=d("./src/question_checkbox.ts");d.d(M,"QuestionCheckboxModel",function(){return N.QuestionCheckboxModel});var H=d("./src/question_tagbox.ts");d.d(M,"QuestionTagboxModel",function(){return H.QuestionTagboxModel});var k=d("./src/question_ranking.ts");d.d(M,"QuestionRankingModel",function(){return k.QuestionRankingModel});var W=d("./src/question_comment.ts");d.d(M,"QuestionCommentModel",function(){return W.QuestionCommentModel});var K=d("./src/question_dropdown.ts");d.d(M,"QuestionDropdownModel",function(){return K.QuestionDropdownModel});var z=d("./src/questionfactory.ts");d.d(M,"QuestionFactory",function(){return z.QuestionFactory}),d.d(M,"ElementFactory",function(){return z.ElementFactory});var G=d("./src/question_file.ts");d.d(M,"QuestionFileModel",function(){return G.QuestionFileModel});var $=d("./src/question_html.ts");d.d(M,"QuestionHtmlModel",function(){return $.QuestionHtmlModel});var Z=d("./src/question_radiogroup.ts");d.d(M,"QuestionRadiogroupModel",function(){return Z.QuestionRadiogroupModel});var X=d("./src/question_rating.ts");d.d(M,"QuestionRatingModel",function(){return X.QuestionRatingModel}),d.d(M,"RenderedRatingItem",function(){return X.RenderedRatingItem});var ee=d("./src/question_expression.ts");d.d(M,"QuestionExpressionModel",function(){return ee.QuestionExpressionModel});var ne=d("./src/question_textbase.ts");d.d(M,"QuestionTextBase",function(){return ne.QuestionTextBase}),d.d(M,"CharacterCounter",function(){return ne.CharacterCounter});var oe=d("./src/question_text.ts");d.d(M,"QuestionTextModel",function(){return oe.QuestionTextModel});var ce=d("./src/question_boolean.ts");d.d(M,"QuestionBooleanModel",function(){return ce.QuestionBooleanModel});var ye=d("./src/question_imagepicker.ts");d.d(M,"QuestionImagePickerModel",function(){return ye.QuestionImagePickerModel}),d.d(M,"ImageItemValue",function(){return ye.ImageItemValue});var me=d("./src/question_image.ts");d.d(M,"QuestionImageModel",function(){return me.QuestionImageModel});var Ce=d("./src/question_signaturepad.ts");d.d(M,"QuestionSignaturePadModel",function(){return Ce.QuestionSignaturePadModel});var ve=d("./src/question_paneldynamic.ts");d.d(M,"QuestionPanelDynamicModel",function(){return ve.QuestionPanelDynamicModel}),d.d(M,"QuestionPanelDynamicItem",function(){return ve.QuestionPanelDynamicItem});var be=d("./src/surveytimer.ts");d.d(M,"SurveyTimer",function(){return be.SurveyTimer});var Pe=d("./src/surveyTimerModel.ts");d.d(M,"SurveyTimerModel",function(){return Pe.SurveyTimerModel});var fe=d("./src/surveyToc.ts");d.d(M,"tryFocusPage",function(){return fe.tryFocusPage}),d.d(M,"createTOCListModel",function(){return fe.createTOCListModel}),d.d(M,"getTocRootCss",function(){return fe.getTocRootCss}),d.d(M,"TOCModel",function(){return fe.TOCModel});var Oe=d("./src/surveyProgress.ts");d.d(M,"SurveyProgressModel",function(){return Oe.SurveyProgressModel});var Ve=d("./src/progress-buttons.ts");d.d(M,"ProgressButtons",function(){return Ve.ProgressButtons}),d.d(M,"ProgressButtonsResponsivityManager",function(){return Ve.ProgressButtonsResponsivityManager});var Te=d("./src/themes.ts"),Ie=d("./src/survey.ts");d.d(M,"SurveyModel",function(){return Ie.SurveyModel});var Rt=d("./src/survey-events-api.ts"),xe=d("./src/trigger.ts");d.d(M,"SurveyTrigger",function(){return xe.SurveyTrigger}),d.d(M,"SurveyTriggerComplete",function(){return xe.SurveyTriggerComplete}),d.d(M,"SurveyTriggerSetValue",function(){return xe.SurveyTriggerSetValue}),d.d(M,"SurveyTriggerVisible",function(){return xe.SurveyTriggerVisible}),d.d(M,"SurveyTriggerCopyValue",function(){return xe.SurveyTriggerCopyValue}),d.d(M,"SurveyTriggerRunExpression",function(){return xe.SurveyTriggerRunExpression}),d.d(M,"SurveyTriggerSkip",function(){return xe.SurveyTriggerSkip}),d.d(M,"Trigger",function(){return xe.Trigger});var Qe=d("./src/popup-survey.ts");d.d(M,"PopupSurveyModel",function(){return Qe.PopupSurveyModel}),d.d(M,"SurveyWindowModel",function(){return Qe.SurveyWindowModel});var Ye=d("./src/textPreProcessor.ts");d.d(M,"TextPreProcessor",function(){return Ye.TextPreProcessor});var Xe=d("./src/notifier.ts");d.d(M,"Notifier",function(){return Xe.Notifier});var ze=d("./src/header.ts");d.d(M,"Cover",function(){return ze.Cover}),d.d(M,"CoverCell",function(){return ze.CoverCell});var _e=d("./src/dxSurveyService.ts");d.d(M,"dxSurveyService",function(){return _e.dxSurveyService});var et=d("./src/localization/english.ts");d.d(M,"englishStrings",function(){return et.englishStrings});var Ke=d("./src/surveyStrings.ts");d.d(M,"surveyLocalization",function(){return Ke.surveyLocalization}),d.d(M,"surveyStrings",function(){return Ke.surveyStrings});var qe=d("./src/questionCustomWidgets.ts");d.d(M,"QuestionCustomWidget",function(){return qe.QuestionCustomWidget}),d.d(M,"CustomWidgetCollection",function(){return qe.CustomWidgetCollection});var Ae=d("./src/question_custom.ts");d.d(M,"QuestionCustomModel",function(){return Ae.QuestionCustomModel}),d.d(M,"QuestionCompositeModel",function(){return Ae.QuestionCompositeModel}),d.d(M,"ComponentQuestionJSON",function(){return Ae.ComponentQuestionJSON}),d.d(M,"ComponentCollection",function(){return Ae.ComponentCollection});var tt=d("./src/stylesmanager.ts");d.d(M,"StylesManager",function(){return tt.StylesManager});var nt=d("./src/list.ts");d.d(M,"ListModel",function(){return nt.ListModel});var mt=d("./src/multiSelectListModel.ts");d.d(M,"MultiSelectListModel",function(){return mt.MultiSelectListModel});var Le=d("./src/popup.ts");d.d(M,"PopupModel",function(){return Le.PopupModel}),d.d(M,"createDialogOptions",function(){return Le.createDialogOptions});var yt=d("./src/popup-view-model.ts");d.d(M,"PopupBaseViewModel",function(){return yt.PopupBaseViewModel});var $e=d("./src/popup-dropdown-view-model.ts");d.d(M,"PopupDropdownViewModel",function(){return $e.PopupDropdownViewModel});var vt=d("./src/popup-modal-view-model.ts");d.d(M,"PopupModalViewModel",function(){return vt.PopupModalViewModel});var Ct=d("./src/popup-utils.ts");d.d(M,"createPopupViewModel",function(){return Ct.createPopupViewModel}),d.d(M,"createPopupModalViewModel",function(){return Ct.createPopupModalViewModel});var Dt=d("./src/dropdownListModel.ts");d.d(M,"DropdownListModel",function(){return Dt.DropdownListModel});var St=d("./src/dropdownMultiSelectListModel.ts");d.d(M,"DropdownMultiSelectListModel",function(){return St.DropdownMultiSelectListModel});var ot=d("./src/question_buttongroup.ts");d.d(M,"QuestionButtonGroupModel",function(){return ot.QuestionButtonGroupModel}),d.d(M,"ButtonGroupItemModel",function(){return ot.ButtonGroupItemModel}),d.d(M,"ButtonGroupItemValue",function(){return ot.ButtonGroupItemValue});var rt=d("./src/utils/devices.ts");d.d(M,"IsMobile",function(){return rt.IsMobile}),d.d(M,"IsTouch",function(){return rt.IsTouch}),d.d(M,"_setIsTouch",function(){return rt._setIsTouch});var Me=d("./src/utils/utils.ts");d.d(M,"confirmAction",function(){return Me.confirmAction}),d.d(M,"confirmActionAsync",function(){return Me.confirmActionAsync}),d.d(M,"detectIEOrEdge",function(){return Me.detectIEOrEdge}),d.d(M,"doKey2ClickUp",function(){return Me.doKey2ClickUp}),d.d(M,"doKey2ClickDown",function(){return Me.doKey2ClickDown}),d.d(M,"doKey2ClickBlur",function(){return Me.doKey2ClickBlur}),d.d(M,"loadFileFromBase64",function(){return Me.loadFileFromBase64}),d.d(M,"increaseHeightByContent",function(){return Me.increaseHeightByContent}),d.d(M,"createSvg",function(){return Me.createSvg}),d.d(M,"sanitizeEditableContent",function(){return Me.sanitizeEditableContent});var wt=d("./src/utils/cssClassBuilder.ts");d.d(M,"CssClassBuilder",function(){return wt.CssClassBuilder});var it=d("./src/defaultCss/defaultV2Css.ts");d.d(M,"surveyCss",function(){return it.surveyCss}),d.d(M,"defaultV2Css",function(){return it.defaultV2Css}),d.d(M,"defaultV2ThemeName",function(){return it.defaultV2ThemeName});var At=d("./src/dragdrop/core.ts");d.d(M,"DragDropCore",function(){return At.DragDropCore});var Lt=d("./src/dragdrop/choices.ts");d.d(M,"DragDropChoices",function(){return Lt.DragDropChoices});var Bt=d("./src/dragdrop/ranking-select-to-rank.ts");d.d(M,"DragDropRankingSelectToRank",function(){return Bt.DragDropRankingSelectToRank});var Je,st;Je="1.9.128",st="2024-01-30";function jt(Ee,Be){if(Je!=Ee){var je="survey-core has version '"+Je+"' and "+Be+" has version '"+Ee+"'. SurveyJS libraries should have the same versions to work correctly.";console.error(je)}}function bt(Ee){at(Ee)}function at(Ee){Nt(Ee,lt,st)}function Pt(Ee){return lt[Ee.toString()]===!0}var lt={};function Nt(Ee,Be,je){if(Ee){var Se=function(Ne){var Fe={},ke,ut=0,rn,Ue,Ge=0,Et,ct="",Qt=String.fromCharCode,Ot=Ne.length,kt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(ke=0;ke<64;ke++)Fe[kt.charAt(ke)]=ke;for(Ue=0;Ue<Ot;Ue++){var Ut=Fe[Ne.charAt(Ue)];for(ut=(ut<<6)+Ut,Ge+=6;Ge>=8;)((Et=ut>>>(Ge-=8)&255)||Ue<Ot-2)&&(ct+=Qt(Et))}return ct},Re=Se(Ee);if(Re){var we=Re.indexOf(";");we<0||Ft(Re.substring(0,we))&&(Re=Re.substring(we+1),Re.split(",").forEach(function(Ne){var Fe=Ne.indexOf("=");Fe>0&&(Be[Ne.substring(0,Fe)]=new Date(je)<=new Date(Ne.substring(Fe+1)))}))}}}function Ft(Ee){if(!Ee)return!0;var Be="domains:",je=Ee.indexOf(Be);if(je<0)return!0;var Se=Ee.substring(je+Be.length).toLowerCase().split(",");if(!Array.isArray(Se)||Se.length===0)return!0;if(typeof window<"u"&&window.location&&window.location.hostname){var Re=window.location.hostname.toLowerCase();Se.push("localhost");for(var we=0;we<Se.length;we++)if(Re.indexOf(Se[we])>-1)return!0;return!1}return!0}},"./src/entries/core-wo-model.ts":function(q,M,d){"use strict";d.r(M);var P=d("./src/entries/chunks/model.ts");d.d(M,"Version",function(){return P.Version}),d.d(M,"ReleaseDate",function(){return P.ReleaseDate}),d.d(M,"checkLibraryVersion",function(){return P.checkLibraryVersion}),d.d(M,"setLicenseKey",function(){return P.setLicenseKey}),d.d(M,"slk",function(){return P.slk}),d.d(M,"hasLicense",function(){return P.hasLicense}),d.d(M,"settings",function(){return P.settings}),d.d(M,"Helpers",function(){return P.Helpers}),d.d(M,"AnswerCountValidator",function(){return P.AnswerCountValidator}),d.d(M,"EmailValidator",function(){return P.EmailValidator}),d.d(M,"NumericValidator",function(){return P.NumericValidator}),d.d(M,"RegexValidator",function(){return P.RegexValidator}),d.d(M,"SurveyValidator",function(){return P.SurveyValidator}),d.d(M,"TextValidator",function(){return P.TextValidator}),d.d(M,"ValidatorResult",function(){return P.ValidatorResult}),d.d(M,"ExpressionValidator",function(){return P.ExpressionValidator}),d.d(M,"ValidatorRunner",function(){return P.ValidatorRunner}),d.d(M,"ItemValue",function(){return P.ItemValue}),d.d(M,"Base",function(){return P.Base}),d.d(M,"Event",function(){return P.Event}),d.d(M,"EventBase",function(){return P.EventBase}),d.d(M,"ArrayChanges",function(){return P.ArrayChanges}),d.d(M,"ComputedUpdater",function(){return P.ComputedUpdater}),d.d(M,"SurveyError",function(){return P.SurveyError}),d.d(M,"SurveyElementCore",function(){return P.SurveyElementCore}),d.d(M,"SurveyElement",function(){return P.SurveyElement}),d.d(M,"DragTypeOverMeEnum",function(){return P.DragTypeOverMeEnum}),d.d(M,"CalculatedValue",function(){return P.CalculatedValue}),d.d(M,"CustomError",function(){return P.CustomError}),d.d(M,"AnswerRequiredError",function(){return P.AnswerRequiredError}),d.d(M,"OneAnswerRequiredError",function(){return P.OneAnswerRequiredError}),d.d(M,"RequreNumericError",function(){return P.RequreNumericError}),d.d(M,"ExceedSizeError",function(){return P.ExceedSizeError}),d.d(M,"LocalizableString",function(){return P.LocalizableString}),d.d(M,"LocalizableStrings",function(){return P.LocalizableStrings}),d.d(M,"HtmlConditionItem",function(){return P.HtmlConditionItem}),d.d(M,"UrlConditionItem",function(){return P.UrlConditionItem}),d.d(M,"ChoicesRestful",function(){return P.ChoicesRestful}),d.d(M,"ChoicesRestfull",function(){return P.ChoicesRestfull}),d.d(M,"FunctionFactory",function(){return P.FunctionFactory}),d.d(M,"registerFunction",function(){return P.registerFunction}),d.d(M,"ConditionRunner",function(){return P.ConditionRunner}),d.d(M,"ExpressionRunner",function(){return P.ExpressionRunner}),d.d(M,"ExpressionExecutor",function(){return P.ExpressionExecutor}),d.d(M,"Operand",function(){return P.Operand}),d.d(M,"Const",function(){return P.Const}),d.d(M,"BinaryOperand",function(){return P.BinaryOperand}),d.d(M,"Variable",function(){return P.Variable}),d.d(M,"FunctionOperand",function(){return P.FunctionOperand}),d.d(M,"ArrayOperand",function(){return P.ArrayOperand}),d.d(M,"UnaryOperand",function(){return P.UnaryOperand}),d.d(M,"ConditionsParser",function(){return P.ConditionsParser}),d.d(M,"ProcessValue",function(){return P.ProcessValue}),d.d(M,"JsonError",function(){return P.JsonError}),d.d(M,"JsonIncorrectTypeError",function(){return P.JsonIncorrectTypeError}),d.d(M,"JsonMetadata",function(){return P.JsonMetadata}),d.d(M,"JsonMetadataClass",function(){return P.JsonMetadataClass}),d.d(M,"JsonMissingTypeError",function(){return P.JsonMissingTypeError}),d.d(M,"JsonMissingTypeErrorBase",function(){return P.JsonMissingTypeErrorBase}),d.d(M,"JsonObject",function(){return P.JsonObject}),d.d(M,"JsonObjectProperty",function(){return P.JsonObjectProperty}),d.d(M,"JsonRequiredPropertyError",function(){return P.JsonRequiredPropertyError}),d.d(M,"JsonUnknownPropertyError",function(){return P.JsonUnknownPropertyError}),d.d(M,"Serializer",function(){return P.Serializer}),d.d(M,"property",function(){return P.property}),d.d(M,"propertyArray",function(){return P.propertyArray}),d.d(M,"MatrixDropdownCell",function(){return P.MatrixDropdownCell}),d.d(M,"MatrixDropdownRowModelBase",function(){return P.MatrixDropdownRowModelBase}),d.d(M,"QuestionMatrixDropdownModelBase",function(){return P.QuestionMatrixDropdownModelBase}),d.d(M,"MatrixDropdownColumn",function(){return P.MatrixDropdownColumn}),d.d(M,"matrixDropdownColumnTypes",function(){return P.matrixDropdownColumnTypes}),d.d(M,"QuestionMatrixDropdownRenderedCell",function(){return P.QuestionMatrixDropdownRenderedCell}),d.d(M,"QuestionMatrixDropdownRenderedRow",function(){return P.QuestionMatrixDropdownRenderedRow}),d.d(M,"QuestionMatrixDropdownRenderedTable",function(){return P.QuestionMatrixDropdownRenderedTable}),d.d(M,"MatrixDropdownRowModel",function(){return P.MatrixDropdownRowModel}),d.d(M,"QuestionMatrixDropdownModel",function(){return P.QuestionMatrixDropdownModel}),d.d(M,"MatrixDynamicRowModel",function(){return P.MatrixDynamicRowModel}),d.d(M,"QuestionMatrixDynamicModel",function(){return P.QuestionMatrixDynamicModel}),d.d(M,"MatrixRowModel",function(){return P.MatrixRowModel}),d.d(M,"MatrixCells",function(){return P.MatrixCells}),d.d(M,"QuestionMatrixModel",function(){return P.QuestionMatrixModel}),d.d(M,"QuestionMatrixBaseModel",function(){return P.QuestionMatrixBaseModel}),d.d(M,"MultipleTextItemModel",function(){return P.MultipleTextItemModel}),d.d(M,"MultipleTextCell",function(){return P.MultipleTextCell}),d.d(M,"MultipleTextErrorCell",function(){return P.MultipleTextErrorCell}),d.d(M,"MutlipleTextErrorRow",function(){return P.MutlipleTextErrorRow}),d.d(M,"MutlipleTextRow",function(){return P.MutlipleTextRow}),d.d(M,"QuestionMultipleTextModel",function(){return P.QuestionMultipleTextModel}),d.d(M,"MultipleTextEditorModel",function(){return P.MultipleTextEditorModel}),d.d(M,"PanelModel",function(){return P.PanelModel}),d.d(M,"PanelModelBase",function(){return P.PanelModelBase}),d.d(M,"QuestionRowModel",function(){return P.QuestionRowModel}),d.d(M,"FlowPanelModel",function(){return P.FlowPanelModel}),d.d(M,"PageModel",function(){return P.PageModel}),d.d(M,"DefaultTitleModel",function(){return P.DefaultTitleModel}),d.d(M,"Question",function(){return P.Question}),d.d(M,"QuestionNonValue",function(){return P.QuestionNonValue}),d.d(M,"QuestionEmptyModel",function(){return P.QuestionEmptyModel}),d.d(M,"QuestionCheckboxBase",function(){return P.QuestionCheckboxBase}),d.d(M,"QuestionSelectBase",function(){return P.QuestionSelectBase}),d.d(M,"QuestionCheckboxModel",function(){return P.QuestionCheckboxModel}),d.d(M,"QuestionTagboxModel",function(){return P.QuestionTagboxModel}),d.d(M,"QuestionRankingModel",function(){return P.QuestionRankingModel}),d.d(M,"QuestionCommentModel",function(){return P.QuestionCommentModel}),d.d(M,"QuestionDropdownModel",function(){return P.QuestionDropdownModel}),d.d(M,"QuestionFactory",function(){return P.QuestionFactory}),d.d(M,"ElementFactory",function(){return P.ElementFactory}),d.d(M,"QuestionFileModel",function(){return P.QuestionFileModel}),d.d(M,"QuestionHtmlModel",function(){return P.QuestionHtmlModel}),d.d(M,"QuestionRadiogroupModel",function(){return P.QuestionRadiogroupModel}),d.d(M,"QuestionRatingModel",function(){return P.QuestionRatingModel}),d.d(M,"RenderedRatingItem",function(){return P.RenderedRatingItem}),d.d(M,"QuestionExpressionModel",function(){return P.QuestionExpressionModel}),d.d(M,"QuestionTextBase",function(){return P.QuestionTextBase}),d.d(M,"CharacterCounter",function(){return P.CharacterCounter}),d.d(M,"QuestionTextModel",function(){return P.QuestionTextModel}),d.d(M,"QuestionBooleanModel",function(){return P.QuestionBooleanModel}),d.d(M,"QuestionImagePickerModel",function(){return P.QuestionImagePickerModel}),d.d(M,"ImageItemValue",function(){return P.ImageItemValue}),d.d(M,"QuestionImageModel",function(){return P.QuestionImageModel}),d.d(M,"QuestionSignaturePadModel",function(){return P.QuestionSignaturePadModel}),d.d(M,"QuestionPanelDynamicModel",function(){return P.QuestionPanelDynamicModel}),d.d(M,"QuestionPanelDynamicItem",function(){return P.QuestionPanelDynamicItem}),d.d(M,"SurveyTimer",function(){return P.SurveyTimer}),d.d(M,"SurveyTimerModel",function(){return P.SurveyTimerModel}),d.d(M,"tryFocusPage",function(){return P.tryFocusPage}),d.d(M,"createTOCListModel",function(){return P.createTOCListModel}),d.d(M,"getTocRootCss",function(){return P.getTocRootCss}),d.d(M,"TOCModel",function(){return P.TOCModel}),d.d(M,"SurveyProgressModel",function(){return P.SurveyProgressModel}),d.d(M,"ProgressButtons",function(){return P.ProgressButtons}),d.d(M,"ProgressButtonsResponsivityManager",function(){return P.ProgressButtonsResponsivityManager}),d.d(M,"SurveyModel",function(){return P.SurveyModel}),d.d(M,"SurveyTrigger",function(){return P.SurveyTrigger}),d.d(M,"SurveyTriggerComplete",function(){return P.SurveyTriggerComplete}),d.d(M,"SurveyTriggerSetValue",function(){return P.SurveyTriggerSetValue}),d.d(M,"SurveyTriggerVisible",function(){return P.SurveyTriggerVisible}),d.d(M,"SurveyTriggerCopyValue",function(){return P.SurveyTriggerCopyValue}),d.d(M,"SurveyTriggerRunExpression",function(){return P.SurveyTriggerRunExpression}),d.d(M,"SurveyTriggerSkip",function(){return P.SurveyTriggerSkip}),d.d(M,"Trigger",function(){return P.Trigger}),d.d(M,"PopupSurveyModel",function(){return P.PopupSurveyModel}),d.d(M,"SurveyWindowModel",function(){return P.SurveyWindowModel}),d.d(M,"TextPreProcessor",function(){return P.TextPreProcessor}),d.d(M,"Notifier",function(){return P.Notifier}),d.d(M,"Cover",function(){return P.Cover}),d.d(M,"CoverCell",function(){return P.CoverCell}),d.d(M,"dxSurveyService",function(){return P.dxSurveyService}),d.d(M,"englishStrings",function(){return P.englishStrings}),d.d(M,"surveyLocalization",function(){return P.surveyLocalization}),d.d(M,"surveyStrings",function(){return P.surveyStrings}),d.d(M,"QuestionCustomWidget",function(){return P.QuestionCustomWidget}),d.d(M,"CustomWidgetCollection",function(){return P.CustomWidgetCollection}),d.d(M,"QuestionCustomModel",function(){return P.QuestionCustomModel}),d.d(M,"QuestionCompositeModel",function(){return P.QuestionCompositeModel}),d.d(M,"ComponentQuestionJSON",function(){return P.ComponentQuestionJSON}),d.d(M,"ComponentCollection",function(){return P.ComponentCollection}),d.d(M,"StylesManager",function(){return P.StylesManager}),d.d(M,"ListModel",function(){return P.ListModel}),d.d(M,"MultiSelectListModel",function(){return P.MultiSelectListModel}),d.d(M,"PopupModel",function(){return P.PopupModel}),d.d(M,"createDialogOptions",function(){return P.createDialogOptions}),d.d(M,"PopupBaseViewModel",function(){return P.PopupBaseViewModel}),d.d(M,"PopupDropdownViewModel",function(){return P.PopupDropdownViewModel}),d.d(M,"PopupModalViewModel",function(){return P.PopupModalViewModel}),d.d(M,"createPopupViewModel",function(){return P.createPopupViewModel}),d.d(M,"createPopupModalViewModel",function(){return P.createPopupModalViewModel}),d.d(M,"DropdownListModel",function(){return P.DropdownListModel}),d.d(M,"DropdownMultiSelectListModel",function(){return P.DropdownMultiSelectListModel}),d.d(M,"QuestionButtonGroupModel",function(){return P.QuestionButtonGroupModel}),d.d(M,"ButtonGroupItemModel",function(){return P.ButtonGroupItemModel}),d.d(M,"ButtonGroupItemValue",function(){return P.ButtonGroupItemValue}),d.d(M,"IsMobile",function(){return P.IsMobile}),d.d(M,"IsTouch",function(){return P.IsTouch}),d.d(M,"_setIsTouch",function(){return P._setIsTouch}),d.d(M,"confirmAction",function(){return P.confirmAction}),d.d(M,"confirmActionAsync",function(){return P.confirmActionAsync}),d.d(M,"detectIEOrEdge",function(){return P.detectIEOrEdge}),d.d(M,"doKey2ClickUp",function(){return P.doKey2ClickUp}),d.d(M,"doKey2ClickDown",function(){return P.doKey2ClickDown}),d.d(M,"doKey2ClickBlur",function(){return P.doKey2ClickBlur}),d.d(M,"loadFileFromBase64",function(){return P.loadFileFromBase64}),d.d(M,"increaseHeightByContent",function(){return P.increaseHeightByContent}),d.d(M,"createSvg",function(){return P.createSvg}),d.d(M,"sanitizeEditableContent",function(){return P.sanitizeEditableContent}),d.d(M,"CssClassBuilder",function(){return P.CssClassBuilder}),d.d(M,"surveyCss",function(){return P.surveyCss}),d.d(M,"defaultV2Css",function(){return P.defaultV2Css}),d.d(M,"defaultV2ThemeName",function(){return P.defaultV2ThemeName}),d.d(M,"DragDropCore",function(){return P.DragDropCore}),d.d(M,"DragDropChoices",function(){return P.DragDropChoices}),d.d(M,"DragDropRankingSelectToRank",function(){return P.DragDropRankingSelectToRank});var C=d("./src/defaultCss/cssstandard.ts");d.d(M,"defaultStandardCss",function(){return C.defaultStandardCss});var D=d("./src/defaultCss/cssmodern.ts");d.d(M,"modernCss",function(){return D.modernCss});var A=d("./src/svgbundle.ts");d.d(M,"SvgIconRegistry",function(){return A.SvgIconRegistry}),d.d(M,"SvgRegistry",function(){return A.SvgRegistry}),d.d(M,"SvgBundleViewModel",function(){return A.SvgBundleViewModel});var R=d("./src/rendererFactory.ts");d.d(M,"RendererFactory",function(){return R.RendererFactory});var V=d("./src/utils/responsivity-manager.ts");d.d(M,"ResponsivityManager",function(){return V.ResponsivityManager}),d.d(M,"VerticalResponsivityManager",function(){return V.VerticalResponsivityManager});var O=d("./src/utils/utils.ts");d.d(M,"unwrap",function(){return O.unwrap}),d.d(M,"getOriginalEvent",function(){return O.getOriginalEvent}),d.d(M,"getElement",function(){return O.getElement});var l=d("./src/actions/action.ts");d.d(M,"createDropdownActionModel",function(){return l.createDropdownActionModel}),d.d(M,"createDropdownActionModelAdvanced",function(){return l.createDropdownActionModelAdvanced}),d.d(M,"getActionDropdownButtonTarget",function(){return l.getActionDropdownButtonTarget}),d.d(M,"BaseAction",function(){return l.BaseAction}),d.d(M,"Action",function(){return l.Action}),d.d(M,"ActionDropdownViewModel",function(){return l.ActionDropdownViewModel});var y=d("./src/actions/adaptive-container.ts");d.d(M,"AdaptiveActionContainer",function(){return y.AdaptiveActionContainer});var p=d("./src/actions/container.ts");d.d(M,"defaultActionBarCss",function(){return p.defaultActionBarCss}),d.d(M,"ActionContainer",function(){return p.ActionContainer});var f=d("./src/utils/dragOrClickHelper.ts");d.d(M,"DragOrClickHelper",function(){return f.DragOrClickHelper})},"./src/entries/core.ts":function(q,M,d){"use strict";d.r(M);var P=d("./src/entries/core-wo-model.ts");d.d(M,"Version",function(){return P.Version}),d.d(M,"ReleaseDate",function(){return P.ReleaseDate}),d.d(M,"checkLibraryVersion",function(){return P.checkLibraryVersion}),d.d(M,"setLicenseKey",function(){return P.setLicenseKey}),d.d(M,"slk",function(){return P.slk}),d.d(M,"hasLicense",function(){return P.hasLicense}),d.d(M,"settings",function(){return P.settings}),d.d(M,"Helpers",function(){return P.Helpers}),d.d(M,"AnswerCountValidator",function(){return P.AnswerCountValidator}),d.d(M,"EmailValidator",function(){return P.EmailValidator}),d.d(M,"NumericValidator",function(){return P.NumericValidator}),d.d(M,"RegexValidator",function(){return P.RegexValidator}),d.d(M,"SurveyValidator",function(){return P.SurveyValidator}),d.d(M,"TextValidator",function(){return P.TextValidator}),d.d(M,"ValidatorResult",function(){return P.ValidatorResult}),d.d(M,"ExpressionValidator",function(){return P.ExpressionValidator}),d.d(M,"ValidatorRunner",function(){return P.ValidatorRunner}),d.d(M,"ItemValue",function(){return P.ItemValue}),d.d(M,"Base",function(){return P.Base}),d.d(M,"Event",function(){return P.Event}),d.d(M,"EventBase",function(){return P.EventBase}),d.d(M,"ArrayChanges",function(){return P.ArrayChanges}),d.d(M,"ComputedUpdater",function(){return P.ComputedUpdater}),d.d(M,"SurveyError",function(){return P.SurveyError}),d.d(M,"SurveyElementCore",function(){return P.SurveyElementCore}),d.d(M,"SurveyElement",function(){return P.SurveyElement}),d.d(M,"DragTypeOverMeEnum",function(){return P.DragTypeOverMeEnum}),d.d(M,"CalculatedValue",function(){return P.CalculatedValue}),d.d(M,"CustomError",function(){return P.CustomError}),d.d(M,"AnswerRequiredError",function(){return P.AnswerRequiredError}),d.d(M,"OneAnswerRequiredError",function(){return P.OneAnswerRequiredError}),d.d(M,"RequreNumericError",function(){return P.RequreNumericError}),d.d(M,"ExceedSizeError",function(){return P.ExceedSizeError}),d.d(M,"LocalizableString",function(){return P.LocalizableString}),d.d(M,"LocalizableStrings",function(){return P.LocalizableStrings}),d.d(M,"HtmlConditionItem",function(){return P.HtmlConditionItem}),d.d(M,"UrlConditionItem",function(){return P.UrlConditionItem}),d.d(M,"ChoicesRestful",function(){return P.ChoicesRestful}),d.d(M,"ChoicesRestfull",function(){return P.ChoicesRestfull}),d.d(M,"FunctionFactory",function(){return P.FunctionFactory}),d.d(M,"registerFunction",function(){return P.registerFunction}),d.d(M,"ConditionRunner",function(){return P.ConditionRunner}),d.d(M,"ExpressionRunner",function(){return P.ExpressionRunner}),d.d(M,"ExpressionExecutor",function(){return P.ExpressionExecutor}),d.d(M,"Operand",function(){return P.Operand}),d.d(M,"Const",function(){return P.Const}),d.d(M,"BinaryOperand",function(){return P.BinaryOperand}),d.d(M,"Variable",function(){return P.Variable}),d.d(M,"FunctionOperand",function(){return P.FunctionOperand}),d.d(M,"ArrayOperand",function(){return P.ArrayOperand}),d.d(M,"UnaryOperand",function(){return P.UnaryOperand}),d.d(M,"ConditionsParser",function(){return P.ConditionsParser}),d.d(M,"ProcessValue",function(){return P.ProcessValue}),d.d(M,"JsonError",function(){return P.JsonError}),d.d(M,"JsonIncorrectTypeError",function(){return P.JsonIncorrectTypeError}),d.d(M,"JsonMetadata",function(){return P.JsonMetadata}),d.d(M,"JsonMetadataClass",function(){return P.JsonMetadataClass}),d.d(M,"JsonMissingTypeError",function(){return P.JsonMissingTypeError}),d.d(M,"JsonMissingTypeErrorBase",function(){return P.JsonMissingTypeErrorBase}),d.d(M,"JsonObject",function(){return P.JsonObject}),d.d(M,"JsonObjectProperty",function(){return P.JsonObjectProperty}),d.d(M,"JsonRequiredPropertyError",function(){return P.JsonRequiredPropertyError}),d.d(M,"JsonUnknownPropertyError",function(){return P.JsonUnknownPropertyError}),d.d(M,"Serializer",function(){return P.Serializer}),d.d(M,"property",function(){return P.property}),d.d(M,"propertyArray",function(){return P.propertyArray}),d.d(M,"MatrixDropdownCell",function(){return P.MatrixDropdownCell}),d.d(M,"MatrixDropdownRowModelBase",function(){return P.MatrixDropdownRowModelBase}),d.d(M,"QuestionMatrixDropdownModelBase",function(){return P.QuestionMatrixDropdownModelBase}),d.d(M,"MatrixDropdownColumn",function(){return P.MatrixDropdownColumn}),d.d(M,"matrixDropdownColumnTypes",function(){return P.matrixDropdownColumnTypes}),d.d(M,"QuestionMatrixDropdownRenderedCell",function(){return P.QuestionMatrixDropdownRenderedCell}),d.d(M,"QuestionMatrixDropdownRenderedRow",function(){return P.QuestionMatrixDropdownRenderedRow}),d.d(M,"QuestionMatrixDropdownRenderedTable",function(){return P.QuestionMatrixDropdownRenderedTable}),d.d(M,"MatrixDropdownRowModel",function(){return P.MatrixDropdownRowModel}),d.d(M,"QuestionMatrixDropdownModel",function(){return P.QuestionMatrixDropdownModel}),d.d(M,"MatrixDynamicRowModel",function(){return P.MatrixDynamicRowModel}),d.d(M,"QuestionMatrixDynamicModel",function(){return P.QuestionMatrixDynamicModel}),d.d(M,"MatrixRowModel",function(){return P.MatrixRowModel}),d.d(M,"MatrixCells",function(){return P.MatrixCells}),d.d(M,"QuestionMatrixModel",function(){return P.QuestionMatrixModel}),d.d(M,"QuestionMatrixBaseModel",function(){return P.QuestionMatrixBaseModel}),d.d(M,"MultipleTextItemModel",function(){return P.MultipleTextItemModel}),d.d(M,"MultipleTextCell",function(){return P.MultipleTextCell}),d.d(M,"MultipleTextErrorCell",function(){return P.MultipleTextErrorCell}),d.d(M,"MutlipleTextErrorRow",function(){return P.MutlipleTextErrorRow}),d.d(M,"MutlipleTextRow",function(){return P.MutlipleTextRow}),d.d(M,"QuestionMultipleTextModel",function(){return P.QuestionMultipleTextModel}),d.d(M,"MultipleTextEditorModel",function(){return P.MultipleTextEditorModel}),d.d(M,"PanelModel",function(){return P.PanelModel}),d.d(M,"PanelModelBase",function(){return P.PanelModelBase}),d.d(M,"QuestionRowModel",function(){return P.QuestionRowModel}),d.d(M,"FlowPanelModel",function(){return P.FlowPanelModel}),d.d(M,"PageModel",function(){return P.PageModel}),d.d(M,"DefaultTitleModel",function(){return P.DefaultTitleModel}),d.d(M,"Question",function(){return P.Question}),d.d(M,"QuestionNonValue",function(){return P.QuestionNonValue}),d.d(M,"QuestionEmptyModel",function(){return P.QuestionEmptyModel}),d.d(M,"QuestionCheckboxBase",function(){return P.QuestionCheckboxBase}),d.d(M,"QuestionSelectBase",function(){return P.QuestionSelectBase}),d.d(M,"QuestionCheckboxModel",function(){return P.QuestionCheckboxModel}),d.d(M,"QuestionTagboxModel",function(){return P.QuestionTagboxModel}),d.d(M,"QuestionRankingModel",function(){return P.QuestionRankingModel}),d.d(M,"QuestionCommentModel",function(){return P.QuestionCommentModel}),d.d(M,"QuestionDropdownModel",function(){return P.QuestionDropdownModel}),d.d(M,"QuestionFactory",function(){return P.QuestionFactory}),d.d(M,"ElementFactory",function(){return P.ElementFactory}),d.d(M,"QuestionFileModel",function(){return P.QuestionFileModel}),d.d(M,"QuestionHtmlModel",function(){return P.QuestionHtmlModel}),d.d(M,"QuestionRadiogroupModel",function(){return P.QuestionRadiogroupModel}),d.d(M,"QuestionRatingModel",function(){return P.QuestionRatingModel}),d.d(M,"RenderedRatingItem",function(){return P.RenderedRatingItem}),d.d(M,"QuestionExpressionModel",function(){return P.QuestionExpressionModel}),d.d(M,"QuestionTextBase",function(){return P.QuestionTextBase}),d.d(M,"CharacterCounter",function(){return P.CharacterCounter}),d.d(M,"QuestionTextModel",function(){return P.QuestionTextModel}),d.d(M,"QuestionBooleanModel",function(){return P.QuestionBooleanModel}),d.d(M,"QuestionImagePickerModel",function(){return P.QuestionImagePickerModel}),d.d(M,"ImageItemValue",function(){return P.ImageItemValue}),d.d(M,"QuestionImageModel",function(){return P.QuestionImageModel}),d.d(M,"QuestionSignaturePadModel",function(){return P.QuestionSignaturePadModel}),d.d(M,"QuestionPanelDynamicModel",function(){return P.QuestionPanelDynamicModel}),d.d(M,"QuestionPanelDynamicItem",function(){return P.QuestionPanelDynamicItem}),d.d(M,"SurveyTimer",function(){return P.SurveyTimer}),d.d(M,"SurveyTimerModel",function(){return P.SurveyTimerModel}),d.d(M,"tryFocusPage",function(){return P.tryFocusPage}),d.d(M,"createTOCListModel",function(){return P.createTOCListModel}),d.d(M,"getTocRootCss",function(){return P.getTocRootCss}),d.d(M,"TOCModel",function(){return P.TOCModel}),d.d(M,"SurveyProgressModel",function(){return P.SurveyProgressModel}),d.d(M,"ProgressButtons",function(){return P.ProgressButtons}),d.d(M,"ProgressButtonsResponsivityManager",function(){return P.ProgressButtonsResponsivityManager}),d.d(M,"SurveyModel",function(){return P.SurveyModel}),d.d(M,"SurveyTrigger",function(){return P.SurveyTrigger}),d.d(M,"SurveyTriggerComplete",function(){return P.SurveyTriggerComplete}),d.d(M,"SurveyTriggerSetValue",function(){return P.SurveyTriggerSetValue}),d.d(M,"SurveyTriggerVisible",function(){return P.SurveyTriggerVisible}),d.d(M,"SurveyTriggerCopyValue",function(){return P.SurveyTriggerCopyValue}),d.d(M,"SurveyTriggerRunExpression",function(){return P.SurveyTriggerRunExpression}),d.d(M,"SurveyTriggerSkip",function(){return P.SurveyTriggerSkip}),d.d(M,"Trigger",function(){return P.Trigger}),d.d(M,"PopupSurveyModel",function(){return P.PopupSurveyModel}),d.d(M,"SurveyWindowModel",function(){return P.SurveyWindowModel}),d.d(M,"TextPreProcessor",function(){return P.TextPreProcessor}),d.d(M,"Notifier",function(){return P.Notifier}),d.d(M,"Cover",function(){return P.Cover}),d.d(M,"CoverCell",function(){return P.CoverCell}),d.d(M,"dxSurveyService",function(){return P.dxSurveyService}),d.d(M,"englishStrings",function(){return P.englishStrings}),d.d(M,"surveyLocalization",function(){return P.surveyLocalization}),d.d(M,"surveyStrings",function(){return P.surveyStrings}),d.d(M,"QuestionCustomWidget",function(){return P.QuestionCustomWidget}),d.d(M,"CustomWidgetCollection",function(){return P.CustomWidgetCollection}),d.d(M,"QuestionCustomModel",function(){return P.QuestionCustomModel}),d.d(M,"QuestionCompositeModel",function(){return P.QuestionCompositeModel}),d.d(M,"ComponentQuestionJSON",function(){return P.ComponentQuestionJSON}),d.d(M,"ComponentCollection",function(){return P.ComponentCollection}),d.d(M,"StylesManager",function(){return P.StylesManager}),d.d(M,"ListModel",function(){return P.ListModel}),d.d(M,"MultiSelectListModel",function(){return P.MultiSelectListModel}),d.d(M,"PopupModel",function(){return P.PopupModel}),d.d(M,"createDialogOptions",function(){return P.createDialogOptions}),d.d(M,"PopupBaseViewModel",function(){return P.PopupBaseViewModel}),d.d(M,"PopupDropdownViewModel",function(){return P.PopupDropdownViewModel}),d.d(M,"PopupModalViewModel",function(){return P.PopupModalViewModel}),d.d(M,"createPopupViewModel",function(){return P.createPopupViewModel}),d.d(M,"createPopupModalViewModel",function(){return P.createPopupModalViewModel}),d.d(M,"DropdownListModel",function(){return P.DropdownListModel}),d.d(M,"DropdownMultiSelectListModel",function(){return P.DropdownMultiSelectListModel}),d.d(M,"QuestionButtonGroupModel",function(){return P.QuestionButtonGroupModel}),d.d(M,"ButtonGroupItemModel",function(){return P.ButtonGroupItemModel}),d.d(M,"ButtonGroupItemValue",function(){return P.ButtonGroupItemValue}),d.d(M,"IsMobile",function(){return P.IsMobile}),d.d(M,"IsTouch",function(){return P.IsTouch}),d.d(M,"_setIsTouch",function(){return P._setIsTouch}),d.d(M,"confirmAction",function(){return P.confirmAction}),d.d(M,"confirmActionAsync",function(){return P.confirmActionAsync}),d.d(M,"detectIEOrEdge",function(){return P.detectIEOrEdge}),d.d(M,"doKey2ClickUp",function(){return P.doKey2ClickUp}),d.d(M,"doKey2ClickDown",function(){return P.doKey2ClickDown}),d.d(M,"doKey2ClickBlur",function(){return P.doKey2ClickBlur}),d.d(M,"loadFileFromBase64",function(){return P.loadFileFromBase64}),d.d(M,"increaseHeightByContent",function(){return P.increaseHeightByContent}),d.d(M,"createSvg",function(){return P.createSvg}),d.d(M,"sanitizeEditableContent",function(){return P.sanitizeEditableContent}),d.d(M,"CssClassBuilder",function(){return P.CssClassBuilder}),d.d(M,"surveyCss",function(){return P.surveyCss}),d.d(M,"defaultV2Css",function(){return P.defaultV2Css}),d.d(M,"defaultV2ThemeName",function(){return P.defaultV2ThemeName}),d.d(M,"DragDropCore",function(){return P.DragDropCore}),d.d(M,"DragDropChoices",function(){return P.DragDropChoices}),d.d(M,"DragDropRankingSelectToRank",function(){return P.DragDropRankingSelectToRank}),d.d(M,"defaultStandardCss",function(){return P.defaultStandardCss}),d.d(M,"modernCss",function(){return P.modernCss}),d.d(M,"SvgIconRegistry",function(){return P.SvgIconRegistry}),d.d(M,"SvgRegistry",function(){return P.SvgRegistry}),d.d(M,"SvgBundleViewModel",function(){return P.SvgBundleViewModel}),d.d(M,"RendererFactory",function(){return P.RendererFactory}),d.d(M,"ResponsivityManager",function(){return P.ResponsivityManager}),d.d(M,"VerticalResponsivityManager",function(){return P.VerticalResponsivityManager}),d.d(M,"unwrap",function(){return P.unwrap}),d.d(M,"getOriginalEvent",function(){return P.getOriginalEvent}),d.d(M,"getElement",function(){return P.getElement}),d.d(M,"createDropdownActionModel",function(){return P.createDropdownActionModel}),d.d(M,"createDropdownActionModelAdvanced",function(){return P.createDropdownActionModelAdvanced}),d.d(M,"getActionDropdownButtonTarget",function(){return P.getActionDropdownButtonTarget}),d.d(M,"BaseAction",function(){return P.BaseAction}),d.d(M,"Action",function(){return P.Action}),d.d(M,"ActionDropdownViewModel",function(){return P.ActionDropdownViewModel}),d.d(M,"AdaptiveActionContainer",function(){return P.AdaptiveActionContainer}),d.d(M,"defaultActionBarCss",function(){return P.defaultActionBarCss}),d.d(M,"ActionContainer",function(){return P.ActionContainer}),d.d(M,"DragOrClickHelper",function(){return P.DragOrClickHelper});var C=d("./src/survey.ts");d.d(M,"Model",function(){return C.SurveyModel})},"./src/error.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"AnswerRequiredError",function(){return A}),d.d(M,"OneAnswerRequiredError",function(){return R}),d.d(M,"RequreNumericError",function(){return V}),d.d(M,"ExceedSizeError",function(){return O}),d.d(M,"WebRequestError",function(){return l}),d.d(M,"WebRequestEmptyError",function(){return y}),d.d(M,"OtherEmptyError",function(){return p}),d.d(M,"UploadingFileError",function(){return f}),d.d(M,"RequiredInAllRowsError",function(){return e}),d.d(M,"EachRowUniqueError",function(){return m}),d.d(M,"MinRowCountError",function(){return s}),d.d(M,"KeyDuplicationError",function(){return a}),d.d(M,"CustomError",function(){return c});var P=d("./src/surveyStrings.ts"),C=d("./src/survey-error.ts"),D=function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var v in u)Object.prototype.hasOwnProperty.call(u,v)&&(o[v]=u[v])},r(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),A=function(r){D(t,r);function t(n,o){n===void 0&&(n=null),o===void 0&&(o=null);var u=r.call(this,n,o)||this;return u.text=n,u}return t.prototype.getErrorType=function(){return"required"},t.prototype.getDefaultText=function(){return this.getLocalizationString("requiredError")},t}(C.SurveyError),R=function(r){D(t,r);function t(n,o){n===void 0&&(n=null),o===void 0&&(o=null);var u=r.call(this,n,o)||this;return u.text=n,u}return t.prototype.getErrorType=function(){return"requireoneanswer"},t.prototype.getDefaultText=function(){return this.getLocalizationString("requiredErrorInPanel")},t}(C.SurveyError),V=function(r){D(t,r);function t(n,o){n===void 0&&(n=null),o===void 0&&(o=null);var u=r.call(this,n,o)||this;return u.text=n,u}return t.prototype.getErrorType=function(){return"requirenumeric"},t.prototype.getDefaultText=function(){return this.getLocalizationString("numericError")},t}(C.SurveyError),O=function(r){D(t,r);function t(n,o){o===void 0&&(o=null);var u=r.call(this,null,o)||this;return u.maxSize=n,u.locText.text=u.getText(),u}return t.prototype.getErrorType=function(){return"exceedsize"},t.prototype.getDefaultText=function(){return P.surveyLocalization.getString("exceedMaxSize").format(this.getTextSize())},t.prototype.getTextSize=function(){var n=["Bytes","KB","MB","GB","TB"],o=[0,0,2,3,3];if(this.maxSize===0)return"0 Byte";var u=Math.floor(Math.log(this.maxSize)/Math.log(1024)),v=this.maxSize/Math.pow(1024,u);return v.toFixed(o[u])+" "+n[u]},t}(C.SurveyError),l=function(r){D(t,r);function t(n,o,u){u===void 0&&(u=null);var v=r.call(this,null,u)||this;return v.status=n,v.response=o,v}return t.prototype.getErrorType=function(){return"webrequest"},t.prototype.getDefaultText=function(){var n=this.getLocalizationString("urlRequestError");return n?n.format(this.status,this.response):""},t}(C.SurveyError),y=function(r){D(t,r);function t(n,o){o===void 0&&(o=null);var u=r.call(this,n,o)||this;return u.text=n,u}return t.prototype.getErrorType=function(){return"webrequestempty"},t.prototype.getDefaultText=function(){return this.getLocalizationString("urlGetChoicesError")},t}(C.SurveyError),p=function(r){D(t,r);function t(n,o){o===void 0&&(o=null);var u=r.call(this,n,o)||this;return u.text=n,u}return t.prototype.getErrorType=function(){return"otherempty"},t.prototype.getDefaultText=function(){return this.getLocalizationString("otherRequiredError")},t}(C.SurveyError),f=function(r){D(t,r);function t(n,o){o===void 0&&(o=null);var u=r.call(this,n,o)||this;return u.text=n,u}return t.prototype.getErrorType=function(){return"uploadingfile"},t.prototype.getDefaultText=function(){return this.getLocalizationString("uploadingFile")},t}(C.SurveyError),e=function(r){D(t,r);function t(n,o){o===void 0&&(o=null);var u=r.call(this,n,o)||this;return u.text=n,u}return t.prototype.getErrorType=function(){return"requiredinallrowserror"},t.prototype.getDefaultText=function(){return this.getLocalizationString("requiredInAllRowsError")},t}(C.SurveyError),m=function(r){D(t,r);function t(n,o){o===void 0&&(o=null);var u=r.call(this,n,o)||this;return u.text=n,u}return t.prototype.getErrorType=function(){return"eachrowuniqueeerror"},t.prototype.getDefaultText=function(){return this.getLocalizationString("eachRowUniqueError")},t}(C.SurveyError),s=function(r){D(t,r);function t(n,o){o===void 0&&(o=null);var u=r.call(this,null,o)||this;return u.minRowCount=n,u}return t.prototype.getErrorType=function(){return"minrowcounterror"},t.prototype.getDefaultText=function(){return P.surveyLocalization.getString("minRowCountError").format(this.minRowCount)},t}(C.SurveyError),a=function(r){D(t,r);function t(n,o){o===void 0&&(o=null);var u=r.call(this,n,o)||this;return u.text=n,u}return t.prototype.getErrorType=function(){return"keyduplicationerror"},t.prototype.getDefaultText=function(){return this.getLocalizationString("keyDuplicationError")},t}(C.SurveyError),c=function(r){D(t,r);function t(n,o){o===void 0&&(o=null);var u=r.call(this,n,o)||this;return u.text=n,u}return t.prototype.getErrorType=function(){return"custom"},t}(C.SurveyError)},"./src/expressionItems.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"ExpressionItem",function(){return R}),d.d(M,"HtmlConditionItem",function(){return V}),d.d(M,"UrlConditionItem",function(){return O});var P=d("./src/jsonobject.ts"),C=d("./src/base.ts"),D=d("./src/conditions.ts"),A=function(){var l=function(y,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var m in e)Object.prototype.hasOwnProperty.call(e,m)&&(f[m]=e[m])},l(y,p)};return function(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");l(y,p);function f(){this.constructor=y}y.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}(),R=function(l){A(y,l);function y(p){p===void 0&&(p=null);var f=l.call(this)||this;return f.expression=p,f}return y.prototype.getType=function(){return"expressionitem"},y.prototype.runCondition=function(p,f){return this.expression?new D.ConditionRunner(this.expression).run(p,f):!1},Object.defineProperty(y.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(p){this.setPropertyValue("expression",p)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),y.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},y.prototype.getMarkdownHtml=function(p,f){return this.locOwner?this.locOwner.getMarkdownHtml(p,f):void 0},y.prototype.getRenderer=function(p){return this.locOwner?this.locOwner.getRenderer(p):null},y.prototype.getRendererContext=function(p){return this.locOwner?this.locOwner.getRendererContext(p):p},y.prototype.getProcessedText=function(p){return this.locOwner?this.locOwner.getProcessedText(p):p},y.prototype.getSurvey=function(p){return p===void 0&&(p=!1),this.locOwner},y}(C.Base),V=function(l){A(y,l);function y(p,f){p===void 0&&(p=null),f===void 0&&(f=null);var e=l.call(this,p)||this;return e.createLocalizableString("html",e),e.html=f,e}return y.prototype.getType=function(){return"htmlconditionitem"},Object.defineProperty(y.prototype,"html",{get:function(){return this.getLocalizableStringText("html")},set:function(p){this.setLocalizableStringText("html",p)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),y}(R),O=function(l){A(y,l);function y(p,f){p===void 0&&(p=null),f===void 0&&(f=null);var e=l.call(this,p)||this;return e.createLocalizableString("url",e),e.url=f,e}return y.prototype.getType=function(){return"urlconditionitem"},Object.defineProperty(y.prototype,"url",{get:function(){return this.getLocalizableStringText("url")},set:function(p){this.setLocalizableStringText("url",p)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"locUrl",{get:function(){return this.getLocalizableString("url")},enumerable:!1,configurable:!0}),y}(R);P.Serializer.addClass("expressionitem",["expression:condition"],function(){return new R},"base"),P.Serializer.addClass("htmlconditionitem",[{name:"html:html",serializationProperty:"locHtml"}],function(){return new V},"expressionitem"),P.Serializer.addClass("urlconditionitem",[{name:"url:string",serializationProperty:"locUrl"}],function(){return new O},"expressionitem")},"./src/expressions/expressionParser.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"SyntaxError",function(){return D}),d.d(M,"parse",function(){return R});var P=d("./src/expressions/expressions.ts"),C=function(){var V=function(O,l){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,p){y.__proto__=p}||function(y,p){for(var f in p)Object.prototype.hasOwnProperty.call(p,f)&&(y[f]=p[f])},V(O,l)};return function(O,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");V(O,l);function y(){this.constructor=O}O.prototype=l===null?Object.create(l):(y.prototype=l.prototype,new y)}}(),D=function(V){C(O,V);function O(l,y,p,f){var e=V.call(this)||this;return e.message=l,e.expected=y,e.found=p,e.location=f,e.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(e,O),e}return O.buildMessage=function(l,y){function p(c){return c.charCodeAt(0).toString(16).toUpperCase()}function f(c){return c.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(r){return"\\x0"+p(r)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(r){return"\\x"+p(r)})}function e(c){return c.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(r){return"\\x0"+p(r)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(r){return"\\x"+p(r)})}function m(c){switch(c.type){case"literal":return'"'+f(c.text)+'"';case"class":var r=c.parts.map(function(t){return Array.isArray(t)?e(t[0])+"-"+e(t[1]):e(t)});return"["+(c.inverted?"^":"")+r+"]";case"any":return"any character";case"end":return"end of input";case"other":return c.description}}function s(c){var r=c.map(m),t,n;if(r.sort(),r.length>0){for(t=1,n=1;t<r.length;t++)r[t-1]!==r[t]&&(r[n]=r[t],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}function a(c){return c?'"'+f(c)+'"':"end of input"}return"Expected "+s(l)+" but "+a(y)+" found."},O}(Error);function A(V,O){O=O!==void 0?O:{};var l={},y={Expression:He},p=He,f=function(F,U){return zn(F,U,!0)},e="||",m=de("||",!1),s="or",a=de("or",!0),c=function(){return"or"},r="&&",t=de("&&",!1),n="and",o=de("and",!0),u=function(){return"and"},v=function(F,U){return zn(F,U)},x="<=",b=de("<=",!1),i="lessorequal",h=de("lessorequal",!0),E=function(){return"lessorequal"},S=">=",L=de(">=",!1),j="greaterorequal",w=de("greaterorequal",!0),g=function(){return"greaterorequal"},I="==",T=de("==",!1),B="equal",N=de("equal",!0),H=function(){return"equal"},k="=",W=de("=",!1),K="!=",z=de("!=",!1),G="notequal",$=de("notequal",!0),Z=function(){return"notequal"},X="<",ee=de("<",!1),ne="less",oe=de("less",!0),ce=function(){return"less"},ye=">",me=de(">",!1),Ce="greater",ve=de("greater",!0),be=function(){return"greater"},Pe="+",fe=de("+",!1),Oe=function(){return"plus"},Ve="-",Te=de("-",!1),Ie=function(){return"minus"},Rt="*",xe=de("*",!1),Qe=function(){return"mul"},Ye="/",Xe=de("/",!1),ze=function(){return"div"},_e="%",et=de("%",!1),Ke=function(){return"mod"},qe="^",Ae=de("^",!1),tt="power",nt=de("power",!0),mt=function(){return"power"},Le="*=",yt=de("*=",!1),$e="contains",vt=de("contains",!0),Ct="contain",Dt=de("contain",!0),St=function(){return"contains"},ot="notcontains",rt=de("notcontains",!0),Me="notcontain",wt=de("notcontain",!0),it=function(){return"notcontains"},At="anyof",Lt=de("anyof",!0),Bt=function(){return"anyof"},Je="allof",st=de("allof",!0),jt=function(){return"allof"},bt="(",at=de("(",!1),Pt=")",lt=de(")",!1),Nt=function(F){return F},Ft=function(F,U){return new P.FunctionOperand(F,U)},Ee="!",Be=de("!",!1),je="negate",Se=de("negate",!0),Re=function(F){return new P.UnaryOperand(F,"negate")},we=function(F,U){return new P.UnaryOperand(F,U)},Ne="empty",Fe=de("empty",!0),ke=function(){return"empty"},ut="notempty",rn=de("notempty",!0),Ue=function(){return"notempty"},Ge="undefined",Et=de("undefined",!1),ct="null",Qt=de("null",!1),Ot=function(){return null},kt=function(F){return new P.Const(F)},Ut="{",Gn=de("{",!1),Zn="}",Yn=de("}",!1),Xn=function(F){return new P.Variable(F)},Wt=function(F){return F},sn="''",_n=de("''",!1),an=function(){return""},ln='""',eo=de('""',!1),un="'",cn=de("'",!1),dn=function(F){return"'"+F+"'"},fn='"',pn=de('"',!1),to="[",no=de("[",!1),oo="]",ro=de("]",!1),io=function(F){return F},hn=",",gn=de(",",!1),so=function(F,U){if(F==null)return new P.ArrayOperand([]);var Y=[F];if(Array.isArray(U))for(var J=$o(U),_=3;_<J.length;_+=4)Y.push(J[_]);return new P.ArrayOperand(Y)},ao="true",lo=de("true",!0),uo=function(){return!0},co="false",fo=de("false",!0),po=function(){return!1},mn="0x",ho=de("0x",!1),go=function(){return parseInt(It(),16)},mo=/^[\-]/,yo=We(["-"],!1,!1),vo=function(F,U){return F==null?U:-U},Co=".",bo=de(".",!1),Po=function(){return parseFloat(It())},Eo=function(){return parseInt(It(),10)},Oo="0",Vo=de("0",!1),To=function(){return 0},yn=function(F){return F.join("")},vn="\\'",Io=de("\\'",!1),xo=function(){return"'"},Cn='\\"',Mo=de('\\"',!1),Ro=function(){return'"'},Do=/^[^"']/,So=We(['"',"'"],!0,!1),Ht=function(){return It()},wo=/^[^{}]/,Ao=We(["{","}"],!0,!1),bn=/^[0-9]/,Pn=We([["0","9"]],!1,!1),En=/^[1-9]/,On=We([["1","9"]],!1,!1),Vn=/^[a-zA-Z_]/,Tn=We([["a","z"],["A","Z"],"_"],!1,!1),Lo=Mn("whitespace"),In=/^[ \t\n\r]/,xn=We([" ","	",`
`,"\r"],!1,!1),Q=0,ue=0,Vt=[{line:1,column:1}],De=0,zt=[],re=0,ae={},Tt;if(O.startRule!==void 0){if(!(O.startRule in y))throw new Error(`Can't start parsing from rule "`+O.startRule+'".');p=y[O.startRule]}function It(){return V.substring(ue,Q)}function tr(){return dt(ue,Q)}function nr(F,U){throw U=U!==void 0?U:dt(ue,Q),Dn([Mn(F)],V.substring(ue,Q),U)}function or(F,U){throw U=U!==void 0?U:dt(ue,Q),jo(F,U)}function de(F,U){return{type:"literal",text:F,ignoreCase:U}}function We(F,U,Y){return{type:"class",parts:F,inverted:U,ignoreCase:Y}}function rr(){return{type:"any"}}function Bo(){return{type:"end"}}function Mn(F){return{type:"other",description:F}}function Rn(F){var U=Vt[F],Y;if(U)return U;for(Y=F-1;!Vt[Y];)Y--;for(U=Vt[Y],U={line:U.line,column:U.column};Y<F;)V.charCodeAt(Y)===10?(U.line++,U.column=1):U.column++,Y++;return Vt[F]=U,U}function dt(F,U){var Y=Rn(F),J=Rn(U);return{start:{offset:F,line:Y.line,column:Y.column},end:{offset:U,line:J.line,column:J.column}}}function se(F){Q<De||(Q>De&&(De=Q,zt=[]),zt.push(F))}function jo(F,U){return new D(F,[],"",U)}function Dn(F,U,Y){return new D(D.buildMessage(F,U),F,U,Y)}function He(){var F,U,Y,J,_,te,ie,le,he,ge=Q*34+0,Xt=ae[ge];if(Xt)return Q=Xt.nextPos,Xt.result;if(F=Q,U=pe(),U!==l)if(Y=Kt(),Y!==l){for(J=[],_=Q,te=pe(),te!==l?(ie=Sn(),ie!==l?(le=pe(),le!==l?(he=Kt(),he!==l?(te=[te,ie,le,he],_=te):(Q=_,_=l)):(Q=_,_=l)):(Q=_,_=l)):(Q=_,_=l);_!==l;)J.push(_),_=Q,te=pe(),te!==l?(ie=Sn(),ie!==l?(le=pe(),le!==l?(he=Kt(),he!==l?(te=[te,ie,le,he],_=te):(Q=_,_=l)):(Q=_,_=l)):(Q=_,_=l)):(Q=_,_=l);J!==l?(_=pe(),_!==l?(ue=F,U=f(Y,J),F=U):(Q=F,F=l)):(Q=F,F=l)}else Q=F,F=l;else Q=F,F=l;return ae[ge]={nextPos:Q,result:F},F}function Sn(){var F,U,Y=Q*34+1,J=ae[Y];return J?(Q=J.nextPos,J.result):(F=Q,V.substr(Q,2)===e?(U=e,Q+=2):(U=l,re===0&&se(m)),U===l&&(V.substr(Q,2).toLowerCase()===s?(U=V.substr(Q,2),Q+=2):(U=l,re===0&&se(a))),U!==l&&(ue=F,U=c()),F=U,ae[Y]={nextPos:Q,result:F},F)}function Kt(){var F,U,Y,J,_,te,ie,le,he=Q*34+2,ge=ae[he];if(ge)return Q=ge.nextPos,ge.result;if(F=Q,U=qt(),U!==l){for(Y=[],J=Q,_=pe(),_!==l?(te=wn(),te!==l?(ie=pe(),ie!==l?(le=qt(),le!==l?(_=[_,te,ie,le],J=_):(Q=J,J=l)):(Q=J,J=l)):(Q=J,J=l)):(Q=J,J=l);J!==l;)Y.push(J),J=Q,_=pe(),_!==l?(te=wn(),te!==l?(ie=pe(),ie!==l?(le=qt(),le!==l?(_=[_,te,ie,le],J=_):(Q=J,J=l)):(Q=J,J=l)):(Q=J,J=l)):(Q=J,J=l);Y!==l?(ue=F,U=f(U,Y),F=U):(Q=F,F=l)}else Q=F,F=l;return ae[he]={nextPos:Q,result:F},F}function wn(){var F,U,Y=Q*34+3,J=ae[Y];return J?(Q=J.nextPos,J.result):(F=Q,V.substr(Q,2)===r?(U=r,Q+=2):(U=l,re===0&&se(t)),U===l&&(V.substr(Q,3).toLowerCase()===n?(U=V.substr(Q,3),Q+=3):(U=l,re===0&&se(o))),U!==l&&(ue=F,U=u()),F=U,ae[Y]={nextPos:Q,result:F},F)}function qt(){var F,U,Y,J,_,te,ie,le,he=Q*34+4,ge=ae[he];if(ge)return Q=ge.nextPos,ge.result;if(F=Q,U=$t(),U!==l){for(Y=[],J=Q,_=pe(),_!==l?(te=An(),te!==l?(ie=pe(),ie!==l?(le=$t(),le!==l?(_=[_,te,ie,le],J=_):(Q=J,J=l)):(Q=J,J=l)):(Q=J,J=l)):(Q=J,J=l);J!==l;)Y.push(J),J=Q,_=pe(),_!==l?(te=An(),te!==l?(ie=pe(),ie!==l?(le=$t(),le!==l?(_=[_,te,ie,le],J=_):(Q=J,J=l)):(Q=J,J=l)):(Q=J,J=l)):(Q=J,J=l);Y!==l?(ue=F,U=v(U,Y),F=U):(Q=F,F=l)}else Q=F,F=l;return ae[he]={nextPos:Q,result:F},F}function An(){var F,U,Y=Q*34+5,J=ae[Y];return J?(Q=J.nextPos,J.result):(F=Q,V.substr(Q,2)===x?(U=x,Q+=2):(U=l,re===0&&se(b)),U===l&&(V.substr(Q,11).toLowerCase()===i?(U=V.substr(Q,11),Q+=11):(U=l,re===0&&se(h))),U!==l&&(ue=F,U=E()),F=U,F===l&&(F=Q,V.substr(Q,2)===S?(U=S,Q+=2):(U=l,re===0&&se(L)),U===l&&(V.substr(Q,14).toLowerCase()===j?(U=V.substr(Q,14),Q+=14):(U=l,re===0&&se(w))),U!==l&&(ue=F,U=g()),F=U,F===l&&(F=Q,V.substr(Q,2)===I?(U=I,Q+=2):(U=l,re===0&&se(T)),U===l&&(V.substr(Q,5).toLowerCase()===B?(U=V.substr(Q,5),Q+=5):(U=l,re===0&&se(N))),U!==l&&(ue=F,U=H()),F=U,F===l&&(F=Q,V.charCodeAt(Q)===61?(U=k,Q++):(U=l,re===0&&se(W)),U===l&&(V.substr(Q,5).toLowerCase()===B?(U=V.substr(Q,5),Q+=5):(U=l,re===0&&se(N))),U!==l&&(ue=F,U=H()),F=U,F===l&&(F=Q,V.substr(Q,2)===K?(U=K,Q+=2):(U=l,re===0&&se(z)),U===l&&(V.substr(Q,8).toLowerCase()===G?(U=V.substr(Q,8),Q+=8):(U=l,re===0&&se($))),U!==l&&(ue=F,U=Z()),F=U,F===l&&(F=Q,V.charCodeAt(Q)===60?(U=X,Q++):(U=l,re===0&&se(ee)),U===l&&(V.substr(Q,4).toLowerCase()===ne?(U=V.substr(Q,4),Q+=4):(U=l,re===0&&se(oe))),U!==l&&(ue=F,U=ce()),F=U,F===l&&(F=Q,V.charCodeAt(Q)===62?(U=ye,Q++):(U=l,re===0&&se(me)),U===l&&(V.substr(Q,7).toLowerCase()===Ce?(U=V.substr(Q,7),Q+=7):(U=l,re===0&&se(ve))),U!==l&&(ue=F,U=be()),F=U)))))),ae[Y]={nextPos:Q,result:F},F)}function $t(){var F,U,Y,J,_,te,ie,le,he=Q*34+6,ge=ae[he];if(ge)return Q=ge.nextPos,ge.result;if(F=Q,U=Jt(),U!==l){for(Y=[],J=Q,_=pe(),_!==l?(te=Ln(),te!==l?(ie=pe(),ie!==l?(le=Jt(),le!==l?(_=[_,te,ie,le],J=_):(Q=J,J=l)):(Q=J,J=l)):(Q=J,J=l)):(Q=J,J=l);J!==l;)Y.push(J),J=Q,_=pe(),_!==l?(te=Ln(),te!==l?(ie=pe(),ie!==l?(le=Jt(),le!==l?(_=[_,te,ie,le],J=_):(Q=J,J=l)):(Q=J,J=l)):(Q=J,J=l)):(Q=J,J=l);Y!==l?(ue=F,U=f(U,Y),F=U):(Q=F,F=l)}else Q=F,F=l;return ae[he]={nextPos:Q,result:F},F}function Ln(){var F,U,Y=Q*34+7,J=ae[Y];return J?(Q=J.nextPos,J.result):(F=Q,V.charCodeAt(Q)===43?(U=Pe,Q++):(U=l,re===0&&se(fe)),U!==l&&(ue=F,U=Oe()),F=U,F===l&&(F=Q,V.charCodeAt(Q)===45?(U=Ve,Q++):(U=l,re===0&&se(Te)),U!==l&&(ue=F,U=Ie()),F=U),ae[Y]={nextPos:Q,result:F},F)}function Jt(){var F,U,Y,J,_,te,ie,le,he=Q*34+8,ge=ae[he];if(ge)return Q=ge.nextPos,ge.result;if(F=Q,U=Gt(),U!==l){for(Y=[],J=Q,_=pe(),_!==l?(te=Bn(),te!==l?(ie=pe(),ie!==l?(le=Gt(),le!==l?(_=[_,te,ie,le],J=_):(Q=J,J=l)):(Q=J,J=l)):(Q=J,J=l)):(Q=J,J=l);J!==l;)Y.push(J),J=Q,_=pe(),_!==l?(te=Bn(),te!==l?(ie=pe(),ie!==l?(le=Gt(),le!==l?(_=[_,te,ie,le],J=_):(Q=J,J=l)):(Q=J,J=l)):(Q=J,J=l)):(Q=J,J=l);Y!==l?(ue=F,U=f(U,Y),F=U):(Q=F,F=l)}else Q=F,F=l;return ae[he]={nextPos:Q,result:F},F}function Bn(){var F,U,Y=Q*34+9,J=ae[Y];return J?(Q=J.nextPos,J.result):(F=Q,V.charCodeAt(Q)===42?(U=Rt,Q++):(U=l,re===0&&se(xe)),U!==l&&(ue=F,U=Qe()),F=U,F===l&&(F=Q,V.charCodeAt(Q)===47?(U=Ye,Q++):(U=l,re===0&&se(Xe)),U!==l&&(ue=F,U=ze()),F=U,F===l&&(F=Q,V.charCodeAt(Q)===37?(U=_e,Q++):(U=l,re===0&&se(et)),U!==l&&(ue=F,U=Ke()),F=U)),ae[Y]={nextPos:Q,result:F},F)}function Gt(){var F,U,Y,J,_,te,ie,le,he=Q*34+10,ge=ae[he];if(ge)return Q=ge.nextPos,ge.result;if(F=Q,U=Zt(),U!==l){for(Y=[],J=Q,_=pe(),_!==l?(te=jn(),te!==l?(ie=pe(),ie!==l?(le=Zt(),le!==l?(_=[_,te,ie,le],J=_):(Q=J,J=l)):(Q=J,J=l)):(Q=J,J=l)):(Q=J,J=l);J!==l;)Y.push(J),J=Q,_=pe(),_!==l?(te=jn(),te!==l?(ie=pe(),ie!==l?(le=Zt(),le!==l?(_=[_,te,ie,le],J=_):(Q=J,J=l)):(Q=J,J=l)):(Q=J,J=l)):(Q=J,J=l);Y!==l?(ue=F,U=f(U,Y),F=U):(Q=F,F=l)}else Q=F,F=l;return ae[he]={nextPos:Q,result:F},F}function jn(){var F,U,Y=Q*34+11,J=ae[Y];return J?(Q=J.nextPos,J.result):(F=Q,V.charCodeAt(Q)===94?(U=qe,Q++):(U=l,re===0&&se(Ae)),U===l&&(V.substr(Q,5).toLowerCase()===tt?(U=V.substr(Q,5),Q+=5):(U=l,re===0&&se(nt))),U!==l&&(ue=F,U=mt()),F=U,ae[Y]={nextPos:Q,result:F},F)}function Zt(){var F,U,Y,J,_,te,ie,le,he=Q*34+12,ge=ae[he];if(ge)return Q=ge.nextPos,ge.result;if(F=Q,U=Yt(),U!==l){for(Y=[],J=Q,_=pe(),_!==l?(te=Nn(),te!==l?(ie=pe(),ie!==l?(le=Yt(),le===l&&(le=null),le!==l?(_=[_,te,ie,le],J=_):(Q=J,J=l)):(Q=J,J=l)):(Q=J,J=l)):(Q=J,J=l);J!==l;)Y.push(J),J=Q,_=pe(),_!==l?(te=Nn(),te!==l?(ie=pe(),ie!==l?(le=Yt(),le===l&&(le=null),le!==l?(_=[_,te,ie,le],J=_):(Q=J,J=l)):(Q=J,J=l)):(Q=J,J=l)):(Q=J,J=l);Y!==l?(ue=F,U=v(U,Y),F=U):(Q=F,F=l)}else Q=F,F=l;return ae[he]={nextPos:Q,result:F},F}function Nn(){var F,U,Y=Q*34+13,J=ae[Y];return J?(Q=J.nextPos,J.result):(F=Q,V.substr(Q,2)===Le?(U=Le,Q+=2):(U=l,re===0&&se(yt)),U===l&&(V.substr(Q,8).toLowerCase()===$e?(U=V.substr(Q,8),Q+=8):(U=l,re===0&&se(vt)),U===l&&(V.substr(Q,7).toLowerCase()===Ct?(U=V.substr(Q,7),Q+=7):(U=l,re===0&&se(Dt)))),U!==l&&(ue=F,U=St()),F=U,F===l&&(F=Q,V.substr(Q,11).toLowerCase()===ot?(U=V.substr(Q,11),Q+=11):(U=l,re===0&&se(rt)),U===l&&(V.substr(Q,10).toLowerCase()===Me?(U=V.substr(Q,10),Q+=10):(U=l,re===0&&se(wt))),U!==l&&(ue=F,U=it()),F=U,F===l&&(F=Q,V.substr(Q,5).toLowerCase()===At?(U=V.substr(Q,5),Q+=5):(U=l,re===0&&se(Lt)),U!==l&&(ue=F,U=Bt()),F=U,F===l&&(F=Q,V.substr(Q,5).toLowerCase()===Je?(U=V.substr(Q,5),Q+=5):(U=l,re===0&&se(st)),U!==l&&(ue=F,U=jt()),F=U))),ae[Y]={nextPos:Q,result:F},F)}function Yt(){var F,U,Y,J,_,te,ie=Q*34+14,le=ae[ie];return le?(Q=le.nextPos,le.result):(F=Q,V.charCodeAt(Q)===40?(U=bt,Q++):(U=l,re===0&&se(at)),U!==l?(Y=pe(),Y!==l?(J=He(),J!==l?(_=pe(),_!==l?(V.charCodeAt(Q)===41?(te=Pt,Q++):(te=l,re===0&&se(lt)),te===l&&(te=null),te!==l?(ue=F,U=Nt(J),F=U):(Q=F,F=l)):(Q=F,F=l)):(Q=F,F=l)):(Q=F,F=l)):(Q=F,F=l),F===l&&(F=No(),F===l&&(F=Fo(),F===l&&(F=Fn(),F===l&&(F=Uo())))),ae[ie]={nextPos:Q,result:F},F)}function No(){var F,U,Y,J,_,te=Q*34+15,ie=ae[te];return ie?(Q=ie.nextPos,ie.result):(F=Q,U=Hn(),U!==l?(V.charCodeAt(Q)===40?(Y=bt,Q++):(Y=l,re===0&&se(at)),Y!==l?(J=Qn(),J!==l?(V.charCodeAt(Q)===41?(_=Pt,Q++):(_=l,re===0&&se(lt)),_===l&&(_=null),_!==l?(ue=F,U=Ft(U,J),F=U):(Q=F,F=l)):(Q=F,F=l)):(Q=F,F=l)):(Q=F,F=l),ae[te]={nextPos:Q,result:F},F)}function Fo(){var F,U,Y,J,_=Q*34+16,te=ae[_];return te?(Q=te.nextPos,te.result):(F=Q,V.charCodeAt(Q)===33?(U=Ee,Q++):(U=l,re===0&&se(Be)),U===l&&(V.substr(Q,6).toLowerCase()===je?(U=V.substr(Q,6),Q+=6):(U=l,re===0&&se(Se))),U!==l?(Y=pe(),Y!==l?(J=He(),J!==l?(ue=F,U=Re(J),F=U):(Q=F,F=l)):(Q=F,F=l)):(Q=F,F=l),F===l&&(F=Q,U=Fn(),U!==l?(Y=pe(),Y!==l?(J=Qo(),J!==l?(ue=F,U=we(U,J),F=U):(Q=F,F=l)):(Q=F,F=l)):(Q=F,F=l)),ae[_]={nextPos:Q,result:F},F)}function Qo(){var F,U,Y=Q*34+17,J=ae[Y];return J?(Q=J.nextPos,J.result):(F=Q,V.substr(Q,5).toLowerCase()===Ne?(U=V.substr(Q,5),Q+=5):(U=l,re===0&&se(Fe)),U!==l&&(ue=F,U=ke()),F=U,F===l&&(F=Q,V.substr(Q,8).toLowerCase()===ut?(U=V.substr(Q,8),Q+=8):(U=l,re===0&&se(rn)),U!==l&&(ue=F,U=Ue()),F=U),ae[Y]={nextPos:Q,result:F},F)}function Fn(){var F,U,Y,J,_,te=Q*34+18,ie=ae[te];return ie?(Q=ie.nextPos,ie.result):(F=Q,U=pe(),U!==l?(V.substr(Q,9)===Ge?(Y=Ge,Q+=9):(Y=l,re===0&&se(Et)),Y===l&&(V.substr(Q,4)===ct?(Y=ct,Q+=4):(Y=l,re===0&&se(Qt))),Y!==l?(ue=F,U=Ot(),F=U):(Q=F,F=l)):(Q=F,F=l),F===l&&(F=Q,U=pe(),U!==l?(Y=ko(),Y!==l?(ue=F,U=kt(Y),F=U):(Q=F,F=l)):(Q=F,F=l),F===l&&(F=Q,U=pe(),U!==l?(V.charCodeAt(Q)===123?(Y=Ut,Q++):(Y=l,re===0&&se(Gn)),Y!==l?(J=Ko(),J!==l?(V.charCodeAt(Q)===125?(_=Zn,Q++):(_=l,re===0&&se(Yn)),_!==l?(ue=F,U=Xn(J),F=U):(Q=F,F=l)):(Q=F,F=l)):(Q=F,F=l)):(Q=F,F=l))),ae[te]={nextPos:Q,result:F},F)}function ko(){var F,U,Y,J,_=Q*34+19,te=ae[_];return te?(Q=te.nextPos,te.result):(F=Q,U=Wo(),U!==l&&(ue=F,U=Wt(U)),F=U,F===l&&(F=Q,U=Ho(),U!==l&&(ue=F,U=Wt(U)),F=U,F===l&&(F=Q,U=Hn(),U!==l&&(ue=F,U=Wt(U)),F=U,F===l&&(F=Q,V.substr(Q,2)===sn?(U=sn,Q+=2):(U=l,re===0&&se(_n)),U!==l&&(ue=F,U=an()),F=U,F===l&&(F=Q,V.substr(Q,2)===ln?(U=ln,Q+=2):(U=l,re===0&&se(eo)),U!==l&&(ue=F,U=an()),F=U,F===l&&(F=Q,V.charCodeAt(Q)===39?(U=un,Q++):(U=l,re===0&&se(cn)),U!==l?(Y=kn(),Y!==l?(V.charCodeAt(Q)===39?(J=un,Q++):(J=l,re===0&&se(cn)),J!==l?(ue=F,U=dn(Y),F=U):(Q=F,F=l)):(Q=F,F=l)):(Q=F,F=l),F===l&&(F=Q,V.charCodeAt(Q)===34?(U=fn,Q++):(U=l,re===0&&se(pn)),U!==l?(Y=kn(),Y!==l?(V.charCodeAt(Q)===34?(J=fn,Q++):(J=l,re===0&&se(pn)),J!==l?(ue=F,U=dn(Y),F=U):(Q=F,F=l)):(Q=F,F=l)):(Q=F,F=l))))))),ae[_]={nextPos:Q,result:F},F)}function Uo(){var F,U,Y,J,_=Q*34+20,te=ae[_];return te?(Q=te.nextPos,te.result):(F=Q,V.charCodeAt(Q)===91?(U=to,Q++):(U=l,re===0&&se(no)),U!==l?(Y=Qn(),Y!==l?(V.charCodeAt(Q)===93?(J=oo,Q++):(J=l,re===0&&se(ro)),J!==l?(ue=F,U=io(Y),F=U):(Q=F,F=l)):(Q=F,F=l)):(Q=F,F=l),ae[_]={nextPos:Q,result:F},F)}function Qn(){var F,U,Y,J,_,te,ie,le,he=Q*34+21,ge=ae[he];if(ge)return Q=ge.nextPos,ge.result;if(F=Q,U=He(),U===l&&(U=null),U!==l){for(Y=[],J=Q,_=pe(),_!==l?(V.charCodeAt(Q)===44?(te=hn,Q++):(te=l,re===0&&se(gn)),te!==l?(ie=pe(),ie!==l?(le=He(),le!==l?(_=[_,te,ie,le],J=_):(Q=J,J=l)):(Q=J,J=l)):(Q=J,J=l)):(Q=J,J=l);J!==l;)Y.push(J),J=Q,_=pe(),_!==l?(V.charCodeAt(Q)===44?(te=hn,Q++):(te=l,re===0&&se(gn)),te!==l?(ie=pe(),ie!==l?(le=He(),le!==l?(_=[_,te,ie,le],J=_):(Q=J,J=l)):(Q=J,J=l)):(Q=J,J=l)):(Q=J,J=l);Y!==l?(ue=F,U=so(U,Y),F=U):(Q=F,F=l)}else Q=F,F=l;return ae[he]={nextPos:Q,result:F},F}function Wo(){var F,U,Y=Q*34+22,J=ae[Y];return J?(Q=J.nextPos,J.result):(F=Q,V.substr(Q,4).toLowerCase()===ao?(U=V.substr(Q,4),Q+=4):(U=l,re===0&&se(lo)),U!==l&&(ue=F,U=uo()),F=U,F===l&&(F=Q,V.substr(Q,5).toLowerCase()===co?(U=V.substr(Q,5),Q+=5):(U=l,re===0&&se(fo)),U!==l&&(ue=F,U=po()),F=U),ae[Y]={nextPos:Q,result:F},F)}function Ho(){var F,U,Y,J=Q*34+23,_=ae[J];return _?(Q=_.nextPos,_.result):(F=Q,V.substr(Q,2)===mn?(U=mn,Q+=2):(U=l,re===0&&se(ho)),U!==l?(Y=Ze(),Y!==l?(ue=F,U=go(),F=U):(Q=F,F=l)):(Q=F,F=l),F===l&&(F=Q,mo.test(V.charAt(Q))?(U=V.charAt(Q),Q++):(U=l,re===0&&se(yo)),U===l&&(U=null),U!==l?(Y=zo(),Y!==l?(ue=F,U=vo(U,Y),F=U):(Q=F,F=l)):(Q=F,F=l)),ae[J]={nextPos:Q,result:F},F)}function zo(){var F,U,Y,J,_=Q*34+24,te=ae[_];return te?(Q=te.nextPos,te.result):(F=Q,U=Ze(),U!==l?(V.charCodeAt(Q)===46?(Y=Co,Q++):(Y=l,re===0&&se(bo)),Y!==l?(J=Ze(),J!==l?(ue=F,U=Po(),F=U):(Q=F,F=l)):(Q=F,F=l)):(Q=F,F=l),F===l&&(F=Q,U=qo(),U!==l?(Y=Ze(),Y===l&&(Y=null),Y!==l?(ue=F,U=Eo(),F=U):(Q=F,F=l)):(Q=F,F=l),F===l&&(F=Q,V.charCodeAt(Q)===48?(U=Oo,Q++):(U=l,re===0&&se(Vo)),U!==l&&(ue=F,U=To()),F=U)),ae[_]={nextPos:Q,result:F},F)}function Ko(){var F,U,Y,J=Q*34+25,_=ae[J];if(_)return Q=_.nextPos,_.result;if(F=Q,U=[],Y=Wn(),Y!==l)for(;Y!==l;)U.push(Y),Y=Wn();else U=l;return U!==l&&(ue=F,U=yn(U)),F=U,ae[J]={nextPos:Q,result:F},F}function kn(){var F,U,Y,J=Q*34+26,_=ae[J];if(_)return Q=_.nextPos,_.result;if(F=Q,U=[],Y=Un(),Y!==l)for(;Y!==l;)U.push(Y),Y=Un();else U=l;return U!==l&&(ue=F,U=yn(U)),F=U,ae[J]={nextPos:Q,result:F},F}function Un(){var F,U,Y=Q*34+27,J=ae[Y];return J?(Q=J.nextPos,J.result):(F=Q,V.substr(Q,2)===vn?(U=vn,Q+=2):(U=l,re===0&&se(Io)),U!==l&&(ue=F,U=xo()),F=U,F===l&&(F=Q,V.substr(Q,2)===Cn?(U=Cn,Q+=2):(U=l,re===0&&se(Mo)),U!==l&&(ue=F,U=Ro()),F=U,F===l&&(F=Q,Do.test(V.charAt(Q))?(U=V.charAt(Q),Q++):(U=l,re===0&&se(So)),U!==l&&(ue=F,U=Ht()),F=U)),ae[Y]={nextPos:Q,result:F},F)}function Wn(){var F,U,Y=Q*34+28,J=ae[Y];return J?(Q=J.nextPos,J.result):(F=Q,wo.test(V.charAt(Q))?(U=V.charAt(Q),Q++):(U=l,re===0&&se(Ao)),U!==l&&(ue=F,U=Ht()),F=U,ae[Y]={nextPos:Q,result:F},F)}function Hn(){var F,U,Y,J,_,te,ie,le=Q*34+29,he=ae[le];if(he)return Q=he.nextPos,he.result;if(F=Q,U=ft(),U!==l){if(Y=[],J=Q,_=Ze(),_!==l){for(te=[],ie=ft();ie!==l;)te.push(ie),ie=ft();te!==l?(_=[_,te],J=_):(Q=J,J=l)}else Q=J,J=l;for(;J!==l;)if(Y.push(J),J=Q,_=Ze(),_!==l){for(te=[],ie=ft();ie!==l;)te.push(ie),ie=ft();te!==l?(_=[_,te],J=_):(Q=J,J=l)}else Q=J,J=l;Y!==l?(ue=F,U=Ht(),F=U):(Q=F,F=l)}else Q=F,F=l;return ae[le]={nextPos:Q,result:F},F}function Ze(){var F,U,Y=Q*34+30,J=ae[Y];if(J)return Q=J.nextPos,J.result;if(F=[],bn.test(V.charAt(Q))?(U=V.charAt(Q),Q++):(U=l,re===0&&se(Pn)),U!==l)for(;U!==l;)F.push(U),bn.test(V.charAt(Q))?(U=V.charAt(Q),Q++):(U=l,re===0&&se(Pn));else F=l;return ae[Y]={nextPos:Q,result:F},F}function qo(){var F,U,Y=Q*34+31,J=ae[Y];if(J)return Q=J.nextPos,J.result;if(F=[],En.test(V.charAt(Q))?(U=V.charAt(Q),Q++):(U=l,re===0&&se(On)),U!==l)for(;U!==l;)F.push(U),En.test(V.charAt(Q))?(U=V.charAt(Q),Q++):(U=l,re===0&&se(On));else F=l;return ae[Y]={nextPos:Q,result:F},F}function ft(){var F,U,Y=Q*34+32,J=ae[Y];if(J)return Q=J.nextPos,J.result;if(F=[],Vn.test(V.charAt(Q))?(U=V.charAt(Q),Q++):(U=l,re===0&&se(Tn)),U!==l)for(;U!==l;)F.push(U),Vn.test(V.charAt(Q))?(U=V.charAt(Q),Q++):(U=l,re===0&&se(Tn));else F=l;return ae[Y]={nextPos:Q,result:F},F}function pe(){var F,U,Y=Q*34+33,J=ae[Y];if(J)return Q=J.nextPos,J.result;for(re++,F=[],In.test(V.charAt(Q))?(U=V.charAt(Q),Q++):(U=l,re===0&&se(xn));U!==l;)F.push(U),In.test(V.charAt(Q))?(U=V.charAt(Q),Q++):(U=l,re===0&&se(xn));return re--,F===l&&(U=l,re===0&&se(Lo)),ae[Y]={nextPos:Q,result:F},F}function zn(F,U,Y){return Y===void 0&&(Y=!1),U.reduce(function(J,_){return new P.BinaryOperand(_[1],J,_[3],Y)},F)}function $o(F){return[].concat.apply([],F)}if(Tt=p(),Tt!==l&&Q===V.length)return Tt;throw Tt!==l&&Q<V.length&&se(Bo()),Dn(zt,De<V.length?V.charAt(De):null,De<V.length?dt(De,De+1):dt(De,De))}var R=A},"./src/expressions/expressions.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"Operand",function(){return V}),d.d(M,"BinaryOperand",function(){return O}),d.d(M,"UnaryOperand",function(){return l}),d.d(M,"ArrayOperand",function(){return y}),d.d(M,"Const",function(){return p}),d.d(M,"Variable",function(){return f}),d.d(M,"FunctionOperand",function(){return e}),d.d(M,"OperandMaker",function(){return m});var P=d("./src/helpers.ts"),C=d("./src/functionsfactory.ts"),D=d("./src/conditionProcessValue.ts"),A=d("./src/settings.ts"),R=function(){var s=function(a,c){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])},s(a,c)};return function(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");s(a,c);function r(){this.constructor=a}a.prototype=c===null?Object.create(c):(r.prototype=c.prototype,new r)}}(),V=function(){function s(){}return s.prototype.toString=function(a){return a===void 0&&(a=void 0),""},s.prototype.hasFunction=function(){return!1},s.prototype.hasAsyncFunction=function(){return!1},s.prototype.addToAsyncList=function(a){},s.prototype.isEqual=function(a){return!!a&&a.getType()===this.getType()&&this.isContentEqual(a)},s.prototype.areOperatorsEquals=function(a,c){return!a&&!c||!!a&&a.isEqual(c)},s}(),O=function(s){R(a,s);function a(c,r,t,n){r===void 0&&(r=null),t===void 0&&(t=null),n===void 0&&(n=!1);var o=s.call(this)||this;return o.operatorName=c,o.left=r,o.right=t,o.isArithmeticValue=n,n?o.consumer=m.binaryFunctions.arithmeticOp(c):o.consumer=m.binaryFunctions[c],o.consumer==null&&m.throwInvalidOperatorError(c),o}return Object.defineProperty(a.prototype,"requireStrictCompare",{get:function(){return this.getIsOperandRequireStrict(this.left)||this.getIsOperandRequireStrict(this.right)},enumerable:!1,configurable:!0}),a.prototype.getIsOperandRequireStrict=function(c){return!!c&&c.requireStrictCompare},a.prototype.getType=function(){return"binary"},Object.defineProperty(a.prototype,"isArithmetic",{get:function(){return this.isArithmeticValue},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isConjunction",{get:function(){return this.operatorName=="or"||this.operatorName=="and"},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"conjunction",{get:function(){return this.isConjunction?this.operatorName:""},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"operator",{get:function(){return this.operatorName},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"leftOperand",{get:function(){return this.left},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"rightOperand",{get:function(){return this.right},enumerable:!1,configurable:!0}),a.prototype.isContentEqual=function(c){var r=c;return r.operator===this.operator&&this.areOperatorsEquals(this.left,r.left)&&this.areOperatorsEquals(this.right,r.right)},a.prototype.evaluateParam=function(c,r){return c==null?null:c.evaluate(r)},a.prototype.evaluate=function(c){return this.consumer.call(this,this.evaluateParam(this.left,c),this.evaluateParam(this.right,c),this.requireStrictCompare)},a.prototype.toString=function(c){if(c===void 0&&(c=void 0),c){var r=c(this);if(r)return r}return"("+m.safeToString(this.left,c)+" "+m.operatorToString(this.operatorName)+" "+m.safeToString(this.right,c)+")"},a.prototype.setVariables=function(c){this.left!=null&&this.left.setVariables(c),this.right!=null&&this.right.setVariables(c)},a.prototype.hasFunction=function(){return!!this.left&&this.left.hasFunction()||!!this.right&&this.right.hasFunction()},a.prototype.hasAsyncFunction=function(){return!!this.left&&this.left.hasAsyncFunction()||!!this.right&&this.right.hasAsyncFunction()},a.prototype.addToAsyncList=function(c){this.left&&this.left.addToAsyncList(c),this.right&&this.right.addToAsyncList(c)},a}(V),l=function(s){R(a,s);function a(c,r){var t=s.call(this)||this;return t.expressionValue=c,t.operatorName=r,t.consumer=m.unaryFunctions[r],t.consumer==null&&m.throwInvalidOperatorError(r),t}return Object.defineProperty(a.prototype,"operator",{get:function(){return this.operatorName},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"expression",{get:function(){return this.expressionValue},enumerable:!1,configurable:!0}),a.prototype.getType=function(){return"unary"},a.prototype.toString=function(c){if(c===void 0&&(c=void 0),c){var r=c(this);if(r)return r}return m.operatorToString(this.operatorName)+" "+this.expression.toString(c)},a.prototype.isContentEqual=function(c){var r=c;return r.operator==this.operator&&this.areOperatorsEquals(this.expression,r.expression)},a.prototype.hasFunction=function(){return this.expression.hasFunction()},a.prototype.hasAsyncFunction=function(){return this.expression.hasAsyncFunction()},a.prototype.addToAsyncList=function(c){this.expression.addToAsyncList(c)},a.prototype.evaluate=function(c){var r=this.expression.evaluate(c);return this.consumer.call(this,r)},a.prototype.setVariables=function(c){this.expression.setVariables(c)},a}(V),y=function(s){R(a,s);function a(c){var r=s.call(this)||this;return r.values=c,r}return a.prototype.getType=function(){return"array"},a.prototype.toString=function(c){if(c===void 0&&(c=void 0),c){var r=c(this);if(r)return r}return"["+this.values.map(function(t){return t.toString(c)}).join(", ")+"]"},a.prototype.evaluate=function(c){return this.values.map(function(r){return r.evaluate(c)})},a.prototype.setVariables=function(c){this.values.forEach(function(r){r.setVariables(c)})},a.prototype.hasFunction=function(){return this.values.some(function(c){return c.hasFunction()})},a.prototype.hasAsyncFunction=function(){return this.values.some(function(c){return c.hasAsyncFunction()})},a.prototype.addToAsyncList=function(c){this.values.forEach(function(r){return r.addToAsyncList(c)})},a.prototype.isContentEqual=function(c){var r=c;if(r.values.length!==this.values.length)return!1;for(var t=0;t<this.values.length;t++)if(!r.values[t].isEqual(this.values[t]))return!1;return!0},a}(V),p=function(s){R(a,s);function a(c){var r=s.call(this)||this;return r.value=c,r}return a.prototype.getType=function(){return"const"},a.prototype.toString=function(c){if(c===void 0&&(c=void 0),c){var r=c(this);if(r)return r}return this.value.toString()},Object.defineProperty(a.prototype,"correctValue",{get:function(){return this.getCorrectValue(this.value)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"requireStrictCompare",{get:function(){return!1},enumerable:!1,configurable:!0}),a.prototype.evaluate=function(){return this.getCorrectValue(this.value)},a.prototype.setVariables=function(c){},a.prototype.getCorrectValue=function(c){return!c||typeof c!="string"?c:this.isBooleanValue(c)?c.toLowerCase()==="true":c.length>1&&this.isQuote(c[0])&&this.isQuote(c[c.length-1])?c.substring(1,c.length-1):m.isNumeric(c)?c.indexOf("0x")==0?parseInt(c):c.length>1&&c[0]=="0"&&(c.length<2||c[1]!=="."&&c[1]!==",")?c:parseFloat(c):c},a.prototype.isContentEqual=function(c){var r=c;return r.value==this.value},a.prototype.isQuote=function(c){return c=="'"||c=='"'},a.prototype.isBooleanValue=function(c){return c&&(c.toLowerCase()==="true"||c.toLowerCase()==="false")},a}(V),f=function(s){R(a,s);function a(c){var r=s.call(this,c)||this;return r.variableName=c,r.valueInfo={},r.useValueAsItIs=!1,r.variableName&&r.variableName.length>1&&r.variableName[0]===a.DisableConversionChar&&(r.variableName=r.variableName.substring(1),r.useValueAsItIs=!0),r}return Object.defineProperty(a,"DisableConversionChar",{get:function(){return A.settings.expressionDisableConversionChar},set:function(c){A.settings.expressionDisableConversionChar=c},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"requireStrictCompare",{get:function(){return this.valueInfo.sctrictCompare===!0},enumerable:!1,configurable:!0}),a.prototype.getType=function(){return"variable"},a.prototype.toString=function(c){if(c===void 0&&(c=void 0),c){var r=c(this);if(r)return r}var t=this.useValueAsItIs?a.DisableConversionChar:"";return"{"+t+this.variableName+"}"},Object.defineProperty(a.prototype,"variable",{get:function(){return this.variableName},enumerable:!1,configurable:!0}),a.prototype.evaluate=function(c){return this.valueInfo.name=this.variableName,c.getValueInfo(this.valueInfo),this.valueInfo.hasValue?this.getCorrectValue(this.valueInfo.value):null},a.prototype.setVariables=function(c){c.push(this.variableName)},a.prototype.getCorrectValue=function(c){return this.useValueAsItIs?c:s.prototype.getCorrectValue.call(this,c)},a.prototype.isContentEqual=function(c){var r=c;return r.variable==this.variable},a}(p),e=function(s){R(a,s);function a(c,r){var t=s.call(this)||this;return t.originalValue=c,t.parameters=r,t.isReadyValue=!1,Array.isArray(r)&&r.length===0&&(t.parameters=new y([])),t}return a.prototype.getType=function(){return"function"},a.prototype.evaluateAsync=function(c){var r=this;this.isReadyValue=!1;var t=new D.ProcessValue;t.values=P.Helpers.createCopy(c.values),t.properties=P.Helpers.createCopy(c.properties),t.properties.returnResult=function(n){r.asynResult=n,r.isReadyValue=!0,r.onAsyncReady()},this.evaluateCore(t)},a.prototype.evaluate=function(c){return this.isReady?this.asynResult:this.evaluateCore(c)},a.prototype.evaluateCore=function(c){return C.FunctionFactory.Instance.run(this.originalValue,this.parameters.evaluate(c),c.properties)},a.prototype.toString=function(c){if(c===void 0&&(c=void 0),c){var r=c(this);if(r)return r}return this.originalValue+"("+this.parameters.toString(c)+")"},a.prototype.setVariables=function(c){this.parameters.setVariables(c)},Object.defineProperty(a.prototype,"isReady",{get:function(){return this.isReadyValue},enumerable:!1,configurable:!0}),a.prototype.hasFunction=function(){return!0},a.prototype.hasAsyncFunction=function(){return C.FunctionFactory.Instance.isAsyncFunction(this.originalValue)},a.prototype.addToAsyncList=function(c){this.hasAsyncFunction()&&c.push(this)},a.prototype.isContentEqual=function(c){var r=c;return r.originalValue==this.originalValue&&this.areOperatorsEquals(r.parameters,this.parameters)},a}(V),m=function(){function s(){}return s.throwInvalidOperatorError=function(a){throw new Error("Invalid operator: '"+a+"'")},s.safeToString=function(a,c){return a==null?"":a.toString(c)},s.toOperandString=function(a){return a&&!s.isNumeric(a)&&!s.isBooleanValue(a)&&(a="'"+a+"'"),a},s.isSpaceString=function(a){return!!a&&!a.replace(" ","")},s.isNumeric=function(a){return a&&(a.indexOf("-")>-1||a.indexOf("+")>1||a.indexOf("*")>-1||a.indexOf("^")>-1||a.indexOf("/")>-1||a.indexOf("%")>-1)||s.isSpaceString(a)?!1:P.Helpers.isNumber(a)},s.isBooleanValue=function(a){return!!a&&(a.toLowerCase()==="true"||a.toLowerCase()==="false")},s.countDecimals=function(a){if(P.Helpers.isNumber(a)&&Math.floor(a)!==a){var c=a.toString().split(".");return c.length>1&&c[1].length||0}return 0},s.plusMinus=function(a,c,r){var t=s.countDecimals(a),n=s.countDecimals(c);if(t>0||n>0){var o=Math.max(t,n);r=parseFloat(r.toFixed(o))}return r},s.isTwoValueEquals=function(a,c,r){return r===void 0&&(r=!0),a==="undefined"&&(a=void 0),c==="undefined"&&(c=void 0),P.Helpers.isTwoValueEquals(a,c,r)},s.operatorToString=function(a){var c=s.signs[a];return c??a},s.convertValForDateCompare=function(a,c){if(c instanceof Date&&typeof a=="string"){var r=new Date(a);return r.setHours(0,0,0),r}return a},s.unaryFunctions={empty:function(a){return P.Helpers.isValueEmpty(a)},notempty:function(a){return!s.unaryFunctions.empty(a)},negate:function(a){return!a}},s.binaryFunctions={arithmeticOp:function(a){var c=function(r,t){return P.Helpers.isValueEmpty(r)?typeof t=="number"?0:typeof r=="string"?r:typeof t=="string"?"":Array.isArray(t)?[]:0:r};return function(r,t){r=c(r,t),t=c(t,r);var n=s.binaryFunctions[a];return n==null?null:n.call(this,r,t)}},and:function(a,c){return a&&c},or:function(a,c){return a||c},plus:function(a,c){return P.Helpers.sumAnyValues(a,c)},minus:function(a,c){return P.Helpers.correctAfterPlusMinis(a,c,a-c)},mul:function(a,c){return P.Helpers.correctAfterMultiple(a,c,a*c)},div:function(a,c){return c?a/c:null},mod:function(a,c){return c?a%c:null},power:function(a,c){return Math.pow(a,c)},greater:function(a,c){return a==null||c==null?!1:(a=s.convertValForDateCompare(a,c),c=s.convertValForDateCompare(c,a),a>c)},less:function(a,c){return a==null||c==null?!1:(a=s.convertValForDateCompare(a,c),c=s.convertValForDateCompare(c,a),a<c)},greaterorequal:function(a,c){return s.binaryFunctions.equal(a,c)?!0:s.binaryFunctions.greater(a,c)},lessorequal:function(a,c){return s.binaryFunctions.equal(a,c)?!0:s.binaryFunctions.less(a,c)},equal:function(a,c,r){return a=s.convertValForDateCompare(a,c),c=s.convertValForDateCompare(c,a),s.isTwoValueEquals(a,c,r!==!0)},notequal:function(a,c,r){return!s.binaryFunctions.equal(a,c,r)},contains:function(a,c){return s.binaryFunctions.containsCore(a,c,!0)},notcontains:function(a,c){return!a&&!P.Helpers.isValueEmpty(c)?!0:s.binaryFunctions.containsCore(a,c,!1)},anyof:function(a,c){if(P.Helpers.isValueEmpty(a)&&P.Helpers.isValueEmpty(c))return!0;if(P.Helpers.isValueEmpty(a)||!Array.isArray(a)&&a.length===0)return!1;if(P.Helpers.isValueEmpty(c))return!0;if(!Array.isArray(a))return s.binaryFunctions.contains(c,a);if(!Array.isArray(c))return s.binaryFunctions.contains(a,c);for(var r=0;r<c.length;r++)if(s.binaryFunctions.contains(a,c[r]))return!0;return!1},allof:function(a,c){if(!a&&!P.Helpers.isValueEmpty(c))return!1;if(!Array.isArray(c))return s.binaryFunctions.contains(a,c);for(var r=0;r<c.length;r++)if(!s.binaryFunctions.contains(a,c[r]))return!1;return!0},containsCore:function(a,c,r){if(!a&&a!==0&&a!==!1)return!1;if(a.length||(a=a.toString(),(typeof c=="string"||c instanceof String)&&(a=a.toUpperCase(),c=c.toUpperCase())),typeof a=="string"||a instanceof String){if(!c)return!1;c=c.toString();var t=a.indexOf(c)>-1;return r?t:!t}for(var n=Array.isArray(c)?c:[c],o=0;o<n.length;o++){var u=0;for(c=n[o];u<a.length&&!s.isTwoValueEquals(a[u],c);u++);if(u==a.length)return!r}return r}},s.signs={less:"<",lessorequal:"<=",greater:">",greaterorequal:">=",equal:"==",notequal:"!=",plus:"+",minus:"-",mul:"*",div:"/",and:"and",or:"or",power:"^",mod:"%",negate:"!"},s}()},"./src/flowpanel.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"FlowPanelModel",function(){return A});var P=d("./src/jsonobject.ts"),C=d("./src/panel.ts"),D=function(){var R=function(V,O){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,y){l.__proto__=y}||function(l,y){for(var p in y)Object.prototype.hasOwnProperty.call(y,p)&&(l[p]=y[p])},R(V,O)};return function(V,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");R(V,O);function l(){this.constructor=V}V.prototype=O===null?Object.create(O):(l.prototype=O.prototype,new l)}}(),A=function(R){D(V,R);function V(O){O===void 0&&(O="");var l=R.call(this,O)||this;return l.createLocalizableString("content",l,!0),l.registerPropertyChangedHandlers(["content"],function(){l.onContentChanged()}),l}return V.prototype.getType=function(){return"flowpanel"},V.prototype.getChildrenLayoutType=function(){return"flow"},V.prototype.onSurveyLoad=function(){R.prototype.onSurveyLoad.call(this),this.onContentChanged()},Object.defineProperty(V.prototype,"content",{get:function(){return this.getLocalizableStringText("content")},set:function(O){this.setLocalizableStringText("content",O)},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"locContent",{get:function(){return this.getLocalizableString("content")},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"html",{get:function(){return this.getPropertyValue("html","")},set:function(O){this.setPropertyValue("html",O)},enumerable:!1,configurable:!0}),V.prototype.onContentChanged=function(){var O="";this.onCustomHtmlProducing?O=this.onCustomHtmlProducing():O=this.produceHtml(),this.html=O,this.contentChangedCallback&&this.contentChangedCallback()},V.prototype.produceHtml=function(){for(var O=[],l=/{(.*?(element:)[^$].*?)}/g,y=this.content,p=0,f=null;(f=l.exec(y))!==null;){f.index>p&&(O.push(y.substring(p,f.index)),p=f.index);var e=this.getQuestionFromText(f[0]);e?O.push(this.getHtmlForQuestion(e)):O.push(y.substring(p,f.index+f[0].length)),p=f.index+f[0].length}return p<y.length&&O.push(y.substring(p,y.length)),O.join("").replace(new RegExp("<br>","g"),"<br/>")},V.prototype.getQuestionFromText=function(O){return O=O.substring(1,O.length-1),O=O.replace(V.contentElementNamePrefix,"").trim(),this.getQuestionByName(O)},V.prototype.getHtmlForQuestion=function(O){return this.onGetHtmlForQuestion?this.onGetHtmlForQuestion(O):""},V.prototype.getQuestionHtmlId=function(O){return this.name+"_"+O.id},V.prototype.onAddElement=function(O,l){R.prototype.onAddElement.call(this,O,l),this.addElementToContent(O),O.renderWidth=""},V.prototype.onRemoveElement=function(O){var l=this.getElementContentText(O);this.content=this.content.replace(l,""),R.prototype.onRemoveElement.call(this,O)},V.prototype.dragDropMoveElement=function(O,l,y){},V.prototype.addElementToContent=function(O){if(!this.isLoadingFromJson){var l=this.getElementContentText(O);this.insertTextAtCursor(l)||(this.content=this.content+l)}},V.prototype.insertTextAtCursor=function(O,l){if(l===void 0&&(l=null),!this.isDesignMode||typeof document>"u"||!window.getSelection)return!1;var y=window.getSelection();if(y.getRangeAt&&y.rangeCount){var p=y.getRangeAt(0);p.deleteContents(),p.insertNode(document.createTextNode(O));var f=this;if(f.getContent){var e=f.getContent(l);this.content=e}return!0}return!1},V.prototype.getElementContentText=function(O){return"{"+V.contentElementNamePrefix+O.name+"}"},V.contentElementNamePrefix="element:",V}(C.PanelModel);P.Serializer.addClass("flowpanel",[{name:"content:html",serializationProperty:"locContent"}],function(){return new A},"panel")},"./src/functionsfactory.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"FunctionFactory",function(){return A}),d.d(M,"registerFunction",function(){return R});var P=d("./src/helpers.ts"),C=d("./src/settings.ts"),D=d("./src/console-warnings.ts"),A=function(){function z(){this.functionHash={},this.isAsyncHash={}}return z.prototype.register=function(G,$,Z){Z===void 0&&(Z=!1),this.functionHash[G]=$,Z&&(this.isAsyncHash[G]=!0)},z.prototype.unregister=function(G){delete this.functionHash[G],delete this.isAsyncHash[G]},z.prototype.hasFunction=function(G){return!!this.functionHash[G]},z.prototype.isAsyncFunction=function(G){return!!this.isAsyncHash[G]},z.prototype.clear=function(){this.functionHash={}},z.prototype.getAll=function(){var G=[];for(var $ in this.functionHash)G.push($);return G.sort()},z.prototype.run=function(G,$,Z){Z===void 0&&(Z=null);var X=this.functionHash[G];if(!X)return D.ConsoleWarnings.warn("Unknown function name: "+G),null;var ee={func:X};if(Z)for(var ne in Z)ee[ne]=Z[ne];return ee.func($)},z.Instance=new z,z}(),R=A.Instance.register;function V(z,G){if(z!=null)if(Array.isArray(z))for(var $=0;$<z.length;$++)V(z[$],G);else P.Helpers.isNumber(z)&&(z=P.Helpers.getNumber(z)),G.push(z)}function O(z){var G=[];V(z,G);for(var $=0,Z=0;Z<G.length;Z++)$=P.Helpers.correctAfterPlusMinis($,G[Z],$+G[Z]);return $}A.Instance.register("sum",O);function l(z,G){var $=[];V(z,$);for(var Z=void 0,X=0;X<$.length;X++)Z===void 0&&(Z=$[X]),G?Z>$[X]&&(Z=$[X]):Z<$[X]&&(Z=$[X]);return Z}function y(z){return l(z,!0)}A.Instance.register("min",y);function p(z){return l(z,!1)}A.Instance.register("max",p);function f(z){var G=[];return V(z,G),G.length}A.Instance.register("count",f);function e(z){var G=[];V(z,G);var $=O(z);return G.length>0?$/G.length:0}A.Instance.register("avg",e);function m(z){if(z.length!=2)return null;var G=z[0];if(!G||!Array.isArray(G)&&!Array.isArray(Object.keys(G)))return null;var $=z[1];return typeof $!="string"&&!($ instanceof String)?null:{data:G,name:$}}function s(z){return typeof z=="string"?P.Helpers.isNumber(z)?P.Helpers.getNumber(z):void 0:z}function a(z,G,$,Z,X){if(!z||P.Helpers.isValueEmpty(z[G]))return $;var ee=X?s(z[G]):1;return Z($,ee)}function c(z,G,$){$===void 0&&($=!0);var Z=m(z);if(Z){var X=void 0;if(Array.isArray(Z.data))for(var ee=0;ee<Z.data.length;ee++)X=a(Z.data[ee],Z.name,X,G,$);else for(var ne in Z.data)X=a(Z.data[ne],Z.name,X,G,$);return X}}function r(z){var G=c(z,function($,Z){return $==null&&($=0),Z==null||Z==null?$:P.Helpers.correctAfterPlusMinis($,Z,$+Z)});return G!==void 0?G:0}A.Instance.register("sumInArray",r);function t(z){return c(z,function(G,$){return G==null?$:$==null||$==null||G<$?G:$})}A.Instance.register("minInArray",t);function n(z){return c(z,function(G,$){return G==null?$:$==null||$==null||G>$?G:$})}A.Instance.register("maxInArray",n);function o(z){var G=c(z,function($,Z){return $==null&&($=0),Z==null||Z==null?$:$+1},!1);return G!==void 0?G:0}A.Instance.register("countInArray",o);function u(z){var G=o(z);return G==0?0:r(z)/G}A.Instance.register("avgInArray",u);function v(z){return!z&&z.length!==3?"":z[0]?z[1]:z[2]}A.Instance.register("iif",v);function x(z){return!z&&z.length<1||!z[0]?null:new Date(z[0])}A.Instance.register("getDate",x);function b(z){if(!z&&z.length<1||!z[0])return null;var G=new Date(z[0]),$=new Date,Z=$.getFullYear()-G.getFullYear(),X=$.getMonth()-G.getMonth();return(X<0||X===0&&$.getDate()<G.getDate())&&(Z-=Z>0?1:0),Z}A.Instance.register("age",b);function i(z){if(!z)return!1;for(var G=z.questions,$=0;$<G.length;$++)if(!G[$].validate(!1))return!1;return!0}function h(z){if(!z&&z.length<1||!z[0]||!this.survey)return!1;var G=z[0],$=this.survey.getPageByName(G);if($||($=this.survey.getPanelByName(G)),!$){var Z=this.survey.getQuestionByName(G);if(!Z||!Array.isArray(Z.panels))return!1;if(z.length>1)z[1]<Z.panels.length&&($=Z.panels[z[1]]);else{for(var X=0;X<Z.panels.length;X++)if(!i(Z.panels[X]))return!1;return!0}}return i($)}A.Instance.register("isContainerReady",h);function E(){return this.survey&&this.survey.isDisplayMode}A.Instance.register("isDisplayMode",E);function S(){return new Date}A.Instance.register("currentDate",S);function L(z){var G=new Date;return C.settings.localization.useLocalTimeZone?G.setHours(0,0,0,0):G.setUTCHours(0,0,0,0),Array.isArray(z)&&z.length==1&&G.setDate(G.getDate()+z[0]),G}A.Instance.register("today",L);function j(z){if(!(z.length!==1||!z[0]))return new Date(z[0]).getFullYear()}A.Instance.register("getYear",j);function w(){return new Date().getFullYear()}A.Instance.register("currentYear",w);function g(z){if(!Array.isArray(z)||z.length!==2||!z[0]||!z[1])return 0;var G=new Date(z[0]),$=new Date(z[1]),Z=Math.abs($-G);return Math.ceil(Z/(1e3*60*60*24))}A.Instance.register("diffDays",g);function I(z){var G=L(void 0);return z&&z[0]&&(G=new Date(z[0])),G}function T(z){var G=I(z);return G.getFullYear()}A.Instance.register("year",T);function B(z){var G=I(z);return G.getMonth()+1}A.Instance.register("month",B);function N(z){var G=I(z);return G.getDate()}A.Instance.register("day",N);function H(z){var G=I(z);return G.getDay()}A.Instance.register("weekday",H);function k(z,G){if(!(!z||!G)){for(var $=["row","panel","survey"],Z=0;Z<$.length;Z++){var X=z[$[Z]];if(X&&X.getQuestionByName){var ee=X.getQuestionByName(G);if(ee)return ee}}return null}}function W(z){var G=k(this,z[0]);return G?G.displayValue:""}A.Instance.register("displayValue",W);function K(z){if(!(z.length!==2||!z[0]||!z[1])){var G=k(this,z[0]);return G?G[z[1]]:void 0}}A.Instance.register("propertyValue",K)},"./src/header.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"CoverCell",function(){return O}),d.d(M,"Cover",function(){return l});var P=d("./src/base.ts"),C=d("./src/jsonobject.ts"),D=d("./src/utils/cssClassBuilder.ts"),A=d("./src/utils/utils.ts"),R=function(){var y=function(p,f){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,m){e.__proto__=m}||function(e,m){for(var s in m)Object.prototype.hasOwnProperty.call(m,s)&&(e[s]=m[s])},y(p,f)};return function(p,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");y(p,f);function e(){this.constructor=p}p.prototype=f===null?Object.create(f):(e.prototype=f.prototype,new e)}}(),V=function(y,p,f,e){var m=arguments.length,s=m<3?p:e===null?e=Object.getOwnPropertyDescriptor(p,f):e,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(y,p,f,e);else for(var c=y.length-1;c>=0;c--)(a=y[c])&&(s=(m<3?a(s):m>3?a(p,f,s):a(p,f))||s);return m>3&&s&&Object.defineProperty(p,f,s),s},O=function(){function y(p,f,e){this.cover=p,this.positionX=f,this.positionY=e}return y.prototype.calcRow=function(p){return p==="top"?1:p==="middle"?2:3},y.prototype.calcColumn=function(p){return p==="left"?1:p==="center"?2:3},y.prototype.calcAlignItems=function(p){return p==="left"?"flex-start":p==="center"?"center":"flex-end"},y.prototype.calcAlignText=function(p){return p==="left"?"start":p==="center"?"center":"end"},y.prototype.calcJustifyContent=function(p){return p==="top"?"flex-start":p==="middle"?"center":"flex-end"},Object.defineProperty(y.prototype,"survey",{get:function(){return this.cover.survey},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"css",{get:function(){var p=y.CLASSNAME+" "+y.CLASSNAME+"--"+this.positionX+" "+y.CLASSNAME+"--"+this.positionY;return p},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"style",{get:function(){var p={};return p.gridColumn=this.calcColumn(this.positionX),p.gridRow=this.calcRow(this.positionY),p},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"contentStyle",{get:function(){var p={};return p.textAlign=this.calcAlignText(this.positionX),p.alignItems=this.calcAlignItems(this.positionX),p.justifyContent=this.calcJustifyContent(this.positionY),p},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"showLogo",{get:function(){return this.survey.hasLogo&&this.positionX===this.cover.logoPositionX&&this.positionY===this.cover.logoPositionY},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"showTitle",{get:function(){return this.survey.hasTitle&&this.positionX===this.cover.titlePositionX&&this.positionY===this.cover.titlePositionY},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"showDescription",{get:function(){return this.survey.renderedHasDescription&&this.positionX===this.cover.descriptionPositionX&&this.positionY===this.cover.descriptionPositionY},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"textAreaWidth",{get:function(){return this.cover.textAreaWidth?""+this.cover.textAreaWidth+"px":""},enumerable:!1,configurable:!0}),y.CLASSNAME="sv-header__cell",y}(),l=function(y){R(p,y);function p(){var f=y.call(this)||this;return f.cells=[],f.renderBackgroundImage=Object(A.wrapUrlForBackgroundImage)(f.backgroundImage),["top","middle","bottom"].forEach(function(e){return["left","center","right"].forEach(function(m){return f.cells.push(new O(f,m,e))})}),f.updateHeaderClasses(),f.updateContentClasses(),f.updateBackgroundImageClasses(),f}return p.prototype.calcBackgroundSize=function(f){return f==="fill"?"100% 100%":f==="tile"?"auto":f},p.prototype.updateHeaderClasses=function(){this.headerClasses=new D.CssClassBuilder().append("sv-header").append("sv-header__without-background",this.backgroundColor==="transparent"&&!this.backgroundImage).append("sv-header__overlap",this.overlapEnabled).toString()},p.prototype.updateContentClasses=function(){var f=!!this.survey&&this.survey.calculateWidthMode();this.maxWidth=this.inheritWidthFrom==="survey"&&!!f&&f==="static"&&this.survey.renderedWidth,this.contentClasses=new D.CssClassBuilder().append("sv-header__content").append("sv-header__content--static",this.inheritWidthFrom==="survey"&&!!f&&f==="static").append("sv-header__content--responsive",this.inheritWidthFrom==="container"||!!f&&f==="responsive").toString()},p.prototype.updateBackgroundImageClasses=function(){this.backgroundImageClasses=new D.CssClassBuilder().append("sv-header__background-image").append("sv-header__background-image--contain",this.backgroundImageFit==="contain").append("sv-header__background-image--tile",this.backgroundImageFit==="tile").toString()},p.prototype.fromTheme=function(f){y.prototype.fromJSON.call(this,f.header),f.cssVariables&&(this.backgroundColor=f.cssVariables["--sjs-header-backcolor"])},p.prototype.getType=function(){return"cover"},Object.defineProperty(p.prototype,"renderedHeight",{get:function(){return this.height&&(this.survey&&!this.survey.isMobile||!this.survey)?Math.max(this.height,this.actualHeight+40)+"px":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"renderedtextAreaWidth",{get:function(){return this.textAreaWidth?this.textAreaWidth+"px":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"survey",{get:function(){return this._survey},set:function(f){var e=this;this._survey!==f&&(this._survey=f,f&&(this.updateContentClasses(),this._survey.onPropertyChanged.add(function(m,s){(s.name=="widthMode"||s.name=="width")&&e.updateContentClasses()})))},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"backgroundImageStyle",{get:function(){return this.backgroundImage?{opacity:this.backgroundImageOpacity,backgroundImage:this.renderBackgroundImage,backgroundSize:this.calcBackgroundSize(this.backgroundImageFit)}:null},enumerable:!1,configurable:!0}),p.prototype.propertyValueChanged=function(f,e,m){y.prototype.propertyValueChanged.call(this,f,e,m),(f==="backgroundColor"||f==="backgroundImage"||f==="overlapEnabled")&&this.updateHeaderClasses(),f==="inheritWidthFrom"&&this.updateContentClasses(),f==="backgroundImageFit"&&this.updateBackgroundImageClasses()},p.prototype.calculateActualHeight=function(f,e,m){var s=["top","middle","bottom"],a=s.indexOf(this.logoPositionY),c=s.indexOf(this.titlePositionY),r=s.indexOf(this.descriptionPositionY),t=["left","center","right"],n=t.indexOf(this.logoPositionX),o=t.indexOf(this.titlePositionX),u=t.indexOf(this.descriptionPositionX),v=[[0,0,0],[0,0,0],[0,0,0]];return v[a][n]=f,v[c][o]+=e,v[r][u]+=m,v.reduce(function(x,b){return x+Math.max.apply(Math,b)},0)},p.prototype.processResponsiveness=function(f){if(this.survey&&this.survey.rootElement){var e=this.survey.rootElement.querySelectorAll(".sv-header__logo")[0],m=this.survey.rootElement.querySelectorAll(".sv-header__title")[0],s=this.survey.rootElement.querySelectorAll(".sv-header__description")[0],a=e?e.getBoundingClientRect().height:0,c=m?m.getBoundingClientRect().height:0,r=s?s.getBoundingClientRect().height:0;this.actualHeight=this.calculateActualHeight(a,c,r)}},Object.defineProperty(p.prototype,"hasBackground",{get:function(){return!!this.backgroundImage||this.backgroundColor!=="transparent"},enumerable:!1,configurable:!0}),V([Object(C.property)({defaultValue:0})],p.prototype,"actualHeight",void 0),V([Object(C.property)()],p.prototype,"height",void 0),V([Object(C.property)()],p.prototype,"inheritWidthFrom",void 0),V([Object(C.property)()],p.prototype,"textAreaWidth",void 0),V([Object(C.property)()],p.prototype,"textGlowEnabled",void 0),V([Object(C.property)()],p.prototype,"overlapEnabled",void 0),V([Object(C.property)()],p.prototype,"backgroundColor",void 0),V([Object(C.property)({onSet:function(f,e){e.renderBackgroundImage=Object(A.wrapUrlForBackgroundImage)(f)}})],p.prototype,"backgroundImage",void 0),V([Object(C.property)()],p.prototype,"renderBackgroundImage",void 0),V([Object(C.property)()],p.prototype,"backgroundImageFit",void 0),V([Object(C.property)()],p.prototype,"backgroundImageOpacity",void 0),V([Object(C.property)()],p.prototype,"logoPositionX",void 0),V([Object(C.property)()],p.prototype,"logoPositionY",void 0),V([Object(C.property)()],p.prototype,"titlePositionX",void 0),V([Object(C.property)()],p.prototype,"titlePositionY",void 0),V([Object(C.property)()],p.prototype,"descriptionPositionX",void 0),V([Object(C.property)()],p.prototype,"descriptionPositionY",void 0),V([Object(C.property)()],p.prototype,"logoStyle",void 0),V([Object(C.property)()],p.prototype,"titleStyle",void 0),V([Object(C.property)()],p.prototype,"descriptionStyle",void 0),V([Object(C.property)()],p.prototype,"headerClasses",void 0),V([Object(C.property)()],p.prototype,"contentClasses",void 0),V([Object(C.property)()],p.prototype,"maxWidth",void 0),V([Object(C.property)()],p.prototype,"backgroundImageClasses",void 0),p}(P.Base);C.Serializer.addClass("cover",[{name:"height:number",minValue:0,default:256},{name:"inheritWidthFrom",default:"container"},{name:"textAreaWidth:number",minValue:0,default:512},{name:"textGlowEnabled:boolean"},{name:"overlapEnabled:boolean"},{name:"backgroundImage:file"},{name:"backgroundImageOpacity:number",minValue:0,maxValue:1,default:1},{name:"backgroundImageFit",default:"cover",choices:["cover","fill","contain"]},{name:"logoPositionX",default:"right"},{name:"logoPositionY",default:"top"},{name:"titlePositionX",default:"left"},{name:"titlePositionY",default:"bottom"},{name:"descriptionPositionX",default:"left"},{name:"descriptionPositionY",default:"bottom"}],function(){return new l})},"./src/helpers.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"Helpers",function(){return C});var P=d("./src/settings.ts"),C=function(){function D(){}return D.isValueEmpty=function(A){if(Array.isArray(A)&&A.length===0)return!0;if(A&&D.isValueObject(A)&&A.constructor===Object){for(var R in A)if(!D.isValueEmpty(A[R]))return!1;return!0}return!A&&A!==0&&A!==!1},D.isArrayContainsEqual=function(A,R){if(!Array.isArray(A)||!Array.isArray(R)||A.length!==R.length)return!1;for(var V=0;V<A.length;V++){for(var O=0;O<R.length&&!D.isTwoValueEquals(A[V],R[O]);O++);if(O===R.length)return!1}return!0},D.isArraysEqual=function(A,R,V,O,l){if(V===void 0&&(V=!1),!Array.isArray(A)||!Array.isArray(R)||A.length!==R.length)return!1;if(V){for(var y=[],p=[],f=0;f<A.length;f++)y.push(A[f]),p.push(R[f]);y.sort(),p.sort(),A=y,R=p}for(var f=0;f<A.length;f++)if(!D.isTwoValueEquals(A[f],R[f],V,O,l))return!1;return!0},D.compareStrings=function(A,R){var V=P.settings.comparator.normalizeTextCallback;if(A&&(A=V(A,"compare").trim()),R&&(R=V(R,"compare").trim()),!A&&!R)return 0;if(!A)return-1;if(!R)return 1;if(A===R)return 0;for(var O=-1,l=0;l<A.length&&l<R.length;l++){if(this.isCharDigit(A[l])&&this.isCharDigit(R[l])){O=l;break}if(A[l]!==R[l])break}if(O>-1){var y=this.getNumberFromStr(A,O),p=this.getNumberFromStr(R,O);if(!Number.isNaN(y)&&!Number.isNaN(p)&&y!==p)return y>p?1:-1}return A>R?1:-1},D.isTwoValueEquals=function(A,R,V,O,l){if(V===void 0&&(V=!1),A===R||Array.isArray(A)&&A.length===0&&typeof R>"u"||Array.isArray(R)&&R.length===0&&typeof A>"u"||A==null&&R===""||R==null&&A==="")return!0;if(l===void 0&&(l=P.settings.comparator.trimStrings),O===void 0&&(O=P.settings.comparator.caseSensitive),typeof A=="string"&&typeof R=="string"){var y=P.settings.comparator.normalizeTextCallback;return A=y(A,"compare"),R=y(R,"compare"),l&&(A=A.trim(),R=R.trim()),O||(A=A.toLowerCase(),R=R.toLowerCase()),A===R}if(A instanceof Date&&R instanceof Date)return A.getTime()==R.getTime();if(D.isConvertibleToNumber(A)&&D.isConvertibleToNumber(R)&&parseInt(A)===parseInt(R)&&parseFloat(A)===parseFloat(R))return!0;if(!D.isValueEmpty(A)&&D.isValueEmpty(R)||D.isValueEmpty(A)&&!D.isValueEmpty(R))return!1;if((A===!0||A===!1)&&typeof R=="string")return A.toString()===R.toLocaleLowerCase();if((R===!0||R===!1)&&typeof A=="string")return R.toString()===A.toLocaleLowerCase();if(!D.isValueObject(A)&&!D.isValueObject(R))return A==R;if(!D.isValueObject(A)||!D.isValueObject(R))return!1;if(A.equals&&R.equals)return A.equals(R);if(Array.isArray(A)&&Array.isArray(R))return D.isArraysEqual(A,R,V,O,l);for(var p in A)if(A.hasOwnProperty(p)&&(!R.hasOwnProperty(p)||!this.isTwoValueEquals(A[p],R[p],V,O,l)))return!1;for(p in R)if(R.hasOwnProperty(p)&&!A.hasOwnProperty(p))return!1;return!0},D.randomizeArray=function(A){for(var R=A.length-1;R>0;R--){var V=Math.floor(Math.random()*(R+1)),O=A[R];A[R]=A[V],A[V]=O}return A},D.getUnbindValue=function(A){if(Array.isArray(A)){for(var R=[],V=0;V<A.length;V++)R.push(D.getUnbindValue(A[V]));return R}return A&&D.isValueObject(A)&&!(A instanceof Date)?JSON.parse(JSON.stringify(A)):A},D.createCopy=function(A){var R={};if(!A)return R;for(var V in A)R[V]=A[V];return R},D.isConvertibleToNumber=function(A){return A!=null&&!Array.isArray(A)&&!isNaN(A)},D.isValueObject=function(A,R){return A instanceof Object&&(!R||!Array.isArray(A))},D.isNumber=function(A){return!isNaN(this.getNumber(A))},D.getNumber=function(A){if(typeof A=="string"&&A&&A.indexOf("0x")==0&&A.length>32)return NaN;A=this.prepareStringToNumber(A);var R=parseFloat(A);return isNaN(R)||!isFinite(A)?NaN:R},D.prepareStringToNumber=function(A){if(typeof A!="string"||!A)return A;var R=A.indexOf(",");return R>-1&&A.indexOf(",",R+1)<0?A.replace(",","."):A},D.getMaxLength=function(A,R){return A<0&&(A=R),A>0?A:null},D.getRemainingCharacterCounterText=function(A,R){if(!R||R<=0||!P.settings.showMaxLengthIndicator)return"";var V=A?A.length:"0";return[V,R].join("/")},D.getNumberByIndex=function(A,R){if(A<0)return"";var V=1,O="",l=".",y=!0,p="A",f="";if(R){f=R;for(var e=f.length-1,m=!1,s=0;s<f.length;s++)if(D.isCharDigit(f[s])){m=!0;break}for(var a=function(){return m&&!D.isCharDigit(f[e])||D.isCharNotLetterAndDigit(f[e])};e>=0&&a();)e--;var c="";for(e<f.length-1&&(c=f.substring(e+1),f=f.substring(0,e+1)),e=f.length-1;e>=0&&!(a()||(e--,!m)););p=f.substring(e+1),O=f.substring(0,e+1),parseInt(p)?V=parseInt(p):p.length==1&&(y=!1),(c||O)&&(l=c)}if(y){for(var r=(A+V).toString();r.length<p.length;)r="0"+r;return O+r+l}return O+String.fromCharCode(p.charCodeAt(0)+A)+l},D.isCharNotLetterAndDigit=function(A){return A.toUpperCase()==A.toLowerCase()&&!D.isCharDigit(A)},D.isCharDigit=function(A){return A>="0"&&A<="9"},D.getNumberFromStr=function(A,R){if(!this.isCharDigit(A[R]))return NaN;for(var V="";R<A.length&&this.isCharDigit(A[R]);)V+=A[R],R++;return V?this.getNumber(V):NaN},D.countDecimals=function(A){if(D.isNumber(A)&&Math.floor(A)!==A){var R=A.toString().split(".");return R.length>1&&R[1].length||0}return 0},D.correctAfterPlusMinis=function(A,R,V){var O=D.countDecimals(A),l=D.countDecimals(R);if(O>0||l>0){var y=Math.max(O,l);V=parseFloat(V.toFixed(y))}return V},D.sumAnyValues=function(A,R){if(!D.isNumber(A)||!D.isNumber(R)){if(Array.isArray(A)&&Array.isArray(R))return[].concat(A).concat(R);if(Array.isArray(A)||Array.isArray(R)){var V=Array.isArray(A)?A:R,O=V===A?R:A;if(typeof O=="string"){var l=V.join(", ");return V===A?l+O:O+l}if(typeof O=="number"){for(var y=0,p=0;p<V.length;p++)typeof V[p]=="number"&&(y=D.correctAfterPlusMinis(y,V[p],y+V[p]));return D.correctAfterPlusMinis(y,O,y+O)}}return A+R}return typeof A=="string"||typeof R=="string"?A+R:D.correctAfterPlusMinis(A,R,A+R)},D.correctAfterMultiple=function(A,R,V){var O=D.countDecimals(A)+D.countDecimals(R);return O>0&&(V=parseFloat(V.toFixed(O))),V},D.convertArrayValueToObject=function(A,R,V){V===void 0&&(V=void 0);var O=new Array;if(!A||!Array.isArray(A))return O;for(var l=0;l<A.length;l++){var y=void 0;Array.isArray(V)&&(y=D.findObjByPropValue(V,R,A[l])),y||(y={},y[R]=A[l]),O.push(y)}return O},D.findObjByPropValue=function(A,R,V){for(var O=0;O<A.length;O++)if(D.isTwoValueEquals(A[O][R],V))return A[O]},D.convertArrayObjectToValue=function(A,R){var V=new Array;if(!A||!Array.isArray(A))return V;for(var O=0;O<A.length;O++){var l=A[O]?A[O][R]:void 0;D.isValueEmpty(l)||V.push(l)}return V},D.convertDateToString=function(A){var R=function(V){return V<10?"0"+V.toString():V.toString()};return A.getFullYear()+"-"+R(A.getMonth()+1)+"-"+R(A.getDate())},D.convertDateTimeToString=function(A){var R=function(V){return V<10?"0"+V.toString():V.toString()};return this.convertDateToString(A)+" "+R(A.getHours())+":"+R(A.getMinutes())},D.convertValToQuestionVal=function(A,R){return A instanceof Date?R==="datetime-local"?D.convertDateTimeToString(A):D.convertDateToString(A):A},D.compareVerions=function(A,R){if(!A&&!R)return 0;for(var V=A.split("."),O=R.split("."),l=V.length,y=O.length,p=0;p<l&&p<y;p++){var f=V[p],e=O[p];if(f.length===e.length){if(f!==e)return f<e?-1:1}else return f.length<e.length?-1:1}return l===y?0:l<y?-1:1},D}();String.prototype.format||(String.prototype.format=function(){var D=arguments;return this.replace(/{(\d+)}/g,function(A,R){return typeof D[R]<"u"?D[R]:A})})},"./src/images sync \\.svg$":function(q,M,d){var P={"./ArrowDown_34x34.svg":"./src/images/ArrowDown_34x34.svg","./ArrowLeft.svg":"./src/images/ArrowLeft.svg","./ArrowRight.svg":"./src/images/ArrowRight.svg","./Arrow_downGREY_10x10.svg":"./src/images/Arrow_downGREY_10x10.svg","./ChangeCamera.svg":"./src/images/ChangeCamera.svg","./ChooseFile.svg":"./src/images/ChooseFile.svg","./Clear.svg":"./src/images/Clear.svg","./CloseCamera.svg":"./src/images/CloseCamera.svg","./DefaultFile.svg":"./src/images/DefaultFile.svg","./Delete.svg":"./src/images/Delete.svg","./Down_34x34.svg":"./src/images/Down_34x34.svg","./Left.svg":"./src/images/Left.svg","./ModernBooleanCheckChecked.svg":"./src/images/ModernBooleanCheckChecked.svg","./ModernBooleanCheckInd.svg":"./src/images/ModernBooleanCheckInd.svg","./ModernBooleanCheckUnchecked.svg":"./src/images/ModernBooleanCheckUnchecked.svg","./ModernCheck.svg":"./src/images/ModernCheck.svg","./ModernRadio.svg":"./src/images/ModernRadio.svg","./More.svg":"./src/images/More.svg","./NavMenu_24x24.svg":"./src/images/NavMenu_24x24.svg","./ProgressButton.svg":"./src/images/ProgressButton.svg","./ProgressButtonV2.svg":"./src/images/ProgressButtonV2.svg","./RemoveFile.svg":"./src/images/RemoveFile.svg","./Right.svg":"./src/images/Right.svg","./SearchClear.svg":"./src/images/SearchClear.svg","./ShowCamera.svg":"./src/images/ShowCamera.svg","./TakePicture.svg":"./src/images/TakePicture.svg","./TakePicture_24x24.svg":"./src/images/TakePicture_24x24.svg","./TimerCircle.svg":"./src/images/TimerCircle.svg","./V2Check.svg":"./src/images/V2Check.svg","./V2Check_24x24.svg":"./src/images/V2Check_24x24.svg","./V2DragElement_16x16.svg":"./src/images/V2DragElement_16x16.svg","./chevron.svg":"./src/images/chevron.svg","./clear_16x16.svg":"./src/images/clear_16x16.svg","./close_16x16.svg":"./src/images/close_16x16.svg","./collapseDetail.svg":"./src/images/collapseDetail.svg","./drag-n-drop.svg":"./src/images/drag-n-drop.svg","./expandDetail.svg":"./src/images/expandDetail.svg","./loading.svg":"./src/images/loading.svg","./minimize_16x16.svg":"./src/images/minimize_16x16.svg","./no-image.svg":"./src/images/no-image.svg","./ranking-arrows.svg":"./src/images/ranking-arrows.svg","./ranking-dash.svg":"./src/images/ranking-dash.svg","./rating-star-2.svg":"./src/images/rating-star-2.svg","./rating-star-small-2.svg":"./src/images/rating-star-small-2.svg","./rating-star-small.svg":"./src/images/rating-star-small.svg","./rating-star.svg":"./src/images/rating-star.svg","./restore_16x16.svg":"./src/images/restore_16x16.svg","./search.svg":"./src/images/search.svg"};function C(A){var R=D(A);return d(R)}function D(A){if(!d.o(P,A)){var R=new Error("Cannot find module '"+A+"'");throw R.code="MODULE_NOT_FOUND",R}return P[A]}C.keys=function(){return Object.keys(P)},C.resolve=D,q.exports=C,C.id="./src/images sync \\.svg$"},"./src/images/ArrowDown_34x34.svg":function(q,M){q.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 34 34" xml:space="preserve"><polygon class="st0" points="12,16 14,14 17,17 20,14 22,16 17,21 "></polygon></svg>'},"./src/images/ArrowLeft.svg":function(q,M){q.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 8.99999H4.39998L8.69998 13.3L7.29998 14.7L0.599976 7.99999L7.29998 1.29999L8.69998 2.69999L4.39998 6.99999H15V8.99999Z"></path></svg>'},"./src/images/ArrowRight.svg":function(q,M){q.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M1 6.99999H11.6L7.3 2.69999L8.7 1.29999L15.4 7.99999L8.7 14.7L7.3 13.3L11.6 8.99999H1V6.99999Z"></path></svg>'},"./src/images/Arrow_downGREY_10x10.svg":function(q,M){q.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 10 10" xml:space="preserve"><polygon class="st0" points="2,2 0,4 5,9 10,4 8,2 5,5 "></polygon></svg>'},"./src/images/ChangeCamera.svg":function(q,M){q.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M23 12.0037C23 14.2445 21.7794 16.3052 19.5684 17.8257C19.3984 17.9458 19.1983 18.0058 19.0082 18.0058C18.688 18.0058 18.3779 17.8557 18.1778 17.5756C17.8677 17.1155 17.9777 16.4953 18.4379 16.1852C20.0887 15.0448 21.0091 13.5643 21.0091 12.0138C21.0091 8.70262 16.9673 6.01171 12.005 6.01171C11.4948 6.01171 10.9945 6.04172 10.5043 6.09173L11.7149 7.30215C12.105 7.69228 12.105 8.32249 11.7149 8.71263C11.5148 8.9127 11.2647 9.00273 11.0045 9.00273C10.7444 9.00273 10.4943 8.90269 10.2942 8.71263L6.58254 5.00136L10.2842 1.2901C10.6744 0.899964 11.3047 0.899964 11.6949 1.2901C12.085 1.68023 12.085 2.31045 11.6949 2.70058L10.3042 4.09105C10.8545 4.03103 11.4147 4.00102 11.985 4.00102C18.0578 4.00102 22.99 7.59225 22.99 12.0037H23ZM12.2851 15.2949C11.895 15.685 11.895 16.3152 12.2851 16.7054L13.4957 17.9158C13.0055 17.9758 12.4952 17.9958 11.995 17.9958C7.03274 17.9958 2.99091 15.3049 2.99091 11.9937C2.99091 10.4332 3.90132 8.95271 5.56207 7.82232C6.02228 7.51222 6.13233 6.89201 5.82219 6.43185C5.51205 5.97169 4.89177 5.86166 4.43156 6.17176C2.22055 7.69228 1 9.76299 1 11.9937C1 16.4052 5.93224 19.9965 12.005 19.9965C12.5753 19.9965 13.1355 19.9665 13.6858 19.9064L12.2951 21.2969C11.905 21.6871 11.905 22.3173 12.2951 22.7074C12.4952 22.9075 12.7453 22.9975 13.0055 22.9975C13.2656 22.9975 13.5157 22.8975 13.7158 22.7074L17.4275 18.9961L13.7158 15.2849C13.3256 14.8947 12.6953 14.8947 12.3051 15.2849L12.2851 15.2949Z"></path></svg>'},"./src/images/ChooseFile.svg":function(q,M){q.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22 9V7C22 5.9 21.1 5 20 5H12L10 3H4C2.9 3 2 3.9 2 5V9V10V21H22L24 9H22ZM4 5H9.2L10.6 6.4L11.2 7H12H20V9H4V5ZM20.3 19H4V11H21.6L20.3 19Z"></path></svg>'},"./src/images/Clear.svg":function(q,M){q.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22.6 8.6L16.4 2.4C16 2 15.5 1.8 15 1.8C14.5 1.8 14 2 13.6 2.4L1.4 14.6C0.600003 15.4 0.600003 16.6 1.4 17.4L6 22H12L22.6 11.4C23.3 10.6 23.3 9.3 22.6 8.6ZM11.1 20H6.8L2.8 16L6.2 12.6L12.4 18.8L11.1 20ZM13.8 17.4L7.6 11.2L15 3.8L21.2 10L13.8 17.4ZM16 20H23V22H14L16 20Z"></path></svg>'},"./src/images/CloseCamera.svg":function(q,M){q.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13.41 12L20.7 4.71C21.09 4.32 21.09 3.69 20.7 3.3C20.31 2.91 19.68 2.91 19.29 3.3L12 10.59L4.71 3.29C4.32 2.9 3.68 2.9 3.29 3.29C2.9 3.68 2.9 4.32 3.29 4.71L10.58 12L3.29 19.29C2.9 19.68 2.9 20.31 3.29 20.7C3.49 20.9 3.74 20.99 4 20.99C4.26 20.99 4.51 20.89 4.71 20.7L12 13.41L19.29 20.7C19.49 20.9 19.74 20.99 20 20.99C20.26 20.99 20.51 20.89 20.71 20.7C21.1 20.31 21.1 19.68 20.71 19.29L13.42 12H13.41Z"></path></svg>'},"./src/images/DefaultFile.svg":function(q,M){q.exports='<svg viewBox="0 0 56 68" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_9011_41219)"><path d="M54.83 10.83L45.17 1.17C44.7982 0.798664 44.357 0.504208 43.8714 0.303455C43.3858 0.102703 42.8654 -0.000411943 42.34 1.2368e-06H6C4.4087 1.2368e-06 2.88257 0.632142 1.75735 1.75736C0.632136 2.88258 0 4.4087 0 6V62C0 63.5913 0.632136 65.1174 1.75735 66.2426C2.88257 67.3679 4.4087 68 6 68H50C51.5913 68 53.1174 67.3679 54.2426 66.2426C55.3679 65.1174 56 63.5913 56 62V13.66C56.0004 13.1346 55.8973 12.6142 55.6965 12.1286C55.4958 11.643 55.2013 11.2018 54.83 10.83ZM44 2.83L53.17 12H48C46.9391 12 45.9217 11.5786 45.1716 10.8284C44.4214 10.0783 44 9.06087 44 8V2.83ZM54 62C54 63.0609 53.5786 64.0783 52.8284 64.8284C52.0783 65.5786 51.0609 66 50 66H6C4.93913 66 3.92172 65.5786 3.17157 64.8284C2.42142 64.0783 2 63.0609 2 62V6C2 4.93914 2.42142 3.92172 3.17157 3.17157C3.92172 2.42143 4.93913 2 6 2H42V8C42 9.5913 42.6321 11.1174 43.7574 12.2426C44.8826 13.3679 46.4087 14 48 14H54V62ZM14 24H42V26H14V24ZM14 30H42V32H14V30ZM14 36H42V38H14V36ZM14 42H42V44H14V42Z" fill="#909090"></path></g><defs><clipPath id="clip0_9011_41219"><rect width="56" height="68" fill="white"></rect></clipPath></defs></svg>'},"./src/images/Delete.svg":function(q,M){q.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22 4H20H16V2C16 0.9 15.1 0 14 0H10C8.9 0 8 0.9 8 2V4H4H2V6H4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V6H22V4ZM10 2H14V4H10V2ZM18 20H6V6H8H16H18V20ZM14 8H16V18H14V8ZM11 8H13V18H11V8ZM8 8H10V18H8V8Z"></path></svg>'},"./src/images/Down_34x34.svg":function(q,M){q.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 34 34" xml:space="preserve"><g><path class="st0" d="M33,34H0V0h33c0.6,0,1,0.4,1,1v32C34,33.6,33.6,34,33,34z"></path><polygon class="st1" points="12,16 14,14 17,17 20,14 22,16 17,21 "></polygon></g></svg>'},"./src/images/Left.svg":function(q,M){q.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" xml:space="preserve"><polygon points="11,12 9,14 3,8 9,2 11,4 7,8 "></polygon></svg>'},"./src/images/ModernBooleanCheckChecked.svg":function(q,M){q.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><polygon points="19,10 14,10 14,5 10,5 10,10 5,10 5,14 10,14 10,19 14,19 14,14 19,14 "></polygon></svg>'},"./src/images/ModernBooleanCheckInd.svg":function(q,M){q.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><path d="M22,0H2C0.9,0,0,0.9,0,2v20c0,1.1,0.9,2,2,2h20c1.1,0,2-0.9,2-2V2C24,0.9,23.1,0,22,0z M21,18L6,3h15V18z M3,6l15,15H3V6z"></path></svg>'},"./src/images/ModernBooleanCheckUnchecked.svg":function(q,M){q.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><rect x="5" y="10" width="14" height="4"></rect></svg>'},"./src/images/ModernCheck.svg":function(q,M){q.exports='<svg viewBox="0 0 24 24"><path d="M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"></path></svg>'},"./src/images/ModernRadio.svg":function(q,M){q.exports='<svg viewBox="-12 -12 24 24"><circle r="6" cx="0" cy="0"></circle></svg>'},"./src/images/More.svg":function(q,M){q.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6 12C6 13.1 5.1 14 4 14C2.9 14 2 13.1 2 12C2 10.9 2.9 10 4 10C5.1 10 6 10.9 6 12ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10ZM20 10C18.9 10 18 10.9 18 12C18 13.1 18.9 14 20 14C21.1 14 22 13.1 22 12C22 10.9 21.1 10 20 10Z"></path></svg>'},"./src/images/NavMenu_24x24.svg":function(q,M){q.exports='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16 7H2V5H16V7ZM2 11V13H22V11H2ZM2 19H10V17H2V19Z" fill="black" fill-opacity="0.45"></path></svg>'},"./src/images/ProgressButton.svg":function(q,M){q.exports='<svg viewBox="0 0 10 10"><polygon points="2,2 0,4 5,9 10,4 8,2 5,5 "></polygon></svg>'},"./src/images/ProgressButtonV2.svg":function(q,M){q.exports='<svg viewBox="0 0 16 16"><path d="M15 8.99999H4.39998L8.69998 13.3L7.29998 14.7L0.599976 7.99999L7.29998 1.29999L8.69998 2.69999L4.39998 6.99999H15V8.99999Z"></path></svg>'},"./src/images/RemoveFile.svg":function(q,M){q.exports='<svg viewBox="0 0 16 16"><path d="M8,2C4.7,2,2,4.7,2,8s2.7,6,6,6s6-2.7,6-6S11.3,2,8,2z M11,10l-1,1L8,9l-2,2l-1-1l2-2L5,6l1-1l2,2l2-2l1,1L9,8 L11,10z"></path></svg>'},"./src/images/Right.svg":function(q,M){q.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" xml:space="preserve"><polygon points="5,4 7,2 13,8 7,14 5,12 9,8 "></polygon></svg>'},"./src/images/SearchClear.svg":function(q,M){q.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.35 3.34999L12.65 2.64999L8.05002 7.24999L3.35002 2.64999L2.65002 3.34999L7.25002 8.04999L2.65002 12.65L3.35002 13.35L8.05002 8.74999L12.65 13.35L13.35 12.65L8.75002 8.04999L13.35 3.34999Z"></path></svg>'},"./src/images/ShowCamera.svg":function(q,M){q.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.01 4H18.4C18.2 4 18.01 3.9 17.9 3.73L16.97 2.34C16.41 1.5 15.48 1 14.47 1H9.54C8.53 1 7.6 1.5 7.04 2.34L6.11 3.73C6 3.9 5.81 4 5.61 4H4C2.35 4 1 5.35 1 7V19C1 20.65 2.35 22 4 22H20C21.65 22 23 20.65 23 19V7C23 5.35 21.65 4 20 4H20.01ZM21.01 19C21.01 19.55 20.56 20 20.01 20H4.01C3.46 20 3.01 19.55 3.01 19V7C3.01 6.45 3.46 6 4.01 6H5.62C6.49 6 7.3 5.56 7.79 4.84L8.72 3.45C8.91 3.17 9.22 3 9.55 3H14.48C14.81 3 15.13 3.17 15.31 3.45L16.24 4.84C16.72 5.56 17.54 6 18.41 6H20.02C20.57 6 21.02 6.45 21.02 7V19H21.01ZM12.01 6C8.7 6 6.01 8.69 6.01 12C6.01 15.31 8.7 18 12.01 18C15.32 18 18.01 15.31 18.01 12C18.01 8.69 15.32 6 12.01 6ZM12.01 16C9.8 16 8.01 14.21 8.01 12C8.01 9.79 9.8 8 12.01 8C14.22 8 16.01 9.79 16.01 12C16.01 14.21 14.22 16 12.01 16ZM13.01 10C13.01 10.55 12.56 11 12.01 11C11.46 11 11.01 11.45 11.01 12C11.01 12.55 10.56 13 10.01 13C9.46 13 9.01 12.55 9.01 12C9.01 10.35 10.36 9 12.01 9C12.56 9 13.01 9.45 13.01 10Z" fill="black" fill-opacity="0.45"></path></svg>'},"./src/images/TakePicture.svg":function(q,M){q.exports='<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M27 6H23.8C23.34 6 22.92 5.77 22.66 5.39L22.25 4.78C21.51 3.66 20.26 3 18.92 3H13.06C11.72 3 10.48 3.67 9.73 4.78L9.32 5.39C9.07 5.77 8.64 6 8.18 6H4.98C2.79 6 1 7.79 1 10V24C1 26.21 2.79 28 5 28H27C29.21 28 31 26.21 31 24V10C31 7.79 29.21 6 27 6ZM29 24C29 25.1 28.1 26 27 26H5C3.9 26 3 25.1 3 24V10C3 8.9 3.9 8 5 8H8.2C9.33 8 10.38 7.44 11 6.5L11.41 5.89C11.78 5.33 12.41 5 13.07 5H18.93C19.6 5 20.22 5.33 20.59 5.89L21 6.5C21.62 7.44 22.68 8 23.8 8H27C28.1 8 29 8.9 29 10V24ZM16 9C12.13 9 9 12.13 9 16C9 19.87 12.13 23 16 23C19.87 23 23 19.87 23 16C23 12.13 19.87 9 16 9ZM16 21C13.24 21 11 18.76 11 16C11 13.24 13.24 11 16 11C18.76 11 21 13.24 21 16C21 18.76 18.76 21 16 21ZM17 13C17 13.55 16.55 14 16 14C14.9 14 14 14.9 14 16C14 16.55 13.55 17 13 17C12.45 17 12 16.55 12 16C12 13.79 13.79 12 16 12C16.55 12 17 12.45 17 13Z"></path></svg>'},"./src/images/TakePicture_24x24.svg":function(q,M){q.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.01 4H18.4C18.2 4 18.01 3.9 17.9 3.73L16.97 2.34C16.41 1.5 15.48 1 14.47 1H9.54C8.53 1 7.6 1.5 7.04 2.34L6.11 3.73C6 3.9 5.81 4 5.61 4H4C2.35 4 1 5.35 1 7V19C1 20.65 2.35 22 4 22H20C21.65 22 23 20.65 23 19V7C23 5.35 21.65 4 20 4H20.01ZM21.01 19C21.01 19.55 20.56 20 20.01 20H4.01C3.46 20 3.01 19.55 3.01 19V7C3.01 6.45 3.46 6 4.01 6H5.62C6.49 6 7.3 5.56 7.79 4.84L8.72 3.45C8.91 3.17 9.22 3 9.55 3H14.48C14.81 3 15.13 3.17 15.31 3.45L16.24 4.84C16.72 5.56 17.54 6 18.41 6H20.02C20.57 6 21.02 6.45 21.02 7V19H21.01ZM12.01 6C8.7 6 6.01 8.69 6.01 12C6.01 15.31 8.7 18 12.01 18C15.32 18 18.01 15.31 18.01 12C18.01 8.69 15.32 6 12.01 6ZM12.01 16C9.8 16 8.01 14.21 8.01 12C8.01 9.79 9.8 8 12.01 8C14.22 8 16.01 9.79 16.01 12C16.01 14.21 14.22 16 12.01 16ZM13.01 10C13.01 10.55 12.56 11 12.01 11C11.46 11 11.01 11.45 11.01 12C11.01 12.55 10.56 13 10.01 13C9.46 13 9.01 12.55 9.01 12C9.01 10.35 10.36 9 12.01 9C12.56 9 13.01 9.45 13.01 10Z"></path></svg>'},"./src/images/TimerCircle.svg":function(q,M){q.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 160 160"><circle cx="80" cy="80" r="70" style="stroke: var(--sd-timer-stroke-background-color); stroke-width: var(--sd-timer-stroke-background-width)" stroke-dasharray="none" stroke-dashoffset="none"></circle><circle cx="80" cy="80" r="70"></circle></svg>'},"./src/images/V2Check.svg":function(q,M){q.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.00001 15.8L2.60001 10.4L4.00001 9L8.00001 13L16 5L17.4 6.4L8.00001 15.8Z"></path></svg>'},"./src/images/V2Check_24x24.svg":function(q,M){q.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9 20.1L1 12L3.1 9.9L9 15.9L20.9 4L23 6.1L9 20.1Z"></path></svg>'},"./src/images/V2DragElement_16x16.svg":function(q,M){q.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M2 4C2 3.73478 2.10536 3.48043 2.29289 3.29289C2.48043 3.10536 2.73478 3 3 3H13C13.2652 3 13.5196 3.10536 13.7071 3.29289C13.8946 3.48043 14 3.73478 14 4C14 4.26522 13.8946 4.51957 13.7071 4.70711C13.5196 4.89464 13.2652 5 13 5H3C2.73478 5 2.48043 4.89464 2.29289 4.70711C2.10536 4.51957 2 4.26522 2 4ZM13 7H3C2.73478 7 2.48043 7.10536 2.29289 7.29289C2.10536 7.48043 2 7.73478 2 8C2 8.26522 2.10536 8.51957 2.29289 8.70711C2.48043 8.89464 2.73478 9 3 9H13C13.2652 9 13.5196 8.89464 13.7071 8.70711C13.8946 8.51957 14 8.26522 14 8C14 7.73478 13.8946 7.48043 13.7071 7.29289C13.5196 7.10536 13.2652 7 13 7ZM13 11H3C2.73478 11 2.48043 11.1054 2.29289 11.2929C2.10536 11.4804 2 11.7348 2 12C2 12.2652 2.10536 12.5196 2.29289 12.7071C2.48043 12.8946 2.73478 13 3 13H13C13.2652 13 13.5196 12.8946 13.7071 12.7071C13.8946 12.5196 14 12.2652 14 12C14 11.7348 13.8946 11.4804 13.7071 11.2929C13.5196 11.1054 13.2652 11 13 11Z"></path></svg>'},"./src/images/chevron.svg":function(q,M){q.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 15L17 10H7L12 15Z"></path></svg>'},"./src/images/clear_16x16.svg":function(q,M){q.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.35 3.34999L12.65 2.64999L8.05002 7.24999L3.35002 2.64999L2.65002 3.34999L7.25002 8.04999L2.65002 12.65L3.35002 13.35L8.05002 8.74999L12.65 13.35L13.35 12.65L8.75002 8.04999L13.35 3.34999Z"></path></svg>'},"./src/images/close_16x16.svg":function(q,M){q.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M9.43 8.0025L13.7 3.7225C14.09 3.3325 14.09 2.6925 13.7 2.2925C13.31 1.9025 12.67 1.9025 12.27 2.2925L7.99 6.5725L3.72 2.3025C3.33 1.9025 2.69 1.9025 2.3 2.3025C1.9 2.6925 1.9 3.3325 2.3 3.7225L6.58 8.0025L2.3 12.2825C1.91 12.6725 1.91 13.3125 2.3 13.7125C2.69 14.1025 3.33 14.1025 3.73 13.7125L8.01 9.4325L12.29 13.7125C12.68 14.1025 13.32 14.1025 13.72 13.7125C14.11 13.3225 14.11 12.6825 13.72 12.2825L9.44 8.0025H9.43Z"></path></svg>'},"./src/images/collapseDetail.svg":function(q,M){q.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H3V9H13V7Z"></path></svg>'},"./src/images/drag-n-drop.svg":function(q,M){q.exports='<svg viewBox="0 0 10 16" xmlns="http://www.w3.org/2000/svg"><path d="M6 2C6 0.9 6.9 0 8 0C9.1 0 10 0.9 10 2C10 3.1 9.1 4 8 4C6.9 4 6 3.1 6 2ZM2 0C0.9 0 0 0.9 0 2C0 3.1 0.9 4 2 4C3.1 4 4 3.1 4 2C4 0.9 3.1 0 2 0ZM8 6C6.9 6 6 6.9 6 8C6 9.1 6.9 10 8 10C9.1 10 10 9.1 10 8C10 6.9 9.1 6 8 6ZM2 6C0.9 6 0 6.9 0 8C0 9.1 0.9 10 2 10C3.1 10 4 9.1 4 8C4 6.9 3.1 6 2 6ZM8 12C6.9 12 6 12.9 6 14C6 15.1 6.9 16 8 16C9.1 16 10 15.1 10 14C10 12.9 9.1 12 8 12ZM2 12C0.9 12 0 12.9 0 14C0 15.1 0.9 16 2 16C3.1 16 4 15.1 4 14C4 12.9 3.1 12 2 12Z"></path></svg>'},"./src/images/expandDetail.svg":function(q,M){q.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H9V3H7V7H3V9H7V13H9V9H13V7Z"></path></svg>'},"./src/images/loading.svg":function(q,M){q.exports='<svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_885_24957)"><path opacity="0.1" d="M24 40C15.18 40 8 32.82 8 24C8 15.18 15.18 8 24 8C32.82 8 40 15.18 40 24C40 32.82 32.82 40 24 40ZM24 12C17.38 12 12 17.38 12 24C12 30.62 17.38 36 24 36C30.62 36 36 30.62 36 24C36 17.38 30.62 12 24 12Z" fill="black" fill-opacity="0.91"></path><path d="M10 26C8.9 26 8 25.1 8 24C8 15.18 15.18 8 24 8C25.1 8 26 8.9 26 10C26 11.1 25.1 12 24 12C17.38 12 12 17.38 12 24C12 25.1 11.1 26 10 26Z" fill="#19B394"></path></g><defs><clipPath id="clip0_885_24957"><rect width="32" height="32" fill="white" transform="translate(8 8)"></rect></clipPath></defs></svg>'},"./src/images/minimize_16x16.svg":function(q,M){q.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 9H3C2.45 9 2 8.55 2 8C2 7.45 2.45 7 3 7H13C13.55 7 14 7.45 14 8C14 8.55 13.55 9 13 9Z"></path></svg>'},"./src/images/no-image.svg":function(q,M){q.exports='<svg viewBox="0 0 48 48"><g opacity="0.5"><path d="M14 17.01C14 16.4167 14.1759 15.8366 14.5056 15.3433C14.8352 14.8499 15.3038 14.4654 15.8519 14.2384C16.4001 14.0113 17.0033 13.9519 17.5853 14.0676C18.1672 14.1834 18.7018 14.4691 19.1213 14.8887C19.5409 15.3082 19.8266 15.8428 19.9424 16.4247C20.0581 17.0067 19.9987 17.6099 19.7716 18.1581C19.5446 18.7062 19.1601 19.1748 18.6667 19.5044C18.1734 19.8341 17.5933 20.01 17 20.01C16.2044 20.01 15.4413 19.6939 14.8787 19.1313C14.3161 18.5687 14 17.8056 14 17.01ZM27.09 24.14L20 36.01H36L27.09 24.14ZM36.72 8.14L35.57 10.01H36C36.5304 10.01 37.0391 10.2207 37.4142 10.5958C37.7893 10.9709 38 11.4796 38 12.01V36.01C38 36.5404 37.7893 37.0491 37.4142 37.4242C37.0391 37.7993 36.5304 38.01 36 38.01H18.77L17.57 40.01H36C37.0609 40.01 38.0783 39.5886 38.8284 38.8384C39.5786 38.0883 40 37.0709 40 36.01V12.01C39.9966 11.0765 39.6668 10.1737 39.0678 9.45778C38.4688 8.74188 37.6382 8.25802 36.72 8.09V8.14ZM36.86 4.5L12.86 44.5L11.14 43.5L13.23 40.01H12C10.9391 40.01 9.92172 39.5886 9.17157 38.8384C8.42143 38.0883 8 37.0709 8 36.01V12.01C8 10.9491 8.42143 9.93172 9.17157 9.18157C9.92172 8.43143 10.9391 8.01 12 8.01H32.43L35.14 3.5L36.86 4.5ZM14.43 38.01L15.63 36.01H12L19 27.01L20.56 27.8L31.23 10.01H12C11.4696 10.01 10.9609 10.2207 10.5858 10.5958C10.2107 10.9709 10 11.4796 10 12.01V36.01C10 36.5404 10.2107 37.0491 10.5858 37.4242C10.9609 37.7993 11.4696 38.01 12 38.01H14.43Z"></path></g></svg>'},"./src/images/ranking-arrows.svg":function(q,M){q.exports='<svg viewBox="0 0 10 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 5L5 0L0 5H4V9H6V5H10Z"></path><path d="M6 19V15H4V19H0L5 24L10 19H6Z"></path></svg>'},"./src/images/ranking-dash.svg":function(q,M){q.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13 7H3V9H13V7Z"></path></svg>'},"./src/images/rating-star-2.svg":function(q,M){q.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z" fill="none" stroke-width="2"></path><path d="M24.4663 34.6154L24 34.3695L23.5336 34.6154L14.4788 39.389L16.2156 29.2691L16.3044 28.7517L15.9289 28.3848L8.57358 21.1966L18.7249 19.7094L19.245 19.6332L19.4772 19.1616L24 9.97413L28.5228 19.1616L28.755 19.6332L29.275 19.7094L39.4264 21.1966L32.0711 28.3848L31.6956 28.7517L31.7844 29.2691L33.5211 39.389L24.4663 34.6154Z" stroke-width="2"></path></g></svg>'},"./src/images/rating-star-small-2.svg":function(q,M){q.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z" fill="none" stroke-width="2"></path><path d="M12 15.9472L8.58001 17.7572L9.23001 13.9272L6.45001 11.2072L10.29 10.6472L12 7.17725L13.71 10.6472L17.55 11.2072L14.77 13.9272L15.42 17.7572L12 15.9472Z"></path></svg>'},"./src/images/rating-star-small.svg":function(q,M){q.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z" stroke-width="2"></path></g></svg>'},"./src/images/rating-star.svg":function(q,M){q.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z" stroke-width="2"></path></g></svg>'},"./src/images/restore_16x16.svg":function(q,M){q.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M12 13H4C2.9 13 2 12.1 2 11V5C2 3.9 2.9 3 4 3H12C13.1 3 14 3.9 14 5V11C14 12.1 13.1 13 12 13ZM4 5V11H12V5H4Z"></path></svg>'},"./src/images/search.svg":function(q,M){q.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14 2C9.6 2 6 5.6 6 10C6 11.8 6.6 13.5 7.7 14.9L2.3 20.3C1.9 20.7 1.9 21.3 2.3 21.7C2.5 21.9 2.7 22 3 22C3.3 22 3.5 21.9 3.7 21.7L9.1 16.3C10.5 17.4 12.2 18 14 18C18.4 18 22 14.4 22 10C22 5.6 18.4 2 14 2ZM14 16C10.7 16 8 13.3 8 10C8 6.7 10.7 4 14 4C17.3 4 20 6.7 20 10C20 13.3 17.3 16 14 16Z"></path></svg>'},"./src/images/smiley sync \\.svg$":function(q,M,d){var P={"./average.svg":"./src/images/smiley/average.svg","./excellent.svg":"./src/images/smiley/excellent.svg","./good.svg":"./src/images/smiley/good.svg","./normal.svg":"./src/images/smiley/normal.svg","./not-good.svg":"./src/images/smiley/not-good.svg","./perfect.svg":"./src/images/smiley/perfect.svg","./poor.svg":"./src/images/smiley/poor.svg","./terrible.svg":"./src/images/smiley/terrible.svg","./very-good.svg":"./src/images/smiley/very-good.svg","./very-poor.svg":"./src/images/smiley/very-poor.svg"};function C(A){var R=D(A);return d(R)}function D(A){if(!d.o(P,A)){var R=new Error("Cannot find module '"+A+"'");throw R.code="MODULE_NOT_FOUND",R}return P[A]}C.keys=function(){return Object.keys(P)},C.resolve=D,q.exports=C,C.id="./src/images/smiley sync \\.svg$"},"./src/images/smiley/average.svg":function(q,M){q.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.00572 7C6.45572 7 6.00572 6.55 6.00572 6V2C6.00572 1.45 6.45572 1 7.00572 1C7.55572 1 8.00572 1.45 8.00572 2V6C8.00572 6.55 7.55572 7 7.00572 7ZM18.0057 6V2C18.0057 1.45 17.5557 1 17.0057 1C16.4557 1 16.0057 1.45 16.0057 2V6C16.0057 6.55 16.4557 7 17.0057 7C17.5557 7 18.0057 6.55 18.0057 6ZM19.9457 21.33C20.1257 20.81 19.8557 20.24 19.3357 20.05C14.5457 18.35 9.45572 18.35 4.66572 20.05C4.14572 20.23 3.87572 20.81 4.05572 21.33C4.23572 21.85 4.80572 22.12 5.33572 21.94C9.69572 20.4 14.3057 20.4 18.6657 21.94C18.7757 21.98 18.8857 22 18.9957 22C19.4057 22 19.7957 21.74 19.9357 21.33H19.9457Z"></path></svg>'},"./src/images/smiley/excellent.svg":function(q,M){q.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85767 24 1.15509 20.96 0.0145752 14.16C-0.0354475 13.87 0.0445888 13.57 0.234675 13.35C0.424761 13.13 0.704888 13 0.995019 13H23.005C23.2951 13 23.5752 13.13 23.7653 13.35C23.9554 13.57 24.0354 13.87 23.9854 14.16C22.8549 20.95 17.1423 24 11.99 24H12.01ZM2.25559 15C3.61621 19.82 8.0182 22 12.01 22C16.0018 22 20.4038 19.82 21.7644 15H2.25559ZM8.00819 6V2C8.00819 1.45 7.55799 1 7.00774 1C6.45749 1 6.00729 1.45 6.00729 2V6C6.00729 6.55 6.45749 7 7.00774 7C7.55799 7 8.00819 6.55 8.00819 6ZM18.0127 6V2C18.0127 1.45 17.5625 1 17.0123 1C16.462 1 16.0118 1.45 16.0118 2V6C16.0118 6.55 16.462 7 17.0123 7C17.5625 7 18.0127 6.55 18.0127 6Z"></path></svg>'},"./src/images/smiley/good.svg":function(q,M){q.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.0022 23.99C11.452 23.99 11.0018 23.5402 11.0018 22.9904C11.0018 22.4407 11.452 21.9909 12.0022 21.9909C16.3137 21.9909 21.0755 19.472 22.0158 13.8344C22.1058 13.2947 22.616 12.9248 23.1662 13.0148C23.7064 13.1047 24.0765 13.6245 23.9865 14.1643C22.8561 20.9513 17.144 24 11.9922 24L12.0022 23.99ZM8.00072 5.99783V1.99957C8.00072 1.4498 7.55056 1 7.00036 1C6.45016 1 6 1.4498 6 1.99957V5.99783C6 6.54759 6.45016 6.99739 7.00036 6.99739C7.55056 6.99739 8.00072 6.54759 8.00072 5.99783ZM18.0043 5.99783V1.99957C18.0043 1.4498 17.5542 1 17.004 1C16.4538 1 16.0036 1.4498 16.0036 1.99957V5.99783C16.0036 6.54759 16.4538 6.99739 17.004 6.99739C17.5542 6.99739 18.0043 6.54759 18.0043 5.99783Z"></path></svg>'},"./src/images/smiley/normal.svg":function(q,M){q.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7 7C6.45 7 6 6.55 6 6V2C6 1.45 6.45 1 7 1C7.55 1 8 1.45 8 2V6C8 6.55 7.55 7 7 7ZM18 6V2C18 1.45 17.55 1 17 1C16.45 1 16 1.45 16 2V6C16 6.55 16.45 7 17 7C17.55 7 18 6.55 18 6ZM21 21C21 20.45 20.55 20 20 20H4C3.45 20 3 20.45 3 21C3 21.55 3.45 22 4 22H20C20.55 22 21 21.55 21 21Z"></path></svg>'},"./src/images/smiley/not-good.svg":function(q,M){q.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.06927 7C6.51927 7 6.06927 6.55 6.06927 6V2C6.06927 1.45 6.51927 1 7.06927 1C7.61927 1 8.06927 1.45 8.06927 2V6C8.06927 6.55 7.61927 7 7.06927 7ZM18.0693 6V2C18.0693 1.45 17.6193 1 17.0693 1C16.5193 1 16.0693 1.45 16.0693 2V6C16.0693 6.55 16.5193 7 17.0693 7C17.6193 7 18.0693 6.55 18.0693 6ZM22.5693 21.9C23.0693 21.66 23.2793 21.07 23.0393 20.57C21.1093 16.52 16.9093 14 12.0693 14C7.22927 14 3.02927 16.52 1.09927 20.57C0.859273 21.07 1.06927 21.67 1.56927 21.9C2.06927 22.14 2.65927 21.93 2.89927 21.43C4.49927 18.08 8.00927 16 12.0593 16C16.1093 16 19.6293 18.08 21.2193 21.43C21.3893 21.79 21.7493 22 22.1193 22C22.2593 22 22.4093 21.97 22.5493 21.9H22.5693Z"></path></svg>'},"./src/images/smiley/perfect.svg":function(q,M){q.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 23C6.85721 23 1.15412 19.9621 0.0134987 13.1669C-0.0765501 12.6272 0.293651 12.1076 0.833944 12.0177C1.38424 11.9277 1.89452 12.2975 1.98457 12.8371C2.92508 18.4732 7.69767 20.9914 12 20.9914C16.3023 20.9914 21.0749 18.4732 22.0154 12.8371C22.1055 12.2975 22.6158 11.9277 23.1661 12.0177C23.7063 12.1076 24.0765 12.6272 23.9865 13.1669C22.8559 19.9521 17.1428 23 11.99 23H12.01ZM21.165 6.15177C22.3056 5.01257 22.3056 3.16386 21.165 2.02465L21.0049 1.85477C19.9143 0.765533 18.1633 0.725561 17.0227 1.71487C15.8821 0.715568 14.1312 0.765533 13.0406 1.85477L12.8705 2.01466C11.7299 3.15386 11.7299 5.00257 12.8705 6.14178L17.0227 10.2889L21.175 6.14178L21.165 6.15177ZM15.742 3.27378L17.0127 4.54289L18.2834 3.27378C18.6436 2.91403 19.2239 2.91403 19.5841 3.27378L19.7442 3.43367C20.1044 3.79342 20.1044 4.37301 19.7442 4.73276L17.0127 7.46086L14.2812 4.73276C13.921 4.37301 13.921 3.79342 14.2812 3.43367L14.4413 3.27378C14.6214 3.09391 14.8515 3.00397 15.0917 3.00397C15.3318 3.00397 15.5619 3.09391 15.742 3.27378ZM11.1595 6.15177C12.3002 5.01257 12.3002 3.16386 11.1595 2.02465L10.9995 1.85477C9.90886 0.765533 8.15792 0.725561 7.0173 1.71487C5.87668 0.715568 4.12573 0.765533 3.03514 1.85477L2.86505 2.01466C1.72443 3.15386 1.72443 5.00257 2.86505 6.14178L7.0173 10.2889L11.1695 6.14178L11.1595 6.15177ZM5.7366 3.27378L7.00729 4.54289L8.27798 3.27378C8.63818 2.91403 9.21849 2.91403 9.57869 3.27378L9.73877 3.43367C10.099 3.79342 10.099 4.37301 9.73877 4.73276L7.00729 7.46086L4.27581 4.73276C3.91562 4.37301 3.91562 3.79342 4.27581 3.43367L4.4359 3.27378C4.61599 3.09391 4.84612 3.00397 5.08625 3.00397C5.32638 3.00397 5.5565 3.09391 5.7366 3.27378Z"></path></svg>'},"./src/images/smiley/poor.svg":function(q,M){q.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.01915 7C6.46961 7 6.01998 6.55 6.01998 6V2C6.01998 1.45 6.46961 1 7.01915 1C7.56869 1 8.01832 1.45 8.01832 2V6C8.01832 6.55 7.56869 7 7.01915 7ZM18.01 6V2C18.01 1.45 17.5604 1 17.0108 1C16.4613 1 16.0117 1.45 16.0117 2V6C16.0117 6.55 16.4613 7 17.0108 7C17.5604 7 18.01 6.55 18.01 6ZM16.4213 21.58L18.01 19.99L19.2989 21.28C19.6886 21.67 20.3181 21.67 20.7077 21.28C21.0974 20.89 21.0974 20.26 20.7077 19.87L19.4188 18.58C18.6395 17.8 17.3705 17.8 16.5912 18.58L15.0025 20.17L13.4138 18.58C12.6345 17.8 11.3655 17.8 10.5862 18.58L8.9975 20.17L7.40883 18.58C6.62948 17.8 5.36053 17.8 4.58118 18.58L3.29226 19.87C2.90258 20.26 2.90258 20.89 3.29226 21.28C3.68193 21.67 4.31141 21.67 4.70108 21.28L5.99001 19.99L7.57868 21.58C8.35803 22.36 9.62698 22.36 10.4063 21.58L11.995 19.99L13.5837 21.58C13.9734 21.97 14.4829 22.16 14.9925 22.16C15.5021 22.16 16.0117 21.97 16.4013 21.58H16.4213Z"></path></svg>'},"./src/images/smiley/terrible.svg":function(q,M){q.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 4.9938C4 4.44362 4.45 3.99348 5 3.99348H6.59L5.3 2.70306C4.91 2.31293 4.91 1.68272 5.3 1.2926C5.69 0.902468 6.32 0.902468 6.71 1.2926L9.71 4.29357C9.8 4.3836 9.88 4.49364 9.93 4.62368C10.03 4.86376 10.03 5.14385 9.93 5.38393C9.88 5.50397 9.81 5.614 9.71 5.71404L6.71 8.71501C6.51 8.91508 6.26 9.00511 6 9.00511C5.74 9.00511 5.49 8.90508 5.29 8.71501C4.9 8.32489 4.9 7.69468 5.29 7.30456L6.58 6.01413H4.99C4.44 6.01413 3.99 5.56399 3.99 5.01381L4 4.9938ZM14.08 5.37393C14.13 5.49397 14.2 5.604 14.3 5.70403L17.3 8.70501C17.5 8.90508 17.75 8.99511 18.01 8.99511C18.27 8.99511 18.52 8.89507 18.72 8.70501C19.11 8.31488 19.11 7.68468 18.72 7.29455L17.43 6.00413H19.02C19.57 6.00413 20.02 5.55399 20.02 5.00381C20.02 4.45363 19.57 4.00348 19.02 4.00348H17.43L18.72 2.71306C19.11 2.32293 19.11 1.69273 18.72 1.3026C18.33 0.912471 17.7 0.912471 17.31 1.3026L14.31 4.30358C14.22 4.39361 14.14 4.50364 14.09 4.63368C13.99 4.87376 13.99 5.15385 14.09 5.39393L14.08 5.37393ZM22 14.9971V20.999C22 22.6496 20.65 24 19 24H5C3.35 24 2 22.6496 2 20.999V14.9971C2 13.3465 3.35 11.9961 5 11.9961H19C20.65 11.9961 22 13.3465 22 14.9971ZM19 13.9967H16V16.9977H20V14.9971C20 14.4469 19.55 13.9967 19 13.9967ZM14 16.9977V13.9967H10V16.9977H14ZM10 18.9984V21.9993H14V18.9984H10ZM4 14.9971V16.9977H8V13.9967H5C4.45 13.9967 4 14.4469 4 14.9971ZM5 21.9993H8V18.9984H4V20.999C4 21.5492 4.45 21.9993 5 21.9993ZM20 20.999V18.9984H16V21.9993H19C19.55 21.9993 20 21.5492 20 20.999Z"></path></svg>'},"./src/images/smiley/very-good.svg":function(q,M){q.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85721 24 1.15412 20.96 0.0134987 14.16C-0.0765501 13.62 0.293651 13.1 0.833944 13.01C1.38424 12.92 1.89452 13.29 1.98457 13.83C2.92508 19.47 7.69767 21.99 12 21.99C16.3023 21.99 21.0749 19.47 22.0154 13.83C22.1055 13.29 22.6158 12.92 23.1661 13.01C23.7063 13.1 24.0765 13.62 23.9865 14.16C22.8559 20.95 17.1428 24 11.99 24H12.01ZM8.00783 6V2C8.00783 1.45 7.55759 1 7.00729 1C6.45699 1 6.00675 1.45 6.00675 2V6C6.00675 6.55 6.45699 7 7.00729 7C7.55759 7 8.00783 6.55 8.00783 6ZM18.0133 6V2C18.0133 1.45 17.563 1 17.0127 1C16.4624 1 16.0122 1.45 16.0122 2V6C16.0122 6.55 16.4624 7 17.0127 7C17.563 7 18.0133 6.55 18.0133 6Z"></path></svg>'},"./src/images/smiley/very-poor.svg":function(q,M){q.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_15894_140103)"><path d="M4.88291 4.50999C4.47291 4.50999 4.08291 4.24999 3.94291 3.83999C3.76291 3.31999 4.03291 2.74999 4.55291 2.56999L8.32291 1.24999C8.84291 1.05999 9.41291 1.33999 9.59291 1.85999C9.77291 2.37999 9.50291 2.94999 8.98291 3.12999L5.20291 4.44999C5.09291 4.48999 4.98291 4.50999 4.87291 4.50999H4.88291ZM19.8129 3.88999C20.0229 3.37999 19.7729 2.78999 19.2629 2.58999L15.5529 1.06999C15.0429 0.859992 14.4529 1.10999 14.2529 1.61999C14.0429 2.12999 14.2929 2.71999 14.8029 2.91999L18.5029 4.42999C18.6229 4.47999 18.7529 4.49999 18.8829 4.49999C19.2729 4.49999 19.6529 4.26999 19.8129 3.87999V3.88999ZM3.50291 5.99999C2.64291 6.36999 1.79291 6.87999 1.00291 7.47999C0.79291 7.63999 0.64291 7.86999 0.59291 8.13999C0.48291 8.72999 0.87291 9.28999 1.45291 9.39999C2.04291 9.50999 2.60291 9.11999 2.71291 8.53999C2.87291 7.68999 3.12291 6.82999 3.50291 5.98999V5.99999ZM21.0429 8.54999C21.6029 10.48 24.2429 8.83999 22.7529 7.47999C21.9629 6.87999 21.1129 6.36999 20.2529 5.99999C20.6329 6.83999 20.8829 7.69999 21.0429 8.54999ZM21.5729 13.2C21.2529 14.2 22.5429 15.09 23.3629 14.39C23.8529 14 23.9229 13.29 23.5429 12.81C21.7429 10.67 22.1329 10.55 21.5829 13.2H21.5729ZM1.75291 11C1.22291 11.79 -0.14709 12.64 0.0129102 13.75C0.15291 14.36 0.75291 14.74 1.35291 14.6C2.98291 14.1 1.80291 12.22 1.75291 11ZM19.8829 17C19.8829 13.14 16.2929 9.99999 11.8829 9.99999C7.47291 9.99999 3.88291 13.14 3.88291 17C3.88291 20.86 7.47291 24 11.8829 24C16.2929 24 19.8829 20.86 19.8829 17ZM17.8829 17C17.8829 19.76 15.1929 22 11.8829 22C8.57291 22 5.88291 19.76 5.88291 17C5.88291 14.24 8.57291 12 11.8829 12C15.1929 12 17.8829 14.24 17.8829 17Z"></path></g><defs><clipPath id="clip0_15894_140103"><rect width="24" height="24" fill="white"></rect></clipPath></defs></svg>'},"./src/itemvalue.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"ItemValue",function(){return f});var P=d("./src/localizablestring.ts"),C=d("./src/jsonobject.ts"),D=d("./src/helpers.ts"),A=d("./src/conditions.ts"),R=d("./src/base.ts"),V=d("./src/settings.ts"),O=d("./src/actions/action.ts"),l=d("./src/question.ts"),y=function(){var e=function(m,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&(a[r]=c[r])},e(m,s)};return function(m,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(m,s);function a(){this.constructor=m}m.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),p=function(e,m,s,a){var c=arguments.length,r=c<3?m:a===null?a=Object.getOwnPropertyDescriptor(m,s):a,t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(e,m,s,a);else for(var n=e.length-1;n>=0;n--)(t=e[n])&&(r=(c<3?t(r):c>3?t(m,s,r):t(m,s))||r);return c>3&&r&&Object.defineProperty(m,s,r),r},f=function(e){y(m,e);function m(s,a,c){a===void 0&&(a=null),c===void 0&&(c="itemvalue");var r=e.call(this)||this;return r.typeName=c,r.ownerPropertyName="",r.locTextValue=new P.LocalizableString(r,!0,"text"),r.locTextValue.onStrChanged=function(t,n){n==r.value&&(n=void 0),r.propertyValueChanged("text",t,n)},r.locTextValue.onGetTextCallback=function(t){return t||(D.Helpers.isValueEmpty(r.value)?null:r.value.toString())},a&&(r.locText.text=a),s&&typeof s=="object"?r.setData(s):r.value=s,r.getType()!="itemvalue"&&C.CustomPropertiesCollection.createProperties(r),r.data=r,r.onCreating(),r}return m.prototype.getMarkdownHtml=function(s,a){return this.locOwner?this.locOwner.getMarkdownHtml(s,a):void 0},m.prototype.getRenderer=function(s){return this.locOwner?this.locOwner.getRenderer(s):null},m.prototype.getRendererContext=function(s){return this.locOwner?this.locOwner.getRendererContext(s):s},m.prototype.getProcessedText=function(s){return this.locOwner?this.locOwner.getProcessedText(s):s},Object.defineProperty(m,"Separator",{get:function(){return V.settings.itemValueSeparator},set:function(s){V.settings.itemValueSeparator=s},enumerable:!1,configurable:!0}),m.setData=function(s,a,c){s.length=0;for(var r=0;r<a.length;r++){var t=a[r],n=t&&typeof t.getType=="function"?t.getType():c??"itemvalue",o=C.Serializer.createClass(n);o.setData(t),t.originalItem&&(o.originalItem=t.originalItem),s.push(o)}},m.getData=function(s){for(var a=[],c=0;c<s.length;c++)a.push(s[c].getData());return a},m.getItemByValue=function(s,a){if(!Array.isArray(s))return null;for(var c=D.Helpers.isValueEmpty(a),r=0;r<s.length;r++)if(c&&D.Helpers.isValueEmpty(s[r].value)||D.Helpers.isTwoValueEquals(s[r].value,a,!1,!0,!1))return s[r];return null},m.getTextOrHtmlByValue=function(s,a){var c=m.getItemByValue(s,a);return c!==null?c.locText.textOrHtml:""},m.locStrsChanged=function(s){for(var a=0;a<s.length;a++)s[a].locStrsChanged()},m.runConditionsForItems=function(s,a,c,r,t,n,o){return n===void 0&&(n=!0),m.runConditionsForItemsCore(s,a,c,r,t,!0,n,o)},m.runEnabledConditionsForItems=function(s,a,c,r,t){return m.runConditionsForItemsCore(s,null,a,c,r,!1,!0,t)},m.runConditionsForItemsCore=function(s,a,c,r,t,n,o,u){o===void 0&&(o=!0),r||(r={});for(var v=r.item,x=r.choice,b=!1,i=0;i<s.length;i++){var h=s[i];r.item=h.value,r.choice=h.value;var E=o&&h.getConditionRunner?h.getConditionRunner(n):!1;E||(E=c);var S=!0;E&&(S=E.run(r,t)),u&&(S=u(h,S)),a&&S&&a.push(h);var L=n?h.isVisible:h.isEnabled;S!=L&&(b=!0,n?h.setIsVisible&&h.setIsVisible(S):h.setIsEnabled&&h.setIsEnabled(S))}return v?r.item=v:delete r.item,x?r.choice=x:delete r.choice,b},m.prototype.onCreating=function(){},m.prototype.getType=function(){return this.typeName?this.typeName:"itemvalue"},m.prototype.getSurvey=function(s){return s===void 0&&(s=!1),this.locOwner&&this.locOwner.getSurvey?this.locOwner.getSurvey():null},m.prototype.getLocale=function(){return this.locOwner&&this.locOwner.getLocale?this.locOwner.getLocale():""},Object.defineProperty(m.prototype,"isInternal",{get:function(){return this.isGhost===!0},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"locText",{get:function(){return this.locTextValue},enumerable:!1,configurable:!0}),m.prototype.setLocText=function(s){this.locTextValue=s},Object.defineProperty(m.prototype,"locOwner",{get:function(){return this._locOwner},set:function(s){this._locOwner=s},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"value",{get:function(){return this.getPropertyValue("value")},set:function(s){var a=void 0;if(!D.Helpers.isValueEmpty(s)){var c=s.toString(),r=c.indexOf(V.settings.itemValueSeparator);r>-1&&(s=c.slice(0,r),a=c.slice(r+1))}this.setPropertyValue("value",s),a&&(this.text=a),this.id=this.value},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"hasText",{get:function(){return!!this.locText.pureText},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"pureText",{get:function(){return this.locText.pureText},set:function(s){this.text=s},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"text",{get:function(){return this.locText.calculatedText},set:function(s){this.locText.text=s},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"calculatedText",{get:function(){return this.locText.calculatedText},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"shortcutText",{get:function(){return this.text},enumerable:!1,configurable:!0}),m.prototype.canSerializeValue=function(){var s=this.value;return s==null?!1:!Array.isArray(s)&&typeof s!="object"},m.prototype.getData=function(){var s=this.toJSON();if(s.value&&s.value.pos&&delete s.value.pos,D.Helpers.isValueEmpty(s.value))return s;var a=this.canSerializeValue(),c=!a||!V.settings.serialization.itemValueSerializeAsObject&&!V.settings.serialization.itemValueSerializeDisplayText;return c&&Object.keys(s).length==1?this.value:(V.settings.serialization.itemValueSerializeDisplayText&&s.text===void 0&&a&&(s.text=this.value.toString()),s)},m.prototype.toJSON=function(){var s={},a=C.Serializer.getProperties(this.getType());(!a||a.length==0)&&(a=C.Serializer.getProperties("itemvalue"));for(var c=new C.JsonObject,r=0;r<a.length;r++){var t=a[r];t.name==="text"&&!this.locText.hasNonDefaultText()&&D.Helpers.isTwoValueEquals(this.value,this.text,!1,!0,!1)||c.valueToJson(this,s,t)}return s},m.prototype.setData=function(s){if(!D.Helpers.isValueEmpty(s)){if(typeof s.value>"u"&&typeof s.text<"u"&&Object.keys(s).length===1&&(s.value=s.text),typeof s.value<"u"){var a=void 0;typeof s.toJSON=="function"?a=s.toJSON():a=s,new C.JsonObject().toObject(a,this)}else this.value=s;this.locText.strChanged()}},Object.defineProperty(m.prototype,"visibleIf",{get:function(){return this.getPropertyValueWithoutDefault("visibleIf")||""},set:function(s){this.setPropertyValue("visibleIf",s)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"enableIf",{get:function(){return this.getPropertyValueWithoutDefault("enableIf")||""},set:function(s){this.setPropertyValue("enableIf",s)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"isVisible",{get:function(){var s=this.getPropertyValueWithoutDefault("isVisible");return s!==void 0?s:!0},enumerable:!1,configurable:!0}),m.prototype.setIsVisible=function(s){this.setPropertyValue("isVisible",s)},Object.defineProperty(m.prototype,"isEnabled",{get:function(){var s=this.getPropertyValueWithoutDefault("isEnabled");return s!==void 0?s:!0},enumerable:!1,configurable:!0}),m.prototype.setIsEnabled=function(s){this.setPropertyValue("isEnabled",s)},m.prototype.addUsedLocales=function(s){this.AddLocStringToUsedLocales(this.locTextValue,s)},m.prototype.locStrsChanged=function(){e.prototype.locStrsChanged.call(this),this.locText.strChanged()},m.prototype.onPropertyValueChanged=function(s,a,c){s==="value"&&!this.hasText&&this.locText.strChanged();var r="itemValuePropertyChanged";!this.locOwner||!this.locOwner[r]||this.locOwner[r](this,s,a,c)},m.prototype.getConditionRunner=function(s){return s?this.getVisibleConditionRunner():this.getEnableConditionRunner()},m.prototype.getVisibleConditionRunner=function(){return this.visibleIf?(this.visibleConditionRunner||(this.visibleConditionRunner=new A.ConditionRunner(this.visibleIf)),this.visibleConditionRunner.expression=this.visibleIf,this.visibleConditionRunner):null},m.prototype.getEnableConditionRunner=function(){return this.enableIf?(this.enableConditionRunner||(this.enableConditionRunner=new A.ConditionRunner(this.enableIf)),this.enableConditionRunner.expression=this.enableIf,this.enableConditionRunner):null},Object.defineProperty(m.prototype,"selected",{get:function(){var s=this,a=this._locOwner;return a instanceof l.Question&&a.isItemSelected&&this.selectedValue===void 0&&(this.selectedValue=new R.ComputedUpdater(function(){return a.isItemSelected(s)})),this.selectedValue},enumerable:!1,configurable:!0}),m.prototype.getComponent=function(){return this._locOwner instanceof l.Question?this.componentValue||this._locOwner.itemComponent:this.componentValue},m.prototype.setComponent=function(s){this.componentValue=s},m.prototype.getEnabled=function(){return this.isEnabled},m.prototype.setEnabled=function(s){this.setIsEnabled(s)},m.prototype.getVisible=function(){var s=this.isVisible===void 0?!0:this.isVisible,a=this._visible===void 0?!0:this._visible;return s&&a},m.prototype.setVisible=function(s){this._visible=s},m.prototype.getLocTitle=function(){return this.locText},m.prototype.getTitle=function(){return this.text},m.prototype.setLocTitle=function(s){},m.prototype.setTitle=function(s){},p([Object(C.property)({defaultValue:!0})],m.prototype,"_visible",void 0),p([Object(C.property)()],m.prototype,"selectedValue",void 0),p([Object(C.property)()],m.prototype,"icon",void 0),m}(O.BaseAction);R.Base.createItemValue=function(e,m){var s=null;return m?s=C.JsonObject.metaData.createClass(m,{}):typeof e.getType=="function"?s=new f(null,void 0,e.getType()):s=new f(null),s.setData(e),s},R.Base.itemValueLocStrChanged=function(e){f.locStrsChanged(e)},C.JsonObjectProperty.getItemValuesDefaultValue=function(e,m){var s=new Array;return f.setData(s,Array.isArray(e)?e:[],m),s},C.Serializer.addClass("itemvalue",[{name:"!value",isUnique:!0},{name:"text",serializationProperty:"locText"},{name:"visibleIf:condition",showMode:"form"},{name:"enableIf:condition",showMode:"form",visibleIf:function(e){return!e||e.ownerPropertyName!=="rateValues"}}],function(e){return new f(e)})},"./src/jsonobject.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"property",function(){return l}),d.d(M,"propertyArray",function(){return p}),d.d(M,"JsonObjectProperty",function(){return f}),d.d(M,"CustomPropertiesCollection",function(){return e}),d.d(M,"JsonMetadataClass",function(){return m}),d.d(M,"JsonMetadata",function(){return s}),d.d(M,"JsonError",function(){return a}),d.d(M,"JsonUnknownPropertyError",function(){return c}),d.d(M,"JsonMissingTypeErrorBase",function(){return r}),d.d(M,"JsonMissingTypeError",function(){return t}),d.d(M,"JsonIncorrectTypeError",function(){return n}),d.d(M,"JsonRequiredPropertyError",function(){return o}),d.d(M,"JsonRequiredArrayPropertyError",function(){return u}),d.d(M,"JsonIncorrectPropertyValueError",function(){return v}),d.d(M,"JsonObject",function(){return x}),d.d(M,"Serializer",function(){return b});var P=d("./src/surveyStrings.ts"),C=d("./src/base.ts"),D=d("./src/helpers.ts"),A=function(){var i=function(h,E){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,L){S.__proto__=L}||function(S,L){for(var j in L)Object.prototype.hasOwnProperty.call(L,j)&&(S[j]=L[j])},i(h,E)};return function(h,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");i(h,E);function S(){this.constructor=h}h.prototype=E===null?Object.create(E):(S.prototype=E.prototype,new S)}}(),R=function(i,h){for(var E=0,S=h.length,L=i.length;E<S;E++,L++)i[L]=h[E];return i};function V(i,h,E){var S=i.getLocalizableString(E);if(!S){var L=void 0;typeof h.localizable=="object"&&h.localizable.defaultStr&&(L=h.localizable.defaultStr),S=i.createLocalizableString(E,i,!0,L),typeof h.localizable=="object"&&typeof h.localizable.onGetTextCallback=="function"&&(S.onGetTextCallback=h.localizable.onGetTextCallback)}}function O(i,h,E){V(i,h,E);var S=i.getLocalizableStringText(E);if(S)return S;if(typeof h.localizable=="object"&&h.localizable.defaultStr){var L=i.getLocale?i.getLocale():"";return P.surveyLocalization.getString(h.localizable.defaultStr,L)}return""}function l(i){return i===void 0&&(i={}),function(h,E){var S=function(L,j){if(j&&typeof j=="object"&&j.type===C.ComputedUpdater.ComputedUpdaterType){C.Base.startCollectDependencies(function(){return L[E]=j.updater()},L,E);var w=j.updater(),g=C.Base.finishCollectDependencies();return j.setDependencies(g),L.dependencies[E]&&L.dependencies[E].dispose(),L.dependencies[E]=j,w}return j};!i||!i.localizable?Object.defineProperty(h,E,{get:function(){var L=null;return i&&(typeof i.getDefaultValue=="function"&&(L=i.getDefaultValue(this)),i.defaultValue!==void 0&&(L=i.defaultValue)),this.getPropertyValue(E,L)},set:function(L){var j=S(this,L);this.setPropertyValue(E,j),i&&i.onSet&&i.onSet(j,this)}}):(Object.defineProperty(h,E,{get:function(){return O(this,i,E)},set:function(L){V(this,i,E);var j=S(this,L);this.setLocalizableStringText(E,j),i&&i.onSet&&i.onSet(j,this)}}),Object.defineProperty(h,typeof i.localizable=="object"&&i.localizable.name?i.localizable.name:"loc"+E.charAt(0).toUpperCase()+E.slice(1),{get:function(){return V(this,i,E),this.getLocalizableString(E)}}))}}function y(i,h,E){i.ensureArray(E,function(S,L){var j=h?h.onPush:null;j&&j(S,L,i)},function(S,L){var j=h?h.onRemove:null;j&&j(S,L,i)})}function p(i){return function(h,E){Object.defineProperty(h,E,{get:function(){return y(this,i,E),this.getPropertyValue(E)},set:function(S){y(this,i,E);var L=this.getPropertyValue(E);S!==L&&(L?L.splice.apply(L,R([0,L.length],S||[])):this.setPropertyValue(E,S),i&&i.onSet&&i.onSet(S,this))}})}}var f=function(){function i(h,E,S){S===void 0&&(S=!1),this.name=E,this.isRequiredValue=!1,this.isUniqueValue=!1,this.isSerializable=!0,this.isLightSerializable=!0,this.isCustom=!1,this.isDynamicChoices=!1,this.isBindable=!1,this.category="",this.categoryIndex=-1,this.visibleIndex=-1,this.maxLength=-1,this.isArray=!1,this.classInfoValue=h,this.isRequiredValue=S,this.idValue=i.Index++}return Object.defineProperty(i.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"classInfo",{get:function(){return this.classInfoValue},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"type",{get:function(){return this.typeValue?this.typeValue:"string"},set:function(h){h==="itemvalues"&&(h="itemvalue[]"),h==="textitems"&&(h="textitem[]"),this.typeValue=h,this.typeValue.indexOf("[]")===this.typeValue.length-2&&(this.isArray=!0,this.className=this.typeValue.substring(0,this.typeValue.length-2))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isRequired",{get:function(){return this.isRequiredValue},set:function(h){h!==this.isRequired&&(this.isRequiredValue=h,this.classInfo&&this.classInfo.resetAllProperties())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isUnique",{get:function(){return this.isUniqueValue},set:function(h){this.isUniqueValue=h},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"uniquePropertyName",{get:function(){return this.uniquePropertyValue},set:function(h){this.uniquePropertyValue=h},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasToUseGetValue",{get:function(){return this.onGetValue||this.serializationProperty},enumerable:!1,configurable:!0}),i.prototype.getDefaultValue=function(h){var E=this.defaultValueFunc?this.defaultValueFunc(h):this.defaultValueValue;return i.getItemValuesDefaultValue&&b.isDescendantOf(this.className,"itemvalue")&&(E=i.getItemValuesDefaultValue(this.defaultValueValue||[],this.className)),E},Object.defineProperty(i.prototype,"defaultValue",{get:function(){return this.getDefaultValue(void 0)},set:function(h){this.defaultValueValue=h},enumerable:!1,configurable:!0}),i.prototype.isDefaultValue=function(h){return this.isDefaultValueByObj(void 0,h)},i.prototype.isDefaultValueByObj=function(h,E){var S=this.getDefaultValue(h);return D.Helpers.isValueEmpty(S)?this.isLocalizable?E==null:E===!1&&(this.type=="boolean"||this.type=="switch")||E===""||D.Helpers.isValueEmpty(E):D.Helpers.isTwoValueEquals(E,S,!1,!0,!1)},i.prototype.getSerializableValue=function(h){return this.onSerializeValue?this.onSerializeValue(h):this.getValue(h)},i.prototype.getValue=function(h){return this.onGetValue?this.onGetValue(h):this.serializationProperty&&h[this.serializationProperty]?h[this.serializationProperty].getJson():h[this.name]},i.prototype.getPropertyValue=function(h){return this.isLocalizable?h[this.serializationProperty]?h[this.serializationProperty].text:null:this.getValue(h)},Object.defineProperty(i.prototype,"hasToUseSetValue",{get:function(){return this.onSetValue||this.serializationProperty},enumerable:!1,configurable:!0}),i.prototype.settingValue=function(h,E){return!this.onSettingValue||h.isLoadingFromJson?E:this.onSettingValue(h,E)},i.prototype.setValue=function(h,E,S){this.onSetValue?this.onSetValue(h,E,S):this.serializationProperty&&h[this.serializationProperty]?h[this.serializationProperty].setJson(E):(E&&typeof E=="string"&&(this.type=="number"&&(E=parseInt(E)),(this.type=="boolean"||this.type=="switch")&&(E=E.toLowerCase()==="true")),h[this.name]=E)},i.prototype.validateValue=function(h){var E=this.choices;return!Array.isArray(E)||E.length===0?!0:E.indexOf(h)>-1},i.prototype.getObjType=function(h){return this.classNamePart?h.replace(this.classNamePart,""):h},Object.defineProperty(i.prototype,"choices",{get:function(){return this.getChoices(null)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasChoices",{get:function(){return!!this.choicesValue||!!this.choicesfunc},enumerable:!1,configurable:!0}),i.prototype.getChoices=function(h,E){return E===void 0&&(E=null),this.choicesValue!=null?this.choicesValue:this.choicesfunc!=null?this.choicesfunc(h,E):null},i.prototype.setChoices=function(h,E){E===void 0&&(E=null),this.choicesValue=h,this.choicesfunc=E},i.prototype.getBaseValue=function(){return this.baseValue?typeof this.baseValue=="function"?this.baseValue():this.baseValue:""},i.prototype.setBaseValue=function(h){this.baseValue=h},Object.defineProperty(i.prototype,"readOnly",{get:function(){return this.readOnlyValue!=null?this.readOnlyValue:!1},set:function(h){this.readOnlyValue=h},enumerable:!1,configurable:!0}),i.prototype.isVisible=function(h,E){E===void 0&&(E=null);var S=!this.layout||this.layout==h;if(!this.visible||!S)return!1;if(this.visibleIf&&E){if(E.getOriginalObj){var L=E.getOriginalObj();L&&b.findProperty(L.getType(),this.name)&&(E=L)}return this.visibleIf(E)}return!0},Object.defineProperty(i.prototype,"visible",{get:function(){return this.visibleValue!=null?this.visibleValue:!0},set:function(h){this.visibleValue=h},enumerable:!1,configurable:!0}),i.prototype.isAvailableInVersion=function(h){return this.alternativeName?!0:this.isAvailableInVersionCore(h)},i.prototype.getSerializedName=function(h){return this.alternativeName?this.isAvailableInVersionCore(h)?this.name:this.alternativeName:this.name},i.prototype.isAvailableInVersionCore=function(h){return!h||!this.version?!0:D.Helpers.compareVerions(this.version,h)<=0},Object.defineProperty(i.prototype,"isLocalizable",{get:function(){return this.isLocalizableValue!=null?this.isLocalizableValue:!1},set:function(h){this.isLocalizableValue=h},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dataList",{get:function(){return Array.isArray(this.dataListValue)?this.dataListValue:[]},set:function(h){this.dataListValue=h},enumerable:!1,configurable:!0}),i.prototype.mergeWith=function(h){for(var E=i.mergableValues,S=0;S<E.length;S++)this.mergeValue(h,E[S])},i.prototype.addDependedProperty=function(h){this.dependedProperties||(this.dependedProperties=[]),this.dependedProperties.indexOf(h)<0&&this.dependedProperties.push(h)},i.prototype.getDependedProperties=function(){return this.dependedProperties?this.dependedProperties:[]},i.prototype.schemaType=function(){if(this.className!=="choicesByUrl")return this.className==="string"?this.className:this.className||this.baseClassName?"array":this.type=="switch"?"boolean":this.type=="boolean"||this.type=="number"?this.type:"string"},i.prototype.schemaRef=function(){if(this.className)return this.className},i.prototype.mergeValue=function(h,E){this[E]==null&&h[E]!=null&&(this[E]=h[E])},i.Index=1,i.mergableValues=["typeValue","choicesValue","baseValue","readOnlyValue","visibleValue","isSerializable","isLightSerializable","isCustom","isBindable","isUnique","uniquePropertyName","isDynamicChoices","isLocalizableValue","className","alternativeName","layout","version","classNamePart","baseClassName","defaultValue","defaultValueFunc","serializationProperty","onGetValue","onSetValue","onSettingValue","displayName","category","categoryIndex","visibleIndex","nextToProperty","overridingProperty","showMode","dependedProperties","visibleIf","onExecuteExpression","onPropertyEditorUpdate","maxLength","maxValue","minValue","dataListValue"],i}(),e=function(){function i(){}return i.addProperty=function(h,E){h=h.toLowerCase();var S=i.properties;S[h]||(S[h]=[]),S[h].push(E)},i.removeProperty=function(h,E){h=h.toLowerCase();var S=i.properties;if(S[h]){for(var L=S[h],j=0;j<L.length;j++)if(L[j].name==E){S[h].splice(j,1);break}}},i.removeAllProperties=function(h){h=h.toLowerCase(),delete i.properties[h]},i.addClass=function(h,E){h=h.toLowerCase(),E&&(E=E.toLowerCase()),i.parentClasses[h]=E},i.getProperties=function(h){h=h.toLowerCase();for(var E=[],S=i.properties;h;){var L=S[h];if(L)for(var j=0;j<L.length;j++)E.push(L[j]);h=i.parentClasses[h]}return E},i.createProperties=function(h){!h||!h.getType||i.createPropertiesCore(h,h.getType())},i.createPropertiesCore=function(h,E){var S=i.properties;S[E]&&i.createPropertiesInObj(h,S[E]);var L=i.parentClasses[E];L&&i.createPropertiesCore(h,L)},i.createPropertiesInObj=function(h,E){for(var S=0;S<E.length;S++)i.createPropertyInObj(h,E[S])},i.createPropertyInObj=function(h,E){if(!i.checkIsPropertyExists(h,E.name)&&!(E.serializationProperty&&i.checkIsPropertyExists(h,E.serializationProperty))){if(E.isLocalizable&&E.serializationProperty&&h.createCustomLocalizableObj){var S=h.createCustomLocalizableObj(E.name);S.defaultValue=E.defaultValue;var L={get:function(){return h.getLocalizableString(E.name)}};Object.defineProperty(h,E.serializationProperty,L);var j={get:function(){return h.getLocalizableStringText(E.name)},set:function(I){h.setLocalizableStringText(E.name,I)}};Object.defineProperty(h,E.name,j)}else{var w=E.defaultValue,g=E.isArray||E.type==="multiplevalues";if(typeof h.createNewArray=="function"&&(b.isDescendantOf(E.className,"itemvalue")?(h.createNewArray(E.name,function(I){I.locOwner=h,I.ownerPropertyName=E.name}),g=!0):g&&h.createNewArray(E.name),g&&(Array.isArray(w)&&h.setPropertyValue(E.name,w),w=null)),h.getPropertyValue&&h.setPropertyValue){var j={get:function(){return E.onGetValue?E.onGetValue(h):h.getPropertyValue(E.name,w)},set:function(T){E.onSetValue?E.onSetValue(h,T,null):h.setPropertyValue(E.name,T)}};Object.defineProperty(h,E.name,j)}}(E.type==="condition"||E.type==="expression")&&E.onExecuteExpression&&h.addExpressionProperty(E.name,E.onExecuteExpression)}},i.checkIsPropertyExists=function(h,E){return h.hasOwnProperty(E)||h[E]},i.properties={},i.parentClasses={},i}(),m=function(){function i(h,E,S,L){S===void 0&&(S=null),L===void 0&&(L=null),this.name=h,this.creator=S,this.parentName=L,h=h.toLowerCase(),this.isCustomValue=!S&&h!=="survey",this.parentName&&(this.parentName=this.parentName.toLowerCase(),e.addClass(h,this.parentName),S&&this.makeParentRegularClass()),this.properties=new Array;for(var j=0;j<E.length;j++)this.createProperty(E[j],this.isCustom)}return i.prototype.find=function(h){for(var E=0;E<this.properties.length;E++)if(this.properties[E].name==h)return this.properties[E];return null},i.prototype.findProperty=function(h){return this.fillAllProperties(),this.hashProperties[h]},i.prototype.getAllProperties=function(){return this.fillAllProperties(),this.allProperties},i.prototype.getRequiredProperties=function(){if(this.requiredProperties)return this.requiredProperties;this.requiredProperties=[];for(var h=this.getAllProperties(),E=0;E<h.length;E++)h[E].isRequired&&this.requiredProperties.push(h[E]);return this.requiredProperties},i.prototype.resetAllProperties=function(){this.allProperties=void 0,this.requiredProperties=void 0,this.hashProperties=void 0;for(var h=b.getChildrenClasses(this.name),E=0;E<h.length;E++)h[E].resetAllProperties()},Object.defineProperty(i.prototype,"isCustom",{get:function(){return this.isCustomValue},enumerable:!1,configurable:!0}),i.prototype.fillAllProperties=function(){var h=this;if(!this.allProperties){this.allProperties=[],this.hashProperties={};var E={};this.properties.forEach(function(j){return E[j.name]=j});var S=this.parentName?b.findClass(this.parentName):null;if(S){var L=S.getAllProperties();L.forEach(function(j){var w=E[j.name];w?(w.mergeWith(j),h.addPropCore(w)):h.addPropCore(j)})}this.properties.forEach(function(j){h.hashProperties[j.name]||h.addPropCore(j)})}},i.prototype.addPropCore=function(h){this.allProperties.push(h),this.hashProperties[h.name]=h,h.alternativeName&&(this.hashProperties[h.alternativeName]=h)},i.prototype.isOverridedProp=function(h){return!!this.parentName&&!!b.findProperty(this.parentName,h)},i.prototype.hasRegularChildClass=function(){if(this.isCustom){this.isCustomValue=!1;for(var h=0;h<this.properties.length;h++)this.properties[h].isCustom=!1;e.removeAllProperties(this.name),this.makeParentRegularClass()}},i.prototype.makeParentRegularClass=function(){if(this.parentName){var h=b.findClass(this.parentName);h&&h.hasRegularChildClass()}},i.prototype.createProperty=function(h,E){E===void 0&&(E=!1);var S=typeof h=="string"?h:h.name;if(S){var L=null,j=S.indexOf(i.typeSymbol);j>-1&&(L=S.substring(j+1),S=S.substring(0,j));var w=this.getIsPropertyNameRequired(S)||!!h.isRequired;S=this.getPropertyName(S);var g=new f(this,S,w);if(L&&(g.type=L),typeof h=="object"){if(h.type&&(g.type=h.type),h.default!==void 0&&(g.defaultValue=h.default),h.defaultFunc!==void 0&&(g.defaultValueFunc=h.defaultFunc),D.Helpers.isValueEmpty(h.isSerializable)||(g.isSerializable=h.isSerializable),D.Helpers.isValueEmpty(h.isLightSerializable)||(g.isLightSerializable=h.isLightSerializable),D.Helpers.isValueEmpty(h.maxLength)||(g.maxLength=h.maxLength),D.Helpers.isValueEmpty(h.displayName)||(g.displayName=h.displayName),D.Helpers.isValueEmpty(h.category)||(g.category=h.category),D.Helpers.isValueEmpty(h.categoryIndex)||(g.categoryIndex=h.categoryIndex),D.Helpers.isValueEmpty(h.nextToProperty)||(g.nextToProperty=h.nextToProperty),D.Helpers.isValueEmpty(h.overridingProperty)||(g.overridingProperty=h.overridingProperty),D.Helpers.isValueEmpty(h.visibleIndex)||(g.visibleIndex=h.visibleIndex),D.Helpers.isValueEmpty(h.showMode)||(g.showMode=h.showMode),D.Helpers.isValueEmpty(h.maxValue)||(g.maxValue=h.maxValue),D.Helpers.isValueEmpty(h.minValue)||(g.minValue=h.minValue),D.Helpers.isValueEmpty(h.dataList)||(g.dataList=h.dataList),D.Helpers.isValueEmpty(h.isDynamicChoices)||(g.isDynamicChoices=h.isDynamicChoices),D.Helpers.isValueEmpty(h.isBindable)||(g.isBindable=h.isBindable),D.Helpers.isValueEmpty(h.isUnique)||(g.isUnique=h.isUnique),D.Helpers.isValueEmpty(h.uniqueProperty)||(g.uniquePropertyName=h.uniqueProperty),D.Helpers.isValueEmpty(h.isArray)||(g.isArray=h.isArray),(h.visible===!0||h.visible===!1)&&(g.visible=h.visible),h.visibleIf&&(g.visibleIf=h.visibleIf),h.onExecuteExpression&&(g.onExecuteExpression=h.onExecuteExpression),h.onPropertyEditorUpdate&&(g.onPropertyEditorUpdate=h.onPropertyEditorUpdate),h.readOnly===!0&&(g.readOnly=!0),h.choices){var I=typeof h.choices=="function"?h.choices:null,T=typeof h.choices!="function"?h.choices:null;g.setChoices(T,I)}if(h.baseValue&&g.setBaseValue(h.baseValue),h.onSerializeValue&&(g.onSerializeValue=h.onSerializeValue),h.onGetValue&&(g.onGetValue=h.onGetValue),h.onSetValue&&(g.onSetValue=h.onSetValue),h.onSettingValue&&(g.onSettingValue=h.onSettingValue),h.isLocalizable&&(h.serializationProperty="loc"+g.name),h.serializationProperty){g.serializationProperty=h.serializationProperty;var B;g.serializationProperty&&g.serializationProperty.indexOf("loc")==0&&(g.isLocalizable=!0)}h.isLocalizable&&(g.isLocalizable=h.isLocalizable),h.className&&(g.className=h.className),h.baseClassName&&(g.baseClassName=h.baseClassName,g.isArray=!0),g.isArray===!0&&(g.isArray=!0),h.classNamePart&&(g.classNamePart=h.classNamePart),h.alternativeName&&(g.alternativeName=h.alternativeName),h.layout&&(g.layout=h.layout),h.version&&(g.version=h.version),h.dependsOn&&this.addDependsOnProperties(g,h.dependsOn)}return this.properties.push(g),E&&!this.isOverridedProp(g.name)&&(g.isCustom=!0,e.addProperty(this.name,g)),g}},i.prototype.addDependsOnProperties=function(h,E){if(Array.isArray(E))for(var S=0;S<E.length;S++)this.addDependsOnProperty(h,E[S]);else this.addDependsOnProperty(h,E)},i.prototype.addDependsOnProperty=function(h,E){var S=this.find(E);S||(S=b.findProperty(this.parentName,E)),S&&S.addDependedProperty(h.name)},i.prototype.getIsPropertyNameRequired=function(h){return h.length>0&&h[0]==i.requiredSymbol},i.prototype.getPropertyName=function(h){return this.getIsPropertyNameRequired(h)&&(h=h.slice(1)),h},i.requiredSymbol="!",i.typeSymbol=":",i}(),s=function(){function i(){this.classes={},this.alternativeNames={},this.childrenClasses={},this.dynamicPropsCache={}}return i.prototype.getObjPropertyValue=function(h,E){if(this.isObjWrapper(h)){var S=h.getOriginalObj(),L=b.findProperty(S.getType(),E);if(L)return this.getObjPropertyValueCore(S,L)}var L=b.findProperty(h.getType(),E);return L?this.getObjPropertyValueCore(h,L):h[E]},i.prototype.setObjPropertyValue=function(h,E,S){if(h[E]!==S)if(h[E]&&h[E].setJson)h[E].setJson(S);else{if(Array.isArray(S)){for(var L=[],j=0;j<S.length;j++)L.push(S[j]);S=L}h[E]=S}},i.prototype.getObjPropertyValueCore=function(h,E){if(!E.isSerializable)return h[E.name];if(E.isLocalizable){if(E.isArray)return h[E.name];if(E.serializationProperty)return h[E.serializationProperty].text}return h.getPropertyValue(E.name)},i.prototype.isObjWrapper=function(h){return!!h.getOriginalObj&&!!h.getOriginalObj()},i.prototype.addClass=function(h,E,S,L){S===void 0&&(S=null),L===void 0&&(L=null),h=h.toLowerCase();var j=new m(h,E,S,L);if(this.classes[h]=j,L){L=L.toLowerCase();var w=this.childrenClasses[L];w||(this.childrenClasses[L]=[]),this.childrenClasses[L].push(j)}return j},i.prototype.removeClass=function(h){var E=this.findClass(h);if(E&&(delete this.classes[E.name],E.parentName)){var S=this.childrenClasses[E.parentName].indexOf(E);S>-1&&this.childrenClasses[E.parentName].splice(S,1)}},i.prototype.overrideClassCreatore=function(h,E){this.overrideClassCreator(h,E)},i.prototype.overrideClassCreator=function(h,E){h=h.toLowerCase();var S=this.findClass(h);S&&(S.creator=E)},i.prototype.getProperties=function(h){var E=this.findClass(h);return E?E.getAllProperties():[]},i.prototype.getPropertiesByObj=function(h){if(!h||!h.getType)return[];var E=this.getProperties(h.getType()),S=this.getDynamicPropertiesByObj(h);return[].concat(E).concat(S)},i.prototype.addDynamicPropertiesIntoObj=function(h,E,S){var L=this;S.forEach(function(j){L.addDynamicPropertyIntoObj(h,E,j.name,!1),j.serializationProperty&&L.addDynamicPropertyIntoObj(h,E,j.serializationProperty,!0),j.alternativeName&&L.addDynamicPropertyIntoObj(h,E,j.alternativeName,!1)})},i.prototype.addDynamicPropertyIntoObj=function(h,E,S,L){var j={configurable:!0,get:function(){return E[S]}};L||(j.set=function(w){E[S]=w}),Object.defineProperty(h,S,j)},i.prototype.getDynamicPropertiesByObj=function(h,E){if(E===void 0&&(E=null),!h||!h.getType)return[];if(h.getDynamicProperties)return h.getDynamicProperties();if(!h.getDynamicType&&!E)return[];var S=E||h.getDynamicType();return this.getDynamicPropertiesByTypes(h.getType(),S)},i.prototype.getDynamicPropertiesByTypes=function(h,E,S){if(!E)return[];var L=E+"-"+h;if(this.dynamicPropsCache[L])return this.dynamicPropsCache[L];var j=this.getProperties(E);if(!j||j.length==0)return[];for(var w={},g=this.getProperties(h),I=0;I<g.length;I++)w[g[I].name]=g[I];var T=[];S||(S=[]);for(var B=0;B<j.length;B++){var N=j[B];!w[N.name]&&S.indexOf(N.name)<0&&T.push(N)}return this.dynamicPropsCache[L]=T,T},i.prototype.hasOriginalProperty=function(h,E){return!!this.getOriginalProperty(h,E)},i.prototype.getOriginalProperty=function(h,E){var S=this.findProperty(h.getType(),E);return S||(this.isObjWrapper(h)?this.findProperty(h.getOriginalObj().getType(),E):null)},i.prototype.getProperty=function(h,E){var S=this.findProperty(h,E);if(!S)return S;var L=this.findClass(h);if(S.classInfo===L)return S;var j=new f(L,S.name,S.isRequired);return j.mergeWith(S),j.isArray=S.isArray,L.properties.push(j),L.resetAllProperties(),j},i.prototype.findProperty=function(h,E){var S=this.findClass(h);return S?S.findProperty(E):null},i.prototype.findProperties=function(h,E){var S=new Array,L=this.findClass(h);if(!L)return S;for(var j=0;j<E.length;j++){var w=L.findProperty(E[j]);w&&S.push(w)}return S},i.prototype.getAllPropertiesByName=function(h){for(var E=new Array,S=this.getAllClasses(),L=0;L<S.length;L++)for(var j=this.findClass(S[L]),w=0;w<j.properties.length;w++)if(j.properties[w].name==h){E.push(j.properties[w]);break}return E},i.prototype.getAllClasses=function(){var h=new Array;for(var E in this.classes)h.push(E);return h},i.prototype.createClass=function(h,E){E===void 0&&(E=void 0),h=h.toLowerCase();var S=this.findClass(h);if(!S)return null;if(S.creator)return S.creator(E);for(var L=S.parentName;L;){if(S=this.findClass(L),!S)return null;if(L=S.parentName,S.creator)return this.createCustomType(h,S.creator,E)}return null},i.prototype.createCustomType=function(h,E,S){S===void 0&&(S=void 0),h=h.toLowerCase();var L=E(S),j=h,w=L.getTemplate?L.getTemplate():L.getType();return L.getType=function(){return j},L.getTemplate=function(){return w},e.createProperties(L),L},i.prototype.getChildrenClasses=function(h,E){E===void 0&&(E=!1),h=h.toLowerCase();var S=[];return this.fillChildrenClasses(h,E,S),S},i.prototype.getRequiredProperties=function(h){var E=this.findClass(h);if(!E)return[];for(var S=E.getRequiredProperties(),L=[],j=0;j<S.length;j++)L.push(S[j].name);return L},i.prototype.addProperties=function(h,E){h=h.toLowerCase();for(var S=this.findClass(h),L=0;L<E.length;L++)this.addCustomPropertyCore(S,E[L])},i.prototype.addProperty=function(h,E){return this.addCustomPropertyCore(this.findClass(h),E)},i.prototype.addCustomPropertyCore=function(h,E){if(!h)return null;var S=h.createProperty(E,!0);return S&&(this.clearDynamicPropsCache(h),h.resetAllProperties()),S},i.prototype.removeProperty=function(h,E){var S=this.findClass(h);if(!S)return!1;var L=S.find(E);L&&(this.clearDynamicPropsCache(S),this.removePropertyFromClass(S,L),S.resetAllProperties(),e.removeProperty(S.name,E))},i.prototype.clearDynamicPropsCache=function(h){this.dynamicPropsCache={}},i.prototype.removePropertyFromClass=function(h,E){var S=h.properties.indexOf(E);S<0||h.properties.splice(S,1)},i.prototype.fillChildrenClasses=function(h,E,S){var L=this.childrenClasses[h];if(L)for(var j=0;j<L.length;j++)(!E||L[j].creator)&&S.push(L[j]),this.fillChildrenClasses(L[j].name,E,S)},i.prototype.findClass=function(h){h=h.toLowerCase();var E=this.classes[h];if(!E){var S=this.alternativeNames[h];if(S&&S!=h)return this.findClass(S)}return E},i.prototype.isDescendantOf=function(h,E){if(!h||!E)return!1;h=h.toLowerCase(),E=E.toLowerCase();var S=this.findClass(h);if(!S)return!1;var L=S;do{if(L.name===E)return!0;L=this.classes[L.parentName]}while(L);return!1},i.prototype.addAlterNativeClassName=function(h,E){this.alternativeNames[E.toLowerCase()]=h.toLowerCase()},i.prototype.generateSchema=function(h){h===void 0&&(h=void 0),h||(h="survey");var E=this.findClass(h);if(!E)return null;var S={$schema:"http://json-schema.org/draft-07/schema#",title:"SurveyJS Library json schema",type:"object",properties:{},definitions:{locstring:this.generateLocStrClass()}};return this.generateSchemaProperties(E,S,S.definitions,!0),S},i.prototype.generateLocStrClass=function(){var h={},E=b.findProperty("survey","locale");if(E){var S=E.getChoices(null);Array.isArray(S)&&(S.indexOf("en")<0&&S.splice(0,0,"en"),S.splice(0,0,"default"),S.forEach(function(L){L&&(h[L]={type:"string"})}))}return{$id:"locstring",type:"object",properties:h}},i.prototype.generateSchemaProperties=function(h,E,S,L){if(h){var j=E.properties,w=[];(h.name==="question"||h.name==="panel")&&(j.type={type:"string"},w.push("type"));for(var g=0;g<h.properties.length;g++){var I=h.properties[g];h.parentName&&b.findProperty(h.parentName,I.name)||(j[I.name]=this.generateSchemaProperty(I,S,L),I.isRequired&&w.push(I.name))}w.length>0&&(E.required=w)}},i.prototype.generateSchemaProperty=function(h,E,S){if(h.isLocalizable)return{oneOf:[{type:"string"},{$ref:this.getChemeRefName("locstring",S)}]};var L=h.schemaType(),j=h.schemaRef(),w={};if(L&&(w.type=L),h.hasChoices){var g=h.getChoices(null);Array.isArray(g)&&g.length>0&&(w.enum=this.getChoicesValues(g))}if(j&&(L==="array"?h.className==="string"?w.items={type:h.className}:w.items={$ref:this.getChemeRefName(h.className,S)}:w.$ref=this.getChemeRefName(j,S),this.generateChemaClass(h.className,E,!1)),h.baseClassName){var I=this.getChildrenClasses(h.baseClassName,!0);h.baseClassName=="question"&&I.push(this.findClass("panel")),w.items={anyOf:[]};for(var T=0;T<I.length;T++){var B=I[T].name;w.items.anyOf.push({$ref:this.getChemeRefName(B,S)}),this.generateChemaClass(B,E,!1)}}return w},i.prototype.getChemeRefName=function(h,E){return E?"#/definitions/"+h:h},i.prototype.generateChemaClass=function(h,E,S){if(!E[h]){var L=this.findClass(h);if(L){var j=!!L.parentName&&L.parentName!="base";j&&this.generateChemaClass(L.parentName,E,S);var w={type:"object",$id:h};E[h]=w;var g={properties:{}};this.generateSchemaProperties(L,g,E,S),j?w.allOf=[{$ref:this.getChemeRefName(L.parentName,S)},{properties:g.properties}]:w.properties=g.properties,Array.isArray(g.required)&&(w.required=g.required)}}},i.prototype.getChoicesValues=function(h){var E=new Array;return h.forEach(function(S){typeof S=="object"&&S.value!==void 0?E.push(S.value):E.push(S)}),E},i}(),a=function(){function i(h,E){this.type=h,this.message=E,this.description="",this.at=-1,this.end=-1}return i.prototype.getFullDescription=function(){return this.message+(this.description?`
`+this.description:"")},i}(),c=function(i){A(h,i);function h(E,S){var L=i.call(this,"unknownproperty","The property '"+E+"' in class '"+S+"' is unknown.")||this;L.propertyName=E,L.className=S;var j=b.getProperties(S);if(j){L.description="The list of available properties are: ";for(var w=0;w<j.length;w++)w>0&&(L.description+=", "),L.description+=j[w].name;L.description+="."}return L}return h}(a),r=function(i){A(h,i);function h(E,S,L){var j=i.call(this,S,L)||this;j.baseClassName=E,j.type=S,j.message=L,j.description="The following types are available: ";for(var w=b.getChildrenClasses(E,!0),g=0;g<w.length;g++)g>0&&(j.description+=", "),j.description+="'"+w[g].name+"'";return j.description+=".",j}return h}(a),t=function(i){A(h,i);function h(E,S){var L=i.call(this,S,"missingtypeproperty","The property type is missing in the object. Please take a look at property: '"+E+"'.")||this;return L.propertyName=E,L.baseClassName=S,L}return h}(r),n=function(i){A(h,i);function h(E,S){var L=i.call(this,S,"incorrecttypeproperty","The property type is incorrect in the object. Please take a look at property: '"+E+"'.")||this;return L.propertyName=E,L.baseClassName=S,L}return h}(r),o=function(i){A(h,i);function h(E,S){var L=i.call(this,"requiredproperty","The property '"+E+"' is required in class '"+S+"'.")||this;return L.propertyName=E,L.className=S,L}return h}(a),u=function(i){A(h,i);function h(E,S){var L=i.call(this,"arrayproperty","The property '"+E+"' should be an array in '"+S+"'.")||this;return L.propertyName=E,L.className=S,L}return h}(a),v=function(i){A(h,i);function h(E,S){var L=i.call(this,"incorrectvalue","The property value: '"+S+"' is incorrect for property '"+E.name+"'.")||this;return L.property=E,L.value=S,L}return h}(a),x=function(){function i(){this.errors=new Array,this.lightSerializing=!1}return Object.defineProperty(i,"metaData",{get:function(){return i.metaDataValue},enumerable:!1,configurable:!0}),i.prototype.toJsonObject=function(h,E){return this.toJsonObjectCore(h,null,E)},i.prototype.toObject=function(h,E,S){this.toObjectCore(h,E,S);var L=this.getRequiredError(E,h);L&&this.addNewError(L,h,E)},i.prototype.toObjectCore=function(h,E,S){if(h){var L=null,j=void 0,w=!0;if(E.getType&&(j=E.getType(),L=b.getProperties(j),w=!!j&&!b.isDescendantOf(j,"itemvalue")),!!L){E.startLoadingFromJson&&E.startLoadingFromJson(h),L=this.addDynamicProperties(E,h,L),this.options=S;for(var g in h)if(g!==i.typePropertyName){if(g===i.positionPropertyName){E[g]=h[g];continue}var I=this.findProperty(L,g);if(!I){w&&this.addNewError(new c(g.toString(),j),h,E);continue}this.valueToObj(h[g],E,I,h,S)}this.options=void 0,E.endLoadingFromJson&&E.endLoadingFromJson()}}},i.prototype.toJsonObjectCore=function(h,E,S){if(!h||!h.getType)return h;if(typeof h.getData=="function")return h.getData();var L={};E!=null&&!E.className&&(L[i.typePropertyName]=E.getObjType(h.getType()));var j=S===!0;return(!S||S===!0)&&(S={}),j&&(S.storeDefaults=j),this.propertiesToJson(h,b.getProperties(h.getType()),L,S),this.propertiesToJson(h,this.getDynamicProperties(h),L,S),L},i.prototype.getDynamicProperties=function(h){return b.getDynamicPropertiesByObj(h)},i.prototype.addDynamicProperties=function(h,E,S){if(!h.getDynamicPropertyName&&!h.getDynamicProperties)return S;if(h.getDynamicPropertyName){var L=h.getDynamicPropertyName();if(!L)return S;L&&E[L]&&(h[L]=E[L])}var j=this.getDynamicProperties(h);return j.length===0?S:[].concat(S).concat(j)},i.prototype.propertiesToJson=function(h,E,S,L){for(var j=0;j<E.length;j++)this.valueToJson(h,S,E[j],L)},i.prototype.valueToJson=function(h,E,S,L){if(L||(L={}),!(S.isSerializable===!1||S.isLightSerializable===!1&&this.lightSerializing)&&!(L.version&&!S.isAvailableInVersion(L.version))){var j=S.getSerializableValue(h);if(!(!L.storeDefaults&&S.isDefaultValueByObj(h,j))){if(this.isValueArray(j)){for(var w=[],g=0;g<j.length;g++)w.push(this.toJsonObjectCore(j[g],S,L));j=w.length>0?w:null}else j=this.toJsonObjectCore(j,S,L);if(j!=null){var I=S.getSerializedName(L.version),T=typeof h.getPropertyValue=="function"&&h.getPropertyValue(I,null)!==null;(L.storeDefaults&&T||!S.isDefaultValueByObj(h,j))&&(!b.onSerializingProperty||!b.onSerializingProperty(h,S,j,E))&&(E[I]=this.removePosOnValueToJson(S,j))}}}},i.prototype.valueToObj=function(h,E,S,L,j){if(h!=null){if(this.removePos(S,h),S!=null&&S.hasToUseSetValue){S.setValue(E,h,this);return}if(S.isArray&&!Array.isArray(h)&&h){h=[h];var w=L&&S.alternativeName&&L[S.alternativeName]?S.alternativeName:S.name;this.addNewError(new u(w,E.getType()),L||h,E)}if(this.isValueArray(h)){this.valueToArray(h,E,S.name,S,j);return}var g=this.createNewObj(h,S);g.newObj&&(this.toObjectCore(h,g.newObj,j),h=g.newObj),g.error||(S!=null?(S.setValue(E,h,this),j&&j.validatePropertyValues&&(S.validateValue(h)||this.addNewError(new v(S,h),L,E))):E[S.name]=h)}},i.prototype.removePosOnValueToJson=function(h,E){return!h.isCustom||!E||E[i.positionPropertyName]&&delete E[i.positionPropertyName],E},i.prototype.removePos=function(h,E){!h||!h.type||h.type.indexOf("value")<0||this.removePosFromObj(E)},i.prototype.removePosFromObj=function(h){if(h){if(Array.isArray(h))for(var E=0;E<h.length;E++)this.removePosFromObj(h[E]);h[i.positionPropertyName]&&delete h[i.positionPropertyName]}},i.prototype.isValueArray=function(h){return h&&Array.isArray(h)},i.prototype.createNewObj=function(h,E){var S={newObj:null,error:null},L=this.getClassNameForNewObj(h,E);return S.newObj=L?b.createClass(L,h):null,S.error=this.checkNewObjectOnErrors(S.newObj,h,E,L),S},i.prototype.getClassNameForNewObj=function(h,E){var S=E!=null&&E.className?E.className:void 0;if(S||(S=h[i.typePropertyName]),!S)return S;S=S.toLowerCase();var L=E.classNamePart;return L&&S.indexOf(L)<0&&(S+=L),S},i.prototype.checkNewObjectOnErrors=function(h,E,S,L){var j=null;return h?j=this.getRequiredError(h,E):S.baseClassName&&(L?j=new n(S.name,S.baseClassName):j=new t(S.name,S.baseClassName)),j&&this.addNewError(j,E,h),j},i.prototype.getRequiredError=function(h,E){if(!h.getType||typeof h.getData=="function")return null;var S=b.findClass(h.getType());if(!S)return null;var L=S.getRequiredProperties();if(!Array.isArray(L))return null;for(var j=0;j<L.length;j++){var w=L[j];if(D.Helpers.isValueEmpty(w.defaultValue)&&!E[w.name])return new o(w.name,h.getType())}return null},i.prototype.addNewError=function(h,E,S){if(h.jsonObj=E,h.element=S,this.errors.push(h),!!E){var L=E[i.positionPropertyName];L&&(h.at=L.start,h.end=L.end)}},i.prototype.valueToArray=function(h,E,S,L,j){if(!(E[S]&&!this.isValueArray(E[S]))){E[S]&&h.length>0&&E[S].splice(0,E[S].length);var w=E[S]?E[S]:[];this.addValuesIntoArray(h,w,L,j),E[S]||(E[S]=w)}},i.prototype.addValuesIntoArray=function(h,E,S,L){for(var j=0;j<h.length;j++){var w=this.createNewObj(h[j],S);w.newObj?(h[j].name&&(w.newObj.name=h[j].name),h[j].valueName&&(w.newObj.valueName=h[j].valueName.toString()),E.push(w.newObj),this.toObjectCore(h[j],w.newObj,L)):w.error||E.push(h[j])}},i.prototype.findProperty=function(h,E){if(!h)return null;for(var S=0;S<h.length;S++){var L=h[S];if(L.name==E||L.alternativeName==E)return L}return null},i.typePropertyName="type",i.positionPropertyName="pos",i.metaDataValue=new s,i}(),b=x.metaData},"./src/list.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"defaultListCss",function(){return p}),d.d(M,"ListModel",function(){return f});var P=d("./src/jsonobject.ts"),C=d("./src/actions/container.ts"),D=d("./src/actions/action.ts"),A=d("./src/utils/cssClassBuilder.ts"),R=d("./src/element-helper.ts"),V=d("./src/utils/utils.ts"),O=d("./src/settings.ts"),l=function(){var e=function(m,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&(a[r]=c[r])},e(m,s)};return function(m,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(m,s);function a(){this.constructor=m}m.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),y=function(e,m,s,a){var c=arguments.length,r=c<3?m:a===null?a=Object.getOwnPropertyDescriptor(m,s):a,t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(e,m,s,a);else for(var n=e.length-1;n>=0;n--)(t=e[n])&&(r=(c<3?t(r):c>3?t(m,s,r):t(m,s))||r);return c>3&&r&&Object.defineProperty(m,s,r),r},p={root:"sv-list__container",item:"sv-list__item",searchClearButtonIcon:"sv-list__filter-clear-button",loadingIndicator:"sv-list__loading-indicator",itemSelected:"sv-list__item--selected",itemWithIcon:"sv-list__item--with-icon",itemDisabled:"sv-list__item--disabled",itemFocused:"sv-list__item--focused",itemIcon:"sv-list__item-icon",itemSeparator:"sv-list__item-separator",itemBody:"sv-list__item-body",itemsContainer:"sv-list",itemsContainerFiltering:"sv-list--filtering",filter:"sv-list__filter",filterIcon:"sv-list__filter-icon",filterInput:"sv-list__input",emptyContainer:"sv-list__empty-container",emptyText:"sv-list__empty-text"},f=function(e){l(m,e);function m(s,a,c,r,t,n){var o=e.call(this)||this;return o.onSelectionChanged=a,o.allowSelection=c,o.onFilterStringChangedCallback=t,o.elementId=n,o.onItemClick=function(u){o.isItemDisabled(u)||(o.isExpanded=!1,o.allowSelection&&(o.selectedItem=u),o.onSelectionChanged&&o.onSelectionChanged(u))},o.isItemDisabled=function(u){return u.enabled!==void 0&&!u.enabled},o.isItemSelected=function(u){return o.areSameItems(o.selectedItem,u)},o.isItemFocused=function(u){return o.areSameItems(o.focusedItem,u)},o.getListClass=function(){return new A.CssClassBuilder().append(o.cssClasses.itemsContainer).append(o.cssClasses.itemsContainerFiltering,!!o.filterString&&o.visibleActions.length!==o.visibleItems.length).toString()},o.getItemClass=function(u){return new A.CssClassBuilder().append(o.cssClasses.item).append(o.cssClasses.itemWithIcon,!!u.iconName).append(o.cssClasses.itemDisabled,o.isItemDisabled(u)).append(o.cssClasses.itemFocused,o.isItemFocused(u)).append(o.cssClasses.itemSelected,o.isItemSelected(u)).append(u.css).toString()},o.getItemIndent=function(u){var v=u.level||0;return(v+1)*m.INDENT+"px"},o.setItems(s),o.selectedItem=r,o}return m.prototype.hasText=function(s,a){if(!a)return!0;var c=s.title||"";if(this.onTextSearchCallback)return this.onTextSearchCallback(s,a);var r=c.toLocaleLowerCase();return r=O.settings.comparator.normalizeTextCallback(r,"filter"),r.indexOf(a.toLocaleLowerCase())>-1},m.prototype.isItemVisible=function(s){return s.visible&&(!this.shouldProcessFilter||this.hasText(s,this.filterString))},Object.defineProperty(m.prototype,"visibleItems",{get:function(){var s=this;return this.visibleActions.filter(function(a){return s.isItemVisible(a)})},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"shouldProcessFilter",{get:function(){return!this.onFilterStringChangedCallback},enumerable:!1,configurable:!0}),m.prototype.onFilterStringChanged=function(s){var a=this;this.onFilterStringChangedCallback&&this.onFilterStringChangedCallback(s),this.isEmpty=this.renderedActions.filter(function(c){return a.isItemVisible(c)}).length===0},m.prototype.scrollToItem=function(s,a){var c=this;a===void 0&&(a=0),setTimeout(function(){if(c.listContainerHtmlElement){var r=c.listContainerHtmlElement.querySelector("."+s);r&&setTimeout(function(){r.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},a)}},a)},m.prototype.setOnFilterStringChangedCallback=function(s){this.onFilterStringChangedCallback=s},m.prototype.setOnTextSearchCallback=function(s){this.onTextSearchCallback=s},m.prototype.setItems=function(s,a){var c=this;a===void 0&&(a=!0),e.prototype.setItems.call(this,s,a),this.elementId&&this.renderedActions.forEach(function(r){r.elementId=c.elementId+r.id}),!this.isAllDataLoaded&&this.actions.length&&this.actions.push(this.loadingIndicator)},m.prototype.onSet=function(){this.showFilter=this.searchEnabled&&(this.forceShowFilter||(this.actions||[]).length>m.MINELEMENTCOUNT),e.prototype.onSet.call(this)},m.prototype.getDefaultCssClasses=function(){return p},m.prototype.areSameItems=function(s,a){return this.areSameItemsCallback?this.areSameItemsCallback(s,a):!!s&&!!a&&s.id==a.id},Object.defineProperty(m.prototype,"filterStringPlaceholder",{get:function(){return this.getLocalizationString("filterStringPlaceholder")},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"emptyMessage",{get:function(){return this.isAllDataLoaded?this.getLocalizationString("emptyMessage"):this.loadingText},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"scrollableContainer",{get:function(){return this.listContainerHtmlElement.querySelector("."+this.getDefaultCssClasses().itemsContainer)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"loadingText",{get:function(){return this.getLocalizationString("loadingFile")},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"loadingIndicator",{get:function(){return this.loadingIndicatorValue||(this.loadingIndicatorValue=new D.Action({id:"loadingIndicator",title:this.loadingText,action:function(){},css:this.cssClasses.loadingIndicator})),this.loadingIndicatorValue},enumerable:!1,configurable:!0}),m.prototype.goToItems=function(s){if(s.key==="ArrowDown"||s.keyCode===40){var a=s.target.parentElement,c=a.parentElement.querySelector("ul"),r=Object(V.getFirstVisibleChild)(c);c&&r&&(R.ElementHelper.focusElement(r),s.preventDefault())}},m.prototype.onMouseMove=function(s){this.resetFocusedItem()},m.prototype.onKeyDown=function(s){var a=s.target;s.key==="ArrowDown"||s.keyCode===40?(R.ElementHelper.focusElement(R.ElementHelper.getNextElementPreorder(a)),s.preventDefault()):(s.key==="ArrowUp"||s.keyCode===38)&&(R.ElementHelper.focusElement(R.ElementHelper.getNextElementPostorder(a)),s.preventDefault())},m.prototype.onPointerDown=function(s,a){},m.prototype.refresh=function(){this.filterString="",this.resetFocusedItem()},m.prototype.onClickSearchClearButton=function(s){s.currentTarget.parentElement.querySelector("input").focus(),this.refresh()},m.prototype.resetFocusedItem=function(){this.focusedItem=void 0},m.prototype.focusFirstVisibleItem=function(){this.focusedItem=this.visibleItems[0]},m.prototype.focusLastVisibleItem=function(){this.focusedItem=this.visibleItems[this.visibleItems.length-1]},m.prototype.initFocusedItem=function(){var s=this;this.focusedItem=this.visibleItems.filter(function(a){return a.visible&&s.isItemSelected(a)})[0],this.focusedItem||this.focusFirstVisibleItem()},m.prototype.focusNextVisibleItem=function(){if(!this.focusedItem)this.initFocusedItem();else{var s=this.visibleItems,a=s.indexOf(this.focusedItem),c=s[a+1];c?this.focusedItem=c:this.focusFirstVisibleItem()}},m.prototype.focusPrevVisibleItem=function(){if(!this.focusedItem)this.initFocusedItem();else{var s=this.visibleItems,a=s.indexOf(this.focusedItem),c=s[a-1];c?this.focusedItem=c:this.focusLastVisibleItem()}},m.prototype.selectFocusedItem=function(){this.focusedItem&&this.onItemClick(this.focusedItem)},m.prototype.initListContainerHtmlElement=function(s){this.listContainerHtmlElement=s},m.prototype.onLastItemRended=function(s){this.isAllDataLoaded||s===this.actions[this.actions.length-1]&&this.listContainerHtmlElement&&(this.hasVerticalScroller=R.ElementHelper.hasVerticalScroller(this.scrollableContainer))},m.prototype.scrollToFocusedItem=function(){this.scrollToItem(this.getDefaultCssClasses().itemFocused)},m.prototype.scrollToSelectedItem=function(){this.scrollToItem(this.getDefaultCssClasses().itemSelected,110)},m.prototype.addScrollEventListener=function(s){s&&(this.scrollHandler=s),this.scrollHandler&&this.scrollableContainer.addEventListener("scroll",this.scrollHandler)},m.prototype.removeScrollEventListener=function(){this.scrollHandler&&this.scrollableContainer.removeEventListener("scroll",this.scrollHandler)},m.prototype.dispose=function(){e.prototype.dispose.call(this),this.loadingIndicatorValue&&this.loadingIndicatorValue.dispose(),this.listContainerHtmlElement=void 0},m.INDENT=16,m.MINELEMENTCOUNT=10,y([Object(P.property)({defaultValue:!0,onSet:function(s,a){a.onSet()}})],m.prototype,"searchEnabled",void 0),y([Object(P.property)({defaultValue:!1})],m.prototype,"showFilter",void 0),y([Object(P.property)({defaultValue:!1})],m.prototype,"forceShowFilter",void 0),y([Object(P.property)({defaultValue:!1})],m.prototype,"isExpanded",void 0),y([Object(P.property)({})],m.prototype,"selectedItem",void 0),y([Object(P.property)()],m.prototype,"focusedItem",void 0),y([Object(P.property)({onSet:function(s,a){a.onFilterStringChanged(a.filterString)}})],m.prototype,"filterString",void 0),y([Object(P.property)({defaultValue:!1})],m.prototype,"hasVerticalScroller",void 0),y([Object(P.property)({defaultValue:!0})],m.prototype,"isAllDataLoaded",void 0),y([Object(P.property)({defaultValue:!1})],m.prototype,"showSearchClearButton",void 0),y([Object(P.property)({defaultValue:!0})],m.prototype,"renderElements",void 0),m}(C.ActionContainer)},"./src/localizablestring.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"LocalizableString",function(){return R}),d.d(M,"LocalizableStrings",function(){return V});var P=d("./src/helpers.ts"),C=d("./src/surveyStrings.ts"),D=d("./src/settings.ts"),A=d("./src/base.ts"),R=function(){function O(l,y,p){y===void 0&&(y=!1),this.owner=l,this.useMarkdown=y,this.name=p,this.values={},this.htmlValues={},this.onStringChanged=new A.EventBase,this.onCreating()}return Object.defineProperty(O,"defaultLocale",{get:function(){return D.settings.localization.defaultLocaleName},set:function(l){D.settings.localization.defaultLocaleName=l},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"localizationName",{get:function(){return this._localizationName},set:function(l){this._localizationName!=l&&(this._localizationName=l,this.strChanged())},enumerable:!1,configurable:!0}),O.prototype.getIsMultiple=function(){return!1},Object.defineProperty(O.prototype,"locale",{get:function(){if(this.owner&&this.owner.getLocale){var l=this.owner.getLocale();if(l||!this.sharedData)return l}return this.sharedData?this.sharedData.locale:""},enumerable:!1,configurable:!0}),O.prototype.strChanged=function(){this.searchableText=void 0,this.renderedText!==void 0&&(this.calculatedTextValue=this.calcText(),this.renderedText!==this.calculatedTextValue&&(this.renderedText=void 0,this.calculatedTextValue=void 0),this.htmlValues={},this.onChanged(),this.onStringChanged.fire(this,{}))},Object.defineProperty(O.prototype,"text",{get:function(){return this.pureText},set:function(l){this.setLocaleText(this.locale,l)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"calculatedText",{get:function(){return this.renderedText=this.calculatedTextValue!==void 0?this.calculatedTextValue:this.calcText(),this.calculatedTextValue=void 0,this.renderedText},enumerable:!1,configurable:!0}),O.prototype.calcText=function(){var l=this.pureText;return l&&this.owner&&this.owner.getProcessedText&&l.indexOf("{")>-1&&(l=this.owner.getProcessedText(l)),this.onGetTextCallback&&(l=this.onGetTextCallback(l)),l},Object.defineProperty(O.prototype,"pureText",{get:function(){var l=this.locale;l||(l=this.defaultLoc);var y=this.getValue(l);if(this.isValueEmpty(y)&&l===this.defaultLoc&&(y=this.getValue(C.surveyLocalization.defaultLocale)),this.isValueEmpty(y)){var p=this.getRootDialect(l);p&&(y=this.getValue(p))}return this.isValueEmpty(y)&&l!==this.defaultLoc&&(y=this.getValue(this.defaultLoc)),this.isValueEmpty(y)&&this.getLocalizationName()&&(y=this.getLocalizationStr(),this.onGetLocalizationTextCallback&&(y=this.onGetLocalizationTextCallback(y))),y||(y=this.defaultValue||""),y},enumerable:!1,configurable:!0}),O.prototype.getRootDialect=function(l){if(!l)return l;var y=l.indexOf("-");return y>-1?l.substring(0,y):""},O.prototype.getLocalizationName=function(){return this.sharedData?this.sharedData.localizationName:this.localizationName},O.prototype.getLocalizationStr=function(){var l=this.getLocalizationName();return l?C.surveyLocalization.getString(l,this.locale):""},Object.defineProperty(O.prototype,"hasHtml",{get:function(){return this.hasHtmlValue()},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"html",{get:function(){return this.hasHtml?this.getHtmlValue():""},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"isEmpty",{get:function(){return this.getValuesKeys().length==0},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"textOrHtml",{get:function(){return this.hasHtml?this.getHtmlValue():this.calculatedText},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"renderedHtml",{get:function(){return this.textOrHtml},enumerable:!1,configurable:!0}),O.prototype.getLocaleText=function(l){var y=this.getLocaleTextCore(l);return y||""},O.prototype.getLocaleTextCore=function(l){return l||(l=this.defaultLoc),this.getValue(l)},O.prototype.isLocaleTextEqualsWithDefault=function(l,y){var p=this.getLocaleTextCore(l);return p===y?!0:this.isValueEmpty(p)&&this.isValueEmpty(y)},O.prototype.clear=function(){this.setJson(void 0)},O.prototype.clearLocale=function(l){this.setLocaleText(l,void 0)},O.prototype.setLocaleText=function(l,y){if(l=this.getValueLoc(l),!this.storeDefaultText&&this.isLocaleTextEqualsWithDefault(l,y)){if(!this.isValueEmpty(y)||l&&l!==this.defaultLoc)return;var p=C.surveyLocalization.defaultLocale,f=this.getValue(p);p&&!this.isValueEmpty(f)&&(this.setValue(p,y),this.fireStrChanged(p,f));return}if(!(!D.settings.localization.storeDuplicatedTranslations&&!this.isValueEmpty(y)&&l&&l!=this.defaultLoc&&!this.getValue(l)&&y==this.getLocaleText(this.defaultLoc))){var e=this.curLocale;l||(l=this.defaultLoc);var m=this.onStrChanged&&l===e?this.pureText:void 0;delete this.htmlValues[l],this.isValueEmpty(y)?this.deleteValue(l):typeof y=="string"&&(this.canRemoveLocValue(l,y)?this.setLocaleText(l,null):(this.setValue(l,y),l==this.defaultLoc&&this.deleteValuesEqualsToDefault(y))),this.fireStrChanged(l,m)}},O.prototype.isValueEmpty=function(l){return l==null?!0:this.localizationName?!1:l===""},Object.defineProperty(O.prototype,"curLocale",{get:function(){return this.locale?this.locale:this.defaultLoc},enumerable:!1,configurable:!0}),O.prototype.canRemoveLocValue=function(l,y){if(D.settings.localization.storeDuplicatedTranslations||l===this.defaultLoc)return!1;var p=this.getRootDialect(l);if(p){var f=this.getLocaleText(p);return f?f==y:this.canRemoveLocValue(p,y)}else return y==this.getLocaleText(this.defaultLoc)},O.prototype.fireStrChanged=function(l,y){if(this.strChanged(),!!this.onStrChanged){var p=this.pureText;(l!==this.curLocale||y!==p)&&this.onStrChanged(y,p)}},O.prototype.hasNonDefaultText=function(){var l=this.getValuesKeys();return l.length==0?!1:l.length>1||l[0]!=this.defaultLoc},O.prototype.getLocales=function(){var l=this.getValuesKeys();return l.length==0?[]:l},O.prototype.getJson=function(){if(this.sharedData)return this.sharedData.getJson();var l=this.getValuesKeys();return l.length==0?null:l.length==1&&l[0]==D.settings.localization.defaultLocaleName&&!D.settings.serialization.localizableStringSerializeAsObject?this.values[l[0]]:this.values},O.prototype.setJson=function(l){if(this.sharedData){this.sharedData.setJson(l);return}if(this.values={},this.htmlValues={},l!=null){if(typeof l=="string")this.setLocaleText(null,l);else for(var y in l)this.setLocaleText(y,l[y]);this.strChanged()}},Object.defineProperty(O.prototype,"renderAs",{get:function(){return!this.owner||typeof this.owner.getRenderer!="function"?O.defaultRenderer:this.owner.getRenderer(this.name)||O.defaultRenderer},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"renderAsData",{get:function(){return!this.owner||typeof this.owner.getRendererContext!="function"?this:this.owner.getRendererContext(this)||this},enumerable:!1,configurable:!0}),O.prototype.equals=function(l){return this.sharedData?this.sharedData.equals(l):!l||!l.values?!1:P.Helpers.isTwoValueEquals(this.values,l.values,!1,!0,!1)},O.prototype.setFindText=function(l){if(this.searchText!=l){if(this.searchText=l,!this.searchableText){var y=this.textOrHtml;this.searchableText=y?y.toLowerCase():""}var p=this.searchableText,f=p&&l?p.indexOf(l):void 0;return f<0&&(f=void 0),(f!=null||this.searchIndex!=f)&&(this.searchIndex=f,this.onSearchChanged&&this.onSearchChanged()),this.searchIndex!=null}},O.prototype.onChanged=function(){},O.prototype.onCreating=function(){},O.prototype.hasHtmlValue=function(){if(!this.owner||!this.useMarkdown)return!1;var l=this.locale;if(l||(l=this.defaultLoc),this.htmlValues[l]!==void 0)return!!this.htmlValues[l];var y=this.calculatedText;if(!y)return this.setHtmlValue(l,""),!1;if(this.getLocalizationName()&&y===this.getLocalizationStr())return this.setHtmlValue(l,""),!1;var p=this.owner.getMarkdownHtml(y,this.name);return this.setHtmlValue(l,p),!!p},O.prototype.setHtmlValue=function(l,y){this.htmlValues[l]=y},O.prototype.getHtmlValue=function(){var l=this.locale;return l||(l=this.defaultLoc),this.htmlValues[l]},O.prototype.deleteValuesEqualsToDefault=function(l){if(!D.settings.localization.storeDuplicatedTranslations)for(var y=this.getValuesKeys(),p=0;p<y.length;p++)y[p]!=this.defaultLoc&&this.getValue(y[p])==l&&this.deleteValue(y[p])},O.prototype.getValue=function(l){return this.sharedData?this.sharedData.getValue(l):this.values[this.getValueLoc(l)]},O.prototype.setValue=function(l,y){this.sharedData?this.sharedData.setValue(l,y):this.values[this.getValueLoc(l)]=y},O.prototype.deleteValue=function(l){this.sharedData?this.sharedData.deleteValue(l):delete this.values[this.getValueLoc(l)]},O.prototype.getValueLoc=function(l){return this.disableLocalization?D.settings.localization.defaultLocaleName:l},O.prototype.getValuesKeys=function(){return this.sharedData?this.sharedData.getValuesKeys():Object.keys(this.values)},Object.defineProperty(O.prototype,"defaultLoc",{get:function(){return D.settings.localization.defaultLocaleName},enumerable:!1,configurable:!0}),O.SerializeAsObject=!1,O.defaultRenderer="sv-string-viewer",O.editableRenderer="sv-string-editor",O}(),V=function(){function O(l){this.owner=l,this.values={}}return O.prototype.getIsMultiple=function(){return!0},Object.defineProperty(O.prototype,"locale",{get:function(){return this.owner&&this.owner.getLocale?this.owner.getLocale():""},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"value",{get:function(){return this.getValue("")},set:function(l){this.setValue("",l)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"text",{get:function(){return Array.isArray(this.value)?this.value.join(`
`):""},set:function(l){this.value=l?l.split(`
`):[]},enumerable:!1,configurable:!0}),O.prototype.getLocaleText=function(l){var y=this.getValueCore(l,!l||l===this.locale);return!y||!Array.isArray(y)||y.length==0?"":y.join(`
`)},O.prototype.setLocaleText=function(l,y){var p=y?y.split(`
`):null;this.setValue(l,p)},O.prototype.getValue=function(l){return this.getValueCore(l)},O.prototype.getValueCore=function(l,y){if(y===void 0&&(y=!0),l=this.getLocale(l),this.values[l])return this.values[l];if(y){var p=D.settings.localization.defaultLocaleName;if(l!==p&&this.values[p])return this.values[p]}return[]},O.prototype.setValue=function(l,y){l=this.getLocale(l);var p=P.Helpers.createCopy(this.values);!y||y.length==0?delete this.values[l]:this.values[l]=y,this.onValueChanged&&this.onValueChanged(p,this.values)},O.prototype.hasValue=function(l){return l===void 0&&(l=""),!this.isEmpty&&this.getValue(l).length>0},Object.defineProperty(O.prototype,"isEmpty",{get:function(){return this.getValuesKeys().length==0},enumerable:!1,configurable:!0}),O.prototype.getLocale=function(l){return l||(l=this.locale,l||D.settings.localization.defaultLocaleName)},O.prototype.getLocales=function(){var l=this.getValuesKeys();return l.length==0?[]:l},O.prototype.getJson=function(){var l=this.getValuesKeys();return l.length==0?null:l.length==1&&l[0]==D.settings.localization.defaultLocaleName&&!D.settings.serialization.localizableStringSerializeAsObject?this.values[l[0]]:P.Helpers.createCopy(this.values)},O.prototype.setJson=function(l){if(this.values={},!!l)if(Array.isArray(l))this.setValue(null,l);else for(var y in l)this.setValue(y,l[y])},O.prototype.getValuesKeys=function(){return Object.keys(this.values)},O}()},"./src/localization/english.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"englishStrings",function(){return P});var P={pagePrevText:"Previous",pageNextText:"Next",completeText:"Complete",previewText:"Preview",editText:"Edit",startSurveyText:"Start",otherItemText:"Other (describe)",noneItemText:"None",refuseItemText:"Refuse to answer",dontKnowItemText:"Don't know",selectAllItemText:"Select All",progressText:"Page {0} of {1}",indexText:"{0} of {1}",panelDynamicProgressText:"{0} of {1}",panelDynamicTabTextFormat:"Panel {panelIndex}",questionsProgressText:"Answered {0}/{1} questions",emptySurvey:"The survey doesn't contain any visible elements.",completingSurvey:"Thank you for completing the survey",completingSurveyBefore:"Our records show that you have already completed this survey.",loadingSurvey:"Loading Survey...",placeholder:"Select...",ratingOptionsCaption:"Select...",value:"value",requiredError:"Response required.",requiredErrorInPanel:"Response required: answer at least one question.",requiredInAllRowsError:"Response required: answer questions in all rows.",eachRowUniqueError:"Each row must have a unique value.",numericError:"The value should be numeric.",minError:"The value should not be less than {0}",maxError:"The value should not be greater than {0}",textMinLength:"Please enter at least {0} character(s).",textMaxLength:"Please enter no more than {0} character(s).",textMinMaxLength:"Please enter at least {0} and no more than {1} characters.",minRowCountError:"Please fill in at least {0} row(s).",minSelectError:"Please select at least {0} option(s).",maxSelectError:"Please select no more than {0} option(s).",numericMinMax:"The '{0}' should be at least {1} and at most {2}",numericMin:"The '{0}' should be at least {1}",numericMax:"The '{0}' should be at most {1}",invalidEmail:"Please enter a valid e-mail address.",invalidExpression:"The expression: {0} should return 'true'.",urlRequestError:"The request returned error '{0}'. {1}",urlGetChoicesError:"The request returned empty data or the 'path' property is incorrect",exceedMaxSize:"The file size should not exceed {0}.",noUploadFilesHandler:"Files cannot be uploaded. Please add a handler for the 'onUploadFiles' event.",otherRequiredError:"Response required: enter another value.",uploadingFile:"Your file is uploading. Please wait several seconds and try again.",loadingFile:"Loading...",chooseFile:"Choose file(s)...",noFileChosen:"No file chosen",filePlaceholder:"Drag and drop a file here or click the button below to select a file to upload.",confirmDelete:"Do you want to delete the record?",keyDuplicationError:"This value should be unique.",addColumn:"Add Column",addRow:"Add Row",removeRow:"Remove",emptyRowsText:"There are no rows.",addPanel:"Add new",removePanel:"Remove",showDetails:"Show Details",hideDetails:"Hide Details",choices_Item:"item",matrix_column:"Column",matrix_row:"Row",multipletext_itemname:"text",savingData:"The results are being saved on the server...",savingDataError:"An error occurred and we could not save the results.",savingDataSuccess:"The results were saved successfully!",saveAgainButton:"Try again",timerMin:"min",timerSec:"sec",timerSpentAll:"You have spent {0} on this page and {1} in total.",timerSpentPage:"You have spent {0} on this page.",timerSpentSurvey:"You have spent {0} in total.",timerLimitAll:"You have spent {0} of {1} on this page and {2} of {3} in total.",timerLimitPage:"You have spent {0} of {1} on this page.",timerLimitSurvey:"You have spent {0} of {1} in total.",clearCaption:"Clear",signaturePlaceHolder:"Sign here",chooseFileCaption:"Select File",takePhotoCaption:"Take Photo",photoPlaceholder:"Click the button below to take a photo using the camera.",fileOrPhotoPlaceholder:"Drag and drop or select a file to upload or take a photo using the camera.",replaceFileCaption:"Replace file",removeFileCaption:"Remove this file",booleanCheckedLabel:"Yes",booleanUncheckedLabel:"No",confirmRemoveFile:"Are you sure that you want to remove this file: {0}?",confirmRemoveAllFiles:"Are you sure that you want to remove all files?",questionTitlePatternText:"Question Title",modalCancelButtonText:"Cancel",modalApplyButtonText:"Apply",filterStringPlaceholder:"Type to search...",emptyMessage:"No data to display",noEntriesText:`There are no entries yet.
Click the button below to add a new entry.`,noEntriesReadonlyText:"There are no entries.",more:"More",tagboxDoneButtonCaption:"OK",selectToRankEmptyRankedAreaText:"All choices are ranked",selectToRankEmptyUnrankedAreaText:"Drag and drop choices here to rank them",ok:"OK",cancel:"Cancel"}},"./src/martixBase.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"QuestionMatrixBaseModel",function(){return y});var P=d("./src/itemvalue.ts"),C=d("./src/question.ts"),D=d("./src/jsonobject.ts"),A=d("./src/conditions.ts"),R=d("./src/helpers.ts"),V=d("./src/utils/cssClassBuilder.ts"),O=function(){var p=function(f,e){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,s){m.__proto__=s}||function(m,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(m[a]=s[a])},p(f,e)};return function(f,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");p(f,e);function m(){this.constructor=f}f.prototype=e===null?Object.create(e):(m.prototype=e.prototype,new m)}}(),l=function(p,f,e,m){var s=arguments.length,a=s<3?f:m===null?m=Object.getOwnPropertyDescriptor(f,e):m,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(p,f,e,m);else for(var r=p.length-1;r>=0;r--)(c=p[r])&&(a=(s<3?c(a):s>3?c(f,e,a):c(f,e))||a);return s>3&&a&&Object.defineProperty(f,e,a),a},y=function(p){O(f,p);function f(e){var m=p.call(this,e)||this;return m.generatedVisibleRows=null,m.generatedTotalRow=null,m.filteredRows=null,m.filteredColumns=null,m.columns=m.createColumnValues(),m.rows=m.createItemValues("rows"),m}return f.prototype.createColumnValues=function(){return this.createItemValues("columns")},f.prototype.getType=function(){return"matrixbase"},f.prototype.endLoadingFromJson=function(){p.prototype.endLoadingFromJson.call(this),this.updateVisibilityBasedOnRows()},Object.defineProperty(f.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"showHeader",{get:function(){return this.getPropertyValue("showHeader")},set:function(e){this.setPropertyValue("showHeader",e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"columns",{get:function(){return this.getPropertyValue("columns")},set:function(e){this.setPropertyValue("columns",e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"visibleColumns",{get:function(){return this.filteredColumns?this.filteredColumns:this.columns},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},set:function(e){var m=this.processRowsOnSet(e);this.setPropertyValue("rows",m),this.filterItems()},enumerable:!1,configurable:!0}),f.prototype.processRowsOnSet=function(e){return e},f.prototype.getVisibleRows=function(){return[]},Object.defineProperty(f.prototype,"visibleRows",{get:function(){return this.getVisibleRows()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"rowsVisibleIf",{get:function(){return this.getPropertyValue("rowsVisibleIf","")},set:function(e){this.setPropertyValue("rowsVisibleIf",e),this.filterItems()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"columnsVisibleIf",{get:function(){return this.getPropertyValue("columnsVisibleIf","")},set:function(e){this.setPropertyValue("columnsVisibleIf",e),this.filterItems()},enumerable:!1,configurable:!0}),f.prototype.runCondition=function(e,m){p.prototype.runCondition.call(this,e,m),this.runItemsCondition(e,m)},f.prototype.filterItems=function(){return this.areInvisibleElementsShowing?(this.onRowsChanged(),!1):this.isLoadingFromJson||!this.data?!1:this.runItemsCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())},f.prototype.onColumnsChanged=function(){},f.prototype.onRowsChanged=function(){this.updateVisibilityBasedOnRows(),this.fireCallback(this.visibleRowsChangedCallback)},f.prototype.updateVisibilityBasedOnRows=function(){this.hideIfRowsEmpty&&(this.visible=this.rows.length>0&&(!this.filteredRows||this.filteredRows.length>0))},f.prototype.shouldRunColumnExpression=function(){return!this.survey||!this.survey.areInvisibleElementsShowing},f.prototype.hasRowsAsItems=function(){return!0},f.prototype.runItemsCondition=function(e,m){var s=null;if(this.filteredRows&&!R.Helpers.isValueEmpty(this.defaultValue)){s=[];for(var a=0;a<this.filteredRows.length;a++)s.push(this.filteredRows[a])}var c=this.hasRowsAsItems()&&this.runConditionsForRows(e,m),r=this.runConditionsForColumns(e,m);return c=r||c,c&&(this.isClearValueOnHidden&&(this.filteredColumns||this.filteredRows)&&this.clearIncorrectValues(),s&&this.restoreNewVisibleRowsValues(s),this.clearGeneratedRows(),r&&this.onColumnsChanged(),this.onRowsChanged()),c},f.prototype.clearGeneratedRows=function(){this.generatedVisibleRows=null},f.prototype.runConditionsForRows=function(e,m){var s=!!this.survey&&this.survey.areInvisibleElementsShowing,a=!s&&this.rowsVisibleIf?new A.ConditionRunner(this.rowsVisibleIf):null;this.filteredRows=[];var c=P.ItemValue.runConditionsForItems(this.rows,this.filteredRows,a,e,m,!s);return this.filteredRows.length===this.rows.length&&(this.filteredRows=null),c},f.prototype.runConditionsForColumns=function(e,m){var s=!!this.survey&&!this.survey.areInvisibleElementsShowing,a=s&&this.columnsVisibleIf?new A.ConditionRunner(this.columnsVisibleIf):null;this.filteredColumns=[];var c=P.ItemValue.runConditionsForItems(this.columns,this.filteredColumns,a,e,m,this.shouldRunColumnExpression());return this.filteredColumns.length===this.columns.length&&(this.filteredColumns=null),c},f.prototype.clearIncorrectValues=function(){var e=this.value;if(e){var m=null,s=!1,a=this.filteredRows?this.filteredRows:this.rows,c=this.filteredColumns?this.filteredColumns:this.columns;for(var r in e)P.ItemValue.getItemByValue(a,r)&&P.ItemValue.getItemByValue(c,e[r])?(m==null&&(m={}),m[r]=e[r]):s=!0;s&&(this.value=m),p.prototype.clearIncorrectValues.call(this)}},f.prototype.clearInvisibleValuesInRows=function(){if(!this.isEmpty()){for(var e=this.getUnbindValue(this.value),m=this.rows,s=0;s<m.length;s++){var a=m[s].value;e[a]&&!m[s].isVisible&&delete e[a]}this.isTwoValueEquals(e,this.value)||(this.value=e)}},f.prototype.restoreNewVisibleRowsValues=function(e){var m=this.filteredRows?this.filteredRows:this.rows,s=this.defaultValue,a=this.getUnbindValue(this.value),c=!1;for(var r in s)P.ItemValue.getItemByValue(m,r)&&!P.ItemValue.getItemByValue(e,r)&&(a==null&&(a={}),a[r]=s[r],c=!0);c&&(this.value=a)},f.prototype.needResponsiveWidth=function(){return!0},f.prototype.getTableCss=function(){var e;return new V.CssClassBuilder().append(this.cssClasses.root).append(this.cssClasses.noHeader,!this.showHeader).append(this.cssClasses.hasFooter,!!(!((e=this.renderedTable)===null||e===void 0)&&e.showAddRowOnBottom)).append(this.cssClasses.rootAlternateRows,this.alternateRows).append(this.cssClasses.rootVerticalAlignTop,this.verticalAlign==="top").append(this.cssClasses.rootVerticalAlignMiddle,this.verticalAlign==="middle").toString()},Object.defineProperty(f.prototype,"columnMinWidth",{get:function(){return this.getPropertyValue("columnMinWidth")||""},set:function(e){this.setPropertyValue("columnMinWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"rowTitleWidth",{get:function(){return this.getPropertyValue("rowTitleWidth")||""},set:function(e){this.setPropertyValue("rowTitleWidth",e)},enumerable:!1,configurable:!0}),f.prototype.getCellAriaLabel=function(e,m){var s=(this.getLocalizationString("matrix_row")||"row").toLocaleLowerCase(),a=(this.getLocalizationString("matrix_column")||"column").toLocaleLowerCase();return s+" "+e+", "+a+" "+m},Object.defineProperty(f.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),l([Object(D.property)()],f.prototype,"verticalAlign",void 0),l([Object(D.property)()],f.prototype,"alternateRows",void 0),f}(C.Question);D.Serializer.addClass("matrixbase",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},"columnsVisibleIf:condition","rowsVisibleIf:condition","columnMinWidth",{name:"showHeader:boolean",default:!0},{name:"verticalAlign",choices:["top","middle"],default:"middle"},{name:"alternateRows:boolean",default:!1}],void 0,"question")},"./src/multiSelectListModel.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"MultiSelectListModel",function(){return R});var P=d("./src/jsonobject.ts"),C=d("./src/list.ts"),D=function(){var V=function(O,l){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,p){y.__proto__=p}||function(y,p){for(var f in p)Object.prototype.hasOwnProperty.call(p,f)&&(y[f]=p[f])},V(O,l)};return function(O,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");V(O,l);function y(){this.constructor=O}O.prototype=l===null?Object.create(l):(y.prototype=l.prototype,new y)}}(),A=function(V,O,l,y){var p=arguments.length,f=p<3?O:y===null?y=Object.getOwnPropertyDescriptor(O,l):y,e;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(V,O,l,y);else for(var m=V.length-1;m>=0;m--)(e=V[m])&&(f=(p<3?e(f):p>3?e(O,l,f):e(O,l))||f);return p>3&&f&&Object.defineProperty(O,l,f),f},R=function(V){D(O,V);function O(l,y,p,f,e,m){var s=V.call(this,l,y,p,void 0,e,m)||this;return s.onItemClick=function(a){s.isItemDisabled(a)||(s.isExpanded=!1,s.isItemSelected(a)?(s.selectedItems.splice(s.selectedItems.indexOf(a),1)[0],s.onSelectionChanged&&s.onSelectionChanged(a,"removed")):(s.selectedItems.push(a),s.onSelectionChanged&&s.onSelectionChanged(a,"added")))},s.isItemDisabled=function(a){return a.enabled!==void 0&&!a.enabled},s.isItemSelected=function(a){return!!s.allowSelection&&s.selectedItems.filter(function(c){return s.areSameItems(c,a)}).length>0},s.setSelectedItems(f||[]),s}return O.prototype.updateItemState=function(){var l=this;this.actions.forEach(function(y){var p=l.isItemSelected(y);y.visible=l.hideSelectedItems?!p:!0})},O.prototype.updateState=function(){var l=this;this.updateItemState(),this.isEmpty=this.renderedActions.filter(function(y){return l.isItemVisible(y)}).length===0},O.prototype.setSelectedItems=function(l){this.selectedItems=l,this.updateState()},O.prototype.selectFocusedItem=function(){V.prototype.selectFocusedItem.call(this),this.hideSelectedItems&&this.focusNextVisibleItem()},A([Object(P.property)()],O.prototype,"hideSelectedItems",void 0),O}(C.ListModel)},"./src/notifier.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"Notifier",function(){return l});var P=d("./src/base.ts"),C=d("./src/settings.ts"),D=d("./src/jsonobject.ts"),A=d("./src/utils/cssClassBuilder.ts"),R=d("./src/actions/container.ts"),V=function(){var y=function(p,f){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,m){e.__proto__=m}||function(e,m){for(var s in m)Object.prototype.hasOwnProperty.call(m,s)&&(e[s]=m[s])},y(p,f)};return function(p,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");y(p,f);function e(){this.constructor=p}p.prototype=f===null?Object.create(f):(e.prototype=f.prototype,new e)}}(),O=function(y,p,f,e){var m=arguments.length,s=m<3?p:e===null?e=Object.getOwnPropertyDescriptor(p,f):e,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(y,p,f,e);else for(var c=y.length-1;c>=0;c--)(a=y[c])&&(s=(m<3?a(s):m>3?a(p,f,s):a(p,f))||s);return m>3&&s&&Object.defineProperty(p,f,s),s},l=function(y){V(p,y);function p(f){var e=y.call(this)||this;return e.cssClasses=f,e.timeout=C.settings.notifications.lifetime,e.timer=void 0,e.actionsVisibility={},e.showActions=!0,e.actionBar=new R.ActionContainer,e.actionBar.updateCallback=function(m){e.actionBar.actions.forEach(function(s){return s.cssClasses={}})},e.css=e.cssClasses.root,e}return p.prototype.getCssClass=function(f){return new A.CssClassBuilder().append(this.cssClasses.root).append(this.cssClasses.rootWithButtons,this.actionBar.visibleActions.length>0).append(this.cssClasses.info,f!=="error"&&f!=="success").append(this.cssClasses.error,f==="error").append(this.cssClasses.success,f==="success").append(this.cssClasses.shown,this.active).toString()},p.prototype.updateActionsVisibility=function(f){var e=this;this.actionBar.actions.forEach(function(m){return m.visible=e.showActions&&e.actionsVisibility[m.id]===f})},p.prototype.notify=function(f,e,m){var s=this;e===void 0&&(e="info"),m===void 0&&(m=!1),this.isDisplayed=!0,setTimeout(function(){s.updateActionsVisibility(e),s.message=f,s.active=!0,s.css=s.getCssClass(e),s.timer&&(clearTimeout(s.timer),s.timer=void 0),m||(s.timer=setTimeout(function(){s.timer=void 0,s.active=!1,s.css=s.getCssClass(e)},s.timeout))},1)},p.prototype.addAction=function(f,e){f.visible=!1,f.innerCss=this.cssClasses.button;var m=this.actionBar.addAction(f);this.actionsVisibility[m.id]=e},O([Object(D.property)({defaultValue:!1})],p.prototype,"active",void 0),O([Object(D.property)({defaultValue:!1})],p.prototype,"isDisplayed",void 0),O([Object(D.property)()],p.prototype,"message",void 0),O([Object(D.property)()],p.prototype,"css",void 0),p}(P.Base)},"./src/page.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"PageModel",function(){return O});var P=d("./src/jsonobject.ts"),C=d("./src/panel.ts"),D=d("./src/utils/cssClassBuilder.ts"),A=d("./src/drag-drop-page-helper-v1.ts"),R=function(){var l=function(y,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var m in e)Object.prototype.hasOwnProperty.call(e,m)&&(f[m]=e[m])},l(y,p)};return function(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");l(y,p);function f(){this.constructor=y}y.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}(),V=function(l,y,p,f){var e=arguments.length,m=e<3?y:f===null?f=Object.getOwnPropertyDescriptor(y,p):f,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,y,p,f);else for(var a=l.length-1;a>=0;a--)(s=l[a])&&(m=(e<3?s(m):e>3?s(y,p,m):s(y,p))||m);return e>3&&m&&Object.defineProperty(y,p,m),m},O=function(l){R(y,l);function y(p){p===void 0&&(p="");var f=l.call(this,p)||this;return f.hasShownValue=!1,f.timeSpent=0,f.locTitle.onGetTextCallback=function(e){return f.canShowPageNumber()&&e?f.num+". "+e:e},f.createLocalizableString("navigationTitle",f,!0),f.createLocalizableString("navigationDescription",f,!0),f.dragDropPageHelper=new A.DragDropPageHelperV1(f),f}return y.prototype.getType=function(){return"page"},y.prototype.toString=function(){return this.name},Object.defineProperty(y.prototype,"isPage",{get:function(){return!0},enumerable:!1,configurable:!0}),y.prototype.canShowPageNumber=function(){return this.survey&&this.survey.showPageNumbers},y.prototype.canShowTitle=function(){return this.survey&&this.survey.showPageTitles},Object.defineProperty(y.prototype,"navigationTitle",{get:function(){return this.getLocalizableStringText("navigationTitle")},set:function(p){this.setLocalizableStringText("navigationTitle",p)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"locNavigationTitle",{get:function(){return this.getLocalizableString("navigationTitle")},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"navigationDescription",{get:function(){return this.getLocalizableStringText("navigationDescription")},set:function(p){this.setLocalizableStringText("navigationDescription",p)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"locNavigationDescription",{get:function(){return this.getLocalizableString("navigationDescription")},enumerable:!1,configurable:!0}),y.prototype.navigationLocStrChanged=function(){this.locNavigationTitle.strChanged(),this.locNavigationDescription.strChanged()},Object.defineProperty(y.prototype,"renderedNavigationTitle",{get:function(){return this.locNavigationTitle.renderedHtml||this.title||this.name},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"passed",{get:function(){return this.getPropertyValue("passed",!1)},set:function(p){this.setPropertyValue("passed",p)},enumerable:!1,configurable:!0}),y.prototype.removeFromParent=function(){this.survey&&this.removeSelfFromList(this.survey.pages)},y.prototype.onFirstRendering=function(){this.wasShown||l.prototype.onFirstRendering.call(this)},Object.defineProperty(y.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},set:function(p){this.setPropertyValue("visibleIndex",p)},enumerable:!1,configurable:!0}),y.prototype.canRenderFirstRows=function(){return!this.isDesignMode||this.visibleIndex==0},Object.defineProperty(y.prototype,"isStartPage",{get:function(){return this.survey&&this.survey.isPageStarted(this)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isStarted",{get:function(){return this.isStartPage},enumerable:!1,configurable:!0}),y.prototype.calcCssClasses=function(p){var f={page:{},error:{},pageTitle:"",pageDescription:"",row:"",rowMultiple:"",pageRow:"",rowCompact:""};return this.copyCssClasses(f.page,p.page),this.copyCssClasses(f.error,p.error),p.pageTitle&&(f.pageTitle=p.pageTitle),p.pageDescription&&(f.pageDescription=p.pageDescription),p.row&&(f.row=p.row),p.pageRow&&(f.pageRow=p.pageRow),p.rowMultiple&&(f.rowMultiple=p.rowMultiple),p.rowCompact&&(f.rowCompact=p.rowCompact),this.survey&&this.survey.updatePageCssClasses(this,f),f},Object.defineProperty(y.prototype,"cssTitle",{get:function(){return this.cssClasses.page?new D.CssClassBuilder().append(this.cssClasses.page.title).toString():""},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"cssRoot",{get:function(){return!this.cssClasses.page||!this.survey?"":new D.CssClassBuilder().append(this.cssClasses.page.root).append(this.cssClasses.page.emptyHeaderRoot,!this.survey.renderedHasHeader&&!(this.survey.isShowProgressBarOnTop&&!this.survey.isStaring)).toString()},enumerable:!1,configurable:!0}),y.prototype.getCssError=function(p){return new D.CssClassBuilder().append(l.prototype.getCssError.call(this,p)).append(p.page.errorsContainer).toString()},Object.defineProperty(y.prototype,"navigationButtonsVisibility",{get:function(){return this.getPropertyValue("navigationButtonsVisibility")},set:function(p){this.setPropertyValue("navigationButtonsVisibility",p.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isActive",{get:function(){return!!this.survey&&this.survey.currentPage===this},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"wasShown",{get:function(){return this.hasShownValue},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"hasShown",{get:function(){return this.wasShown},enumerable:!1,configurable:!0}),y.prototype.setWasShown=function(p){if(p!=this.hasShownValue&&(this.hasShownValue=p,!(this.isDesignMode||p!==!0))){for(var f=this.elements,e=0;e<f.length;e++)f[e].isPanel&&f[e].randomizeElements(this.areQuestionsRandomized);this.randomizeElements(this.areQuestionsRandomized)}},y.prototype.scrollToTop=function(){this.survey&&this.survey.scrollElementToTop(this,null,this,this.id)},y.prototype.getAllPanels=function(p,f){p===void 0&&(p=!1),f===void 0&&(f=!1);var e=new Array;return this.addPanelsIntoList(e,p,f),e},y.prototype.getPanels=function(p,f){return p===void 0&&(p=!1),f===void 0&&(f=!1),this.getAllPanels(p,f)},Object.defineProperty(y.prototype,"maxTimeToFinish",{get:function(){return this.getPropertyValue("maxTimeToFinish",0)},set:function(p){this.setPropertyValue("maxTimeToFinish",p)},enumerable:!1,configurable:!0}),y.prototype.onNumChanged=function(p){},y.prototype.onVisibleChanged=function(){this.isRandomizing||(l.prototype.onVisibleChanged.call(this),this.survey!=null&&this.survey.pageVisibilityChanged(this,this.isVisible))},y.prototype.getDragDropInfo=function(){return this.dragDropPageHelper.getDragDropInfo()},y.prototype.dragDropStart=function(p,f,e){e===void 0&&(e=-1),this.dragDropPageHelper.dragDropStart(p,f,e)},y.prototype.dragDropMoveTo=function(p,f,e){return f===void 0&&(f=!1),e===void 0&&(e=!1),this.dragDropPageHelper.dragDropMoveTo(p,f,e)},y.prototype.dragDropFinish=function(p){return p===void 0&&(p=!1),this.dragDropPageHelper.dragDropFinish(p)},y.prototype.ensureRowsVisibility=function(){l.prototype.ensureRowsVisibility.call(this),this.getPanels().forEach(function(p){return p.ensureRowsVisibility()})},V([Object(P.property)({defaultValue:-1,onSet:function(p,f){return f.onNumChanged(p)}})],y.prototype,"num",void 0),y}(C.PanelModelBase);P.Serializer.addClass("page",[{name:"navigationButtonsVisibility",default:"inherit",choices:["inherit","show","hide"]},{name:"maxTimeToFinish:number",default:0,minValue:0},{name:"navigationTitle",visibleIf:function(l){return!!l.survey&&(l.survey.progressBarType==="buttons"||l.survey.showTOC)},serializationProperty:"locNavigationTitle"},{name:"navigationDescription",visibleIf:function(l){return!!l.survey&&l.survey.progressBarType==="buttons"},serializationProperty:"locNavigationDescription"},{name:"title:text",serializationProperty:"locTitle"},{name:"description:text",serializationProperty:"locDescription"}],function(){return new O},"panelbase")},"./src/panel.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"QuestionRowModel",function(){return s}),d.d(M,"PanelModelBase",function(){return a}),d.d(M,"PanelModel",function(){return c});var P=d("./src/jsonobject.ts"),C=d("./src/helpers.ts"),D=d("./src/base.ts"),A=d("./src/survey-element.ts"),R=d("./src/question.ts"),V=d("./src/questionfactory.ts"),O=d("./src/error.ts"),l=d("./src/settings.ts"),y=d("./src/utils/utils.ts"),p=d("./src/utils/cssClassBuilder.ts"),f=d("./src/drag-drop-panel-helper-v1.ts"),e=function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var v in u)Object.prototype.hasOwnProperty.call(u,v)&&(o[v]=u[v])},r(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),m=function(r,t,n,o){var u=arguments.length,v=u<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,n):o,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(r,t,n,o);else for(var b=r.length-1;b>=0;b--)(x=r[b])&&(v=(u<3?x(v):u>3?x(t,n,v):x(t,n))||v);return u>3&&v&&Object.defineProperty(t,n,v),v},s=function(r){e(t,r);function t(n){var o=r.call(this)||this;return o.panel=n,o._scrollableParent=void 0,o._updateVisibility=void 0,o.idValue=t.getRowId(),o.visible=n.areInvisibleElementsShowing,o.createNewArray("elements"),o.createNewArray("visibleElements"),o}return t.getRowId=function(){return"pr_"+t.rowCounter++},t.prototype.startLazyRendering=function(n,o){var u=this;o===void 0&&(o=y.findScrollableParent),this._scrollableParent=o(n),this._scrollableParent===document.documentElement&&(this._scrollableParent=window);var v=this._scrollableParent.scrollHeight>this._scrollableParent.clientHeight;this.isNeedRender=!v,v&&(this._updateVisibility=function(){var x=Object(y.isElementVisible)(n,50);!u.isNeedRender&&x&&(u.isNeedRender=!0,u.stopLazyRendering())},setTimeout(function(){u._scrollableParent&&u._scrollableParent.addEventListener&&u._scrollableParent.addEventListener("scroll",u._updateVisibility),u.ensureVisibility()},10))},t.prototype.ensureVisibility=function(){this._updateVisibility&&this._updateVisibility()},t.prototype.stopLazyRendering=function(){this._scrollableParent&&this._updateVisibility&&this._scrollableParent.removeEventListener&&this._scrollableParent.removeEventListener("scroll",this._updateVisibility),this._scrollableParent=void 0,this._updateVisibility=void 0},t.prototype.setIsLazyRendering=function(n){this.isLazyRenderingValue=n,this.isNeedRender=!n},t.prototype.isLazyRendering=function(){return this.isLazyRenderingValue===!0},Object.defineProperty(t.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"elements",{get:function(){return this.getPropertyValue("elements")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleElements",{get:function(){return this.getPropertyValue("visibleElements")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(n){this.setPropertyValue("visible",n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNeedRender",{get:function(){return this.getPropertyValue("isneedrender",!0)},set:function(n){this.setPropertyValue("isneedrender",n)},enumerable:!1,configurable:!0}),t.prototype.updateVisible=function(){var n=this.calcVisible();this.setWidth(),this.visible=n},t.prototype.addElement=function(n){this.elements.push(n),this.updateVisible()},Object.defineProperty(t.prototype,"index",{get:function(){return this.panel.rows.indexOf(this)},enumerable:!1,configurable:!0}),t.prototype.setWidth=function(){var n,o=this.visibleElements.length;if(o!=0){for(var u=this.visibleElements.length===1,v=0,x=[],b=0;b<this.elements.length;b++){var i=this.elements[b];if(i.isVisible){i.isSingleInRow=u;var h=this.getElementWidth(i);h&&(i.renderWidth=this.getRenderedWidthFromWidth(h),x.push(i)),v<o-1&&!(this.panel.isDefaultV2Theme||!((n=this.panel.parentQuestion)===null||n===void 0)&&n.isDefaultV2Theme)?i.rightIndent=1:i.rightIndent=0,v++}else i.renderWidth=""}for(var b=0;b<this.elements.length;b++){var i=this.elements[b];!i.isVisible||x.indexOf(i)>-1||(x.length==0?i.renderWidth=Number.parseFloat((100/o).toFixed(6))+"%":i.renderWidth=this.getRenderedCalcWidth(i,x,o))}}},t.prototype.getRenderedCalcWidth=function(n,o,u){for(var v="100%",x=0;x<o.length;x++)v+=" - "+o[x].renderWidth;var b=u-o.length;return b>1&&(v="("+v+")/"+b.toString()),"calc("+v+")"},t.prototype.getElementWidth=function(n){var o=n.width;return!o||typeof o!="string"?"":o.trim()},t.prototype.getRenderedWidthFromWidth=function(n){return C.Helpers.isNumber(n)?n+"px":n},t.prototype.calcVisible=function(){for(var n=[],o=0;o<this.elements.length;o++)this.elements[o].isVisible&&n.push(this.elements[o]);return this.needToUpdateVisibleElements(n)&&this.setPropertyValue("visibleElements",n),n.length>0},t.prototype.needToUpdateVisibleElements=function(n){if(n.length!==this.visibleElements.length)return!0;for(var o=0;o<n.length;o++)if(n[o]!==this.visibleElements[o])return!0;return!1},t.prototype.dispose=function(){r.prototype.dispose.call(this),this.stopLazyRendering()},t.prototype.getRowCss=function(){return new p.CssClassBuilder().append(this.panel.cssClasses.row).append(this.panel.cssClasses.rowCompact,this.panel.isCompact).append(this.panel.cssClasses.pageRow,this.panel.isPage||!!this.panel.originalPage&&!this.panel.survey.isShowingPreview).append(this.panel.cssClasses.rowMultiple,this.visibleElements.length>1).toString()},t.rowCounter=100,m([Object(P.property)({defaultValue:null})],t.prototype,"dragTypeOverMe",void 0),t}(D.Base),a=function(r){e(t,r);function t(n){n===void 0&&(n="");var o=r.call(this,n)||this;return o.isQuestionsReady=!1,o.questionsValue=new Array,o.isRandomizing=!1,o.createNewArray("rows"),o.elementsValue=o.createNewArray("elements",o.onAddElement.bind(o),o.onRemoveElement.bind(o)),o.id=t.getPanelId(),o.addExpressionProperty("visibleIf",function(u,v){o.visible=v===!0},function(u){return!o.areInvisibleElementsShowing}),o.addExpressionProperty("enableIf",function(u,v){o.readOnly=v===!1}),o.addExpressionProperty("requiredIf",function(u,v){o.isRequired=v===!0}),o.createLocalizableString("requiredErrorText",o),o.registerPropertyChangedHandlers(["questionTitleLocation"],function(){o.onVisibleChanged.bind(o),o.updateElementCss(!0)}),o.registerPropertyChangedHandlers(["questionStartIndex","showQuestionNumbers"],function(){o.updateVisibleIndexes()}),o.dragDropPanelHelper=new f.DragDropPanelHelperV1(o),o}return t.getPanelId=function(){return"sp_"+t.panelCounter++},t.prototype.getType=function(){return"panelbase"},t.prototype.setSurveyImpl=function(n,o){r.prototype.setSurveyImpl.call(this,n,o),this.isDesignMode&&this.onVisibleChanged();for(var u=0;u<this.elements.length;u++)this.elements[u].setSurveyImpl(n,o)},t.prototype.endLoadingFromJson=function(){r.prototype.endLoadingFromJson.call(this),this.updateDescriptionVisibility(this.description),this.markQuestionListDirty(),this.onRowsChanged()},Object.defineProperty(t.prototype,"hasTitle",{get:function(){return this.canShowTitle()&&this.locTitle.textOrHtml.length>0||this.isDesignMode&&this.showTitle&&l.settings.designMode.showEmptyTitles},enumerable:!1,configurable:!0}),t.prototype.delete=function(n){n===void 0&&(n=!0),this.removeFromParent(),n&&this.dispose()},t.prototype.removeFromParent=function(){},t.prototype.canShowTitle=function(){return!0},Object.defineProperty(t.prototype,"_showDescription",{get:function(){return!this.hasTitle&&this.isDesignMode?!1:this.survey&&this.survey.showPageTitles&&this.hasDescription||this.showDescription&&this.isDesignMode&&l.settings.designMode.showEmptyDescriptions},enumerable:!1,configurable:!0}),t.prototype.localeChanged=function(){r.prototype.localeChanged.call(this);for(var n=0;n<this.elements.length;n++)this.elements[n].localeChanged()},t.prototype.locStrsChanged=function(){r.prototype.locStrsChanged.call(this);for(var n=0;n<this.elements.length;n++)this.elements[n].locStrsChanged()},Object.defineProperty(t.prototype,"renderedNavigationTitle",{get:function(){return this.title||this.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredText",{get:function(){return this.survey&&this.isRequired?this.survey.requiredText:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"titlePattern",{get:function(){return this.survey?this.survey.questionTitlePattern:"numTitleRequire"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequireTextOnStart",{get:function(){return this.isRequired&&this.titlePattern=="requireNumTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequireTextBeforeTitle",{get:function(){return this.isRequired&&this.titlePattern=="numRequireTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRequireTextAfterTitle",{get:function(){return this.isRequired&&this.titlePattern=="numTitleRequire"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredErrorText",{get:function(){return this.getLocalizableStringText("requiredErrorText")},set:function(n){this.setLocalizableStringText("requiredErrorText",n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locRequiredErrorText",{get:function(){return this.getLocalizableString("requiredErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionsOrder",{get:function(){return this.getPropertyValue("questionsOrder")},set:function(n){this.setPropertyValue("questionsOrder",n)},enumerable:!1,configurable:!0}),t.prototype.canRandomize=function(n){return n&&this.questionsOrder!=="initial"||this.questionsOrder==="random"},t.prototype.randomizeElements=function(n){if(!(!this.canRandomize(n)||this.isRandomizing)){this.isRandomizing=!0;for(var o=[],u=this.elements,v=0;v<u.length;v++)o.push(u[v]);var x=C.Helpers.randomizeArray(o);this.setArrayPropertyDirectly("elements",x,!1),this.updateRows(),this.updateVisibleIndexes(),this.isRandomizing=!1}},Object.defineProperty(t.prototype,"areQuestionsRandomized",{get:function(){var n=this.questionsOrder=="default"&&this.survey?this.survey.questionsOrder:this.questionsOrder;return n=="random"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(n){this.setPropertyValue("parent",n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depth",{get:function(){return this.parent==null?0:this.parent.depth+1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibleIf",{get:function(){return this.getPropertyValue("visibleIf","")},set:function(n){this.setPropertyValue("visibleIf",n)},enumerable:!1,configurable:!0}),t.prototype.calcCssClasses=function(n){var o={panel:{},error:{},row:"",rowMultiple:"",pageRow:"",rowCompact:""};return this.copyCssClasses(o.panel,n.panel),this.copyCssClasses(o.error,n.error),n.pageRow&&(o.pageRow=n.pageRow),n.rowCompact&&(o.rowCompact=n.rowCompact),n.row&&(o.row=n.row),n.rowMultiple&&(o.rowMultiple=n.rowMultiple),this.survey&&this.survey.updatePanelCssClasses(this,o),o},Object.defineProperty(t.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(n){this.setPropertyValue("id",n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPanel",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getPanel=function(){return this},t.prototype.getLayoutType=function(){return"row"},t.prototype.isLayoutTypeSupported=function(n){return n!=="flow"},Object.defineProperty(t.prototype,"questions",{get:function(){if(!this.isQuestionsReady){this.questionsValue=[];for(var n=0;n<this.elements.length;n++){var o=this.elements[n];if(o.isPanel)for(var u=o.questions,v=0;v<u.length;v++)this.questionsValue.push(u[v]);else this.questionsValue.push(o)}this.isQuestionsReady=!0}return this.questionsValue},enumerable:!1,configurable:!0}),t.prototype.getQuestions=function(n){var o=this.questions;if(!n)return o;var u=[];return o.forEach(function(v){u.push(v),v.getNestedQuestions().forEach(function(x){return u.push(x)})}),u},t.prototype.getValidName=function(n){return n&&n.trim()},t.prototype.getQuestionByName=function(n){for(var o=this.questions,u=0;u<o.length;u++)if(o[u].name==n)return o[u];return null},t.prototype.getElementByName=function(n){for(var o=this.elements,u=0;u<o.length;u++){var v=o[u];if(v.name==n)return v;var x=v.getPanel();if(x){var b=x.getElementByName(n);if(b)return b}}return null},t.prototype.getQuestionByValueName=function(n){for(var o=this.questions,u=0;u<o.length;u++)if(o[u].getValueName()==n)return o[u];return null},t.prototype.getValue=function(){var n={};return this.collectValues(n,0),n},t.prototype.collectValues=function(n,o){var u=this.elements;o===0&&(u=this.questions);for(var v=!1,x=0;x<u.length;x++){var b=u[x];if(b.isPanel||b.isPage){var i={};b.collectValues(i,o-1)&&(n[b.name]=i,v=!0)}else{var h=b;if(!h.isEmpty()){var E=h.getValueName();if(n[E]=h.value,this.data){var S=this.data.getComment(E);S&&(n[E+D.Base.commentSuffix]=S)}}v=!0}}return!0},t.prototype.getDisplayValue=function(n){for(var o={},u=this.questions,v=0;v<u.length;v++){var x=u[v];if(!x.isEmpty()){var b=n?x.title:x.getValueName();o[b]=x.getDisplayValue(n)}}return o},t.prototype.getComments=function(){var n={};if(!this.data)return n;for(var o=this.questions,u=0;u<o.length;u++){var v=o[u],x=this.data.getComment(v.getValueName());x&&(n[v.getValueName()]=x)}return n},t.prototype.clearIncorrectValues=function(){for(var n=0;n<this.elements.length;n++)this.elements[n].clearIncorrectValues()},t.prototype.clearErrors=function(){for(var n=0;n<this.elements.length;n++)this.elements[n].clearErrors();this.errors=[]},t.prototype.markQuestionListDirty=function(){this.isQuestionsReady=!1,this.parent&&this.parent.markQuestionListDirty()},Object.defineProperty(t.prototype,"elements",{get:function(){return this.elementsValue},enumerable:!1,configurable:!0}),t.prototype.getElementsInDesign=function(n){return n===void 0&&(n=!1),this.elements},t.prototype.containsElement=function(n){for(var o=0;o<this.elements.length;o++){var u=this.elements[o];if(u==n)return!0;var v=u.getPanel();if(v&&v.containsElement(n))return!0}return!1},Object.defineProperty(t.prototype,"isRequired",{get:function(){return this.getPropertyValue("isRequired")},set:function(n){this.setPropertyValue("isRequired",n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"requiredIf",{get:function(){return this.getPropertyValue("requiredIf","")},set:function(n){this.setPropertyValue("requiredIf",n)},enumerable:!1,configurable:!0}),t.prototype.searchText=function(n,o){r.prototype.searchText.call(this,n,o);for(var u=0;u<this.elements.length;u++)this.elements[u].searchText(n,o)},t.prototype.hasErrors=function(n,o,u){return n===void 0&&(n=!0),o===void 0&&(o=!1),u===void 0&&(u=null),!this.validate(n,o,u)},t.prototype.validate=function(n,o,u){return n===void 0&&(n=!0),o===void 0&&(o=!1),u===void 0&&(u=null),u=u||{fireCallback:n,focuseOnFirstError:o,firstErrorQuestion:null,result:!1},u.result!==!0&&(u.result=!1),this.hasErrorsCore(u),u.firstErrorQuestion&&u.firstErrorQuestion.focus(!0),!u.result},t.prototype.validateContainerOnly=function(){this.hasErrorsInPanels({fireCallback:!0}),this.parent&&this.parent.validateContainerOnly()},t.prototype.hasErrorsInPanels=function(n){var o=[];if(this.hasRequiredError(n,o),this.survey){var u=this.survey.validatePanel(this);u&&(o.push(u),n.result=!0)}n.fireCallback&&(this.survey&&this.survey.beforeSettingPanelErrors(this,o),this.errors=o)},t.prototype.getErrorCustomText=function(n,o){return this.survey?this.survey.getSurveyErrorCustomText(this,n,o):n},t.prototype.hasRequiredError=function(n,o){if(this.isRequired){var u=[];if(this.addQuestionsToList(u,!0),u.length!=0){for(var v=0;v<u.length;v++)if(!u[v].isEmpty())return;n.result=!0,o.push(new O.OneAnswerRequiredError(this.requiredErrorText,this)),n.focuseOnFirstError&&!n.firstErrorQuestion&&(n.firstErrorQuestion=u[0])}}},t.prototype.hasErrorsCore=function(n){for(var o=this.elements,u=null,v=0;v<o.length;v++)if(u=o[v],!!u.isVisible)if(u.isPanel)u.hasErrorsCore(n);else{var x=u;x.validate(n.fireCallback,n)||(n.focuseOnFirstError&&n.firstErrorQuestion==null&&(n.firstErrorQuestion=x),n.result=!0)}this.hasErrorsInPanels(n),this.updateContainsErrors()},t.prototype.getContainsErrors=function(){var n=r.prototype.getContainsErrors.call(this);if(n)return n;for(var o=this.elements,u=0;u<o.length;u++)if(o[u].containsErrors)return!0;return!1},t.prototype.updateElementVisibility=function(){for(var n=0;n<this.elements.length;n++){var o=this.elements[n];o.setPropertyValue("isVisible",o.isVisible),o.isPanel&&o.updateElementVisibility()}},t.prototype.getFirstQuestionToFocus=function(n,o){if(n===void 0&&(n=!1),o===void 0&&(o=!1),!n&&!o&&this.isCollapsed)return null;for(var u=this.elements,v=0;v<u.length;v++){var x=u[v];if(!(!x.isVisible||!o&&x.isCollapsed))if(x.isPanel){var b=x.getFirstQuestionToFocus(n,o);if(b)return b}else{var i=x.getFirstQuestionToFocus(n);if(i)return i}}return null},t.prototype.focusFirstQuestion=function(){var n=this.getFirstQuestionToFocus();n&&n.focus()},t.prototype.focusFirstErrorQuestion=function(){var n=this.getFirstQuestionToFocus(!0);n&&n.focus()},t.prototype.addQuestionsToList=function(n,o,u){o===void 0&&(o=!1),u===void 0&&(u=!1),this.addElementsToList(n,o,u,!1)},t.prototype.addPanelsIntoList=function(n,o,u){o===void 0&&(o=!1),u===void 0&&(u=!1),this.addElementsToList(n,o,u,!0)},t.prototype.addElementsToList=function(n,o,u,v){o&&!this.visible||this.addElementsToListCore(n,this.elements,o,u,v)},t.prototype.addElementsToListCore=function(n,o,u,v,x){for(var b=0;b<o.length;b++){var i=o[b];u&&!i.visible||((x&&i.isPanel||!x&&!i.isPanel)&&n.push(i),i.isPanel?i.addElementsToListCore(n,i.elements,u,v,x):v&&this.addElementsToListCore(n,i.getElementsInDesign(!1),u,v,x))}},t.prototype.updateCustomWidgets=function(){for(var n=0;n<this.elements.length;n++)this.elements[n].updateCustomWidgets()},Object.defineProperty(t.prototype,"questionTitleLocation",{get:function(){return this.getPropertyValue("questionTitleLocation")},set:function(n){this.setPropertyValue("questionTitleLocation",n.toLowerCase())},enumerable:!1,configurable:!0}),t.prototype.getQuestionTitleLocation=function(){return this.onGetQuestionTitleLocation?this.onGetQuestionTitleLocation():this.questionTitleLocation!="default"?this.questionTitleLocation:this.parent?this.parent.getQuestionTitleLocation():this.survey?this.survey.questionTitleLocation:"top"},t.prototype.getStartIndex=function(){return this.parent?this.parent.getQuestionStartIndex():this.survey?this.survey.questionStartIndex:""},t.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},t.prototype.getChildrenLayoutType=function(){return"row"},t.prototype.getProgressInfo=function(){return A.SurveyElement.getProgressInfoByElements(this.elements,this.isRequired)},Object.defineProperty(t.prototype,"root",{get:function(){for(var n=this;n.parent;)n=n.parent;return n},enumerable:!1,configurable:!0}),t.prototype.childVisibilityChanged=function(){var n=this.getIsPageVisible(null),o=this.getPropertyValue("isVisible",!0);n!==o&&this.onVisibleChanged()},t.prototype.createRowAndSetLazy=function(n){var o=this.createRow();return o.setIsLazyRendering(this.isLazyRenderInRow(n)),o},t.prototype.createRow=function(){return new s(this)},t.prototype.onSurveyLoad=function(){for(var n=0;n<this.elements.length;n++)this.elements[n].onSurveyLoad();this.onElementVisibilityChanged(this)},t.prototype.onFirstRendering=function(){r.prototype.onFirstRendering.call(this);for(var n=0;n<this.elements.length;n++)this.elements[n].onFirstRendering();this.onRowsChanged()},t.prototype.updateRows=function(){if(!this.isLoadingFromJson){for(var n=0;n<this.elements.length;n++)this.elements[n].isPanel&&this.elements[n].updateRows();this.onRowsChanged()}},Object.defineProperty(t.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},enumerable:!1,configurable:!0}),t.prototype.ensureRowsVisibility=function(){this.rows.forEach(function(n){n.ensureVisibility()})},t.prototype.onRowsChanged=function(){this.isLoadingFromJson||this.setArrayPropertyDirectly("rows",this.buildRows())},t.prototype.onAddElement=function(n,o){var u=this;if(n.setSurveyImpl(this.surveyImpl),n.parent=this,this.markQuestionListDirty(),this.canBuildRows()){var v=l.settings.supportCreatorV2?this.getDragDropInfo():void 0;this.dragDropPanelHelper.updateRowsOnElementAdded(n,o,v,this)}if(n.isPanel){var x=n;this.survey&&this.survey.panelAdded(x,o,this,this.root)}else if(this.survey){var b=n;this.survey.questionAdded(b,o,this,this.root)}this.addElementCallback&&this.addElementCallback(n);var i=this;n.registerPropertyChangedHandlers(["visible","isVisible"],function(){u.onElementVisibilityChanged(n)},this.id),n.registerPropertyChangedHandlers(["startWithNewLine"],function(){u.onElementStartWithNewLineChanged(n)},this.id),this.onElementVisibilityChanged(this)},t.prototype.onRemoveElement=function(n){n.parent=null,this.markQuestionListDirty(),n.unregisterPropertyChangedHandlers(["visible","isVisible","startWithNewLine"],this.id),this.updateRowsOnElementRemoved(n),!this.isRandomizing&&(n.isPanel?this.survey&&this.survey.panelRemoved(n):this.survey&&this.survey.questionRemoved(n),this.removeElementCallback&&this.removeElementCallback(n),this.onElementVisibilityChanged(this))},t.prototype.onElementVisibilityChanged=function(n){this.isLoadingFromJson||this.isRandomizing||(this.updateRowsVisibility(n),this.childVisibilityChanged(),this.parent&&this.parent.onElementVisibilityChanged(this))},t.prototype.onElementStartWithNewLineChanged=function(n){this.onRowsChanged()},t.prototype.updateRowsVisibility=function(n){for(var o=this.rows,u=0;u<o.length;u++){var v=o[u];if(v.elements.indexOf(n)>-1){v.updateVisible(),v.visible&&!v.isNeedRender&&(v.isNeedRender=!0);break}}},t.prototype.canBuildRows=function(){return!this.isLoadingFromJson&&this.getChildrenLayoutType()=="row"},t.prototype.buildRows=function(){if(!this.canBuildRows())return[];for(var n=new Array,o=0;o<this.elements.length;o++){var u=this.elements[o],v=o==0||u.startWithNewLine,x=v?this.createRowAndSetLazy(n.length):n[n.length-1];v&&n.push(x),x.addElement(u)}for(var o=0;o<n.length;o++)n[o].updateVisible();return n},t.prototype.isLazyRenderInRow=function(n){return!this.survey||!this.survey.isLazyRendering?!1:n>=this.survey.lazyRenderingFirstBatchSize||!this.canRenderFirstRows()},t.prototype.canRenderFirstRows=function(){return this.isPage},t.prototype.getDragDropInfo=function(){var n=this.getPage(this.parent);return n?n.getDragDropInfo():void 0},t.prototype.updateRowsOnElementRemoved=function(n){this.canBuildRows()&&this.updateRowsRemoveElementFromRow(n,this.findRowByElement(n))},t.prototype.updateRowsRemoveElementFromRow=function(n,o){if(!(!o||!o.panel)){var u=o.elements.indexOf(n);u<0||(o.elements.splice(u,1),o.elements.length>0?(o.elements[0].startWithNewLine=!0,o.updateVisible()):o.index>=0&&o.panel.rows.splice(o.index,1))}},t.prototype.findRowByElement=function(n){for(var o=this.rows,u=0;u<o.length;u++)if(o[u].elements.indexOf(n)>-1)return o[u];return null},t.prototype.elementWidthChanged=function(n){if(!this.isLoadingFromJson){var o=this.findRowByElement(n);o&&o.updateVisible()}},Object.defineProperty(t.prototype,"processedTitle",{get:function(){return this.getRenderedTitle(this.locTitle.textOrHtml)},enumerable:!1,configurable:!0}),t.prototype.getRenderedTitle=function(n){return this.textProcessor!=null?this.textProcessor.processText(n,!0):n},Object.defineProperty(t.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(n){n!==this.visible&&(this.setPropertyValue("visible",n),this.setPropertyValue("isVisible",this.isVisible),this.isLoadingFromJson||this.onVisibleChanged())},enumerable:!1,configurable:!0}),t.prototype.onHidingContent=function(){this.questions.forEach(function(n){return n.onHidingContent()})},t.prototype.onVisibleChanged=function(){if(!this.isRandomizing&&(this.setPropertyValue("isVisible",this.isVisible),this.survey&&this.survey.getQuestionClearIfInvisible("default")!=="none"&&!this.isLoadingFromJson))for(var n=this.questions,o=this.isVisible,u=0;u<n.length;u++){var v=n[u];o?v.updateValueWithDefaults():(v.clearValueIfInvisible("onHiddenContainer"),v.onHidingContent())}},t.prototype.notifyStateChanged=function(n){var o=this;if(r.prototype.notifyStateChanged.call(this,n),this.isCollapsed&&this.questions.forEach(function(v){return v.onHidingContent()}),this.survey!=null&&!this.isLoadingFromJson&&this.isExpanded&&n==="collapsed"){var u=this.getFirstQuestionToFocus(!1);u&&setTimeout(function(){!o.isDisposed&&o.survey&&o.survey.scrollElementToTop(u,u,null,u.inputId,!1)},15)}},Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.areInvisibleElementsShowing||this.getIsPageVisible(null)},enumerable:!1,configurable:!0}),t.prototype.getIsPageVisible=function(n){if(!this.visible)return!1;for(var o=0;o<this.elements.length;o++)if(this.elements[o]!=n&&this.elements[o].isVisible)return!0;return!1},t.prototype.setVisibleIndex=function(n){if(!this.isVisible||n<0)return this.resetVisibleIndexes(),0;this.lastVisibleIndex=n;var o=n;n+=this.beforeSetVisibleIndex(n);for(var u=this.getPanelStartIndex(n),v=u,x=0;x<this.elements.length;x++)v+=this.elements[x].setVisibleIndex(v);return this.isContinueNumbering()&&(n+=v-u),n-o},t.prototype.updateVisibleIndexes=function(){this.lastVisibleIndex!==void 0&&(this.resetVisibleIndexes(),this.setVisibleIndex(this.lastVisibleIndex))},t.prototype.resetVisibleIndexes=function(){for(var n=0;n<this.elements.length;n++)this.elements[n].setVisibleIndex(-1)},t.prototype.beforeSetVisibleIndex=function(n){return 0},t.prototype.getPanelStartIndex=function(n){return n},t.prototype.isContinueNumbering=function(){return!0},Object.defineProperty(t.prototype,"isReadOnly",{get:function(){var n=!!this.parent&&this.parent.isReadOnly,o=!!this.survey&&this.survey.isDisplayMode;return this.readOnly||n||o},enumerable:!1,configurable:!0}),t.prototype.onReadOnlyChanged=function(){for(var n=0;n<this.elements.length;n++){var o=this.elements[n];o.setPropertyValue("isReadOnly",o.isReadOnly)}r.prototype.onReadOnlyChanged.call(this)},t.prototype.updateElementCss=function(n){r.prototype.updateElementCss.call(this,n);for(var o=0;o<this.elements.length;o++){var u=this.elements[o];u.updateElementCss(n)}},Object.defineProperty(t.prototype,"enableIf",{get:function(){return this.getPropertyValue("enableIf","")},set:function(n){this.setPropertyValue("enableIf",n)},enumerable:!1,configurable:!0}),t.prototype.addElement=function(n,o){return o===void 0&&(o=-1),this.canAddElement(n)?(o<0||o>=this.elements.length?this.elements.push(n):this.elements.splice(o,0,n),this.wasRendered&&n.onFirstRendering(),!0):!1},t.prototype.insertElementAfter=function(n,o){var u=this.elements.indexOf(o);u>=0&&this.addElement(n,u+1)},t.prototype.insertElementBefore=function(n,o){var u=this.elements.indexOf(o);u>=0&&this.addElement(n,u)},t.prototype.canAddElement=function(n){return!!n&&n.isLayoutTypeSupported(this.getChildrenLayoutType())},t.prototype.addQuestion=function(n,o){return o===void 0&&(o=-1),this.addElement(n,o)},t.prototype.addPanel=function(n,o){return o===void 0&&(o=-1),this.addElement(n,o)},t.prototype.addNewQuestion=function(n,o,u){o===void 0&&(o=null),u===void 0&&(u=-1);var v=V.QuestionFactory.Instance.createQuestion(n,o);return this.addQuestion(v,u)?v:null},t.prototype.addNewPanel=function(n){n===void 0&&(n=null);var o=this.createNewPanel(n);return this.addPanel(o)?o:null},t.prototype.indexOf=function(n){return this.elements.indexOf(n)},t.prototype.createNewPanel=function(n){var o=P.Serializer.createClass("panel");return o.name=n,o},t.prototype.removeElement=function(n){var o=this.elements.indexOf(n);if(o<0){for(var u=0;u<this.elements.length;u++)if(this.elements[u].removeElement(n))return!0;return!1}return this.elements.splice(o,1),!0},t.prototype.removeQuestion=function(n){this.removeElement(n)},t.prototype.runCondition=function(n,o){if(!(this.isDesignMode||this.isLoadingFromJson)){for(var u=this.elements.slice(),v=0;v<u.length;v++)u[v].runCondition(n,o);this.runConditionCore(n,o)}},t.prototype.onAnyValueChanged=function(n,o){for(var u=this.elements,v=0;v<u.length;v++)u[v].onAnyValueChanged(n,o)},t.prototype.checkBindings=function(n,o){for(var u=this.elements,v=0;v<u.length;v++)u[v].checkBindings(n,o)},t.prototype.dragDropAddTarget=function(n){this.dragDropPanelHelper.dragDropAddTarget(n)},t.prototype.dragDropFindRow=function(n){return this.dragDropPanelHelper.dragDropFindRow(n)},t.prototype.dragDropMoveElement=function(n,o,u){this.dragDropPanelHelper.dragDropMoveElement(n,o,u)},t.prototype.needResponsiveWidth=function(){var n=!1;return this.elements.forEach(function(o){o.needResponsiveWidth()&&(n=!0)}),this.rows.forEach(function(o){o.elements.length>1&&(n=!0)}),n},Object.defineProperty(t.prototype,"hasDescriptionUnderTitle",{get:function(){return this.hasDescription},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssHeader",{get:function(){return this.cssClasses.panel.header},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssDescription",{get:function(){return this.cssClasses.panel.description},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionErrorLocation",{get:function(){return this.getPropertyValue("questionErrorLocation")},set:function(n){this.setPropertyValue("questionErrorLocation",n)},enumerable:!1,configurable:!0}),t.prototype.getQuestionErrorLocation=function(){return this.questionErrorLocation!=="default"?this.questionErrorLocation:this.parent?this.parent.getQuestionErrorLocation():this.survey?this.survey.questionErrorLocation:"top"},Object.defineProperty(t.prototype,"no",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cssError",{get:function(){return this.getCssError(this.cssClasses)},enumerable:!1,configurable:!0}),t.prototype.getCssError=function(n){return new p.CssClassBuilder().append(n.error.root).toString()},t.prototype.dispose=function(){if(r.prototype.dispose.call(this),this.rows){for(var n=0;n<this.rows.length;n++)this.rows[n].dispose();this.rows.splice(0,this.rows.length)}for(var n=0;n<this.elements.length;n++)this.elements[n].dispose();this.elements.splice(0,this.elements.length)},t.panelCounter=100,m([Object(P.property)({defaultValue:!0})],t.prototype,"showTitle",void 0),m([Object(P.property)({defaultValue:!0})],t.prototype,"showDescription",void 0),t}(A.SurveyElement),c=function(r){e(t,r);function t(n){n===void 0&&(n="");var o=r.call(this,n)||this;return o.createNewArray("footerActions"),o.registerPropertyChangedHandlers(["width"],function(){o.parent&&o.parent.elementWidthChanged(o)}),o.registerPropertyChangedHandlers(["indent","innerIndent","rightIndent"],function(){o.onIndentChanged()}),o}return t.prototype.getType=function(){return"panel"},Object.defineProperty(t.prototype,"contentId",{get:function(){return this.id+"_content"},enumerable:!1,configurable:!0}),t.prototype.getSurvey=function(n){return n===void 0&&(n=!1),n?this.parent?this.parent.getSurvey(n):null:r.prototype.getSurvey.call(this,n)},t.prototype.onSurveyLoad=function(){r.prototype.onSurveyLoad.call(this),this.onIndentChanged()},t.prototype.onSetData=function(){r.prototype.onSetData.call(this),this.onIndentChanged()},Object.defineProperty(t.prototype,"isPanel",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"page",{get:function(){return this.getPage(this.parent)},set:function(n){this.setPage(this.parent,n)},enumerable:!1,configurable:!0}),t.prototype.removeFromParent=function(){this.parent&&this.removeSelfFromList(this.parent.elements)},t.prototype.moveTo=function(n,o){return o===void 0&&(o=null),this.moveToBase(this.parent,n,o)},Object.defineProperty(t.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},enumerable:!1,configurable:!0}),t.prototype.getTitleOwner=function(){return this},Object.defineProperty(t.prototype,"showNumber",{get:function(){return this.getPropertyValue("showNumber")},set:function(n){this.setPropertyValue("showNumber",n),this.notifySurveyOnVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(n){this.setPropertyValue("showQuestionNumbers",n),this.notifySurveyOnVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"questionStartIndex",{get:function(){return this.getPropertyValue("questionStartIndex","")},set:function(n){this.setPropertyValue("questionStartIndex",n)},enumerable:!1,configurable:!0}),t.prototype.getQuestionStartIndex=function(){return this.questionStartIndex?this.questionStartIndex:r.prototype.getQuestionStartIndex.call(this)},Object.defineProperty(t.prototype,"no",{get:function(){return this.getPropertyValue("no","")},enumerable:!1,configurable:!0}),t.prototype.setNo=function(n){this.setPropertyValue("no",C.Helpers.getNumberByIndex(this.visibleIndex,this.getStartIndex()))},t.prototype.notifyStateChanged=function(n){this.isLoadingFromJson||this.locTitle.strChanged(),r.prototype.notifyStateChanged.call(this,n)},t.prototype.createLocTitleProperty=function(){var n=this,o=r.prototype.createLocTitleProperty.call(this);return o.onGetTextCallback=function(u){return!u&&n.state!=="default"&&(u=n.name),u},o},t.prototype.beforeSetVisibleIndex=function(n){var o=-1;return this.showNumber&&(this.isDesignMode||!this.locTitle.isEmpty)&&(o=n),this.setPropertyValue("visibleIndex",o),this.setNo(o),o<0?0:1},t.prototype.getPanelStartIndex=function(n){return this.showQuestionNumbers=="off"?-1:this.showQuestionNumbers=="onpanel"?0:n},t.prototype.isContinueNumbering=function(){return this.showQuestionNumbers!="off"&&this.showQuestionNumbers!="onpanel"},t.prototype.notifySurveyOnVisibilityChanged=function(){this.survey!=null&&!this.isLoadingFromJson&&this.survey.panelVisibilityChanged(this,this.isVisible)},t.prototype.hasErrorsCore=function(n){r.prototype.hasErrorsCore.call(this,n),this.isCollapsed&&n.result&&n.fireCallback&&this.expand()},t.prototype.getRenderedTitle=function(n){if(!n){if(this.isCollapsed||this.isExpanded)return this.name;if(this.isDesignMode)return"["+this.name+"]"}return r.prototype.getRenderedTitle.call(this,n)},Object.defineProperty(t.prototype,"innerIndent",{get:function(){return this.getPropertyValue("innerIndent")},set:function(n){this.setPropertyValue("innerIndent",n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startWithNewLine",{get:function(){return this.getPropertyValue("startWithNewLine")},set:function(n){this.setPropertyValue("startWithNewLine",n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allowAdaptiveActions",{get:function(){return this.getPropertyValue("allowAdaptiveActions")},set:function(n){this.setPropertyValue("allowAdaptiveActions",n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"innerPaddingLeft",{get:function(){return this.getPropertyValue("innerPaddingLeft","")},set:function(n){this.setPropertyValue("innerPaddingLeft",n)},enumerable:!1,configurable:!0}),t.prototype.onIndentChanged=function(){this.getSurvey()&&(this.innerPaddingLeft=this.getIndentSize(this.innerIndent),this.paddingLeft=this.getIndentSize(this.indent),this.paddingRight=this.getIndentSize(this.rightIndent))},t.prototype.getIndentSize=function(n){if(n<1)return"";var o=this.survey.css;return!o||!o.question.indent?"":n*o.question.indent+"px"},t.prototype.clearOnDeletingContainer=function(){this.elements.forEach(function(n){(n instanceof R.Question||n instanceof t)&&n.clearOnDeletingContainer()})},Object.defineProperty(t.prototype,"footerActions",{get:function(){return this.getPropertyValue("footerActions")},enumerable:!1,configurable:!0}),t.prototype.getFooterToolbar=function(){var n=this,o,u;if(!this.footerToolbarValue){var v=this.footerActions;this.hasEditButton&&v.push({id:"cancel-preview",locTitle:this.survey.locEditText,innerCss:this.survey.cssNavigationEdit,action:function(){n.cancelPreview()}}),this.onGetFooterActionsCallback?v=this.onGetFooterActionsCallback():v=(o=this.survey)===null||o===void 0?void 0:o.getUpdatedPanelFooterActions(this,v),this.footerToolbarValue=this.createActionContainer(this.allowAdaptiveActions);var x=this.onGetFooterToolbarCssCallback?this.onGetFooterToolbarCssCallback():"";x||(x=(u=this.cssClasses.panel)===null||u===void 0?void 0:u.footer),x&&(this.footerToolbarValue.containerCss=x),this.footerToolbarValue.setItems(v)}return this.footerToolbarValue},Object.defineProperty(t.prototype,"hasEditButton",{get:function(){return this.survey&&this.survey.state==="preview"?this.depth===1:!1},enumerable:!1,configurable:!0}),t.prototype.cancelPreview=function(){this.hasEditButton&&this.survey.cancelPreviewByPage(this)},Object.defineProperty(t.prototype,"cssTitle",{get:function(){return this.getCssTitle(this.cssClasses.panel)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showErrorsAbovePanel",{get:function(){return this.isDefaultV2Theme&&!this.showPanelAsPage},enumerable:!1,configurable:!0}),t.prototype.getCssError=function(n){var o=new p.CssClassBuilder().append(r.prototype.getCssError.call(this,n)).append(n.panel.errorsContainer);return o.append("panel-error-root",o.isEmpty()).toString()},t.prototype.onVisibleChanged=function(){r.prototype.onVisibleChanged.call(this),this.notifySurveyOnVisibilityChanged()},t.prototype.needResponsiveWidth=function(){return this.startWithNewLine?r.prototype.needResponsiveWidth.call(this):!0},t.prototype.focusIn=function(){this.survey&&this.survey.whenPanelFocusIn(this)},t.prototype.getHasFrameV2=function(){return r.prototype.getHasFrameV2.call(this)&&!this.showPanelAsPage},t.prototype.getIsNested=function(){return r.prototype.getIsNested.call(this)&&this.parent!==void 0},Object.defineProperty(t.prototype,"showPanelAsPage",{get:function(){return!!this.originalPage&&!this.survey.isShowingPreview},enumerable:!1,configurable:!0}),t.prototype.getCssRoot=function(n){return new p.CssClassBuilder().append(r.prototype.getCssRoot.call(this,n)).append(n.container).append(n.asPage,this.showPanelAsPage).append(n.invisible,!this.isDesignMode&&this.areInvisibleElementsShowing&&!this.visible).toString()},t.prototype.getContainerCss=function(){return this.getCssRoot(this.cssClasses.panel)},t}(a);P.Serializer.addClass("panelbase",["name",{name:"elements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"visible:switch",default:!0,overridingProperty:"visibleIf"},{name:"readOnly:boolean",overridingProperty:"enableIf"},"visibleIf:condition","enableIf:condition","requiredIf:condition",{name:"questionTitleLocation",default:"default",choices:["default","top","bottom","left","hidden"]},{name:"title:text",serializationProperty:"locTitle"},{name:"description:text",serializationProperty:"locDescription"},{name:"questionsOrder",default:"default",choices:["default","initial","random"]},{name:"questionErrorLocation",default:"default",choices:["default","top","bottom"]}],function(){return new a}),P.Serializer.addClass("panel",[{name:"state",default:"default",choices:["default","collapsed","expanded"]},{name:"isRequired:switch",overridingProperty:"requiredIf"},{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"startWithNewLine:boolean",default:!0},"width",{name:"minWidth",defaultFunc:function(){return"auto"}},{name:"maxWidth",defaultFunc:function(){return l.settings.maxWidth}},{name:"innerIndent:number",default:0,choices:[0,1,2,3]},{name:"indent:number",default:0,choices:[0,1,2,3]},{name:"page",isSerializable:!1,visibleIf:function(r){var t=r?r.survey:null;return!t||!t.pages||t.pages.length>1},choices:function(r){var t=r?r.survey:null;return t?t.pages.map(function(n){return{value:n.name,text:n.title}}):[]}},"showNumber:boolean",{name:"showQuestionNumbers",default:"default",choices:["default","onpanel","off"]},"questionStartIndex",{name:"allowAdaptiveActions:boolean",default:!0,visible:!1}],function(){return new c},"panelbase"),V.ElementFactory.Instance.registerElement("panel",function(r){return new c(r)})},"./src/popup-dropdown-view-model.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"PopupDropdownViewModel",function(){return y});var P=d("./src/jsonobject.ts"),C=d("./src/utils/popup.ts"),D=d("./src/popup-view-model.ts"),A=d("./src/utils/devices.ts"),R=d("./src/settings.ts"),V=d("./src/survey.ts"),O=function(){var p=function(f,e){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,s){m.__proto__=s}||function(m,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(m[a]=s[a])},p(f,e)};return function(f,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");p(f,e);function m(){this.constructor=f}f.prototype=e===null?Object.create(e):(m.prototype=e.prototype,new m)}}(),l=function(p,f,e,m){var s=arguments.length,a=s<3?f:m===null?m=Object.getOwnPropertyDescriptor(f,e):m,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(p,f,e,m);else for(var r=p.length-1;r>=0;r--)(c=p[r])&&(a=(s<3?c(a):s>3?c(f,e,a):c(f,e))||a);return s>3&&a&&Object.defineProperty(f,e,a),a},y=function(p){O(f,p);function f(e,m){var s=p.call(this,e)||this;return s.targetElement=m,s.scrollEventCallBack=function(a){if(s.isOverlay&&A.IsTouch){a.stopPropagation(),a.preventDefault();return}s.hidePopup()},s.resizeEventCallback=function(){var a=window.visualViewport;document.documentElement.style.setProperty("--sv-popup-overlay-height",a.height*a.scale+"px")},s.resizeWindowCallback=function(){s.isOverlay||s.updatePosition(!0,V.SurveyModel.platform==="vue"||V.SurveyModel.platform==="vue3"||V.SurveyModel.platform=="react")},s.clientY=0,s.isTablet=!1,s.touchStartEventCallback=function(a){s.clientY=a.touches[0].clientY},s.touchMoveEventCallback=function(a){s.preventScrollOuside(a,s.clientY-a.changedTouches[0].clientY)},s.model.onRecalculatePosition.add(s.recalculatePositionHandler),s}return f.prototype.calculateIsTablet=function(e,m){var s=Math.min(e,m);this.isTablet=s>=f.tabletSizeBreakpoint},f.prototype._updatePosition=function(){var e,m,s;if(this.targetElement){var a=this.targetElement.getBoundingClientRect(),c=(e=this.container)===null||e===void 0?void 0:e.querySelector(this.containerSelector);if(c){var r=(m=this.container)===null||m===void 0?void 0:m.querySelector(this.fixedPopupContainer),t=c.querySelector(this.scrollingContentSelector),n=window.getComputedStyle(c),o=parseFloat(n.marginLeft)||0,u=parseFloat(n.marginRight)||0,v=c.offsetHeight-t.offsetHeight+t.scrollHeight,x=c.getBoundingClientRect().width;this.model.setWidthByTarget&&(this.minWidth=a.width+"px");var b=this.model.verticalPosition,i=this.getActualHorizontalPosition();if(window){var h=[v,window.innerHeight*.9,(s=window.visualViewport)===null||s===void 0?void 0:s.height];v=Math.ceil(Math.min.apply(Math,h.filter(function(w){return typeof w=="number"}))),b=C.PopupUtils.updateVerticalPosition(a,v,this.model.verticalPosition,this.model.showPointer,window.innerHeight)}this.popupDirection=C.PopupUtils.calculatePopupDirection(b,i);var E=C.PopupUtils.calculatePosition(a,v,x+o+u,b,i,this.showHeader,this.model.positionMode);if(window){var S=C.PopupUtils.getCorrectedVerticalDimensions(E.top,v,window.innerHeight,b);if(S&&(this.height=S.height+"px",E.top=S.top),this.model.setWidthByTarget)this.width=a.width+"px",E.left=a.left;else{var L=C.PopupUtils.updateHorizontalDimensions(E.left,x,window.innerWidth,i,this.model.positionMode,{left:o,right:u});L&&(this.width=L.width?L.width+"px":void 0,E.left=L.left)}}if(r){var j=r.getBoundingClientRect();E.top-=j.top,E.left-=j.left}this.left=E.left+"px",this.top=E.top+"px",this.showHeader&&(this.pointerTarget=C.PopupUtils.calculatePointerTarget(a,E.top,E.left,b,i,o,u),this.pointerTarget.top+="px",this.pointerTarget.left+="px")}}},f.prototype.getActualHorizontalPosition=function(){var e=this.model.horizontalPosition,m=!!document&&document.defaultView.getComputedStyle(document.body).direction=="rtl";return m&&(this.model.horizontalPosition==="left"?e="right":this.model.horizontalPosition==="right"&&(e="left")),e},f.prototype.getStyleClass=function(){return p.prototype.getStyleClass.call(this).append("sv-popup--dropdown",!this.isOverlay).append("sv-popup--dropdown-overlay",this.isOverlay&&this.model.overlayDisplayMode!=="overlay").append("sv-popup--tablet",this.isTablet&&this.isOverlay).append("sv-popup--show-pointer",!this.isOverlay&&this.showHeader).append("sv-popup--"+this.popupDirection,!this.isOverlay&&this.showHeader)},f.prototype.getShowHeader=function(){return this.model.showPointer&&!this.isOverlay},f.prototype.getPopupHeaderTemplate=function(){return"popup-pointer"},f.prototype.setComponentElement=function(e,m){p.prototype.setComponentElement.call(this,e),e&&e.parentElement&&!this.isModal&&(this.targetElement=m||e.parentElement)},f.prototype.resetComponentElement=function(){p.prototype.resetComponentElement.call(this),this.targetElement=void 0},f.prototype.updateOnShowing=function(){var e=R.settings.environment.root;this.prevActiveElement=e.activeElement,this.isOverlay?this.resetDimensionsAndPositionStyleProperties():this.updatePosition(!0,!1),this.switchFocus(),window.addEventListener("resize",this.resizeWindowCallback),this.shouldCreateResizeCallback&&(window.visualViewport.addEventListener("resize",this.resizeEventCallback),this.container&&(this.container.addEventListener("touchstart",this.touchStartEventCallback),this.container.addEventListener("touchmove",this.touchMoveEventCallback)),this.calculateIsTablet(window.innerWidth,window.innerHeight),this.resizeEventCallback()),window.addEventListener("scroll",this.scrollEventCallBack)},Object.defineProperty(f.prototype,"shouldCreateResizeCallback",{get:function(){return!!window.visualViewport&&this.isOverlay&&A.IsTouch},enumerable:!1,configurable:!0}),f.prototype.updatePosition=function(e,m){var s=this;m===void 0&&(m=!0),e&&(this.height="auto"),m?setTimeout(function(){s._updatePosition()},1):this._updatePosition()},f.prototype.updateOnHiding=function(){p.prototype.updateOnHiding.call(this),window.removeEventListener("resize",this.resizeWindowCallback),this.shouldCreateResizeCallback&&(window.visualViewport.removeEventListener("resize",this.resizeEventCallback),this.container&&(this.container.removeEventListener("touchstart",this.touchStartEventCallback),this.container.removeEventListener("touchmove",this.touchMoveEventCallback))),window.removeEventListener("scroll",this.scrollEventCallBack),this.isDisposed||(this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.minWidth=void 0)},f.prototype.onModelChanging=function(e){var m=this;this.model&&this.model.onRecalculatePosition.remove(this.recalculatePositionHandler),this.recalculatePositionHandler||(this.recalculatePositionHandler=function(s,a){m.isOverlay||m.updatePosition(a.isResetHeight)}),p.prototype.onModelChanging.call(this,e),e.onRecalculatePosition.add(this.recalculatePositionHandler)},f.prototype.dispose=function(){p.prototype.dispose.call(this),this.updateOnHiding(),this.model&&(this.model.onRecalculatePosition.remove(this.recalculatePositionHandler),this.recalculatePositionHandler=void 0),this.resetComponentElement()},f.tabletSizeBreakpoint=600,l([Object(P.property)()],f.prototype,"isTablet",void 0),l([Object(P.property)({defaultValue:"left"})],f.prototype,"popupDirection",void 0),l([Object(P.property)({defaultValue:{left:"0px",top:"0px"}})],f.prototype,"pointerTarget",void 0),f}(D.PopupBaseViewModel)},"./src/popup-modal-view-model.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"PopupModalViewModel",function(){return D});var P=d("./src/popup-view-model.ts"),C=function(){var A=function(R,V){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,l){O.__proto__=l}||function(O,l){for(var y in l)Object.prototype.hasOwnProperty.call(l,y)&&(O[y]=l[y])},A(R,V)};return function(R,V){if(typeof V!="function"&&V!==null)throw new TypeError("Class extends value "+String(V)+" is not a constructor or null");A(R,V);function O(){this.constructor=R}R.prototype=V===null?Object.create(V):(O.prototype=V.prototype,new O)}}(),D=function(A){C(R,A);function R(V){var O=A.call(this,V)||this;return O.onScrollOutsideCallback=function(l){O.preventScrollOuside(l,l.deltaY)},O}return R.prototype.getStyleClass=function(){return A.prototype.getStyleClass.call(this).append("sv-popup--modal",!this.isOverlay)},R.prototype.getShowFooter=function(){return!0},R.prototype.createFooterActionBar=function(){var V=this;A.prototype.createFooterActionBar.call(this),this.footerToolbarValue.addAction({id:"apply",visibleIndex:20,title:this.applyButtonText,innerCss:"sv-popup__body-footer-item sv-popup__button sv-popup__button--apply sd-btn sd-btn--action",action:function(){V.apply()}})},Object.defineProperty(R.prototype,"applyButtonText",{get:function(){return this.getLocalizationString("modalApplyButtonText")},enumerable:!1,configurable:!0}),R.prototype.apply=function(){this.model.onApply&&!this.model.onApply()||this.hidePopup()},R.prototype.clickOutside=function(){},R.prototype.onKeyDown=function(V){(V.key==="Escape"||V.keyCode===27)&&this.model.onCancel(),A.prototype.onKeyDown.call(this,V)},R.prototype.updateOnShowing=function(){this.container&&this.container.addEventListener("wheel",this.onScrollOutsideCallback,{passive:!1}),A.prototype.updateOnShowing.call(this)},R.prototype.updateOnHiding=function(){this.container&&this.container.removeEventListener("wheel",this.onScrollOutsideCallback),A.prototype.updateOnHiding.call(this)},R}(P.PopupBaseViewModel)},"./src/popup-survey.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"PopupSurveyModel",function(){return V}),d.d(M,"SurveyWindowModel",function(){return O});var P=d("./src/base.ts"),C=d("./src/survey.ts"),D=d("./src/jsonobject.ts"),A=function(){var l=function(y,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var m in e)Object.prototype.hasOwnProperty.call(e,m)&&(f[m]=e[m])},l(y,p)};return function(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");l(y,p);function f(){this.constructor=y}y.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}(),R=function(l,y,p,f){var e=arguments.length,m=e<3?y:f===null?f=Object.getOwnPropertyDescriptor(y,p):f,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,y,p,f);else for(var a=l.length-1;a>=0;a--)(s=l[a])&&(m=(e<3?s(m):e>3?s(y,p,m):s(y,p))||m);return e>3&&m&&Object.defineProperty(y,p,m),m},V=function(l){A(y,l);function y(p,f){f===void 0&&(f=null);var e=l.call(this)||this;return e.closeOnCompleteTimeout=0,f?e.surveyValue=f:e.surveyValue=e.createSurvey(p),typeof document<"u"&&(e.windowElement=document.createElement("div")),e.survey.onComplete.add(function(m,s){e.onSurveyComplete()}),e.registerPropertyChangedHandlers(["isShowing"],function(){e.showingChangedCallback&&e.showingChangedCallback()}),e.registerPropertyChangedHandlers(["isExpanded"],function(){e.onExpandedChanged()}),e.width=new P.ComputedUpdater(function(){return e.survey.width}),e.width=e.survey.width,e.updateCss(),e.onCreating(),e}return y.prototype.onCreating=function(){},y.prototype.getType=function(){return"popupsurvey"},Object.defineProperty(y.prototype,"survey",{get:function(){return this.surveyValue},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isShowing",{get:function(){return this.getPropertyValue("isShowing",!1)},set:function(p){this.setPropertyValue("isShowing",p)},enumerable:!1,configurable:!0}),y.prototype.show=function(){this.isShowing=!0},y.prototype.hide=function(){this.isShowing=!1},Object.defineProperty(y.prototype,"isExpanded",{get:function(){return this.getPropertyValue("isExpanded",!1)},set:function(p){this.setPropertyValue("isExpanded",p)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isCollapsed",{get:function(){return!this.isExpanded},enumerable:!1,configurable:!0}),y.prototype.onExpandedChanged=function(){this.expandedChangedCallback&&this.expandedChangedCallback(),this.updateCssButton()},Object.defineProperty(y.prototype,"title",{get:function(){return this.survey.title},set:function(p){this.survey.title=p},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"locTitle",{get:function(){return this.survey.locTitle.isEmpty?null:this.survey.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"locDescription",{get:function(){return this.survey.locTitle.isEmpty?null:this.survey.locDescription},enumerable:!1,configurable:!0}),y.prototype.expand=function(){this.isExpanded=!0},y.prototype.collapse=function(){this.isExpanded=!1},y.prototype.changeExpandCollapse=function(){this.isExpanded=!this.isExpanded},Object.defineProperty(y.prototype,"allowClose",{get:function(){return this.getPropertyValue("allowClose",!1)},set:function(p){this.setPropertyValue("allowClose",p)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"css",{get:function(){return this.survey.css},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"cssButton",{get:function(){return this.getPropertyValue("cssButton","")},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"cssRoot",{get:function(){var p=this.getPropertyValue("cssRoot","");return this.isCollapsed&&(p+=" "+this.getPropertyValue("cssRootCollapsedMod","")),p},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"cssRootCollapsedMod",{get:function(){return this.getPropertyValue("cssRootCollapsedMod")},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"cssRootContent",{get:function(){return this.getPropertyValue("cssRootContent")},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"cssBody",{get:function(){return this.getPropertyValue("cssBody","")},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"cssHeaderRoot",{get:function(){return this.getPropertyValue("cssHeaderRoot","")},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"cssHeaderTitleCollapsed",{get:function(){return this.getPropertyValue("cssHeaderTitleCollapsed","")},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"cssHeaderButtonsContainer",{get:function(){return this.getPropertyValue("cssHeaderButtonsContainer","")},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"cssHeaderCollapseButton",{get:function(){return this.getPropertyValue("cssHeaderCollapseButton","")},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"cssHeaderCloseButton",{get:function(){return this.getPropertyValue("cssHeaderCloseButton","")},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"renderedWidth",{get:function(){var p=this.getPropertyValue("width","60%");return p&&!isNaN(p)&&(p=p+"px"),p},enumerable:!1,configurable:!0}),y.prototype.updateCss=function(){if(!(!this.css||!this.css.window)){var p=this.css.window;this.setPropertyValue("cssRoot",p.root),this.setPropertyValue("cssRootCollapsedMod",p.rootCollapsedMod),this.setPropertyValue("cssRootContent",p.rootContent),this.setPropertyValue("cssBody",p.body);var f=p.header;f&&(this.setPropertyValue("cssHeaderRoot",f.root),this.setPropertyValue("cssHeaderTitleCollapsed",f.titleCollapsed),this.setPropertyValue("cssHeaderButtonsContainer",f.buttonsContainer),this.setPropertyValue("cssHeaderCollapseButton",f.collapseButton),this.setPropertyValue("cssHeaderCloseButton",f.closeButton),this.updateCssButton())}},y.prototype.updateCssButton=function(){var p=this.css.window?this.css.window.header:null;p&&this.setCssButton(this.isExpanded?p.buttonExpanded:p.buttonCollapsed)},y.prototype.setCssButton=function(p){p&&this.setPropertyValue("cssButton",p)},y.prototype.createSurvey=function(p){return new C.SurveyModel(p)},y.prototype.onSurveyComplete=function(){if(!(this.closeOnCompleteTimeout<0))if(this.closeOnCompleteTimeout==0)this.hide();else{var p=this,f=null,e=function(){p.hide(),typeof window<"u"&&window.clearInterval(f)};f=typeof window<"u"?window.setInterval(e,this.closeOnCompleteTimeout*1e3):0}},y.prototype.onScroll=function(){this.survey.onScroll()},R([Object(D.property)()],y.prototype,"width",void 0),y}(P.Base),O=function(l){A(y,l);function y(){return l!==null&&l.apply(this,arguments)||this}return y}(V)},"./src/popup-utils.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"createPopupModalViewModel",function(){return A}),d.d(M,"createPopupViewModel",function(){return R});var P=d("./src/popup.ts"),C=d("./src/popup-dropdown-view-model.ts"),D=d("./src/popup-modal-view-model.ts");function A(V,O){var l,y=new P.PopupModel(V.componentName,V.data,"top","left",!1,!0,V.onCancel,V.onApply,function(){V.onHide(),f&&p.resetComponentElement()},V.onShow,V.cssClass,V.title);y.displayMode=V.displayMode||"popup",y.isFocusedContent=(l=V.isFocusedContent)!==null&&l!==void 0?l:!0;var p=new D.PopupModalViewModel(y);if(O&&O.appendChild){var f=document.createElement("div");O.appendChild(f),p.setComponentElement(f)}return p.container||p.initializePopupContainer(),p}function R(V,O){return V.isModal?new D.PopupModalViewModel(V):new C.PopupDropdownViewModel(V,O)}},"./src/popup-view-model.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"FOCUS_INPUT_SELECTOR",function(){return y}),d.d(M,"PopupBaseViewModel",function(){return p});var P=d("./src/base.ts"),C=d("./src/jsonobject.ts"),D=d("./src/utils/cssClassBuilder.ts"),A=d("./src/actions/container.ts"),R=d("./src/settings.ts"),V=d("./src/utils/utils.ts"),O=function(){var f=function(e,m){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(s[c]=a[c])},f(e,m)};return function(e,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");f(e,m);function s(){this.constructor=e}e.prototype=m===null?Object.create(m):(s.prototype=m.prototype,new s)}}(),l=function(f,e,m,s){var a=arguments.length,c=a<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,m):s,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(f,e,m,s);else for(var t=f.length-1;t>=0;t--)(r=f[t])&&(c=(a<3?r(c):a>3?r(e,m,c):r(e,m))||c);return a>3&&c&&Object.defineProperty(e,m,c),c},y='input:not(:disabled):not([readonly]):not([type=hidden]),select:not(:disabled):not([readonly]),textarea:not(:disabled):not([readonly]), button:not(:disabled):not([readonly]), [tabindex]:not([tabindex^="-"])',p=function(f){O(e,f);function e(m){var s=f.call(this)||this;return s.subscriptionId=e.SubscriptionId++,s.popupSelector=".sv-popup",s.fixedPopupContainer=".sv-popup",s.containerSelector=".sv-popup__container",s.scrollingContentSelector=".sv-popup__scrolling-content",s.model=m,s}return Object.defineProperty(e.prototype,"container",{get:function(){return this.containerElement||this.createdContainer},enumerable:!1,configurable:!0}),e.prototype.getLocale=function(){return this.locale?this.locale:f.prototype.getLocale.call(this)},e.prototype.hidePopup=function(){this.model.isVisible=!1},e.prototype.getStyleClass=function(){return new D.CssClassBuilder().append(this.model.cssClass).append("sv-popup--"+this.model.displayMode,this.isOverlay)},e.prototype.getShowFooter=function(){return this.isOverlay},e.prototype.getShowHeader=function(){return!1},e.prototype.getPopupHeaderTemplate=function(){},e.prototype.createFooterActionBar=function(){var m=this;this.footerToolbarValue=new A.ActionContainer,this.footerToolbar.updateCallback=function(a){m.footerToolbarValue.actions.forEach(function(c){return c.cssClasses={item:"sv-popup__body-footer-item sv-popup__button sd-btn"}})};var s=[{id:"cancel",visibleIndex:10,title:this.cancelButtonText,innerCss:"sv-popup__button--cancel sd-btn",action:function(){m.cancel()}}];s=this.model.updateFooterActions(s),this.footerToolbarValue.setItems(s)},e.prototype.resetDimensionsAndPositionStyleProperties=function(){var m="inherit";this.top=m,this.left=m,this.height=m,this.width=m,this.minWidth=m},e.prototype.onModelChanging=function(m){},e.prototype.setupModel=function(m){var s=this;this.model&&this.model.unregisterPropertyChangedHandlers(["isVisible"],"PopupBaseViewModel"+this.subscriptionId),this.onModelChanging(m),this._model=m;var a=function(){m.isVisible||s.updateOnHiding(),s.isVisible=m.isVisible};m.registerPropertyChangedHandlers(["isVisible"],a,"PopupBaseViewModel"+this.subscriptionId),a()},Object.defineProperty(e.prototype,"model",{get:function(){return this._model},set:function(m){this.setupModel(m)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this.model.title},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"contentComponentName",{get:function(){return this.model.contentComponentName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"contentComponentData",{get:function(){return this.model.contentComponentData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isModal",{get:function(){return this.model.isModal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFocusedContent",{get:function(){return this.model.isFocusedContent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFocusedContainer",{get:function(){return this.model.isFocusedContainer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showFooter",{get:function(){return this.getShowFooter()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showHeader",{get:function(){return this.getShowHeader()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"popupHeaderTemplate",{get:function(){return this.getPopupHeaderTemplate()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOverlay",{get:function(){return this.model.displayMode==="overlay"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"styleClass",{get:function(){return this.getStyleClass().toString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cancelButtonText",{get:function(){return this.getLocalizationString("modalCancelButtonText")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"footerToolbar",{get:function(){return this.footerToolbarValue||this.createFooterActionBar(),this.footerToolbarValue},enumerable:!1,configurable:!0}),e.prototype.onKeyDown=function(m){m.key==="Tab"||m.keyCode===9?this.trapFocus(m):(m.key==="Escape"||m.keyCode===27)&&this.hidePopup()},e.prototype.trapFocus=function(m){var s=this.container.querySelectorAll(y),a=s[0],c=s[s.length-1];m.shiftKey?R.settings.environment.root.activeElement===a&&(c.focus(),m.preventDefault()):R.settings.environment.root.activeElement===c&&(a.focus(),m.preventDefault())},e.prototype.switchFocus=function(){this.isFocusedContent?this.focusFirstInput():this.isFocusedContainer&&this.focusContainer()},e.prototype.updateOnShowing=function(){this.prevActiveElement=R.settings.environment.root.activeElement,this.isOverlay&&this.resetDimensionsAndPositionStyleProperties(),this.switchFocus()},e.prototype.updateOnHiding=function(){this.isFocusedContent&&this.prevActiveElement&&this.prevActiveElement.focus()},e.prototype.focusContainer=function(){if(this.container){var m=this.container.querySelector(this.popupSelector);m?.focus()}},e.prototype.focusFirstInput=function(){var m=this;setTimeout(function(){if(m.container){var s=m.container.querySelector(m.model.focusFirstInputSelector||y);s?s.focus():m.focusContainer()}},100)},e.prototype.clickOutside=function(m){this.hidePopup(),m?.stopPropagation()},e.prototype.cancel=function(){this.model.onCancel(),this.hidePopup()},e.prototype.dispose=function(){f.prototype.dispose.call(this),this.model&&this.model.unregisterPropertyChangedHandlers(["isVisible"],"PopupBaseViewModel"+this.subscriptionId),this.createdContainer&&(this.createdContainer.remove(),this.createdContainer=void 0),this.footerToolbarValue&&this.footerToolbarValue.dispose(),this.resetComponentElement()},e.prototype.initializePopupContainer=function(){if(!this.container){var m=document.createElement("div");this.createdContainer=m,Object(V.getElement)(R.settings.environment.popupMountContainer).appendChild(m)}},e.prototype.setComponentElement=function(m,s){m&&(this.containerElement=m)},e.prototype.resetComponentElement=function(){this.containerElement=void 0,this.prevActiveElement=void 0},e.prototype.preventScrollOuside=function(m,s){for(var a=m.target;a!==this.container;){if(window.getComputedStyle(a).overflowY==="auto"&&a.scrollHeight!==a.offsetHeight){var c=a.scrollHeight,r=a.scrollTop,t=a.clientHeight;if(!(s>0&&Math.abs(c-t-r)<1)&&!(s<0&&r<=0))return}a=a.parentElement}m.cancelable&&m.preventDefault()},e.SubscriptionId=0,l([Object(C.property)({defaultValue:"0px"})],e.prototype,"top",void 0),l([Object(C.property)({defaultValue:"0px"})],e.prototype,"left",void 0),l([Object(C.property)({defaultValue:"auto"})],e.prototype,"height",void 0),l([Object(C.property)({defaultValue:"auto"})],e.prototype,"width",void 0),l([Object(C.property)({defaultValue:"auto"})],e.prototype,"minWidth",void 0),l([Object(C.property)({defaultValue:!1})],e.prototype,"isVisible",void 0),l([Object(C.property)()],e.prototype,"locale",void 0),e}(P.Base)},"./src/popup.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"PopupModel",function(){return R}),d.d(M,"createDialogOptions",function(){return V});var P=d("./src/base.ts"),C=d("./src/jsonobject.ts"),D=function(){var O=function(l,y){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var e in f)Object.prototype.hasOwnProperty.call(f,e)&&(p[e]=f[e])},O(l,y)};return function(l,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");O(l,y);function p(){this.constructor=l}l.prototype=y===null?Object.create(y):(p.prototype=y.prototype,new p)}}(),A=function(O,l,y,p){var f=arguments.length,e=f<3?l:p===null?p=Object.getOwnPropertyDescriptor(l,y):p,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")e=Reflect.decorate(O,l,y,p);else for(var s=O.length-1;s>=0;s--)(m=O[s])&&(e=(f<3?m(e):f>3?m(l,y,e):m(l,y))||e);return f>3&&e&&Object.defineProperty(l,y,e),e},R=function(O){D(l,O);function l(y,p,f,e,m,s,a,c,r,t,n,o,u){f===void 0&&(f="bottom"),e===void 0&&(e="left"),m===void 0&&(m=!0),s===void 0&&(s=!1),a===void 0&&(a=function(){}),c===void 0&&(c=function(){return!0}),r===void 0&&(r=function(){}),t===void 0&&(t=function(){}),n===void 0&&(n=""),o===void 0&&(o=""),u===void 0&&(u=function(){});var v=O.call(this)||this;return v.onDispose=u,v.focusFirstInputSelector="",v.onVisibilityChanged=v.addEvent(),v.onFooterActionsCreated=v.addEvent(),v.onRecalculatePosition=v.addEvent(),v.contentComponentName=y,v.contentComponentData=p,v.verticalPosition=f,v.horizontalPosition=e,v.showPointer=m,v.isModal=s,v.onCancel=a,v.onApply=c,v.onHide=r,v.onShow=t,v.cssClass=n,v.title=o,v}return l.prototype.refreshInnerModel=function(){var y=this.contentComponentData.model;y&&y.refresh&&y.refresh()},Object.defineProperty(l.prototype,"isVisible",{get:function(){return this.getPropertyValue("isVisible",!1)},set:function(y){this.isVisible!==y&&(this.setPropertyValue("isVisible",y),this.onVisibilityChanged.fire(this,{model:this,isVisible:y}),this.isVisible?this.onShow():(this.refreshInnerModel(),this.onHide()))},enumerable:!1,configurable:!0}),l.prototype.toggleVisibility=function(){this.isVisible=!this.isVisible},l.prototype.recalculatePosition=function(y){this.onRecalculatePosition.fire(this,{isResetHeight:y})},l.prototype.updateFooterActions=function(y){var p={actions:y};return this.onFooterActionsCreated.fire(this,p),p.actions},l.prototype.dispose=function(){O.prototype.dispose.call(this),this.onDispose()},A([Object(C.property)()],l.prototype,"contentComponentName",void 0),A([Object(C.property)()],l.prototype,"contentComponentData",void 0),A([Object(C.property)({defaultValue:"bottom"})],l.prototype,"verticalPosition",void 0),A([Object(C.property)({defaultValue:"left"})],l.prototype,"horizontalPosition",void 0),A([Object(C.property)({defaultValue:!1})],l.prototype,"showPointer",void 0),A([Object(C.property)({defaultValue:!1})],l.prototype,"isModal",void 0),A([Object(C.property)({defaultValue:!0})],l.prototype,"isFocusedContent",void 0),A([Object(C.property)({defaultValue:!0})],l.prototype,"isFocusedContainer",void 0),A([Object(C.property)({defaultValue:function(){}})],l.prototype,"onCancel",void 0),A([Object(C.property)({defaultValue:function(){return!0}})],l.prototype,"onApply",void 0),A([Object(C.property)({defaultValue:function(){}})],l.prototype,"onHide",void 0),A([Object(C.property)({defaultValue:function(){}})],l.prototype,"onShow",void 0),A([Object(C.property)({defaultValue:""})],l.prototype,"cssClass",void 0),A([Object(C.property)({defaultValue:""})],l.prototype,"title",void 0),A([Object(C.property)({defaultValue:"auto"})],l.prototype,"overlayDisplayMode",void 0),A([Object(C.property)({defaultValue:"popup"})],l.prototype,"displayMode",void 0),A([Object(C.property)({defaultValue:"flex"})],l.prototype,"positionMode",void 0),l}(P.Base);function V(O,l,y,p,f,e,m,s,a){return f===void 0&&(f=function(){}),e===void 0&&(e=function(){}),a===void 0&&(a="popup"),{componentName:O,data:l,onApply:y,onCancel:p,onHide:f,onShow:e,cssClass:m,title:s,displayMode:a}}},"./src/progress-buttons.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"ProgressButtons",function(){return V}),d.d(M,"ProgressButtonsResponsivityManager",function(){return O});var P=d("./src/base.ts"),C=d("./src/defaultCss/defaultV2Css.ts"),D=d("./src/page.ts"),A=d("./src/utils/cssClassBuilder.ts"),R=function(){var l=function(y,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var m in e)Object.prototype.hasOwnProperty.call(e,m)&&(f[m]=e[m])},l(y,p)};return function(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");l(y,p);function f(){this.constructor=y}y.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}(),V=function(l){R(y,l);function y(p){var f=l.call(this)||this;return f.survey=p,f.onResize=f.addEvent(),f}return y.prototype.isListElementClickable=function(p){return!this.survey.onServerValidateQuestions||this.survey.onServerValidateQuestions.isEmpty||this.survey.checkErrorsMode==="onComplete"?!0:p<=this.survey.currentPageNo+1},y.prototype.getRootCss=function(p){p===void 0&&(p="center");var f=this.survey.css.progressButtonsContainerCenter;return this.survey.css.progressButtonsRoot&&(f+=" "+this.survey.css.progressButtonsRoot+" "+this.survey.css.progressButtonsRoot+"--"+(["footer","contentBottom"].indexOf(p)!==-1?"bottom":"top"),f+=" "+this.survey.css.progressButtonsRoot+"--"+(this.showItemTitles?"with-titles":"no-titles")),this.showItemNumbers&&this.survey.css.progressButtonsNumbered&&(f+=" "+this.survey.css.progressButtonsNumbered),f},y.prototype.getListElementCss=function(p){if(!(p>=this.survey.visiblePages.length))return new A.CssClassBuilder().append(this.survey.css.progressButtonsListElementPassed,this.survey.visiblePages[p].passed).append(this.survey.css.progressButtonsListElementCurrent,this.survey.currentPageNo===p).append(this.survey.css.progressButtonsListElementNonClickable,!this.isListElementClickable(p)).toString()},y.prototype.getScrollButtonCss=function(p,f){return new A.CssClassBuilder().append(this.survey.css.progressButtonsImageButtonLeft,f).append(this.survey.css.progressButtonsImageButtonRight,!f).append(this.survey.css.progressButtonsImageButtonHidden,!p).toString()},y.prototype.clickListElement=function(p){p instanceof D.PageModel||(p=this.survey.visiblePages[p]),this.survey.tryNavigateToPage(p)},y.prototype.isListContainerHasScroller=function(p){var f=p.querySelector("."+this.survey.css.progressButtonsListContainer);return f?f.scrollWidth>f.offsetWidth:!1},y.prototype.isCanShowItemTitles=function(p){var f=p.querySelector("ul");if(!f||f.children.length<2)return!0;if(f.clientWidth>f.parentElement.clientWidth)return!1;for(var e=f.children[0].clientWidth,m=0;m<f.children.length;m++)if(Math.abs(f.children[m].clientWidth-e)>5)return!1;return!0},y.prototype.clearConnectorsWidth=function(p){for(var f=p.querySelectorAll(".sd-progress-buttons__connector"),e=0;e<f.length;e++)f[e].style.width=""},y.prototype.adjustConnectors=function(p){var f=p.querySelector("ul");if(f)for(var e=p.querySelectorAll(".sd-progress-buttons__connector"),m=f.clientWidth/(f.children.length-1)-4,s=0;s<e.length;s++)e[s].style.width=m+"px"},Object.defineProperty(y.prototype,"showItemNumbers",{get:function(){return C.surveyCss.currentType!=="defaultV2"?!1:this.survey.progressBarShowPageNumbers},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"showItemTitles",{get:function(){return C.surveyCss.currentType!=="defaultV2"?!0:this.survey.progressBarShowPageTitles},enumerable:!1,configurable:!0}),y.prototype.getItemNumber=function(p){var f="";return this.showItemNumbers&&(f+=this.survey.visiblePages.indexOf(p)+1),f},Object.defineProperty(y.prototype,"headerText",{get:function(){return this.survey.currentPage?this.survey.currentPage.renderedNavigationTitle:""},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"footerText",{get:function(){return this.survey.progressText},enumerable:!1,configurable:!0}),y.prototype.processResponsiveness=function(p){this.onResize.fire(this,{width:p})},y}(P.Base),O=function(){function l(y,p,f){var e=this;this.model=y,this.element=p,this.viewModel=f,this.criticalProperties=["progressBarType","progressBarShowPageTitles"],this.canShowItemTitles=!0,this.processResponsiveness=function(m,s){if(e.viewModel.onUpdateScroller(m.isListContainerHasScroller(e.element)),!m.showItemTitles){e.model.adjustConnectors(e.element);return}if(m.survey.isMobile){e.prevWidth=s.width,e.canShowItemTitles=!1,e.model.adjustConnectors(e.element),e.viewModel.onResize(e.canShowItemTitles);return}e.model.clearConnectorsWidth(e.element),e.timer!==void 0&&clearTimeout(e.timer),e.timer=setTimeout(function(){(e.prevWidth===void 0||e.prevWidth<s.width&&!e.canShowItemTitles||e.prevWidth>s.width&&e.canShowItemTitles)&&(e.prevWidth=s.width,e.canShowItemTitles=m.isCanShowItemTitles(e.element),e.viewModel.onResize(e.canShowItemTitles),e.timer=void 0)},10)},this.model.survey.registerFunctionOnPropertiesValueChanged(this.criticalProperties,function(){return e.forceUpdate()},"ProgressButtonsResponsivityManager"+this.viewModel.container),this.model.onResize.add(this.processResponsiveness),this.forceUpdate()}return l.prototype.forceUpdate=function(){this.viewModel.onUpdateSettings(),this.processResponsiveness(this.model,{})},l.prototype.dispose=function(){clearTimeout(this.timer),this.model.onResize.remove(this.processResponsiveness),this.model.survey.unRegisterFunctionOnPropertiesValueChanged(this.criticalProperties,"ProgressButtonsResponsivityManager"+this.viewModel.container),this.element=void 0,this.model=void 0},l}()},"./src/question.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"Question",function(){return t});var P=d("./src/helpers.ts"),C=d("./src/jsonobject.ts"),D=d("./src/survey-element.ts"),A=d("./src/error.ts"),R=d("./src/validator.ts"),V=d("./src/localizablestring.ts"),O=d("./src/conditions.ts"),l=d("./src/questionCustomWidgets.ts"),y=d("./src/settings.ts"),p=d("./src/rendererFactory.ts"),f=d("./src/utils/cssClassBuilder.ts"),e=d("./src/utils/utils.ts"),m=d("./src/console-warnings.ts"),s=d("./src/conditionProcessValue.ts"),a=function(){var o=function(u,v){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,b){x.__proto__=b}||function(x,b){for(var i in b)Object.prototype.hasOwnProperty.call(b,i)&&(x[i]=b[i])},o(u,v)};return function(u,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");o(u,v);function x(){this.constructor=u}u.prototype=v===null?Object.create(v):(x.prototype=v.prototype,new x)}}(),c=function(o,u,v,x){var b=arguments.length,i=b<3?u:x===null?x=Object.getOwnPropertyDescriptor(u,v):x,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(o,u,v,x);else for(var E=o.length-1;E>=0;E--)(h=o[E])&&(i=(b<3?h(i):b>3?h(u,v,i):h(u,v))||i);return b>3&&i&&Object.defineProperty(u,v,i),i},r=function(){function o(u,v,x){this.name=u,this.canRun=v,this.doComplete=x,this.runSecondCheck=function(b){return!1}}return o}(),t=function(o){a(u,o);function u(v){var x=o.call(this,v)||this;x.customWidgetData={isNeedRender:!0},x.hasCssErrorCallback=function(){return!1},x.isReadyValue=!0,x.dependedQuestions=[],x.onReadyChanged=x.addEvent(),x.triggersInfo=[],x.isRunningValidatorsValue=!1,x.isValueChangedInSurvey=!1,x.allowNotifyValueChanged=!0,x.id=u.getQuestionId(),x.onCreating(),x.createNewArray("validators",function(i){i.errorOwner=x}),x.addExpressionProperty("visibleIf",function(i,h){x.visible=h===!0},function(i){return!x.areInvisibleElementsShowing}),x.addExpressionProperty("enableIf",function(i,h){x.readOnly=h===!1}),x.addExpressionProperty("requiredIf",function(i,h){x.isRequired=h===!0}),x.createLocalizableString("commentText",x,!0,"otherItemText"),x.createLocalizableString("requiredErrorText",x),x.addTriggerInfo("resetValueIf",function(){return!x.isEmpty()},function(){x.clearValue(),x.updateValueWithDefaults()});var b=x.addTriggerInfo("setValueIf",function(){return!0},function(){return x.runSetValueExpression()});return b.runSecondCheck=function(i){return x.checkExpressionIf(i)},x.registerPropertyChangedHandlers(["width"],function(){x.updateQuestionCss(),x.parent&&x.parent.elementWidthChanged(x)}),x.registerPropertyChangedHandlers(["isRequired"],function(){!x.isRequired&&x.errors.length>0&&x.validate(),x.locTitle.strChanged(),x.clearCssClasses()}),x.registerPropertyChangedHandlers(["indent","rightIndent"],function(){x.onIndentChanged()}),x.registerPropertyChangedHandlers(["showCommentArea","showOtherItem"],function(){x.initCommentFromSurvey()}),x.registerFunctionOnPropertiesValueChanged(["no","readOnly","hasVisibleErrors","containsErrors"],function(){x.updateQuestionCss()}),x.registerPropertyChangedHandlers(["isMobile"],function(){x.onMobileChanged()}),x}return u.getQuestionId=function(){return"sq_"+u.questionCounter++},u.prototype.isReadOnlyRenderDiv=function(){return this.isReadOnly&&y.settings.readOnly.commentRenderMode==="div"},u.prototype.allowMobileInDesignMode=function(){return!1},u.prototype.updateIsMobileFromSurvey=function(){this.setIsMobile(this.survey._isMobile)},u.prototype.setIsMobile=function(v){this.isMobile=v&&(this.allowMobileInDesignMode()||!this.isDesignMode)},u.prototype.themeChanged=function(v){},u.prototype.getDefaultTitle=function(){return this.name},u.prototype.createLocTitleProperty=function(){var v=this,x=o.prototype.createLocTitleProperty.call(this);return x.storeDefaultText=!0,x.onGetTextCallback=function(b){return b||(b=v.getDefaultTitle()),v.survey?v.survey.getUpdatedQuestionTitle(v,b):b},this.locProcessedTitle=new V.LocalizableString(this,!0),this.locProcessedTitle.sharedData=x,x},u.prototype.getSurvey=function(v){return v===void 0&&(v=!1),v?this.parent?this.parent.getSurvey(v):null:this.onGetSurvey?this.onGetSurvey():o.prototype.getSurvey.call(this)},u.prototype.getValueName=function(){return this.valueName?this.valueName.toString():this.name},Object.defineProperty(u.prototype,"valueName",{get:function(){return this.getPropertyValue("valueName","")},set:function(v){var x=this.getValueName();this.setPropertyValue("valueName",v),this.onValueNameChanged(x)},enumerable:!1,configurable:!0}),u.prototype.onValueNameChanged=function(v){this.survey&&(this.survey.questionRenamed(this,this.name,v||this.name),this.initDataFromSurvey())},u.prototype.onNameChanged=function(v){this.locTitle.strChanged(),this.survey&&this.survey.questionRenamed(this,v,this.valueName?this.valueName:v)},Object.defineProperty(u.prototype,"isReady",{get:function(){return this.isReadyValue},enumerable:!1,configurable:!0}),u.prototype.onAsyncRunningChanged=function(){this.updateIsReady()},u.prototype.updateIsReady=function(){var v=this.getIsQuestionReady();if(v){for(var x=this.getIsReadyDependsOn(),b=0;b<x.length;b++)if(!x[b].getIsQuestionReady()){v=!1;break}}this.setIsReady(v)},u.prototype.getIsQuestionReady=function(){return!this.isAsyncExpressionRunning&&this.getAreNestedQuestionsReady()},u.prototype.getAreNestedQuestionsReady=function(){var v=this.getIsReadyNestedQuestions();if(!Array.isArray(v))return!0;for(var x=0;x<v.length;x++)if(!v[x].isReady)return!1;return!0},u.prototype.getIsReadyNestedQuestions=function(){return this.getNestedQuestions()},u.prototype.setIsReady=function(v){var x=this.isReadyValue;this.isReadyValue=v,x!=v&&(this.getIsReadyDependends().forEach(function(b){return b.updateIsReady()}),this.onReadyChanged.fire(this,{question:this,isReady:v,oldIsReady:x}))},u.prototype.getIsReadyDependsOn=function(){return this.getIsReadyDependendCore(!0)},u.prototype.getIsReadyDependends=function(){return this.getIsReadyDependendCore(!1)},u.prototype.getIsReadyDependendCore=function(v){var x=this;if(!this.survey)return[];var b=this.survey.questionsByValueName(this.getValueName()),i=new Array;return b.forEach(function(h){h!==x&&i.push(h)}),v||(this.parentQuestion&&i.push(this.parentQuestion),this.dependedQuestions.length>0&&this.dependedQuestions.forEach(function(h){return i.push(h)})),i},u.prototype.choicesLoaded=function(){},Object.defineProperty(u.prototype,"page",{get:function(){return this.parentQuestion?this.parentQuestion.page:this.getPage(this.parent)},set:function(v){this.setPage(this.parent,v)},enumerable:!1,configurable:!0}),u.prototype.getPanel=function(){return null},u.prototype.delete=function(v){v===void 0&&(v=!0),this.removeFromParent(),v?this.dispose():this.resetDependedQuestions()},u.prototype.removeFromParent=function(){this.parent&&this.removeSelfFromList(this.parent.elements)},u.prototype.addDependedQuestion=function(v){!v||this.dependedQuestions.indexOf(v)>-1||this.dependedQuestions.push(v)},u.prototype.removeDependedQuestion=function(v){if(v){var x=this.dependedQuestions.indexOf(v);x>-1&&this.dependedQuestions.splice(x,1)}},u.prototype.updateDependedQuestions=function(){for(var v=0;v<this.dependedQuestions.length;v++)this.dependedQuestions[v].updateDependedQuestion()},u.prototype.updateDependedQuestion=function(){},u.prototype.resetDependedQuestion=function(){},Object.defineProperty(u.prototype,"isFlowLayout",{get:function(){return this.getLayoutType()==="flow"},enumerable:!1,configurable:!0}),u.prototype.getLayoutType=function(){return this.parent?this.parent.getChildrenLayoutType():"row"},u.prototype.isLayoutTypeSupported=function(v){return v!=="flow"},Object.defineProperty(u.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(v){v!=this.visible&&(this.setPropertyValue("visible",v),this.onVisibleChanged(),this.notifySurveyVisibilityChanged())},enumerable:!1,configurable:!0}),u.prototype.onVisibleChanged=function(){this.updateIsVisibleProp(),!this.isVisible&&this.errors&&this.errors.length>0&&(this.errors=[])},u.prototype.notifyStateChanged=function(v){o.prototype.notifyStateChanged.call(this,v),this.isCollapsed&&this.onHidingContent()},u.prototype.updateIsVisibleProp=function(){var v=this.getPropertyValue("isVisible"),x=this.isVisible;v!==x&&(this.setPropertyValue("isVisible",x),x||this.onHidingContent())},Object.defineProperty(u.prototype,"useDisplayValuesInDynamicTexts",{get:function(){return this.getPropertyValue("useDisplayValuesInDynamicTexts")},set:function(v){this.setPropertyValue("useDisplayValuesInDynamicTexts",v)},enumerable:!1,configurable:!0}),u.prototype.getUseDisplayValuesInDynamicTexts=function(){return this.useDisplayValuesInDynamicTexts},Object.defineProperty(u.prototype,"visibleIf",{get:function(){return this.getPropertyValue("visibleIf","")},set:function(v){this.setPropertyValue("visibleIf",v)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isVisible",{get:function(){return this.survey&&this.survey.areEmptyElementsHidden&&this.isEmpty()?!1:this.areInvisibleElementsShowing?!0:this.isVisibleCore()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isVisibleInSurvey",{get:function(){return this.isVisible&&this.isParentVisible},enumerable:!1,configurable:!0}),u.prototype.isVisibleCore=function(){return this.visible},Object.defineProperty(u.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},enumerable:!1,configurable:!0}),u.prototype.onHidingContent=function(){},Object.defineProperty(u.prototype,"hideNumber",{get:function(){return this.getPropertyValue("hideNumber")},set:function(v){this.setPropertyValue("hideNumber",v),this.notifySurveyVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isAllowTitleLeft",{get:function(){return!0},enumerable:!1,configurable:!0}),u.prototype.getType=function(){return"question"},Object.defineProperty(u.prototype,"isQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),u.prototype.moveTo=function(v,x){return x===void 0&&(x=null),this.moveToBase(this.parent,v,x)},u.prototype.getProgressInfo=function(){return this.hasInput?{questionCount:1,answeredQuestionCount:this.isEmpty()?0:1,requiredQuestionCount:this.isRequired?1:0,requiredAnsweredQuestionCount:!this.isEmpty()&&this.isRequired?1:0}:o.prototype.getProgressInfo.call(this)},u.prototype.ensureSetValueExpressionRunner=function(){var v=this;this.setValueExpressionRunner?this.setValueExpressionRunner.expression=this.setValueExpression:(this.setValueExpressionRunner=new O.ExpressionRunner(this.setValueExpression),this.setValueExpressionRunner.onRunComplete=function(x){v.isTwoValueEquals(v.value,x)||(v.value=x)})},u.prototype.runSetValueExpression=function(){this.setValueExpression?(this.ensureSetValueExpressionRunner(),this.setValueExpressionRunner.run(this.getDataFilteredValues(),this.getDataFilteredProperties())):this.clearValue()},u.prototype.checkExpressionIf=function(v){return this.ensureSetValueExpressionRunner(),this.setValueExpressionRunner?new s.ProcessValue().isAnyKeyChanged(v,this.setValueExpressionRunner.getVariables()):!1},u.prototype.addTriggerInfo=function(v,x,b){var i=new r(v,x,b);return this.triggersInfo.push(i),i},u.prototype.runTriggerInfo=function(v,x,b){var i=this[v.name],h={};if(h[x]=b,!i||v.isRunning||!v.canRun()){v.runSecondCheck(h)&&v.doComplete();return}v.runner?v.runner.expression=i:(v.runner=new O.ExpressionRunner(i),v.runner.onRunComplete=function(E){E===!0&&v.doComplete(),v.isRunning=!1}),!(!new s.ProcessValue().isAnyKeyChanged(h,v.runner.getVariables())&&!v.runSecondCheck(h))&&(v.isRunning=!0,v.runner.run(this.getDataFilteredValues(),this.getDataFilteredProperties()))},u.prototype.runTriggers=function(v,x){var b=this;this.isReadOnly||this.isSettingQuestionValue||this.parentQuestion&&this.parentQuestion.getValueName()===v||this.triggersInfo.forEach(function(i){b.runTriggerInfo(i,v,x)})},u.prototype.runConditions=function(){this.data&&!this.isLoadingFromJson&&(this.isDesignMode||this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties()),this.locStrsChanged())},u.prototype.setSurveyImpl=function(v,x){o.prototype.setSurveyImpl.call(this,v),this.survey&&(this.survey.questionCreated(this),x!==!0&&this.runConditions(),this.calcRenderedCommentPlaceholder(),this.visible||this.updateIsVisibleProp(),this.updateIsMobileFromSurvey())},Object.defineProperty(u.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(v){this.parent!==v&&(this.removeFromParent(),this.setPropertyValue("parent",v),this.updateQuestionCss(),this.onParentChanged())},enumerable:!1,configurable:!0}),u.prototype.onParentChanged=function(){},Object.defineProperty(u.prototype,"hasTitle",{get:function(){return this.getTitleLocation()!=="hidden"},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"titleLocation",{get:function(){return this.getPropertyValue("titleLocation")},set:function(v){var x=this.titleLocation=="hidden"||v=="hidden";this.setPropertyValue("titleLocation",v.toLowerCase()),this.updateQuestionCss(),x&&this.notifySurveyVisibilityChanged()},enumerable:!1,configurable:!0}),u.prototype.getTitleOwner=function(){return this},u.prototype.getIsTitleRenderedAsString=function(){return this.titleLocation==="hidden"},u.prototype.notifySurveyVisibilityChanged=function(){if(!(!this.survey||this.isLoadingFromJson)){this.survey.questionVisibilityChanged(this,this.isVisible);var v=this.isClearValueOnHidden;this.visible||this.clearValueOnHidding(v),v&&this.isVisibleInSurvey&&this.updateValueWithDefaults()}},u.prototype.clearValueOnHidding=function(v){v&&this.clearValueIfInvisible()},u.prototype.getTitleLocation=function(){if(this.isFlowLayout)return"hidden";var v=this.getTitleLocationCore();return v==="left"&&!this.isAllowTitleLeft&&(v="top"),v},u.prototype.getTitleLocationCore=function(){return this.titleLocation!=="default"?this.titleLocation:this.parent?this.parent.getQuestionTitleLocation():this.survey?this.survey.questionTitleLocation:"top"},Object.defineProperty(u.prototype,"hasTitleOnLeft",{get:function(){return this.hasTitle&&this.getTitleLocation()==="left"},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"hasTitleOnTop",{get:function(){return this.hasTitle&&this.getTitleLocation()==="top"},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"hasTitleOnBottom",{get:function(){return this.hasTitle&&this.getTitleLocation()==="bottom"},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"hasTitleOnLeftTop",{get:function(){if(!this.hasTitle)return!1;var v=this.getTitleLocation();return v==="left"||v==="top"},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"errorLocation",{get:function(){return this.getPropertyValue("errorLocation")},set:function(v){this.setPropertyValue("errorLocation",v)},enumerable:!1,configurable:!0}),u.prototype.getErrorLocation=function(){return this.errorLocation!=="default"?this.errorLocation:this.parentQuestion?this.parentQuestion.getChildErrorLocation(this):this.parent?this.parent.getQuestionErrorLocation():this.survey?this.survey.questionErrorLocation:"top"},u.prototype.getChildErrorLocation=function(v){return this.getErrorLocation()},Object.defineProperty(u.prototype,"hasInput",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"hasSingleInput",{get:function(){return this.hasInput},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"inputId",{get:function(){return this.id+"i"},enumerable:!1,configurable:!0}),u.prototype.getDefaultTitleValue=function(){return this.name},u.prototype.getDefaultTitleTagName=function(){return y.settings.titleTags.question},Object.defineProperty(u.prototype,"descriptionLocation",{get:function(){return this.getPropertyValue("descriptionLocation")},set:function(v){this.setPropertyValue("descriptionLocation",v),this.updateQuestionCss()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"hasDescriptionUnderTitle",{get:function(){return this.getDescriptionLocation()=="underTitle"&&this.hasDescription},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"hasDescriptionUnderInput",{get:function(){return this.getDescriptionLocation()=="underInput"&&this.hasDescription},enumerable:!1,configurable:!0}),u.prototype.getDescriptionLocation=function(){return this.descriptionLocation!=="default"?this.descriptionLocation:this.survey?this.survey.questionDescriptionLocation:"underTitle"},u.prototype.needClickTitleFunction=function(){return o.prototype.needClickTitleFunction.call(this)||this.hasInput},u.prototype.processTitleClick=function(){var v=this;if(o.prototype.processTitleClick.call(this),!this.isCollapsed)return setTimeout(function(){v.focus()},1),!0},Object.defineProperty(u.prototype,"requiredErrorText",{get:function(){return this.getLocalizableStringText("requiredErrorText")},set:function(v){this.setLocalizableStringText("requiredErrorText",v)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"locRequiredErrorText",{get:function(){return this.getLocalizableString("requiredErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"commentText",{get:function(){return this.getLocalizableStringText("commentText")},set:function(v){this.setLocalizableStringText("commentText",v)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"locCommentText",{get:function(){return this.getLocalizableString("commentText")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"commentPlaceHolder",{get:function(){return this.commentPlaceholder},set:function(v){this.commentPlaceholder=v},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"renderedCommentPlaceholder",{get:function(){return this.getPropertyValue("renderedCommentPlaceholder")},enumerable:!1,configurable:!0}),u.prototype.calcRenderedCommentPlaceholder=function(){var v=this.isReadOnly?void 0:this.commentPlaceHolder;this.setPropertyValue("renderedCommentPlaceholder",v)},u.prototype.getAllErrors=function(){return this.errors.slice()},u.prototype.getErrorByType=function(v){for(var x=0;x<this.errors.length;x++)if(this.errors[x].getErrorType()===v)return this.errors[x];return null},Object.defineProperty(u.prototype,"customWidget",{get:function(){return!this.isCustomWidgetRequested&&!this.customWidgetValue&&(this.isCustomWidgetRequested=!0,this.updateCustomWidget()),this.customWidgetValue},enumerable:!1,configurable:!0}),u.prototype.updateCustomWidget=function(){this.customWidgetValue=l.CustomWidgetCollection.Instance.getCustomWidget(this)},u.prototype.localeChanged=function(){o.prototype.localeChanged.call(this),this.calcRenderedCommentPlaceholder(),this.localeChangedCallback&&this.localeChangedCallback()},Object.defineProperty(u.prototype,"isCompositeQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isContainer",{get:function(){return!1},enumerable:!1,configurable:!0}),u.prototype.updateCommentElements=function(){if(!(!this.autoGrowComment||!Array.isArray(this.commentElements)))for(var v=0;v<this.commentElements.length;v++){var x=this.commentElements[v];x&&Object(e.increaseHeightByContent)(x)}},u.prototype.onCommentInput=function(v){this.isInputTextUpdate?v.target&&(this.comment=v.target.value):this.updateCommentElements()},u.prototype.onCommentChange=function(v){this.comment=v.target.value,this.comment!==v.target.value&&(v.target.value=this.comment)},u.prototype.afterRenderQuestionElement=function(v){!this.survey||!this.hasSingleInput||this.survey.afterRenderQuestionInput(this,v)},u.prototype.afterRender=function(v){var x=this;this.afterRenderCore(v),this.survey&&(this.survey.afterRenderQuestion(this,v),this.afterRenderQuestionCallback&&this.afterRenderQuestionCallback(this,v),(this.supportComment()||this.supportOther())&&(this.commentElements=[],this.getCommentElementsId().forEach(function(b){var i=y.settings.environment.root,h=i.getElementById(b);h&&x.commentElements.push(h)}),this.updateCommentElements()),this.checkForResponsiveness(v))},u.prototype.afterRenderCore=function(v){},u.prototype.getCommentElementsId=function(){return[this.commentId]},u.prototype.beforeDestroyQuestionElement=function(v){this.commentElements=void 0},Object.defineProperty(u.prototype,"processedTitle",{get:function(){var v=this.locProcessedTitle.textOrHtml;return v||this.name},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fullTitle",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"titlePattern",{get:function(){return this.survey?this.survey.questionTitlePattern:"numTitleRequire"},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isRequireTextOnStart",{get:function(){return this.isRequired&&this.titlePattern=="requireNumTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isRequireTextBeforeTitle",{get:function(){return this.isRequired&&this.titlePattern=="numRequireTitle"&&this.requiredText!==""},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isRequireTextAfterTitle",{get:function(){return this.isRequired&&this.titlePattern=="numTitleRequire"&&this.requiredText!==""},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"startWithNewLine",{get:function(){return this.getPropertyValue("startWithNewLine")},set:function(v){this.startWithNewLine!=v&&this.setPropertyValue("startWithNewLine",v)},enumerable:!1,configurable:!0}),u.prototype.calcCssClasses=function(v){var x={error:{}};return this.copyCssClasses(x,v.question),this.copyCssClasses(x.error,v.error),this.updateCssClasses(x,v),this.survey&&this.survey.updateQuestionCssClasses(this,x),this.onUpdateCssClassesCallback&&this.onUpdateCssClassesCallback(x),x},Object.defineProperty(u.prototype,"cssRoot",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssRoot","")},enumerable:!1,configurable:!0}),u.prototype.setCssRoot=function(v){this.setPropertyValue("cssRoot",v)},u.prototype.getCssRoot=function(v){var x=this.hasCssError();return new f.CssClassBuilder().append(o.prototype.getCssRoot.call(this,v)).append(this.isFlowLayout&&!this.isDesignMode?v.flowRoot:v.mainRoot).append(v.titleLeftRoot,!this.isFlowLayout&&this.hasTitleOnLeft).append(v.titleTopRoot,!this.isFlowLayout&&this.hasTitleOnTop).append(v.titleBottomRoot,!this.isFlowLayout&&this.hasTitleOnBottom).append(v.descriptionUnderInputRoot,!this.isFlowLayout&&this.hasDescriptionUnderInput).append(v.hasError,x).append(v.hasErrorTop,x&&this.getErrorLocation()=="top").append(v.hasErrorBottom,x&&this.getErrorLocation()=="bottom").append(v.small,!this.width).append(v.answered,this.isAnswered).toString()},Object.defineProperty(u.prototype,"cssHeader",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssHeader","")},enumerable:!1,configurable:!0}),u.prototype.setCssHeader=function(v){this.setPropertyValue("cssHeader",v)},u.prototype.getCssHeader=function(v){return new f.CssClassBuilder().append(v.header).append(v.headerTop,this.hasTitleOnTop).append(v.headerLeft,this.hasTitleOnLeft).append(v.headerBottom,this.hasTitleOnBottom).toString()},u.prototype.supportContainerQueries=function(){return!1},Object.defineProperty(u.prototype,"cssContent",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssContent","")},enumerable:!1,configurable:!0}),u.prototype.setCssContent=function(v){this.setPropertyValue("cssContent",v)},u.prototype.getCssContent=function(v){return new f.CssClassBuilder().append(v.content).append(v.contentSupportContainerQueries,this.supportContainerQueries()).append(v.contentLeft,this.hasTitleOnLeft).toString()},Object.defineProperty(u.prototype,"cssTitle",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssTitle","")},enumerable:!1,configurable:!0}),u.prototype.setCssTitle=function(v){this.setPropertyValue("cssTitle",v)},u.prototype.getCssTitle=function(v){return new f.CssClassBuilder().append(o.prototype.getCssTitle.call(this,v)).append(v.titleOnAnswer,!this.containsErrors&&this.isAnswered).append(v.titleEmpty,!this.title.trim()).toString()},Object.defineProperty(u.prototype,"cssDescription",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssDescription","")},enumerable:!1,configurable:!0}),u.prototype.setCssDescription=function(v){this.setPropertyValue("cssDescription",v)},u.prototype.getCssDescription=function(v){return new f.CssClassBuilder().append(v.description,this.hasDescriptionUnderTitle).append(v.descriptionUnderInput,this.hasDescriptionUnderInput).toString()},u.prototype.showErrorOnCore=function(v){return!this.showErrorsAboveQuestion&&!this.showErrorsBelowQuestion&&this.getErrorLocation()===v},Object.defineProperty(u.prototype,"showErrorOnTop",{get:function(){return this.showErrorOnCore("top")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"showErrorOnBottom",{get:function(){return this.showErrorOnCore("bottom")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"showErrorsOutsideQuestion",{get:function(){return this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"showErrorsAboveQuestion",{get:function(){return this.showErrorsOutsideQuestion&&this.getErrorLocation()==="top"},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"showErrorsBelowQuestion",{get:function(){return this.showErrorsOutsideQuestion&&this.getErrorLocation()==="bottom"},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"cssError",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssError","")},enumerable:!1,configurable:!0}),u.prototype.setCssError=function(v){this.setPropertyValue("cssError",v)},u.prototype.getCssError=function(v){return new f.CssClassBuilder().append(v.error.root).append(v.errorsContainer,this.showErrorsBelowQuestion||this.showErrorsAboveQuestion).append(v.errorsContainerTop,this.showErrorsAboveQuestion).append(v.errorsContainerBottom,this.showErrorsBelowQuestion).append(v.error.locationTop,this.showErrorOnTop).append(v.error.locationBottom,this.showErrorOnBottom).toString()},u.prototype.hasCssError=function(){return this.errors.length>0||this.hasCssErrorCallback()},u.prototype.getRootCss=function(){return new f.CssClassBuilder().append(this.cssRoot).append(this.cssClasses.disabled,this.isReadOnly).append(this.cssClasses.invisible,!this.isDesignMode&&this.areInvisibleElementsShowing&&!this.visible).toString()},u.prototype.getQuestionRootCss=function(){return new f.CssClassBuilder().append(this.cssClasses.root).append(this.cssClasses.rootMobile,this.isMobile).toString()},u.prototype.updateElementCss=function(v){o.prototype.updateElementCss.call(this,v),v&&this.updateQuestionCss(!0),this.onIndentChanged()},u.prototype.updateQuestionCss=function(v){this.isLoadingFromJson||!this.survey||v!==!0&&!this.cssClassesValue||this.updateElementCssCore(this.cssClasses)},u.prototype.ensureElementCss=function(){this.cssClassesValue||this.updateQuestionCss(!0)},u.prototype.updateElementCssCore=function(v){this.setCssRoot(this.getCssRoot(v)),this.setCssHeader(this.getCssHeader(v)),this.setCssContent(this.getCssContent(v)),this.setCssTitle(this.getCssTitle(v)),this.setCssDescription(this.getCssDescription(v)),this.setCssError(this.getCssError(v))},u.prototype.updateCssClasses=function(v,x){if(x.question){var b=x[this.getCssType()],i=new f.CssClassBuilder().append(v.title).append(x.question.titleRequired,this.isRequired);v.title=i.toString();var h=new f.CssClassBuilder().append(v.root).append(b,this.isRequired&&!!x.question.required);if(b==null)v.root=h.toString();else if(typeof b=="string"||b instanceof String)v.root=h.append(b.toString()).toString();else{v.root=h.toString();for(var E in b)v[E]=b[E]}}},u.prototype.getCssType=function(){return this.getType()},Object.defineProperty(u.prototype,"renderCssRoot",{get:function(){return this.cssClasses.root||void 0},enumerable:!1,configurable:!0}),u.prototype.onIndentChanged=function(){this.paddingLeft=this.getIndentSize(this.indent),this.paddingRight=this.getIndentSize(this.rightIndent)},u.prototype.getIndentSize=function(v){return v<1||!this.getSurvey()||!this.cssClasses||!this.cssClasses.indent?"":v*this.cssClasses.indent+"px"},u.prototype.focus=function(v,x){if(v===void 0&&(v=!1),!(this.isDesignMode||!this.isVisible||!this.survey)){var b=this.page,i=!!b&&this.survey.activePage!==b;i?this.survey.focusQuestionByInstance(this,v):this.focuscore(v,x)}},u.prototype.focuscore=function(v,x){v===void 0&&(v=!1),this.survey&&(this.expandAllParents(this),this.survey.scrollElementToTop(this,this,null,this.id,x));var b=v?this.getFirstErrorInputElementId():this.getFirstInputElementId();D.SurveyElement.FocusElement(b)&&this.fireCallback(this.focusCallback)},u.prototype.expandAllParents=function(v){v&&(v.isCollapsed&&v.expand(),this.expandAllParents(v.parent),this.expandAllParents(v.parentQuestion))},u.prototype.focusIn=function(){!this.survey||this.isDisposed||this.isContainer||this.survey.whenQuestionFocusIn(this)},u.prototype.fireCallback=function(v){v&&v()},u.prototype.getOthersMaxLength=function(){return this.survey&&this.survey.maxOthersLength>0?this.survey.maxOthersLength:null},u.prototype.onCreating=function(){},u.prototype.getFirstQuestionToFocus=function(v){return this.hasInput&&(!v||this.currentErrorCount>0)?this:null},u.prototype.getFirstInputElementId=function(){return this.inputId},u.prototype.getFirstErrorInputElementId=function(){return this.getFirstInputElementId()},u.prototype.getProcessedTextValue=function(v){var x=v.name.toLocaleLowerCase();v.isExists=Object.keys(u.TextPreprocessorValuesMap).indexOf(x)!==-1||this[v.name]!==void 0,v.value=this[u.TextPreprocessorValuesMap[x]||v.name]},u.prototype.supportComment=function(){var v=this.getPropertyByName("showCommentArea");return!v||v.visible},u.prototype.supportOther=function(){return!1},Object.defineProperty(u.prototype,"isRequired",{get:function(){return this.getPropertyValue("isRequired")},set:function(v){this.setPropertyValue("isRequired",v)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"requiredIf",{get:function(){return this.getPropertyValue("requiredIf","")},set:function(v){this.setPropertyValue("requiredIf",v)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"showCommentArea",{get:function(){return this.getPropertyValue("showCommentArea",!1)},set:function(v){this.supportComment()&&this.setPropertyValue("showCommentArea",v)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"hasComment",{get:function(){return this.showCommentArea},set:function(v){this.showCommentArea=v},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(v){this.setPropertyValue("id",v)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"ariaTitleId",{get:function(){return this.id+"_ariaTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"commentId",{get:function(){return this.id+"_comment"},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"showOtherItem",{get:function(){return this.getPropertyValue("showOtherItem",!1)},set:function(v){!this.supportOther()||this.showOtherItem==v||(this.setPropertyValue("showOtherItem",v),this.hasOtherChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"hasOther",{get:function(){return this.showOtherItem},set:function(v){this.showOtherItem=v},enumerable:!1,configurable:!0}),u.prototype.hasOtherChanged=function(){},Object.defineProperty(u.prototype,"requireUpdateCommentValue",{get:function(){return this.hasComment||this.hasOther},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isReadOnly",{get:function(){var v=!!this.parent&&this.parent.isReadOnly,x=!!this.parentQuestion&&this.parentQuestion.isReadOnly,b=!!this.survey&&this.survey.isDisplayMode;return this.readOnly||v||b||x},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isInputReadOnly",{get:function(){return this.forceIsInputReadOnly!==void 0?this.forceIsInputReadOnly:this.isReadOnly||this.isDesignModeV2},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"renderedInputReadOnly",{get:function(){return this.isInputReadOnly?"":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"renderedInputDisabled",{get:function(){return this.isInputReadOnly?"":void 0},enumerable:!1,configurable:!0}),u.prototype.onReadOnlyChanged=function(){this.setPropertyValue("isInputReadOnly",this.isInputReadOnly),o.prototype.onReadOnlyChanged.call(this),this.isReadOnly&&this.clearErrors(),this.updateQuestionCss(),this.calcRenderedCommentPlaceholder()},Object.defineProperty(u.prototype,"enableIf",{get:function(){return this.getPropertyValue("enableIf","")},set:function(v){this.setPropertyValue("enableIf",v)},enumerable:!1,configurable:!0}),u.prototype.surveyChoiceItemVisibilityChange=function(){},u.prototype.runCondition=function(v,x){this.isDesignMode||(x||(x={}),x.question=this,this.runConditionCore(v,x),!this.isValueChangedDirectly&&(!this.isClearValueOnHidden||this.isVisibleInSurvey)&&(this.defaultValueRunner=this.getDefaultRunner(this.defaultValueRunner,this.defaultValueExpression),this.runDefaultValueExpression(this.defaultValueRunner,v,x)))},Object.defineProperty(u.prototype,"no",{get:function(){return this.getPropertyValue("no")},enumerable:!1,configurable:!0}),u.prototype.calcNo=function(){if(!this.hasTitle||this.hideNumber)return"";var v=P.Helpers.getNumberByIndex(this.visibleIndex,this.getStartIndex());return this.survey&&(v=this.survey.getUpdatedQuestionNo(this,v)),v},u.prototype.getStartIndex=function(){return this.parent?this.parent.getQuestionStartIndex():this.survey?this.survey.questionStartIndex:""},u.prototype.onSurveyLoad=function(){this.isCustomWidgetRequested=!1,this.fireCallback(this.surveyLoadCallback),this.updateValueWithDefaults(),this.isEmpty()&&this.initDataFromSurvey(),this.calcRenderedCommentPlaceholder(),this.onIndentChanged()},u.prototype.onSetData=function(){o.prototype.onSetData.call(this),this.survey&&(this.initDataFromSurvey(),this.onSurveyValueChanged(this.value),this.updateValueWithDefaults(),this.onIndentChanged(),this.updateQuestionCss(),this.updateIsAnswered())},u.prototype.initDataFromSurvey=function(){if(this.data){var v=this.data.getValue(this.getValueName());(!P.Helpers.isValueEmpty(v)||!this.isLoadingFromJson)&&this.updateValueFromSurvey(v),this.initCommentFromSurvey()}},u.prototype.initCommentFromSurvey=function(){this.data&&this.requireUpdateCommentValue?this.updateCommentFromSurvey(this.data.getComment(this.getValueName())):this.updateCommentFromSurvey("")},u.prototype.runExpression=function(v){if(!(!this.survey||!v))return this.survey.runExpression(v)},Object.defineProperty(u.prototype,"autoGrowComment",{get:function(){return this.survey&&this.survey.autoGrowComment},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"allowResizeComment",{get:function(){return this.survey&&this.survey.allowResizeComment},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"questionValue",{get:function(){return this.getPropertyValueWithoutDefault("value")},set:function(v){this.setPropertyValue("value",v)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"questionComment",{get:function(){return this.getPropertyValueWithoutDefault("comment")},set:function(v){this.setPropertyValue("comment",v),this.fireCallback(this.commentChangedCallback)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isValueArray",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"value",{get:function(){return this.getValueCore()},set:function(v){this.setNewValue(v)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"hasFilteredValue",{get:function(){return!1},enumerable:!1,configurable:!0}),u.prototype.getFilteredValue=function(){return this.value},Object.defineProperty(u.prototype,"valueForSurvey",{get:function(){return this.valueToDataCallback?this.valueToDataCallback(this.value):this.value},enumerable:!1,configurable:!0}),u.prototype.clearValue=function(){this.value!==void 0&&(this.value=void 0),this.comment&&(this.comment=void 0),this.setValueChangedDirectly(!1)},u.prototype.unbindValue=function(){this.clearValue()},u.prototype.createValueCopy=function(){return this.getUnbindValue(this.value)},u.prototype.initDataUI=function(){},u.prototype.getUnbindValue=function(v){return this.isValueSurveyElement(v)?v:P.Helpers.getUnbindValue(v)},u.prototype.isValueSurveyElement=function(v){return v?Array.isArray(v)?v.length>0?this.isValueSurveyElement(v[0]):!1:!!v.getType&&!!v.onPropertyChanged:!1},u.prototype.canClearValueAsInvisible=function(v){return v==="onHiddenContainer"&&!this.isParentVisible?!0:this.isVisibleInSurvey||this.page&&this.page.isStartPage?!1:this.survey?!this.survey.hasVisibleQuestionByValueName(this.getValueName()):!0},Object.defineProperty(u.prototype,"isParentVisible",{get:function(){if(this.parentQuestion&&!this.parentQuestion.isVisible)return!1;for(var v=this.parent;v;){if(!v.isVisible)return!1;v=v.parent}return!0},enumerable:!1,configurable:!0}),u.prototype.clearValueIfInvisible=function(v){v===void 0&&(v="onHidden");var x=this.getClearIfInvisible();x!=="none"&&(v==="onHidden"&&x==="onComplete"||v==="onHiddenContainer"&&x!==v||this.clearValueIfInvisibleCore(v))},u.prototype.clearValueIfInvisibleCore=function(v){this.canClearValueAsInvisible(v)&&(this.clearValue(),this.setValueChangedDirectly(void 0))},Object.defineProperty(u.prototype,"clearIfInvisible",{get:function(){return this.getPropertyValue("clearIfInvisible")},set:function(v){this.setPropertyValue("clearIfInvisible",v)},enumerable:!1,configurable:!0}),u.prototype.getClearIfInvisible=function(){var v=this.clearIfInvisible;return this.survey?this.survey.getQuestionClearIfInvisible(v):v!=="default"?v:"onComplete"},Object.defineProperty(u.prototype,"displayValue",{get:function(){return this.isLoadingFromJson?"":this.getDisplayValue(!0)},enumerable:!1,configurable:!0}),u.prototype.getDisplayValue=function(v,x){x===void 0&&(x=void 0);var b=this.calcDisplayValue(v,x);return this.survey&&(b=this.survey.getQuestionDisplayValue(this,b)),this.displayValueCallback?this.displayValueCallback(b):b},u.prototype.calcDisplayValue=function(v,x){if(x===void 0&&(x=void 0),this.customWidget){var b=this.customWidget.getDisplayValue(this,x);if(b)return b}return x=x??this.createValueCopy(),this.isValueEmpty(x,!this.allowSpaceAsAnswer)?this.getDisplayValueEmpty():this.getDisplayValueCore(v,x)},u.prototype.getDisplayValueCore=function(v,x){return x},u.prototype.getDisplayValueEmpty=function(){return""},Object.defineProperty(u.prototype,"defaultValue",{get:function(){return this.getPropertyValue("defaultValue")},set:function(v){if(this.isValueExpression(v)){this.defaultValueExpression=v.substring(1);return}this.setPropertyValue("defaultValue",this.convertDefaultValue(v)),this.updateValueWithDefaults()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"defaultValueExpression",{get:function(){return this.getPropertyValue("defaultValueExpression")},set:function(v){this.setPropertyValue("defaultValueExpression",v),this.defaultValueRunner=void 0,this.updateValueWithDefaults()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"resetValueIf",{get:function(){return this.getPropertyValue("resetValueIf")},set:function(v){this.setPropertyValue("resetValueIf",v)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"setValueIf",{get:function(){return this.getPropertyValue("setValueIf")},set:function(v){this.setPropertyValue("setValueIf",v)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"setValueExpression",{get:function(){return this.getPropertyValue("setValueExpression")},set:function(v){this.setPropertyValue("setValueExpression",v)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"resizeStyle",{get:function(){return this.allowResizeComment?"both":"none"},enumerable:!1,configurable:!0}),u.prototype.getPlainData=function(v){var x=this;if(v||(v={includeEmpty:!0,includeQuestionTypes:!1}),v.includeEmpty||!this.isEmpty()){var b={name:this.name,title:this.locTitle.renderedHtml,value:this.value,displayValue:this.displayValue,isNode:!1,getString:function(i){return typeof i=="object"?JSON.stringify(i):i}};return v.includeQuestionTypes===!0&&(b.questionType=this.getType()),(v.calculations||[]).forEach(function(i){b[i.propertyName]=x.getPlainDataCalculatedValue(i.propertyName)}),this.hasComment&&(b.isNode=!0,b.data=[{name:0,isComment:!0,title:"Comment",value:y.settings.commentSuffix,displayValue:this.comment,getString:function(i){return typeof i=="object"?JSON.stringify(i):i},isNode:!1}]),b}},u.prototype.getPlainDataCalculatedValue=function(v){return this[v]},Object.defineProperty(u.prototype,"correctAnswer",{get:function(){return this.getPropertyValue("correctAnswer")},set:function(v){this.setPropertyValue("correctAnswer",this.convertDefaultValue(v))},enumerable:!1,configurable:!0}),u.prototype.convertDefaultValue=function(v){return v},Object.defineProperty(u.prototype,"quizQuestionCount",{get:function(){return this.isVisible&&this.hasInput&&!this.isValueEmpty(this.correctAnswer)?this.getQuizQuestionCount():0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"correctAnswerCount",{get:function(){return!this.isEmpty()&&!this.isValueEmpty(this.correctAnswer)?this.getCorrectAnswerCount():0},enumerable:!1,configurable:!0}),u.prototype.getQuizQuestionCount=function(){return 1},u.prototype.getCorrectAnswerCount=function(){return this.checkIfAnswerCorrect()?1:0},u.prototype.checkIfAnswerCorrect=function(){var v=P.Helpers.isTwoValueEquals(this.value,this.correctAnswer,this.getAnswerCorrectIgnoreOrder(),y.settings.comparator.caseSensitive,!0),x=v?1:0,b={result:v,correctAnswer:x,correctAnswers:x,incorrectAnswers:this.quizQuestionCount-x};return this.survey&&this.survey.onCorrectQuestionAnswer(this,b),b.result},u.prototype.getAnswerCorrectIgnoreOrder=function(){return!1},u.prototype.isAnswerCorrect=function(){return this.correctAnswerCount==this.quizQuestionCount},u.prototype.updateValueWithDefaults=function(){this.isLoadingFromJson||!this.isDesignMode&&this.isDefaultValueEmpty()||!this.isDesignMode&&!this.isEmpty()||this.isEmpty()&&this.isDefaultValueEmpty()||this.isClearValueOnHidden&&!this.isVisible||this.isDesignMode&&this.isContentElement&&this.isDefaultValueEmpty()||this.setDefaultValue()},Object.defineProperty(u.prototype,"isClearValueOnHidden",{get:function(){var v=this.getClearIfInvisible();return v==="none"||v==="onComplete"?!1:v==="onHidden"||v==="onHiddenContainer"},enumerable:!1,configurable:!0}),u.prototype.getQuestionFromArray=function(v,x){return null},u.prototype.getDefaultValue=function(){return this.defaultValue},u.prototype.isDefaultValueEmpty=function(){return!this.defaultValueExpression&&this.isValueEmpty(this.defaultValue,!this.allowSpaceAsAnswer)},u.prototype.getDefaultRunner=function(v,x){return!v&&x&&(v=this.createExpressionRunner(x)),v&&(v.expression=x),v},u.prototype.setDefaultValue=function(){var v=this;this.setDefaultValueCore(function(x){v.isTwoValueEquals(v.value,x)||(v.value=x)})},u.prototype.setDefaultValueCore=function(v){this.defaultValueRunner=this.getDefaultRunner(this.defaultValueRunner,this.defaultValueExpression),this.setValueAndRunExpression(this.defaultValueRunner,this.getUnbindValue(this.defaultValue),function(x){return v(x)})},u.prototype.isValueExpression=function(v){return!!v&&typeof v=="string"&&v.length>0&&v[0]=="="},u.prototype.setValueAndRunExpression=function(v,x,b,i,h){var E=this;i===void 0&&(i=null),h===void 0&&(h=null);var S=function(L){E.runExpressionSetValue(L,b)};this.runDefaultValueExpression(v,i,h,S)||S(x)},u.prototype.convertFuncValuetoQuestionValue=function(v){return P.Helpers.convertValToQuestionVal(v)},u.prototype.runExpressionSetValue=function(v,x){x(this.convertFuncValuetoQuestionValue(v))},u.prototype.runDefaultValueExpression=function(v,x,b,i){var h=this;return x===void 0&&(x=null),b===void 0&&(b=null),!v||!this.data?!1:(i||(i=function(E){h.runExpressionSetValue(E,function(S){h.isTwoValueEquals(h.value,S)||(h.value=S)})}),x||(x=this.data.getFilteredValues()),b||(b=this.data.getFilteredProperties()),v&&v.canRun&&(v.onRunComplete=function(E){E==null&&(E=h.defaultValue),h.isChangingViaDefaultValue=!0,i(E),h.isChangingViaDefaultValue=!1},v.run(x,b)),!0)},Object.defineProperty(u.prototype,"comment",{get:function(){return this.getQuestionComment()},set:function(v){if(v){var x=v.toString().trim();x!==v&&(v=x,v===this.comment&&this.setPropertyValueDirectly("comment",v))}this.comment!=v&&(this.setQuestionComment(v),this.updateCommentElements())},enumerable:!1,configurable:!0}),u.prototype.getCommentAreaCss=function(v){return v===void 0&&(v=!1),new f.CssClassBuilder().append("form-group",v).append(this.cssClasses.formGroup,!v).append(this.cssClasses.commentArea).toString()},u.prototype.getQuestionComment=function(){return this.questionComment},u.prototype.setQuestionComment=function(v){this.setNewComment(v)},u.prototype.isEmpty=function(){return this.isValueEmpty(this.value,!this.allowSpaceAsAnswer)},Object.defineProperty(u.prototype,"isAnswered",{get:function(){return this.getPropertyValue("isAnswered")},set:function(v){this.setPropertyValue("isAnswered",v)},enumerable:!1,configurable:!0}),u.prototype.updateIsAnswered=function(){var v=this.isAnswered;this.setPropertyValue("isAnswered",this.getIsAnswered()),v!==this.isAnswered&&this.updateQuestionCss()},u.prototype.getIsAnswered=function(){return!this.isEmpty()},Object.defineProperty(u.prototype,"validators",{get:function(){return this.getPropertyValue("validators")},set:function(v){this.setPropertyValue("validators",v)},enumerable:!1,configurable:!0}),u.prototype.getValidators=function(){return this.validators},u.prototype.getSupportedValidators=function(){for(var v=[],x=this.getType();x;){var b=y.settings.supportedValidators[x];if(b)for(var i=b.length-1;i>=0;i--)v.splice(0,0,b[i]);var h=C.Serializer.findClass(x);x=h.parentName}return v},u.prototype.addConditionObjectsByContext=function(v,x){v.push({name:this.getValueName(),text:this.processedTitle,question:this})},u.prototype.getNestedQuestions=function(v){v===void 0&&(v=!1);var x=[];return this.collectNestedQuestions(x,v),x.length===1&&x[0]===this?[]:x},u.prototype.collectNestedQuestions=function(v,x){x===void 0&&(x=!1),!(x&&!this.isVisible)&&this.collectNestedQuestionsCore(v,x)},u.prototype.collectNestedQuestionsCore=function(v,x){v.push(this)},u.prototype.getConditionJson=function(v,x){v===void 0&&(v=null),x===void 0&&(x=null);var b=new C.JsonObject().toJsonObject(this);return b.type=this.getType(),b},u.prototype.hasErrors=function(v,x){v===void 0&&(v=!0),x===void 0&&(x=null);var b=this.errors.length>0,i=this.checkForErrors(!!x&&x.isOnValueChanged===!0);return v&&(this.survey&&this.survey.beforeSettingQuestionErrors(this,i),this.errors=i,this.errors!==i&&this.errors.forEach(function(h){return h.locText.strChanged()})),this.updateContainsErrors(),this.isCollapsed&&x&&v&&i.length>0&&this.expand(),i.length>0},u.prototype.validate=function(v,x){return v===void 0&&(v=!0),x===void 0&&(x=null),x&&x.isOnValueChanged&&this.parent&&this.parent.validateContainerOnly(),!this.hasErrors(v,x)},Object.defineProperty(u.prototype,"currentErrorCount",{get:function(){return this.errors.length},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"requiredText",{get:function(){return this.survey!=null&&this.isRequired?this.survey.requiredText:""},enumerable:!1,configurable:!0}),u.prototype.addError=function(v){if(v){var x=null;typeof v=="string"||v instanceof String?x=new A.CustomError(v,this.survey):x=v,this.errors.push(x)}},u.prototype.removeError=function(v){var x=this.errors,b=x.indexOf(v);b!==-1&&x.splice(b,1)},u.prototype.checkForErrors=function(v){var x=new Array;return this.isVisible&&this.canCollectErrors()&&this.collectErrors(x,v),x},u.prototype.canCollectErrors=function(){return!this.isReadOnly||y.settings.readOnly.enableValidation},u.prototype.collectErrors=function(v,x){if(this.onCheckForErrors(v,x),!(v.length>0||!this.canRunValidators(x))){var b=this.runValidators();if(b.length>0){v.length=0;for(var i=0;i<b.length;i++)v.push(b[i])}if(this.survey&&v.length==0){var h=this.fireSurveyValidation();h&&v.push(h)}}},u.prototype.canRunValidators=function(v){return!0},u.prototype.fireSurveyValidation=function(){return this.validateValueCallback?this.validateValueCallback():this.survey?this.survey.validateQuestion(this):null},u.prototype.onCheckForErrors=function(v,x){var b=this;if((!x||this.isOldAnswered)&&this.hasRequiredError()){var i=new A.AnswerRequiredError(this.requiredErrorText,this);i.onUpdateErrorTextCallback=function(h){h.text=b.requiredErrorText},v.push(i)}},u.prototype.hasRequiredError=function(){return this.isRequired&&this.isEmpty()},Object.defineProperty(u.prototype,"isRunningValidators",{get:function(){return this.getIsRunningValidators()},enumerable:!1,configurable:!0}),u.prototype.getIsRunningValidators=function(){return this.isRunningValidatorsValue},u.prototype.runValidators=function(){var v=this;return this.validatorRunner&&(this.validatorRunner.onAsyncCompleted=null),this.validatorRunner=new R.ValidatorRunner,this.isRunningValidatorsValue=!0,this.validatorRunner.onAsyncCompleted=function(x){v.doOnAsyncCompleted(x)},this.validatorRunner.run(this)},u.prototype.doOnAsyncCompleted=function(v){for(var x=0;x<v.length;x++)this.errors.push(v[x]);this.isRunningValidatorsValue=!1,this.raiseOnCompletedAsyncValidators()},u.prototype.raiseOnCompletedAsyncValidators=function(){this.onCompletedAsyncValidators&&!this.isRunningValidators&&(this.onCompletedAsyncValidators(this.getAllErrors().length>0),this.onCompletedAsyncValidators=null)},u.prototype.setNewValue=function(v){this.isNewValueEqualsToValue(v)||this.checkIsValueCorrect(v)&&(this.isOldAnswered=this.isAnswered,this.isSettingQuestionValue=!0,this.setNewValueInData(v),this.allowNotifyValueChanged&&this.onValueChanged(),this.isSettingQuestionValue=!1,this.isAnswered!==this.isOldAnswered&&this.updateQuestionCss(),this.isOldAnswered=void 0)},u.prototype.checkIsValueCorrect=function(v){var x=this.isValueEmpty(v,!this.allowSpaceAsAnswer)||this.isNewValueCorrect(v);return x||m.ConsoleWarnings.inCorrectQuestionValue(this.name,v),x},u.prototype.isNewValueCorrect=function(v){return!0},u.prototype.isNewValueEqualsToValue=function(v){var x=this.value;if(!this.isTwoValueEquals(v,x,!1,!1))return!1;var b=v===x&&!!x&&(Array.isArray(x)||typeof x=="object");return!b},u.prototype.isTextValue=function(){return!1},Object.defineProperty(u.prototype,"isSurveyInputTextUpdate",{get:function(){return this.survey?this.survey.isUpdateValueTextOnTyping:!1},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"requireStrictCompare",{get:function(){return!1},enumerable:!1,configurable:!0}),u.prototype.getDataLocNotification=function(){return this.isInputTextUpdate?"text":!1},Object.defineProperty(u.prototype,"isInputTextUpdate",{get:function(){return this.isSurveyInputTextUpdate&&this.isTextValue()},enumerable:!1,configurable:!0}),u.prototype.setNewValueInData=function(v){v=this.valueToData(v),this.isValueChangedInSurvey||this.setValueCore(v)},u.prototype.getValueCore=function(){return this.questionValue},u.prototype.setValueCore=function(v){this.setQuestionValue(v),this.data!=null&&this.canSetValueToSurvey()&&(v=this.valueForSurvey,this.data.setValue(this.getValueName(),v,this.getDataLocNotification(),this.allowNotifyValueChanged,this.name)),this.isMouseDown=!1},u.prototype.canSetValueToSurvey=function(){return!0},u.prototype.valueFromData=function(v){return v},u.prototype.valueToData=function(v){return v},u.prototype.convertToCorrectValue=function(v){return v},u.prototype.onValueChanged=function(){},u.prototype.onMouseDown=function(){this.isMouseDown=!0},u.prototype.setNewComment=function(v){this.questionComment!==v&&(this.questionComment=v,this.setCommentIntoData(v))},u.prototype.setCommentIntoData=function(v){this.data!=null&&this.data.setComment(this.getValueName(),v,this.isSurveyInputTextUpdate?"text":!1)},u.prototype.getValidName=function(v){return n(v)},u.prototype.updateValueFromSurvey=function(v,x){var b=this;if(x===void 0&&(x=!1),v=this.getUnbindValue(v),this.valueFromDataCallback&&(v=this.valueFromDataCallback(v)),!!this.checkIsValueCorrect(v)){var i=this.isValueEmpty(v);!i&&this.defaultValueExpression?this.setDefaultValueCore(function(h){b.updateValueFromSurveyCore(v,b.isTwoValueEquals(v,h))}):(this.updateValueFromSurveyCore(v,this.data!==this.getSurvey()),x&&i&&(this.isValueChangedDirectly=!1)),this.updateDependedQuestions(),this.updateIsAnswered()}},u.prototype.updateValueFromSurveyCore=function(v,x){this.isChangingViaDefaultValue=x,this.setQuestionValue(this.valueFromData(v)),this.isChangingViaDefaultValue=!1},u.prototype.updateCommentFromSurvey=function(v){this.questionComment=v},u.prototype.onChangeQuestionValue=function(v){},u.prototype.setValueChangedDirectly=function(v){this.isValueChangedDirectly=v,this.setValueChangedDirectlyCallback&&this.setValueChangedDirectlyCallback(v)},u.prototype.setQuestionValue=function(v,x){x===void 0&&(x=!0),v=this.convertToCorrectValue(v);var b=this.isTwoValueEquals(this.questionValue,v);!b&&!this.isChangingViaDefaultValue&&!this.isParentChangingViaDefaultValue&&this.setValueChangedDirectly(!0),this.questionValue=v,b||this.onChangeQuestionValue(v),!b&&this.allowNotifyValueChanged&&this.fireCallback(this.valueChangedCallback),x&&this.updateIsAnswered()},Object.defineProperty(u.prototype,"isParentChangingViaDefaultValue",{get:function(){var v;return((v=this.data)===null||v===void 0?void 0:v.isChangingViaDefaultValue)===!0},enumerable:!1,configurable:!0}),u.prototype.onSurveyValueChanged=function(v){},u.prototype.setVisibleIndex=function(v){return(!this.isVisible||!this.hasTitle&&!y.settings.numbering.includeQuestionsWithHiddenTitle||this.hideNumber&&!y.settings.numbering.includeQuestionsWithHiddenNumber)&&(v=-1),this.setPropertyValue("visibleIndex",v),this.setPropertyValue("no",this.calcNo()),v<0?0:1},u.prototype.removeElement=function(v){return!1},u.prototype.supportGoNextPageAutomatic=function(){return!1},u.prototype.supportGoNextPageError=function(){return!0},u.prototype.clearIncorrectValues=function(){},u.prototype.clearOnDeletingContainer=function(){},u.prototype.clearErrors=function(){this.errors=[]},u.prototype.clearUnusedValues=function(){},u.prototype.onAnyValueChanged=function(v,x){},u.prototype.checkBindings=function(v,x){if(!(this.bindings.isEmpty()||!this.data))for(var b=this.bindings.getPropertiesByValueName(v),i=0;i<b.length;i++){var h=b[i];this.isValueEmpty(x)&&P.Helpers.isNumber(this[h])&&(x=0),this[h]=x}},u.prototype.getComponentName=function(){return p.RendererFactory.Instance.getRendererByQuestion(this)},u.prototype.isDefaultRendering=function(){return!!this.customWidget||this.renderAs==="default"||this.getComponentName()==="default"},u.prototype.getErrorCustomText=function(v,x){return this.survey?this.survey.getSurveyErrorCustomText(this,v,x):v},u.prototype.getValidatorTitle=function(){return null},Object.defineProperty(u.prototype,"validatedValue",{get:function(){return this.value},set:function(v){this.value=v},enumerable:!1,configurable:!0}),u.prototype.getAllValues=function(){return this.data?this.data.getAllValues():null},u.prototype.processPopupVisiblilityChanged=function(v,x){this.survey.processPopupVisiblityChanged(this,v,x)},u.prototype.onTextKeyDownHandler=function(v){v.keyCode===13&&this.survey.questionEditFinishCallback(this,v)},u.prototype.transformToMobileView=function(){},u.prototype.transformToDesktopView=function(){},u.prototype.needResponsiveWidth=function(){return!1},u.prototype.supportResponsiveness=function(){return!1},u.prototype.needResponsiveness=function(){return this.supportResponsiveness()&&this.isDefaultV2Theme&&!this.isDesignMode},u.prototype.checkForResponsiveness=function(v){var x=this;if(this.needResponsiveness())if(this.isCollapsed){var b=function(){x.isExpanded&&(x.initResponsiveness(v),x.unregisterPropertyChangedHandlers(["state"],"for-responsiveness"))};this.registerPropertyChangedHandlers(["state"],b,"for-responsiveness")}else this.initResponsiveness(v)},u.prototype.getObservedElementSelector=function(){return".sd-scrollable-container"},u.prototype.onMobileChanged=function(){this.onMobileChangedCallback&&this.onMobileChangedCallback()},u.prototype.triggerResponsiveness=function(v){v===void 0&&(v=!0),this.triggerResponsivenessCallback&&this.triggerResponsivenessCallback(v)},u.prototype.initResponsiveness=function(v){var x=this;if(this.destroyResizeObserver(),v&&this.isDefaultRendering()){var b=this.getObservedElementSelector();if(!b)return;var i=v.querySelector(b);if(!i)return;var h=!1,E=void 0;this.triggerResponsivenessCallback=function(S){S&&(E=void 0,x.renderAs="default",h=!1);var L=function(){var j=v.querySelector(b);!E&&x.isDefaultRendering()&&(E=j.scrollWidth),h||!Object(e.isContainerVisible)(j)?h=!1:h=x.processResponsiveness(E,Object(e.getElementWidth)(j))};S?setTimeout(L,1):L()},this.resizeObserver=new ResizeObserver(function(S){window.requestAnimationFrame(function(){x.triggerResponsiveness(!1)})}),this.onMobileChangedCallback=function(){setTimeout(function(){var S=v.querySelector(b);x.processResponsiveness(E,Object(e.getElementWidth)(S))},0)},this.resizeObserver.observe(v)}},u.prototype.getCompactRenderAs=function(){return"default"},u.prototype.getDesktopRenderAs=function(){return"default"},u.prototype.processResponsiveness=function(v,x){if(x=Math.round(x),Math.abs(v-x)>2){var b=this.renderAs;return v>x?this.renderAs=this.getCompactRenderAs():this.renderAs=this.getDesktopRenderAs(),b!==this.renderAs}return!1},u.prototype.destroyResizeObserver=function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0,this.onMobileChangedCallback=void 0,this.triggerResponsivenessCallback=void 0,this.renderAs=this.getDesktopRenderAs())},u.prototype.dispose=function(){o.prototype.dispose.call(this),this.resetDependedQuestions(),this.destroyResizeObserver()},u.prototype.resetDependedQuestions=function(){for(var v=0;v<this.dependedQuestions.length;v++)this.dependedQuestions[v].resetDependedQuestion()},Object.defineProperty(u.prototype,"isNewA11yStructure",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"ariaLabel",{get:function(){return this.isNewA11yStructure?null:this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"ariaRole",{get:function(){return this.isNewA11yStructure?null:"textbox"},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"ariaRequired",{get:function(){return this.isNewA11yStructure?null:this.isRequired?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"ariaInvalid",{get:function(){return this.isNewA11yStructure?null:this.hasCssError()?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"ariaLabelledBy",{get:function(){return this.isNewA11yStructure?null:this.hasTitle?this.ariaTitleId:null},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"ariaExpanded",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"ariaDescribedBy",{get:function(){return this.isNewA11yStructure?null:this.hasCssError()?this.id+"_errors":null},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"a11y_input_ariaRole",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"a11y_input_ariaRequired",{get:function(){return this.isRequired?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"a11y_input_ariaInvalid",{get:function(){return this.hasCssError()?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"a11y_input_ariaLabel",{get:function(){return this.hasTitle&&!this.parentQuestion?null:this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"a11y_input_ariaLabelledBy",{get:function(){return this.hasTitle&&!this.parentQuestion?this.ariaTitleId:null},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"a11y_input_ariaDescribedBy",{get:function(){return this.hasCssError()?this.id+"_errors":null},enumerable:!1,configurable:!0}),u.TextPreprocessorValuesMap={title:"processedTitle",require:"requiredText"},u.questionCounter=100,c([Object(C.property)({defaultValue:!1})],u.prototype,"isMobile",void 0),c([Object(C.property)()],u.prototype,"forceIsInputReadOnly",void 0),c([Object(C.property)({localizable:!0,onSet:function(v,x){return x.calcRenderedCommentPlaceholder()}})],u.prototype,"commentPlaceholder",void 0),c([Object(C.property)()],u.prototype,"renderAs",void 0),c([Object(C.property)({defaultValue:!1})],u.prototype,"inMatrixMode",void 0),u}(D.SurveyElement);function n(o){if(!o)return o;for(o=o.trim().replace(/[\{\}]+/g,"");o&&o[0]===y.settings.expressionDisableConversionChar;)o=o.substring(1);return o}C.Serializer.addClass("question",[{name:"!name",onSettingValue:function(o,u){return n(u)}},{name:"state",default:"default",choices:["default","collapsed","expanded"]},{name:"visible:switch",default:!0,overridingProperty:"visibleIf"},{name:"useDisplayValuesInDynamicTexts:boolean",alternativeName:"useDisplayValuesInTitle",default:!0,layout:"row"},"visibleIf:condition",{name:"width"},{name:"minWidth",defaultFunc:function(){return y.settings.minWidth}},{name:"maxWidth",defaultFunc:function(){return y.settings.maxWidth}},{name:"startWithNewLine:boolean",default:!0,layout:"row"},{name:"indent:number",default:0,choices:[0,1,2,3],layout:"row"},{name:"page",isSerializable:!1,visibleIf:function(o){var u=o?o.survey:null;return!u||!u.pages||u.pages.length>1},choices:function(o){var u=o?o.survey:null;return u?u.pages.map(function(v){return{value:v.name,text:v.title}}):[]}},{name:"title:text",serializationProperty:"locTitle",layout:"row",dependsOn:"name",onPropertyEditorUpdate:function(o,u){o&&u&&(u.placeholder=o.name)}},{name:"titleLocation",default:"default",choices:["default","top","bottom","left","hidden"],layout:"row"},{name:"description:text",serializationProperty:"locDescription",layout:"row"},{name:"descriptionLocation",default:"default",choices:["default","underInput","underTitle"]},{name:"hideNumber:boolean",dependsOn:"titleLocation",visibleIf:function(o){if(!o)return!0;if(o.titleLocation==="hidden")return!1;var u=o?o.parent:null,v=!u||u.showQuestionNumbers!=="off";if(!v)return!1;var x=o?o.survey:null;return!x||x.showQuestionNumbers!=="off"||!!u&&u.showQuestionNumbers==="onpanel"}},{name:"valueName",onSettingValue:function(o,u){return n(u)}},"enableIf:condition","resetValueIf:condition","setValueIf:condition","setValueExpression:expression","defaultValue:value",{name:"defaultValueExpression:expression",category:"logic"},"correctAnswer:value",{name:"clearIfInvisible",default:"default",choices:["default","none","onComplete","onHidden","onHiddenContainer"]},{name:"isRequired:switch",overridingProperty:"requiredIf"},"requiredIf:condition",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"errorLocation",default:"default",choices:["default","top","bottom"]},{name:"readOnly:switch",overridingProperty:"enableIf"},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"},{name:"bindings:bindings",serializationProperty:"bindings",visibleIf:function(o){return o.bindings.getNames().length>0}},{name:"renderAs",default:"default",visible:!1},{name:"showCommentArea",visible:!1,default:!1,alternativeName:"hasComment",category:"general"},{name:"commentText",dependsOn:"showCommentArea",visibleIf:function(o){return o.showCommentArea},serializationProperty:"locCommentText",layout:"row"},{name:"commentPlaceholder",alternativeName:"commentPlaceHolder",serializationProperty:"locCommentPlaceholder",dependsOn:"showCommentArea",visibleIf:function(o){return o.hasComment}}]),C.Serializer.addAlterNativeClassName("question","questionbase")},"./src/questionCustomWidgets.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"QuestionCustomWidget",function(){return C}),d.d(M,"CustomWidgetCollection",function(){return D});var P=d("./src/base.ts"),C=function(){function A(R,V){this.name=R,this.widgetJson=V,this.htmlTemplate=V.htmlTemplate?V.htmlTemplate:""}return A.prototype.afterRender=function(R,V){var O=this;this.widgetJson.afterRender&&(R.localeChangedCallback=function(){O.widgetJson.willUnmount&&O.widgetJson.willUnmount(R,V),O.widgetJson.afterRender(R,V)},this.widgetJson.afterRender(R,V))},A.prototype.willUnmount=function(R,V){this.widgetJson.willUnmount&&this.widgetJson.willUnmount(R,V)},A.prototype.getDisplayValue=function(R,V){return V===void 0&&(V=void 0),this.widgetJson.getDisplayValue?this.widgetJson.getDisplayValue(R,V):null},A.prototype.isFit=function(R){return this.isLibraryLoaded()&&this.widgetJson.isFit?this.widgetJson.isFit(R):!1},Object.defineProperty(A.prototype,"canShowInToolbox",{get:function(){return this.widgetJson.showInToolbox===!1||D.Instance.getActivatedBy(this.name)!="customtype"?!1:!this.widgetJson.widgetIsLoaded||this.widgetJson.widgetIsLoaded()},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"showInToolbox",{get:function(){return this.widgetJson.showInToolbox!==!1},set:function(R){this.widgetJson.showInToolbox=R},enumerable:!1,configurable:!0}),A.prototype.init=function(){this.widgetJson.init&&this.widgetJson.init()},A.prototype.activatedByChanged=function(R){this.isLibraryLoaded()&&this.widgetJson.activatedByChanged&&this.widgetJson.activatedByChanged(R)},A.prototype.isLibraryLoaded=function(){return this.widgetJson.widgetIsLoaded?this.widgetJson.widgetIsLoaded()==!0:!0},Object.defineProperty(A.prototype,"isDefaultRender",{get:function(){return this.widgetJson.isDefaultRender},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"pdfQuestionType",{get:function(){return this.widgetJson.pdfQuestionType},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"pdfRender",{get:function(){return this.widgetJson.pdfRender},enumerable:!1,configurable:!0}),A}(),D=function(){function A(){this.widgetsValues=[],this.widgetsActivatedBy={},this.onCustomWidgetAdded=new P.Event}return Object.defineProperty(A.prototype,"widgets",{get:function(){return this.widgetsValues},enumerable:!1,configurable:!0}),A.prototype.add=function(R,V){V===void 0&&(V="property"),this.addCustomWidget(R,V)},A.prototype.addCustomWidget=function(R,V){V===void 0&&(V="property");var O=R.name;O||(O="widget_"+this.widgets.length+1);var l=new C(O,R);return this.widgetsValues.push(l),l.init(),this.widgetsActivatedBy[O]=V,l.activatedByChanged(V),this.onCustomWidgetAdded.fire(l,null),l},A.prototype.getActivatedBy=function(R){var V=this.widgetsActivatedBy[R];return V||"property"},A.prototype.setActivatedBy=function(R,V){if(!(!R||!V)){var O=this.getCustomWidgetByName(R);O&&(this.widgetsActivatedBy[R]=V,O.activatedByChanged(V))}},A.prototype.clear=function(){this.widgetsValues=[]},A.prototype.getCustomWidgetByName=function(R){for(var V=0;V<this.widgets.length;V++)if(this.widgets[V].name==R)return this.widgets[V];return null},A.prototype.getCustomWidget=function(R){for(var V=0;V<this.widgetsValues.length;V++)if(this.widgetsValues[V].isFit(R))return this.widgetsValues[V];return null},A.Instance=new A,A}()},"./src/question_baseselect.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"QuestionSelectBase",function(){return a}),d.d(M,"QuestionCheckboxBase",function(){return c});var P=d("./src/jsonobject.ts"),C=d("./src/survey.ts"),D=d("./src/question.ts"),A=d("./src/itemvalue.ts"),R=d("./src/surveyStrings.ts"),V=d("./src/error.ts"),O=d("./src/choicesRestful.ts"),l=d("./src/conditions.ts"),y=d("./src/helpers.ts"),p=d("./src/settings.ts"),f=d("./src/utils/cssClassBuilder.ts"),e=d("./src/utils/utils.ts"),m=function(){var t=function(n,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,v){u.__proto__=v}||function(u,v){for(var x in v)Object.prototype.hasOwnProperty.call(v,x)&&(u[x]=v[x])},t(n,o)};return function(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");t(n,o);function u(){this.constructor=n}n.prototype=o===null?Object.create(o):(u.prototype=o.prototype,new u)}}(),s=function(t,n,o,u){var v=arguments.length,x=v<3?n:u===null?u=Object.getOwnPropertyDescriptor(n,o):u,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(t,n,o,u);else for(var i=t.length-1;i>=0;i--)(b=t[i])&&(x=(v<3?b(x):v>3?b(n,o,x):b(n,o))||x);return v>3&&x&&Object.defineProperty(n,o,x),x},a=function(t){m(n,t);function n(o){var u=t.call(this,o)||this;u.otherItemValue=new A.ItemValue("other"),u.isSettingDefaultValue=!1,u.isSettingComment=!1,u.isRunningChoices=!1,u.isFirstLoadChoicesFromUrl=!0,u.isUpdatingChoicesDependedQuestions=!1,u.headItemsCount=0,u.footItemsCount=0,u.prevIsOtherSelected=!1,u.noneItemValue=u.createDefaultItem(p.settings.noneItemValue,"noneText","noneItemText"),u.refuseItemValue=u.createDefaultItem(p.settings.refuseItemValue,"refuseText","refuseItemText"),u.dontKnowItemValue=u.createDefaultItem(p.settings.dontKnowItemValue,"dontKnowText","dontKnowItemText"),u.createItemValues("choices"),u.registerPropertyChangedHandlers(["choices"],function(){u.filterItems()||u.onVisibleChoicesChanged()}),u.registerPropertyChangedHandlers(["choicesFromQuestion","choicesFromQuestionMode","choiceValuesFromQuestion","choiceTextsFromQuestion","showNoneItem","showRefuseItem","showDontKnowItem","isUsingRestful","isMessagePanelVisible"],function(){u.onVisibleChoicesChanged()}),u.registerPropertyChangedHandlers(["hideIfChoicesEmpty"],function(){u.onVisibleChanged()}),u.createNewArray("visibleChoices"),u.setNewRestfulProperty();var v=u.createLocalizableString("otherText",u.otherItemValue,!0,"otherItemText");return u.createLocalizableString("otherErrorText",u,!0,"otherRequiredError"),u.otherItemValue.locOwner=u,u.otherItemValue.setLocText(v),u.choicesByUrl.createItemValue=function(x){return u.createItemValue(x)},u.choicesByUrl.beforeSendRequestCallback=function(){u.onBeforeSendRequest()},u.choicesByUrl.getResultCallback=function(x){u.onLoadChoicesFromUrl(x)},u.choicesByUrl.updateResultCallback=function(x,b){return u.survey?u.survey.updateChoicesFromServer(u,x,b):x},u}return Object.defineProperty(n.prototype,"waitingChoicesByURL",{get:function(){return!this.isChoicesLoaded&&this.hasChoicesUrl},enumerable:!1,configurable:!0}),n.prototype.getType=function(){return"selectbase"},n.prototype.dispose=function(){t.prototype.dispose.call(this);var o=this.getQuestionWithChoices();o&&o.removeDependedQuestion(this)},n.prototype.resetDependedQuestion=function(){this.choicesFromQuestion=""},Object.defineProperty(n.prototype,"otherId",{get:function(){return this.id+"_other"},enumerable:!1,configurable:!0}),n.prototype.getCommentElementsId=function(){return[this.commentId,this.otherId]},n.prototype.getItemValueType=function(){return"itemvalue"},n.prototype.createItemValue=function(o,u){var v=P.Serializer.createClass(this.getItemValueType(),o);return v.locOwner=this,u&&(v.text=u),v},Object.defineProperty(n.prototype,"isUsingCarryForward",{get:function(){return!!this.carryForwardQuestionType},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"carryForwardQuestionType",{get:function(){return this.getPropertyValue("carryForwardQuestionType")},enumerable:!1,configurable:!0}),n.prototype.setCarryForwardQuestionType=function(o,u){var v=o?"select":u?"array":void 0;this.setPropertyValue("carryForwardQuestionType",v)},Object.defineProperty(n.prototype,"isUsingRestful",{get:function(){return this.getPropertyValueWithoutDefault("isUsingRestful")||!1},enumerable:!1,configurable:!0}),n.prototype.updateIsUsingRestful=function(){this.setPropertyValueDirectly("isUsingRestful",this.hasChoicesUrl)},n.prototype.supportGoNextPageError=function(){return!this.isOtherSelected||!!this.otherValue},n.prototype.isLayoutTypeSupported=function(o){return!0},n.prototype.localeChanged=function(){t.prototype.localeChanged.call(this),this.choicesOrder!=="none"&&(this.updateVisibleChoices(),this.onVisibleChoicesChanged())},n.prototype.locStrsChanged=function(){t.prototype.locStrsChanged.call(this),this.choicesFromUrl&&(A.ItemValue.locStrsChanged(this.choicesFromUrl),A.ItemValue.locStrsChanged(this.visibleChoices))},Object.defineProperty(n.prototype,"otherValue",{get:function(){return this.showCommentArea?this.otherValueCore:this.comment},set:function(o){this.showCommentArea?this.setOtherValueInternally(o):this.comment=o},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"otherValueCore",{get:function(){return this.getPropertyValue("otherValue")},set:function(o){this.setPropertyValue("otherValue",o)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"otherItem",{get:function(){return this.otherItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isOtherSelected",{get:function(){return this.hasOther&&this.getHasOther(this.renderedValue)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isNoneSelected",{get:function(){return this.showNoneItem&&this.getIsItemValue(this.renderedValue,this.noneItem)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"showNoneItem",{get:function(){return this.getPropertyValue("showNoneItem")},set:function(o){this.setPropertyValue("showNoneItem",o)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasNone",{get:function(){return this.showNoneItem},set:function(o){this.showNoneItem=o},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"noneItem",{get:function(){return this.noneItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"noneText",{get:function(){return this.getLocalizableStringText("noneText")},set:function(o){this.setLocalizableStringText("noneText",o)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"locNoneText",{get:function(){return this.getLocalizableString("noneText")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"showRefuseItem",{get:function(){return this.getPropertyValue("showRefuseItem")},set:function(o){this.setPropertyValue("showRefuseItem",o)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"refuseItem",{get:function(){return this.refuseItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"refuseText",{get:function(){return this.getLocalizableStringText("refuseText")},set:function(o){this.setLocalizableStringText("refuseText",o)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"locRefuseText",{get:function(){return this.getLocalizableString("refuseText")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"showDontKnowItem",{get:function(){return this.getPropertyValue("showDontKnowItem")},set:function(o){this.setPropertyValue("showDontKnowItem",o)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dontKnowItem",{get:function(){return this.dontKnowItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dontKnowText",{get:function(){return this.getLocalizableStringText("dontKnowText")},set:function(o){this.setLocalizableStringText("dontKnowText",o)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"locDontKnowText",{get:function(){return this.getLocalizableString("dontKnowText")},enumerable:!1,configurable:!0}),n.prototype.createDefaultItem=function(o,u,v){var x=new A.ItemValue(o),b=this.createLocalizableString(u,x,!0,v);return x.locOwner=this,x.setLocText(b),x},Object.defineProperty(n.prototype,"choicesVisibleIf",{get:function(){return this.getPropertyValue("choicesVisibleIf","")},set:function(o){this.setPropertyValue("choicesVisibleIf",o),this.filterItems()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"choicesEnableIf",{get:function(){return this.getPropertyValue("choicesEnableIf","")},set:function(o){this.setPropertyValue("choicesEnableIf",o),this.filterItems()},enumerable:!1,configurable:!0}),n.prototype.surveyChoiceItemVisibilityChange=function(){this.filterItems()},n.prototype.runCondition=function(o,u){t.prototype.runCondition.call(this,o,u),this.runItemsEnableCondition(o,u),this.runItemsCondition(o,u)},n.prototype.isTextValue=function(){return!0},n.prototype.setDefaultValue=function(){this.isSettingDefaultValue=!this.isValueEmpty(this.defaultValue)&&this.hasUnknownValue(this.defaultValue),this.prevOtherValue=void 0,t.prototype.setDefaultValue.call(this),this.isSettingDefaultValue=!1},n.prototype.getIsMultipleValue=function(){return!1},n.prototype.convertDefaultValue=function(o){if(o==null||o==null)return o;if(this.getIsMultipleValue()){if(!Array.isArray(o))return[o]}else if(Array.isArray(o)&&o.length>0)return o[0];return o},n.prototype.filterItems=function(){if(this.isLoadingFromJson||!this.data||this.areInvisibleElementsShowing)return!1;var o=this.getDataFilteredValues(),u=this.getDataFilteredProperties();return this.runItemsEnableCondition(o,u),this.runItemsCondition(o,u)},n.prototype.runItemsCondition=function(o,u){this.setConditionalChoicesRunner();var v=this.runConditionsForItems(o,u);return this.filteredChoicesValue&&this.filteredChoicesValue.length===this.activeChoices.length&&(this.filteredChoicesValue=void 0),v&&(this.onVisibleChoicesChanged(),this.clearIncorrectValues()),v},n.prototype.runItemsEnableCondition=function(o,u){var v=this;this.setConditionalEnableChoicesRunner();var x=A.ItemValue.runEnabledConditionsForItems(this.activeChoices,this.conditionChoicesEnableIfRunner,o,u,function(b,i){return i&&v.onEnableItemCallBack(b)});x&&this.clearDisabledValues(),this.onAfterRunItemsEnableCondition()},n.prototype.onAfterRunItemsEnableCondition=function(){},n.prototype.onEnableItemCallBack=function(o){return!0},n.prototype.onSelectedItemValuesChangedHandler=function(o){var u;(u=this.survey)===null||u===void 0||u.loadedChoicesFromServer(this)},n.prototype.getItemIfChoicesNotContainThisValue=function(o,u){return this.waitingChoicesByURL?this.createItemValue(o,u):null},n.prototype.getSingleSelectedItem=function(){var o=this.selectedItemValues;if(this.isEmpty())return null;var u=A.ItemValue.getItemByValue(this.visibleChoices,this.value);return this.onGetSingleSelectedItem(u),!u&&(!o||this.value!=o.id)&&this.updateSelectedItemValues(),u||o||(this.isOtherSelected?this.otherItem:this.getItemIfChoicesNotContainThisValue(this.value))},n.prototype.onGetSingleSelectedItem=function(o){},n.prototype.getMultipleSelectedItems=function(){return[]},n.prototype.setConditionalChoicesRunner=function(){this.choicesVisibleIf?(this.conditionChoicesVisibleIfRunner||(this.conditionChoicesVisibleIfRunner=new l.ConditionRunner(this.choicesVisibleIf)),this.conditionChoicesVisibleIfRunner.expression=this.choicesVisibleIf):this.conditionChoicesVisibleIfRunner=null},n.prototype.setConditionalEnableChoicesRunner=function(){this.choicesEnableIf?(this.conditionChoicesEnableIfRunner||(this.conditionChoicesEnableIfRunner=new l.ConditionRunner(this.choicesEnableIf)),this.conditionChoicesEnableIfRunner.expression=this.choicesEnableIf):this.conditionChoicesEnableIfRunner=null},n.prototype.canSurveyChangeItemVisibility=function(){return!!this.survey&&this.survey.canChangeChoiceItemsVisibility()},n.prototype.changeItemVisisbility=function(){var o=this;return this.canSurveyChangeItemVisibility()?function(u,v){return o.survey.getChoiceItemVisibility(o,u,v)}:null},n.prototype.runConditionsForItems=function(o,u){this.filteredChoicesValue=[];var v=this.changeItemVisisbility();return A.ItemValue.runConditionsForItems(this.activeChoices,this.getFilteredChoices(),this.areInvisibleElementsShowing?null:this.conditionChoicesVisibleIfRunner,o,u,!this.survey||!this.survey.areInvisibleElementsShowing,function(x,b){return v?v(x,b):b})},n.prototype.getHasOther=function(o){return this.getIsItemValue(o,this.otherItem)},n.prototype.getIsItemValue=function(o,u){return o===u.value},Object.defineProperty(n.prototype,"validatedValue",{get:function(){return this.rendredValueToDataCore(this.value)},enumerable:!1,configurable:!0}),n.prototype.createRestful=function(){return new O.ChoicesRestful},n.prototype.setNewRestfulProperty=function(){this.setPropertyValue("choicesByUrl",this.createRestful()),this.choicesByUrl.owner=this,this.choicesByUrl.loadingOwner=this},Object.defineProperty(n.prototype,"autoOtherMode",{get:function(){return this.getPropertyValue("autoOtherMode")},set:function(o){this.setPropertyValue("autoOtherMode",o)},enumerable:!1,configurable:!0}),n.prototype.getQuestionComment=function(){return this.showCommentArea?t.prototype.getQuestionComment.call(this):this.otherValueCore?this.otherValueCore:this.hasComment||this.getStoreOthersAsComment()?t.prototype.getQuestionComment.call(this):this.otherValueCore},n.prototype.selectOtherValueFromComment=function(o){this.value=o?this.otherItem.value:void 0},n.prototype.setQuestionComment=function(o){if(this.showCommentArea){t.prototype.setQuestionComment.call(this,o);return}this.onUpdateCommentOnAutoOtherMode(o),this.getStoreOthersAsComment()?t.prototype.setQuestionComment.call(this,o):this.setOtherValueInternally(o),this.updateChoicesDependedQuestions()},n.prototype.onUpdateCommentOnAutoOtherMode=function(o){if(this.autoOtherMode){this.prevOtherValue=void 0;var u=this.isOtherSelected;(!u&&o||u&&!o)&&this.selectOtherValueFromComment(!!o)}},n.prototype.setOtherValueInternally=function(o){!this.isSettingComment&&o!=this.otherValueCore&&(this.isSettingComment=!0,this.otherValueCore=o,this.isOtherSelected&&!this.isRenderedValueSetting&&(this.value=this.rendredValueToData(this.renderedValue)),this.isSettingComment=!1)},n.prototype.clearValue=function(){t.prototype.clearValue.call(this),this.prevOtherValue=void 0},n.prototype.updateCommentFromSurvey=function(o){t.prototype.updateCommentFromSurvey.call(this,o),this.prevOtherValue=void 0},Object.defineProperty(n.prototype,"renderedValue",{get:function(){return this.getPropertyValue("renderedValue",null)},set:function(u){this.setPropertyValue("renderedValue",u);var u=this.rendredValueToData(u);this.isTwoValueEquals(u,this.value)||(this.value=u)},enumerable:!1,configurable:!0}),n.prototype.setQuestionValue=function(o,u,v){if(u===void 0&&(u=!0),v===void 0&&(v=!0),!(this.isLoadingFromJson||this.isTwoValueEquals(this.value,o))&&(t.prototype.setQuestionValue.call(this,o,u),this.setPropertyValue("renderedValue",this.rendredValueFromData(o)),this.updateChoicesDependedQuestions(),!(this.hasComment||!v))){var x=this.isOtherSelected;if(x&&this.prevOtherValue){var b=this.prevOtherValue;this.prevOtherValue=void 0,this.otherValue=b}!x&&this.otherValue&&(this.getStoreOthersAsComment()&&!this.autoOtherMode&&(this.prevOtherValue=this.otherValue),this.makeCommentEmpty=!0,this.otherValueCore="",this.setPropertyValue("comment",""))}},n.prototype.setValueCore=function(o){t.prototype.setValueCore.call(this,o),this.makeCommentEmpty&&(this.setCommentIntoData(""),this.makeCommentEmpty=!1)},n.prototype.setNewValue=function(o){o=this.valueFromData(o),(!this.choicesByUrl.isRunning&&!this.choicesByUrl.isWaitingForParameters||!this.isValueEmpty(o))&&(this.cachedValueForUrlRequests=o),t.prototype.setNewValue.call(this,o)},n.prototype.valueFromData=function(o){var u=A.ItemValue.getItemByValue(this.activeChoices,o);return u?u.value:t.prototype.valueFromData.call(this,o)},n.prototype.rendredValueFromData=function(o){return this.getStoreOthersAsComment()?o:this.renderedValueFromDataCore(o)},n.prototype.rendredValueToData=function(o){return this.getStoreOthersAsComment()?o:this.rendredValueToDataCore(o)},n.prototype.renderedValueFromDataCore=function(o){return this.hasUnknownValue(o,!0,!1)?(this.otherValue=o,this.otherItem.value):this.valueFromData(o)},n.prototype.rendredValueToDataCore=function(o){return o==this.otherItem.value&&this.needConvertRenderedOtherToDataValue()&&(o=this.otherValue),o},n.prototype.needConvertRenderedOtherToDataValue=function(){var o=this.otherValue;return!o||(o=o.trim(),!o)?!1:this.hasUnknownValue(o,!0,!1)},n.prototype.getIsQuestionReady=function(){return t.prototype.getIsQuestionReady.call(this)&&!this.waitingChoicesByURL&&!this.waitingGetChoiceDisplayValueResponse},n.prototype.updateSelectedItemValues=function(){var o=this;if(!(this.waitingGetChoiceDisplayValueResponse||!this.survey||this.isEmpty())){var u=this.value,v=Array.isArray(u)?u:[u],x=v.some(function(b){return!A.ItemValue.getItemByValue(o.choices,b)});x&&(this.choicesLazyLoadEnabled||this.hasChoicesUrl)&&(this.waitingGetChoiceDisplayValueResponse=!0,this.updateIsReady(),this.survey.getChoiceDisplayValue({question:this,values:v,setItems:function(b){for(var i=[],h=1;h<arguments.length;h++)i[h-1]=arguments[h];if(o.waitingGetChoiceDisplayValueResponse=!1,!b||!b.length){o.updateIsReady();return}var E=b.map(function(S,L){return o.createItemValue(v[L],S)});o.setCustomValuesIntoItems(E,i),Array.isArray(u)?o.selectedItemValues=E:o.selectedItemValues=E[0],o.updateIsReady()}}))}},n.prototype.setCustomValuesIntoItems=function(o,u){!Array.isArray(u)||u.length===0||u.forEach(function(v){var x=v.values,b=v.propertyName;if(Array.isArray(x))for(var i=0;i<o.length&&i<x.length;i++)o[i][b]=x[i]})},n.prototype.hasUnknownValue=function(o,u,v,x){if(u===void 0&&(u=!1),v===void 0&&(v=!0),x===void 0&&(x=!1),!x&&this.isValueEmpty(o)||u&&o==this.otherItem.value||this.showNoneItem&&o==this.noneItem.value||this.showRefuseItem&&o==this.refuseItem.value||this.showDontKnowItem&&o==this.dontKnowItem.value)return!1;var b=v?this.getFilteredChoices():this.activeChoices;return A.ItemValue.getItemByValue(b,o)==null},n.prototype.isValueDisabled=function(o){var u=A.ItemValue.getItemByValue(this.getFilteredChoices(),o);return!!u&&!u.isEnabled},Object.defineProperty(n.prototype,"choicesByUrl",{get:function(){return this.getPropertyValue("choicesByUrl")},set:function(o){o&&(this.setNewRestfulProperty(),this.choicesByUrl.fromJSON(o.toJSON()))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"choices",{get:function(){return this.getPropertyValue("choices")},set:function(o){this.setPropertyValue("choices",o)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"choicesFromQuestion",{get:function(){return this.getPropertyValue("choicesFromQuestion")},set:function(o){var u=this.getQuestionWithChoices();this.isLockVisibleChoices=!!u&&u.name===o,u&&u.name!==o&&u.removeDependedQuestion(this),this.setPropertyValue("choicesFromQuestion",o),this.isLockVisibleChoices=!1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"choicesFromQuestionMode",{get:function(){return this.getPropertyValue("choicesFromQuestionMode")},set:function(o){this.setPropertyValue("choicesFromQuestionMode",o)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"choiceValuesFromQuestion",{get:function(){return this.getPropertyValue("choiceValuesFromQuestion")},set:function(o){this.setPropertyValue("choiceValuesFromQuestion",o)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"choiceTextsFromQuestion",{get:function(){return this.getPropertyValue("choiceTextsFromQuestion")},set:function(o){this.setPropertyValue("choiceTextsFromQuestion",o)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hideIfChoicesEmpty",{get:function(){return this.getPropertyValue("hideIfChoicesEmpty")},set:function(o){this.setPropertyValue("hideIfChoicesEmpty",o)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"keepIncorrectValues",{get:function(){return this.getPropertyValue("keepIncorrectValues",!1)},set:function(o){this.setPropertyValue("keepIncorrectValues",o)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"storeOthersAsComment",{get:function(){return this.getPropertyValue("storeOthersAsComment")},set:function(o){this.setPropertyValue("storeOthersAsComment",o)},enumerable:!1,configurable:!0}),n.prototype.hasOtherChanged=function(){this.onVisibleChoicesChanged()},Object.defineProperty(n.prototype,"choicesOrder",{get:function(){return this.getPropertyValue("choicesOrder")},set:function(o){o=o.toLowerCase(),o!=this.choicesOrder&&(this.setPropertyValue("choicesOrder",o),this.onVisibleChoicesChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"otherText",{get:function(){return this.getLocalizableStringText("otherText")},set:function(o){this.setLocalizableStringText("otherText",o),this.onVisibleChoicesChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"locOtherText",{get:function(){return this.getLocalizableString("otherText")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"otherPlaceHolder",{get:function(){return this.otherPlaceholder},set:function(o){this.otherPlaceholder=o},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"otherErrorText",{get:function(){return this.getLocalizableStringText("otherErrorText")},set:function(o){this.setLocalizableStringText("otherErrorText",o)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"locOtherErrorText",{get:function(){return this.getLocalizableString("otherErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"visibleChoices",{get:function(){return this.getPropertyValue("visibleChoices")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"enabledChoices",{get:function(){for(var o=[],u=this.visibleChoices,v=0;v<u.length;v++)u[v].isEnabled&&o.push(u[v]);return o},enumerable:!1,configurable:!0}),n.prototype.updateVisibleChoices=function(){if(!(this.isLoadingFromJson||this.isDisposed)){var o=new Array,u=this.calcVisibleChoices();u||(u=[]);for(var v=0;v<u.length;v++)o.push(u[v]);var x=this.visibleChoices;(!this.isTwoValueEquals(x,o)||this.choicesLazyLoadEnabled)&&this.setArrayPropertyDirectly("visibleChoices",o)}},n.prototype.calcVisibleChoices=function(){if(this.canUseFilteredChoices())return this.getFilteredChoices();var o=this.sortVisibleChoices(this.getFilteredChoices().slice());return this.addToVisibleChoices(o,this.isAddDefaultItems),o},n.prototype.canUseFilteredChoices=function(){return!this.isAddDefaultItems&&!this.showNoneItem&&!this.showRefuseItem&&!this.showDontKnowItem&&!this.hasOther&&this.choicesOrder=="none"},n.prototype.setCanShowOptionItemCallback=function(o){this.canShowOptionItemCallback=o,o&&this.onVisibleChoicesChanged()},Object.defineProperty(n.prototype,"newItem",{get:function(){return this.newItemValue},enumerable:!1,configurable:!0}),n.prototype.addToVisibleChoices=function(o,u){this.headItemsCount=0,this.footItemsCount=0,this.isEmptyActiveChoicesInDesign||this.addNewItemToVisibleChoices(o,u);var v=new Array;this.addNonChoicesItems(v,u),v.sort(function(i,h){return i.index===h.index?0:i.index<h.index?-1:1});for(var x=0;x<v.length;x++){var b=v[x];b.index<0?(o.splice(x,0,b.item),this.headItemsCount++):(o.push(b.item),this.footItemsCount++)}},n.prototype.addNewItemToVisibleChoices=function(o,u){u&&(this.newItemValue||(this.newItemValue=this.createItemValue("newitem"),this.newItemValue.isGhost=!0),!this.isUsingCarryForward&&this.canShowOptionItem(this.newItemValue,u,!1)&&(this.footItemsCount=1,o.push(this.newItemValue)))},n.prototype.addNonChoicesItems=function(o,u){this.supportNone()&&this.addNonChoiceItem(o,this.noneItem,u,this.showNoneItem,p.settings.specialChoicesOrder.noneItem),this.supportRefuse()&&this.addNonChoiceItem(o,this.refuseItem,u,this.showRefuseItem,p.settings.specialChoicesOrder.refuseItem),this.supportDontKnow()&&this.addNonChoiceItem(o,this.dontKnowItem,u,this.showDontKnowItem,p.settings.specialChoicesOrder.dontKnowItem),this.supportOther()&&this.addNonChoiceItem(o,this.otherItem,u,this.hasOther,p.settings.specialChoicesOrder.otherItem)},n.prototype.addNonChoiceItem=function(o,u,v,x,b){this.canShowOptionItem(u,v,x)&&b.forEach(function(i){return o.push({index:i,item:u})})},n.prototype.canShowOptionItem=function(o,u,v){var x=u&&(this.canShowOptionItemCallback?this.canShowOptionItemCallback(o):!0)||v;if(this.canSurveyChangeItemVisibility()){var b=this.changeItemVisisbility();return b(o,x)}return x},n.prototype.isItemInList=function(o){return o===this.otherItem?this.hasOther:o===this.noneItem?this.showNoneItem:o===this.refuseItem?this.showRefuseItem:o===this.dontKnowItem?this.showDontKnowItem:o!==this.newItemValue},Object.defineProperty(n.prototype,"isAddDefaultItems",{get:function(){return p.settings.showDefaultItemsInCreatorV2&&this.isDesignModeV2&&!this.customWidget&&!this.isContentElement},enumerable:!1,configurable:!0}),n.prototype.getPlainData=function(o){var u=this;o===void 0&&(o={includeEmpty:!0,includeQuestionTypes:!1});var v=t.prototype.getPlainData.call(this,o);if(v){var x=Array.isArray(this.value)?this.value:[this.value];v.isNode=!0,v.data=(v.data||[]).concat(x.map(function(b,i){var h=A.ItemValue.getItemByValue(u.visibleChoices,b),E={name:i,title:"Choice",value:b,displayValue:u.getChoicesDisplayValue(u.visibleChoices,b),getString:function(S){return typeof S=="object"?JSON.stringify(S):S},isNode:!1};return h&&(o.calculations||[]).forEach(function(S){E[S.propertyName]=h[S.propertyName]}),u.isOtherSelected&&u.otherItemValue===h&&(E.isOther=!0,E.displayValue=u.otherValue),E}))}return v},n.prototype.getDisplayValueCore=function(o,u){return this.getChoicesDisplayValue(this.visibleChoices,u)},n.prototype.getDisplayValueEmpty=function(){return A.ItemValue.getTextOrHtmlByValue(this.visibleChoices,void 0)},n.prototype.getChoicesDisplayValue=function(o,u){if(u==this.otherItemValue.value)return this.otherValue?this.otherValue:this.locOtherText.textOrHtml;var v=this.getSingleSelectedItem();if(v&&this.isTwoValueEquals(v.value,u))return v.locText.textOrHtml;var x=A.ItemValue.getTextOrHtmlByValue(o,u);return x==""&&u?u:x},n.prototype.getDisplayArrayValue=function(o,u,v){for(var x=this,b=this.visibleChoices,i=[],h=[],E=0;E<u.length;E++)h.push(v?v(E):u[E]);if(y.Helpers.isTwoValueEquals(this.value,h)&&this.getMultipleSelectedItems().forEach(function(L){return i.push(x.getItemDisplayValue(L))}),i.length===0)for(var E=0;E<h.length;E++){var S=this.getChoicesDisplayValue(b,h[E]);S&&i.push(S)}return i.join(", ")},n.prototype.getItemDisplayValue=function(o){return o===this.otherItem&&this.comment?this.comment:o.locText.textOrHtml},n.prototype.getFilteredChoices=function(){return this.filteredChoicesValue?this.filteredChoicesValue:this.activeChoices},Object.defineProperty(n.prototype,"activeChoices",{get:function(){var o=this.getCarryForwardQuestion();return this.carryForwardQuestionType==="select"?(o.addDependedQuestion(this),this.getChoicesFromSelectQuestion(o)):this.carryForwardQuestionType==="array"?(o.addDependedQuestion(this),this.getChoicesFromArrayQuestion(o)):this.isEmptyActiveChoicesInDesign?[]:this.choicesFromUrl?this.choicesFromUrl:this.getChoices()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isMessagePanelVisible",{get:function(){return this.getPropertyValue("isMessagePanelVisible",!1)},set:function(o){this.setPropertyValue("isMessagePanelVisible",o)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isEmptyActiveChoicesInDesign",{get:function(){return this.isDesignModeV2&&(this.hasChoicesUrl||this.isMessagePanelVisible)},enumerable:!1,configurable:!0}),n.prototype.getCarryForwardQuestion=function(o){var u=this.findCarryForwardQuestion(o),v=this.getQuestionWithChoicesCore(u),x=v?null:this.getQuestionWithArrayValue(u);return this.setCarryForwardQuestionType(!!v,!!x),v||x?u:null},n.prototype.getIsReadyDependsOn=function(){var o=t.prototype.getIsReadyDependsOn.call(this);return this.carryForwardQuestion&&o.push(this.carryForwardQuestion),o},n.prototype.getQuestionWithChoices=function(){return this.getQuestionWithChoicesCore(this.findCarryForwardQuestion())},n.prototype.findCarryForwardQuestion=function(o){return o||(o=this.data),this.carryForwardQuestion=null,this.choicesFromQuestion&&o&&(this.carryForwardQuestion=o.findQuestionByName(this.choicesFromQuestion)),this.carryForwardQuestion},n.prototype.getQuestionWithChoicesCore=function(o){return o&&o.visibleChoices&&P.Serializer.isDescendantOf(o.getType(),"selectbase")&&o!==this?o:null},n.prototype.getQuestionWithArrayValue=function(o){return o&&o.isValueArray?o:null},n.prototype.getChoicesFromArrayQuestion=function(o){if(this.isDesignMode)return[];var u=o.value;if(!Array.isArray(u))return[];for(var v=[],x=0;x<u.length;x++){var b=u[x];if(y.Helpers.isValueObject(b)){var i=this.getValueKeyName(b);if(i&&!this.isValueEmpty(b[i])){var h=this.choiceTextsFromQuestion?b[this.choiceTextsFromQuestion]:void 0;v.push(this.createItemValue(b[i],h))}}}return v},n.prototype.getValueKeyName=function(o){if(this.choiceValuesFromQuestion)return this.choiceValuesFromQuestion;var u=Object.keys(o);return u.length>0?u[0]:void 0},n.prototype.getChoicesFromSelectQuestion=function(o){if(this.isDesignMode)return[];for(var u=[],v=this.choicesFromQuestionMode=="selected"?!0:this.choicesFromQuestionMode=="unselected"?!1:void 0,x=o.visibleChoices,b=0;b<x.length;b++)if(!o.isBuiltInChoice(x[b])){if(v===void 0){u.push(this.copyChoiceItem(x[b]));continue}var i=o.isItemSelected(x[b]);(i&&v||!i&&!v)&&u.push(this.copyChoiceItem(x[b]))}return this.choicesFromQuestionMode==="selected"&&!this.showOtherItem&&o.isOtherSelected&&o.comment&&u.push(this.createItemValue(o.otherItem.value,o.comment)),u},n.prototype.copyChoiceItem=function(o){var u=this.createItemValue(o.value);return u.setData(o),u},Object.defineProperty(n.prototype,"hasActiveChoices",{get:function(){var o=this.visibleChoices;(!o||o.length==0)&&(this.onVisibleChoicesChanged(),o=this.visibleChoices);for(var u=0;u<o.length;u++)if(!this.isBuiltInChoice(o[u]))return!0;return!1},enumerable:!1,configurable:!0}),n.prototype.isBuiltInChoice=function(o){return this.isNoneItem(o)||o===this.otherItem||o===this.newItemValue},n.prototype.isNoneItem=function(o){return this.getNoneItems().indexOf(o)>-1},n.prototype.getNoneItems=function(){return[this.noneItem,this.refuseItem,this.dontKnowItem]},n.prototype.getChoices=function(){return this.choices},n.prototype.supportOther=function(){return this.isSupportProperty("showOtherItem")},n.prototype.supportNone=function(){return this.isSupportProperty("showNoneItem")},n.prototype.supportRefuse=function(){return this.isSupportProperty("showRefuseItem")},n.prototype.supportDontKnow=function(){return this.isSupportProperty("showDontKnowItem")},n.prototype.isSupportProperty=function(o){return!this.isDesignMode||this.getPropertyByName(o).visible},n.prototype.onCheckForErrors=function(o,u){var v=this;if(t.prototype.onCheckForErrors.call(this,o,u),!(!this.hasOther||!this.isOtherSelected||this.otherValue)){var x=new V.OtherEmptyError(this.otherErrorText,this);x.onUpdateErrorTextCallback=function(b){b.text=v.otherErrorText},o.push(x)}},n.prototype.setSurveyImpl=function(o,u){this.isRunningChoices=!0,t.prototype.setSurveyImpl.call(this,o,u),this.isRunningChoices=!1,this.runChoicesByUrl(),this.isAddDefaultItems&&this.updateVisibleChoices()},n.prototype.setSurveyCore=function(o){t.prototype.setSurveyCore.call(this,o),o&&this.choicesFromQuestion&&this.onVisibleChoicesChanged()},n.prototype.getStoreOthersAsComment=function(){return this.isSettingDefaultValue||this.showCommentArea?!1:this.storeOthersAsComment===!0||this.storeOthersAsComment=="default"&&(this.survey!=null?this.survey.storeOthersAsComment:!0)||this.hasChoicesUrl&&!this.choicesFromUrl},n.prototype.onSurveyLoad=function(){this.runChoicesByUrl(),this.onVisibleChoicesChanged(),t.prototype.onSurveyLoad.call(this)},n.prototype.onAnyValueChanged=function(o,u){t.prototype.onAnyValueChanged.call(this,o,u),o!=this.getValueName()&&this.runChoicesByUrl();var v=this.choicesFromQuestion;o&&v&&(o===v||u===v)&&this.onVisibleChoicesChanged()},n.prototype.updateValueFromSurvey=function(o,u){var v="";this.hasOther&&!this.isRunningChoices&&!this.choicesByUrl.isRunning&&this.getStoreOthersAsComment()&&(this.hasUnknownValue(o)&&!this.getHasOther(o)?(v=this.getCommentFromValue(o),o=this.setOtherValueIntoValue(o)):v=this.data.getComment(this.getValueName())),t.prototype.updateValueFromSurvey.call(this,o,u),(this.isRunningChoices||this.choicesByUrl.isRunning)&&!this.isEmpty()&&(this.cachedValueForUrlRequests=this.value),v&&this.setNewComment(v)},n.prototype.getCommentFromValue=function(o){return o},n.prototype.setOtherValueIntoValue=function(o){return this.otherItem.value},n.prototype.onOtherValueInput=function(o){this.isInputTextUpdate?o.target&&(this.otherValue=o.target.value):this.updateCommentElements()},n.prototype.onOtherValueChange=function(o){this.otherValue=o.target.value,this.otherValue!==o.target.value&&(o.target.value=this.otherValue)},n.prototype.runChoicesByUrl=function(){if(this.updateIsUsingRestful(),!(!this.choicesByUrl||this.isLoadingFromJson||this.isRunningChoices||this.isDesignModeV2)){var o=this.surveyImpl?this.surveyImpl.getTextProcessor():this.textProcessor;o||(o=this.survey),o&&(this.updateIsReady(),this.isRunningChoices=!0,this.choicesByUrl.run(o),this.isRunningChoices=!1)}},n.prototype.onBeforeSendRequest=function(){p.settings.web.disableQuestionWhileLoadingChoices===!0&&!this.isReadOnly&&(this.enableOnLoadingChoices=!0,this.readOnly=!0)},n.prototype.onLoadChoicesFromUrl=function(o){this.enableOnLoadingChoices&&(this.readOnly=!1);var u=[];this.isReadOnly||this.choicesByUrl&&this.choicesByUrl.error&&u.push(this.choicesByUrl.error);var v=null,x=!0;this.isFirstLoadChoicesFromUrl&&!this.cachedValueForUrlRequests&&this.defaultValue&&(this.cachedValueForUrlRequests=this.defaultValue,x=!1),this.isValueEmpty(this.cachedValueForUrlRequests)&&(this.cachedValueForUrlRequests=this.value);var b=this.createCachedValueForUrlRequests(this.cachedValueForUrlRequests,x);if(o&&(o.length>0||this.choicesByUrl.allowEmptyResponse)&&(v=new Array,A.ItemValue.setData(v,o)),v)for(var i=0;i<v.length;i++)v[i].locOwner=this;this.setChoicesFromUrl(v,u,b)},n.prototype.canAvoidSettChoicesFromUrl=function(o){if(this.isFirstLoadChoicesFromUrl)return!1;var u=!o||Array.isArray(o)&&o.length===0;return u&&!this.isEmpty()?!1:y.Helpers.isTwoValueEquals(this.choicesFromUrl,o)},n.prototype.setChoicesFromUrl=function(o,u,v){if(!this.canAvoidSettChoicesFromUrl(o)){if(this.isFirstLoadChoicesFromUrl=!1,this.choicesFromUrl=o,this.filterItems(),this.onVisibleChoicesChanged(),o){var x=this.updateCachedValueForUrlRequests(v,o);if(x&&!this.isReadOnly){var b=!this.isTwoValueEquals(this.value,x.value);try{this.isValueEmpty(x.value)||(this.allowNotifyValueChanged=!1,this.setQuestionValue(void 0,!0,!1)),this.allowNotifyValueChanged=b,b?this.value=x.value:this.setQuestionValue(x.value)}finally{this.allowNotifyValueChanged=!0}}}!this.isReadOnly&&!o&&!this.isFirstLoadChoicesFromUrl&&(this.value=null),this.errors=u,this.choicesLoaded()}},n.prototype.createCachedValueForUrlRequests=function(o,u){if(this.isValueEmpty(o))return null;if(Array.isArray(o)){for(var v=[],x=0;x<o.length;x++)v.push(this.createCachedValueForUrlRequests(o[x],!0));return v}var b=u?!this.hasUnknownValue(o):!0;return{value:o,isExists:b}},n.prototype.updateCachedValueForUrlRequests=function(o,u){if(this.isValueEmpty(o))return null;if(Array.isArray(o)){for(var v=[],x=0;x<o.length;x++){var b=this.updateCachedValueForUrlRequests(o[x],u);if(b&&!this.isValueEmpty(b.value)){var i=b.value,E=A.ItemValue.getItemByValue(u,b.value);E&&(i=E.value),v.push(i)}}return{value:v}}var h=o.isExists&&this.hasUnknownValue(o.value)?null:o.value,E=A.ItemValue.getItemByValue(u,h);return E&&(h=E.value),{value:h}},n.prototype.updateChoicesDependedQuestions=function(){this.isLoadingFromJson||this.isUpdatingChoicesDependedQuestions||!this.allowNotifyValueChanged||this.choicesByUrl.isRunning||(this.isUpdatingChoicesDependedQuestions=!0,this.updateDependedQuestions(),this.isUpdatingChoicesDependedQuestions=!1)},n.prototype.updateDependedQuestion=function(){this.onVisibleChoicesChanged(),this.clearIncorrectValues()},n.prototype.onSurveyValueChanged=function(o){t.prototype.onSurveyValueChanged.call(this,o),this.updateChoicesDependedQuestions()},n.prototype.onVisibleChoicesChanged=function(){this.isLoadingFromJson||this.isLockVisibleChoices||(this.updateVisibleChoices(),this.onVisibleChanged(),this.visibleChoicesChangedCallback&&this.visibleChoicesChangedCallback(),this.updateChoicesDependedQuestions())},n.prototype.isVisibleCore=function(){var o=t.prototype.isVisibleCore.call(this);if(!this.hideIfChoicesEmpty||!o)return o;var u=this.getFilteredChoices();return!u||u.length>0},n.prototype.sortVisibleChoices=function(o){if(this.isDesignMode)return o;var u=this.choicesOrder.toLowerCase();return u=="asc"?this.sortArray(o,1):u=="desc"?this.sortArray(o,-1):u=="random"?this.randomizeArray(o):o},n.prototype.sortArray=function(o,u){return o.sort(function(v,x){return y.Helpers.compareStrings(v.calculatedText,x.calculatedText)*u})},n.prototype.randomizeArray=function(o){return y.Helpers.randomizeArray(o)},Object.defineProperty(n.prototype,"hasChoicesUrl",{get:function(){return this.choicesByUrl&&!!this.choicesByUrl.url},enumerable:!1,configurable:!0}),n.prototype.clearIncorrectValues=function(){!this.hasValueToClearIncorrectValues()||!this.canClearIncorrectValues()||(this.clearIncorrectValuesCallback?this.clearIncorrectValuesCallback():this.clearIncorrectValuesCore())},n.prototype.canClearIncorrectValues=function(){return!(this.carryForwardQuestion&&!this.carryForwardQuestion.isReady||this.survey&&this.survey.questionsByValueName(this.getValueName()).length>1||this.hasChoicesUrl&&(!this.choicesFromUrl||this.choicesFromUrl.length==0))},n.prototype.hasValueToClearIncorrectValues=function(){return this.survey&&this.survey.keepIncorrectValues?!1:!this.keepIncorrectValues&&!this.isEmpty()},n.prototype.clearValueIfInvisibleCore=function(o){t.prototype.clearValueIfInvisibleCore.call(this,o),this.clearIncorrectValues()},n.prototype.isItemSelected=function(o){return o===this.otherItem?this.isOtherSelected:this.isItemSelectedCore(o)},n.prototype.isItemSelectedCore=function(o){return o.value===this.value},n.prototype.clearDisabledValues=function(){!this.survey||!this.survey.clearValueOnDisableItems||this.clearDisabledValuesCore()},n.prototype.clearIncorrectValuesCore=function(){var o=this.value;this.canClearValueAnUnknown(o)&&this.clearValue()},n.prototype.canClearValueAnUnknown=function(o){return!this.getStoreOthersAsComment()&&this.isOtherSelected?!1:this.hasUnknownValue(o,!0,!0,!0)},n.prototype.clearDisabledValuesCore=function(){this.isValueDisabled(this.value)&&this.clearValue()},n.prototype.clearUnusedValues=function(){t.prototype.clearUnusedValues.call(this),this.isOtherSelected||(this.otherValue=""),!this.showCommentArea&&!this.getStoreOthersAsComment()&&!this.isOtherSelected&&(this.comment="")},n.prototype.getColumnClass=function(){return new f.CssClassBuilder().append(this.cssClasses.column).append("sv-q-column-"+this.colCount,this.hasColumns).toString()},n.prototype.getItemIndex=function(o){return this.visibleChoices.indexOf(o)},n.prototype.getItemClass=function(o){var u={item:o},v=this.getItemClassCore(o,u);return u.css=v,this.survey&&this.survey.updateChoiceItemCss(this,u),u.css},n.prototype.getCurrentColCount=function(){return this.colCount},n.prototype.getItemClassCore=function(o,u){var v=new f.CssClassBuilder().append(this.cssClasses.item).append(this.cssClasses.itemInline,!this.hasColumns&&this.colCount===0).append("sv-q-col-"+this.getCurrentColCount(),!this.hasColumns&&this.colCount!==0).append(this.cssClasses.itemOnError,this.hasCssError()),x=this.isReadOnly||!o.isEnabled,b=this.isItemSelected(o)||this.isOtherSelected&&this.otherItem.value===o.value,i=!x&&!b&&!(this.survey&&this.survey.isDesignMode),h=o===this.noneItem;return u.isDisabled=x,u.isChecked=b,u.isNone=h,v.append(this.cssClasses.itemDisabled,x).append(this.cssClasses.itemChecked,b).append(this.cssClasses.itemHover,i).append(this.cssClasses.itemNone,h).toString()},n.prototype.getLabelClass=function(o){return new f.CssClassBuilder().append(this.cssClasses.label).append(this.cssClasses.labelChecked,this.isItemSelected(o)).toString()},n.prototype.getControlLabelClass=function(o){return new f.CssClassBuilder().append(this.cssClasses.controlLabel).append(this.cssClasses.controlLabelChecked,this.isItemSelected(o)).toString()||void 0},Object.defineProperty(n.prototype,"headItems",{get:function(){for(var o=this.separateSpecialChoices||this.isDesignMode?this.headItemsCount:0,u=[],v=0;v<o;v++)u.push(this.visibleChoices[v]);return u},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"footItems",{get:function(){for(var o=this.separateSpecialChoices||this.isDesignMode?this.footItemsCount:0,u=[],v=this.visibleChoices,x=0;x<o;x++)u.push(v[v.length-o+x]);return u},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dataChoices",{get:function(){var o=this;return this.visibleChoices.filter(function(u){return!o.isBuiltInChoice(u)})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bodyItems",{get:function(){return this.hasHeadItems||this.hasFootItems?this.dataChoices:this.visibleChoices},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasHeadItems",{get:function(){return this.headItems.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasFootItems",{get:function(){return this.footItems.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"columns",{get:function(){var o=[],u=this.getCurrentColCount();if(this.hasColumns&&this.visibleChoices.length>0){var v=!this.separateSpecialChoices&&!this.isDesignMode?this.visibleChoices:this.dataChoices;if(p.settings.showItemsInOrder=="column")for(var x=0,b=v.length%u,i=0;i<u;i++){for(var h=[],E=x;E<x+Math.floor(v.length/u);E++)h.push(v[E]);b>0&&(b--,h.push(v[E]),E++),x=E,o.push(h)}else for(var i=0;i<u;i++){for(var h=[],E=i;E<v.length;E+=u)h.push(v[E]);o.push(h)}}return o},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasColumns",{get:function(){return!this.isMobile&&this.getCurrentColCount()>1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rowLayout",{get:function(){return this.getCurrentColCount()==0&&!(this.hasFootItems||this.hasHeadItems)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"blockedRow",{get:function(){return this.getCurrentColCount()==0&&(this.hasFootItems||this.hasHeadItems)},enumerable:!1,configurable:!0}),n.prototype.choicesLoaded=function(){this.isChoicesLoaded=!0,this.updateIsReady(),this.survey&&this.survey.loadedChoicesFromServer(this),this.loadedChoicesFromServerCallback&&this.loadedChoicesFromServerCallback()},n.prototype.getItemValueWrapperComponentName=function(o){var u=this.survey;return u?u.getItemValueWrapperComponentName(o,this):C.SurveyModel.TemplateRendererComponentName},n.prototype.getItemValueWrapperComponentData=function(o){var u=this.survey;return u?u.getItemValueWrapperComponentData(o,this):o},n.prototype.ariaItemChecked=function(o){return this.renderedValue===o.value?"true":"false"},n.prototype.isOtherItem=function(o){return this.hasOther&&o.value==this.otherItem.value},Object.defineProperty(n.prototype,"itemSvgIcon",{get:function(){return this.cssClasses.itemSvgIconId},enumerable:!1,configurable:!0}),n.prototype.getSelectBaseRootCss=function(){return new f.CssClassBuilder().append(this.getQuestionRootCss()).append(this.cssClasses.rootRow,this.rowLayout).toString()},n.prototype.allowMobileInDesignMode=function(){return!0},n.prototype.getAriaItemLabel=function(o){return o.locText.renderedHtml},n.prototype.getItemId=function(o){return this.inputId+"_"+this.getItemIndex(o)},Object.defineProperty(n.prototype,"questionName",{get:function(){return this.name+"_"+this.id},enumerable:!1,configurable:!0}),n.prototype.getItemEnabled=function(o){return!this.isInputReadOnly&&o.isEnabled},n.prototype.afterRender=function(o){t.prototype.afterRender.call(this,o),this.rootElement=o},n.prototype.beforeDestroyQuestionElement=function(o){t.prototype.beforeDestroyQuestionElement.call(this,o),this.rootElement=void 0},n.prototype.focusOtherComment=function(){var o=this;this.rootElement&&setTimeout(function(){var u=o.rootElement.querySelector("textarea");u&&u.focus()},10)},n.prototype.onValueChanged=function(){t.prototype.onValueChanged.call(this),!this.isDesignMode&&!this.prevIsOtherSelected&&this.isOtherSelected&&this.focusOtherComment(),this.prevIsOtherSelected=this.isOtherSelected},n.prototype.getDefaultItemComponent=function(){return""},Object.defineProperty(n.prototype,"itemComponent",{get:function(){return this.getPropertyValue("itemComponent",this.getDefaultItemComponent())},set:function(o){this.setPropertyValue("itemComponent",o)},enumerable:!1,configurable:!0}),n.prototype.updateCssClasses=function(o,u){if(t.prototype.updateCssClasses.call(this,o,u),this.dropdownListModel){var v={};Object(e.mergeValues)(u.list,v),Object(e.mergeValues)(o.list,v),o.list=v}},n.prototype.calcCssClasses=function(o){var u=t.prototype.calcCssClasses.call(this,o);return this.dropdownListModel&&this.dropdownListModel.updateCssClasses(u.popup,u.list),u},s([Object(P.property)({onSet:function(o,u){u.onSelectedItemValuesChangedHandler(o)}})],n.prototype,"selectedItemValues",void 0),s([Object(P.property)()],n.prototype,"separateSpecialChoices",void 0),s([Object(P.property)({localizable:!0})],n.prototype,"otherPlaceholder",void 0),n}(D.Question),c=function(t){m(n,t);function n(o){return t.call(this,o)||this}return Object.defineProperty(n.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount",this.isFlowLayout?0:void 0)},set:function(o){o<0||o>5||this.isFlowLayout||(this.setPropertyValue("colCount",o),this.fireCallback(this.colCountChangedCallback))},enumerable:!1,configurable:!0}),n.prototype.onParentChanged=function(){t.prototype.onParentChanged.call(this),this.isFlowLayout&&this.setPropertyValue("colCount",null)},n.prototype.onParentQuestionChanged=function(){this.onVisibleChoicesChanged()},n.prototype.getSearchableItemValueKeys=function(o){o.push("choices")},n}(a);function r(t,n){var o;if(!t)return!1;if(t.templateQuestion){var u=(o=t.colOwner)===null||o===void 0?void 0:o.data;if(t=t.templateQuestion,!t.getCarryForwardQuestion(u))return!1}return t.carryForwardQuestionType===n}P.Serializer.addClass("selectbase",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},"choicesFromQuestion:question_carryforward",{name:"choices:itemvalue[]",uniqueProperty:"value",baseValue:function(){return R.surveyLocalization.getString("choices_Item")},dependsOn:"choicesFromQuestion",visibleIf:function(t){return!t.choicesFromQuestion}},{name:"choicesFromQuestionMode",default:"all",choices:["all","selected","unselected"],dependsOn:"choicesFromQuestion",visibleIf:function(t){return r(t,"select")}},{name:"choiceValuesFromQuestion",dependsOn:"choicesFromQuestion",visibleIf:function(t){return r(t,"array")}},{name:"choiceTextsFromQuestion",dependsOn:"choicesFromQuestion",visibleIf:function(t){return r(t,"array")}},{name:"choicesOrder",default:"none",choices:["none","asc","desc","random"],dependsOn:"choicesFromQuestion",visibleIf:function(t){return!t.choicesFromQuestion}},{name:"choicesByUrl:restfull",className:"choicesByUrl",onGetValue:function(t){return t.choicesByUrl.getData()},onSetValue:function(t,n){t.choicesByUrl.setData(n)}},"hideIfChoicesEmpty:boolean","choicesVisibleIf:condition",{name:"choicesEnableIf:condition",dependsOn:"choicesFromQuestion",visibleIf:function(t){return!t.choicesFromQuestion}},{name:"separateSpecialChoices:boolean",visible:!1},{name:"showOtherItem:boolean",alternativeName:"hasOther"},{name:"showNoneItem:boolean",alternativeName:"hasNone"},{name:"showRefuseItem:boolean",visible:!1},{name:"showDontKnowItem:boolean",visible:!1},{name:"otherPlaceholder",alternativeName:"otherPlaceHolder",serializationProperty:"locOtherPlaceholder",dependsOn:"showOtherItem",visibleIf:function(t){return t.hasOther}},{name:"noneText",serializationProperty:"locNoneText",dependsOn:"showNoneItem",visibleIf:function(t){return t.showNoneItem}},{name:"refuseText",serializationProperty:"locRefuseText",dependsOn:"showRefuseItem",visibleIf:function(t){return t.showRefuseItem}},{name:"dontKnowText",serializationProperty:"locDontKnowText",dependsOn:"showDontKnowItem",visibleIf:function(t){return t.showDontKnowItem}},{name:"otherText",serializationProperty:"locOtherText",dependsOn:"showOtherItem",visibleIf:function(t){return t.hasOther}},{name:"otherErrorText",serializationProperty:"locOtherErrorText",dependsOn:"showOtherItem",visibleIf:function(t){return t.hasOther}},{name:"storeOthersAsComment",default:"default",choices:["default",!0,!1],visible:!1}],null,"question"),P.Serializer.addClass("checkboxbase",[{name:"colCount:number",default:1,choices:[0,1,2,3,4,5],layout:"row"}],null,"selectbase")},"./src/question_boolean.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"QuestionBooleanModel",function(){return l});var P=d("./src/questionfactory.ts"),C=d("./src/jsonobject.ts"),D=d("./src/question.ts"),A=d("./src/utils/cssClassBuilder.ts"),R=d("./src/utils/utils.ts"),V=function(){var y=function(p,f){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,m){e.__proto__=m}||function(e,m){for(var s in m)Object.prototype.hasOwnProperty.call(m,s)&&(e[s]=m[s])},y(p,f)};return function(p,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");y(p,f);function e(){this.constructor=p}p.prototype=f===null?Object.create(f):(e.prototype=f.prototype,new e)}}(),O=function(y,p,f,e){var m=arguments.length,s=m<3?p:e===null?e=Object.getOwnPropertyDescriptor(p,f):e,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(y,p,f,e);else for(var c=y.length-1;c>=0;c--)(a=y[c])&&(s=(m<3?a(s):m>3?a(p,f,s):a(p,f))||s);return m>3&&s&&Object.defineProperty(p,f,s),s},l=function(y){V(p,y);function p(f){var e=y.call(this,f)||this;return e.createLocalizableString("labelFalse",e,!0,"booleanUncheckedLabel"),e.createLocalizableString("labelTrue",e,!0,"booleanCheckedLabel"),e}return p.prototype.getType=function(){return"boolean"},p.prototype.isLayoutTypeSupported=function(f){return!0},p.prototype.supportGoNextPageAutomatic=function(){return this.renderAs!=="checkbox"},Object.defineProperty(p.prototype,"isIndeterminate",{get:function(){return this.isEmpty()},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hasTitle",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"booleanValue",{get:function(){return this.isEmpty()?null:this.value==this.getValueTrue()},set:function(f){this.isReadOnly||this.isDesignMode||this.setBooleanValue(f)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"checkedValue",{get:function(){return this.booleanValue},set:function(f){this.booleanValue=f},enumerable:!1,configurable:!0}),p.prototype.setBooleanValue=function(f){this.isValueEmpty(f)?(this.value=null,this.booleanValueRendered=null):(this.value=f==!0?this.getValueTrue():this.getValueFalse(),this.booleanValueRendered=f)},Object.defineProperty(p.prototype,"defaultValue",{get:function(){return this.getPropertyValue("defaultValue")},set:function(f){f===!0&&(f="true"),f===!1&&(f="false"),f===void 0&&(f="indeterminate"),this.setPropertyValue("defaultValue",f),this.updateValueWithDefaults()},enumerable:!1,configurable:!0}),p.prototype.getDefaultValue=function(){return this.defaultValue=="indeterminate"||this.defaultValue===void 0?null:this.defaultValue=="true"?this.getValueTrue():this.getValueFalse()},Object.defineProperty(p.prototype,"locTitle",{get:function(){var f=this.getLocalizableString("title");return!this.isValueEmpty(this.locLabel.text)&&(this.isValueEmpty(f.text)||this.isLabelRendered&&!this.showTitle)?this.locLabel:f},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"labelRenderedAriaID",{get:function(){return this.isLabelRendered?this.ariaTitleId:null},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"isLabelRendered",{get:function(){return this.titleLocation==="hidden"},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"canRenderLabelDescription",{get:function(){return this.isLabelRendered&&this.hasDescription&&(this.hasDescriptionUnderTitle||this.hasDescriptionUnderInput)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"labelTrue",{get:function(){return this.getLocalizableStringText("labelTrue")},set:function(f){this.setLocalizableStringText("labelTrue",f)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"locLabelTrue",{get:function(){return this.getLocalizableString("labelTrue")},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"isDeterminated",{get:function(){return this.booleanValue!==null},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"labelFalse",{get:function(){return this.getLocalizableStringText("labelFalse")},set:function(f){this.setLocalizableStringText("labelFalse",f)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"locLabelFalse",{get:function(){return this.getLocalizableString("labelFalse")},enumerable:!1,configurable:!0}),p.prototype.getValueTrue=function(){return this.valueTrue!==void 0?this.valueTrue:!0},p.prototype.getValueFalse=function(){return this.valueFalse!==void 0?this.valueFalse:!1},p.prototype.setDefaultValue=function(){this.isDefaultValueSet("true",this.valueTrue)&&this.setBooleanValue(!0),this.isDefaultValueSet("false",this.valueFalse)&&this.setBooleanValue(!1),this.defaultValue=="indeterminate"&&this.setBooleanValue(null)},p.prototype.isDefaultValueSet=function(f,e){return this.defaultValue==f||e!==void 0&&this.defaultValue===e},p.prototype.getDisplayValueCore=function(f,e){return e==this.getValueTrue()?this.locLabelTrue.textOrHtml:this.locLabelFalse.textOrHtml},p.prototype.getItemCssValue=function(f){return new A.CssClassBuilder().append(f.item).append(f.itemOnError,this.hasCssError()).append(f.itemDisabled,this.isReadOnly).append(f.itemHover,!this.isDesignMode).append(f.itemChecked,!!this.booleanValue).append(f.itemIndeterminate,this.booleanValue===null).toString()},p.prototype.getItemCss=function(){return this.getItemCssValue(this.cssClasses)},p.prototype.getCheckboxItemCss=function(){return this.getItemCssValue({item:this.cssClasses.checkboxItem,itemOnError:this.cssClasses.checkboxItemOnError,itemDisabled:this.cssClasses.checkboxItemDisabled,itemChecked:this.cssClasses.checkboxItemChecked,itemIndeterminate:this.cssClasses.checkboxItemIndeterminate})},p.prototype.getLabelCss=function(f){return new A.CssClassBuilder().append(this.cssClasses.label).append(this.cssClasses.disabledLabel,this.booleanValue===!f||this.isReadOnly).append(this.cssClasses.labelTrue,!this.isIndeterminate&&f===!0).append(this.cssClasses.labelFalse,!this.isIndeterminate&&f===!1).toString()},Object.defineProperty(p.prototype,"svgIcon",{get:function(){return this.booleanValue&&this.cssClasses.svgIconCheckedId?this.cssClasses.svgIconCheckedId:this.booleanValue===null&&this.cssClasses.svgIconIndId?this.cssClasses.svgIconIndId:!this.booleanValue&&this.cssClasses.svgIconUncheckedId?this.cssClasses.svgIconUncheckedId:this.cssClasses.svgIconId},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"allowClick",{get:function(){return this.isIndeterminate&&!this.isInputReadOnly},enumerable:!1,configurable:!0}),p.prototype.getCheckedLabel=function(){if(this.booleanValue===!0)return this.locLabelTrue;if(this.booleanValue===!1)return this.locLabelFalse},p.prototype.setQuestionValue=function(f,e){e===void 0&&(e=!0),f==="true"&&this.valueTrue!=="true"&&(f=!0),f==="false"&&this.valueFalse!=="false"&&(f=!1),f==="indeterminate"&&(f=null),y.prototype.setQuestionValue.call(this,f,e)},p.prototype.onLabelClick=function(f,e){return this.allowClick&&(Object(R.preventDefaults)(f),this.booleanValue=e),!0},p.prototype.calculateBooleanValueByEvent=function(f,e){var m=document.defaultView.getComputedStyle(f.target).direction=="rtl";this.booleanValue=m?!e:e},p.prototype.onSwitchClickModel=function(f){if(this.allowClick){Object(R.preventDefaults)(f);var e=f.offsetX/f.target.offsetWidth>.5;this.calculateBooleanValueByEvent(f,e);return}return!0},p.prototype.onKeyDownCore=function(f){return(f.key==="ArrowLeft"||f.key==="ArrowRight")&&(f.stopPropagation(),this.calculateBooleanValueByEvent(f,f.key==="ArrowRight")),!0},p.prototype.getRadioItemClass=function(f,e){var m=void 0;return f.radioItem&&(m=f.radioItem),f.radioItemChecked&&e===this.booleanValue&&(m=(m?m+" ":"")+f.radioItemChecked),m},p.prototype.supportResponsiveness=function(){return!0},p.prototype.getCompactRenderAs=function(){return"radio"},p.prototype.createActionContainer=function(f){return y.prototype.createActionContainer.call(this,this.renderAs!=="checkbox")},Object.defineProperty(p.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"a11y_input_ariaRole",{get:function(){return"switch"},enumerable:!1,configurable:!0}),O([Object(C.property)()],p.prototype,"booleanValueRendered",void 0),O([Object(C.property)()],p.prototype,"showTitle",void 0),O([Object(C.property)({localizable:!0})],p.prototype,"label",void 0),O([Object(C.property)()],p.prototype,"valueTrue",void 0),O([Object(C.property)()],p.prototype,"valueFalse",void 0),p}(D.Question);C.Serializer.addClass("boolean",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"label:text",serializationProperty:"locLabel",isSerializable:!1,visible:!1},{name:"labelTrue:text",serializationProperty:"locLabelTrue"},{name:"labelFalse:text",serializationProperty:"locLabelFalse"},"valueTrue","valueFalse",{name:"renderAs",default:"default",visible:!1}],function(){return new l("")},"question"),P.QuestionFactory.Instance.registerQuestion("boolean",function(y){return new l(y)})},"./src/question_buttongroup.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"ButtonGroupItemValue",function(){return O}),d.d(M,"QuestionButtonGroupModel",function(){return l}),d.d(M,"ButtonGroupItemModel",function(){return y});var P=d("./src/jsonobject.ts"),C=d("./src/itemvalue.ts"),D=d("./src/question_baseselect.ts"),A=d("./src/utils/cssClassBuilder.ts"),R=function(){var p=function(f,e){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,s){m.__proto__=s}||function(m,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(m[a]=s[a])},p(f,e)};return function(f,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");p(f,e);function m(){this.constructor=f}f.prototype=e===null?Object.create(e):(m.prototype=e.prototype,new m)}}(),V=function(p,f,e,m){var s=arguments.length,a=s<3?f:m===null?m=Object.getOwnPropertyDescriptor(f,e):m,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(p,f,e,m);else for(var r=p.length-1;r>=0;r--)(c=p[r])&&(a=(s<3?c(a):s>3?c(f,e,a):c(f,e))||a);return s>3&&a&&Object.defineProperty(f,e,a),a},O=function(p){R(f,p);function f(e,m,s){m===void 0&&(m=null),s===void 0&&(s="buttongroupitemvalue");var a=p.call(this,e,m,s)||this;return a.typeName=s,a}return f.prototype.getType=function(){return this.typeName?this.typeName:"buttongroupitemvalue"},V([Object(P.property)()],f.prototype,"iconName",void 0),V([Object(P.property)()],f.prototype,"iconSize",void 0),V([Object(P.property)()],f.prototype,"showCaption",void 0),f}(C.ItemValue),l=function(p){R(f,p);function f(e){return p.call(this,e)||this}return f.prototype.getType=function(){return"buttongroup"},f.prototype.getItemValueType=function(){return"buttongroupitemvalue"},f.prototype.supportOther=function(){return!1},f}(D.QuestionCheckboxBase);P.Serializer.addClass("buttongroup",[{name:"choices:buttongroupitemvalue[]"}],function(){return new l("")},"checkboxbase"),P.Serializer.addClass("buttongroupitemvalue",[{name:"showCaption:boolean",default:!0},{name:"iconName:text"},{name:"iconSize:number"}],function(p){return new O(p)},"itemvalue");var y=function(){function p(f,e,m){this.question=f,this.item=e,this.index=m}return Object.defineProperty(p.prototype,"value",{get:function(){return this.item.value},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"iconName",{get:function(){return this.item.iconName},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"iconSize",{get:function(){return this.item.iconSize||24},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"caption",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"showCaption",{get:function(){return this.item.showCaption||this.item.showCaption===void 0},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"isRequired",{get:function(){return this.question.isRequired},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"selected",{get:function(){return this.question.isItemSelected(this.item)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"readOnly",{get:function(){return this.question.isInputReadOnly||!this.item.isEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"name",{get:function(){return this.question.name+"_"+this.question.id},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"id",{get:function(){return this.question.inputId+"_"+this.index},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"hasErrors",{get:function(){return this.question.errors.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"describedBy",{get:function(){return this.question.errors.length>0?this.question.id+"_errors":null},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"labelClass",{get:function(){return new A.CssClassBuilder().append(this.question.cssClasses.item).append(this.question.cssClasses.itemSelected,this.selected).append(this.question.cssClasses.itemHover,!this.readOnly&&!this.selected).append(this.question.cssClasses.itemDisabled,this.question.isReadOnly||!this.item.isEnabled).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"css",{get:function(){return{label:this.labelClass,icon:this.question.cssClasses.itemIcon,control:this.question.cssClasses.itemControl,caption:this.question.cssClasses.itemCaption,decorator:this.question.cssClasses.itemDecorator}},enumerable:!1,configurable:!0}),p.prototype.onChange=function(){this.question.renderedValue=this.item.value},p}()},"./src/question_checkbox.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"QuestionCheckboxModel",function(){return p});var P=d("./src/jsonobject.ts"),C=d("./src/questionfactory.ts"),D=d("./src/question_baseselect.ts"),A=d("./src/helpers.ts"),R=d("./src/itemvalue.ts"),V=d("./src/utils/cssClassBuilder.ts"),O=d("./src/error.ts"),l=d("./src/settings.ts"),y=function(){var f=function(e,m){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(s[c]=a[c])},f(e,m)};return function(e,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");f(e,m);function s(){this.constructor=e}e.prototype=m===null?Object.create(m):(s.prototype=m.prototype,new s)}}(),p=function(f){y(e,f);function e(m){var s=f.call(this,m)||this;s.invisibleOldValues={},s.isChangingValueOnClearIncorrect=!1,s.selectAllItemValue=new R.ItemValue(""),s.selectAllItemValue.id="selectall";var a=s.createLocalizableString("selectAllText",s.selectAllItem,!0,"selectAllItemText");return s.selectAllItem.locOwner=s,s.selectAllItem.setLocText(a),s.registerPropertyChangedHandlers(["showSelectAllItem","selectAllText"],function(){s.onVisibleChoicesChanged()}),s}return e.prototype.getDefaultItemComponent=function(){return"survey-checkbox-item"},e.prototype.getType=function(){return"checkbox"},e.prototype.onCreating=function(){f.prototype.onCreating.call(this),this.createNewArray("renderedValue"),this.createNewArray("value")},e.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},Object.defineProperty(e.prototype,"valuePropertyName",{get:function(){return this.getPropertyValue("valuePropertyName")},set:function(m){this.setPropertyValue("valuePropertyName",m)},enumerable:!1,configurable:!0}),e.prototype.getQuestionFromArray=function(m,s){if(m&&m===this.valuePropertyName){var a=this.value;if(Array.isArray(a)&&s<a.length)return this}return null},Object.defineProperty(e.prototype,"selectAllItem",{get:function(){return this.selectAllItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectAllText",{get:function(){return this.getLocalizableStringText("selectAllText")},set:function(m){this.setLocalizableStringText("selectAllText",m)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"locSelectAllText",{get:function(){return this.getLocalizableString("selectAllText")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showSelectAllItem",{get:function(){return this.getPropertyValue("showSelectAllItem")},set:function(m){this.setPropertyValue("showSelectAllItem",m)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasSelectAll",{get:function(){return this.showSelectAllItem},set:function(m){this.showSelectAllItem=m},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAllSelected",{get:function(){for(var m=this.getNoneItems(),s=0;s<m.length;s++)if(this.isItemSelected(m[s]))return!1;var a=this.getVisibleEnableItems();if(a.length===0)return!1;var c=this.value;if(!c||!Array.isArray(c)||c.length===0||c.length<a.length)return!1;for(var r=[],s=0;s<c.length;s++)r.push(this.getRealValue(c[s]));for(var s=0;s<a.length;s++)if(r.indexOf(a[s].value)<0)return!1;return!0},set:function(m){m?this.selectAll():this.clearValue()},enumerable:!1,configurable:!0}),e.prototype.toggleSelectAll=function(){this.isAllSelected=!this.isAllSelected},e.prototype.selectAll=function(){for(var m=[],s=this.getVisibleEnableItems(),a=0;a<s.length;a++)m.push(s[a].value);this.renderedValue=m},e.prototype.clickItemHandler=function(m,s){if(m===this.selectAllItem)s===!0||s===!1?this.isAllSelected=s:this.toggleSelectAll();else if(this.isNoneItem(m))this.renderedValue=[m.value];else{var a=[].concat(this.renderedValue||[]),c=a.indexOf(m.value);s?c<0&&a.push(m.value):c>-1&&a.splice(c,1),this.renderedValue=a}},e.prototype.isItemSelectedCore=function(m){if(m===this.selectAllItem)return this.isAllSelected;var s=this.renderedValue;if(!s||!Array.isArray(s))return!1;for(var a=0;a<s.length;a++)if(this.isTwoValueEquals(s[a],m.value))return!0;return!1},e.prototype.getRealValue=function(m){return m&&(this.valuePropertyName?m[this.valuePropertyName]:m)},Object.defineProperty(e.prototype,"isValueArray",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxSelectedChoices",{get:function(){return this.getPropertyValue("maxSelectedChoices")},set:function(m){m<0&&(m=0),this.setPropertyValue("maxSelectedChoices",m),this.filterItems()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minSelectedChoices",{get:function(){return this.getPropertyValue("minSelectedChoices")},set:function(m){m<0&&(m=0),this.setPropertyValue("minSelectedChoices",m)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedChoices",{get:function(){var m=this.renderedValue,s=this.visibleChoices,a=this.selectedItemValues;if(this.isEmpty())return[];var c=this.defaultSelectedItemValues?[].concat(this.defaultSelectedItemValues,s):s,r=m.map(function(t){return R.ItemValue.getItemByValue(c,t)}).filter(function(t){return!!t});return!r.length&&!a&&this.updateSelectedItemValues(),this.validateItemValues(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedItems",{get:function(){return this.selectedChoices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasFilteredValue",{get:function(){return!!this.valuePropertyName},enumerable:!1,configurable:!0}),e.prototype.getFilteredValue=function(){return this.hasFilteredValue?this.renderedValue:f.prototype.getFilteredValue.call(this)},e.prototype.getMultipleSelectedItems=function(){return this.selectedChoices},e.prototype.validateItemValues=function(m){var s=this;if(m.length)return m;var a=this.selectedItemValues;if(a&&a.length)return this.defaultSelectedItemValues=[].concat(a),a;var c=this.renderedValue;return c.map(function(r){return s.createItemValue(r)})},e.prototype.getAnswerCorrectIgnoreOrder=function(){return!0},e.prototype.onCheckForErrors=function(m,s){if(f.prototype.onCheckForErrors.call(this,m,s),!s&&this.minSelectedChoices>0&&this.checkMinSelectedChoicesUnreached()){var a=new O.CustomError(this.getLocalizationFormatString("minSelectError",this.minSelectedChoices),this);m.push(a)}},e.prototype.onVisibleChoicesChanged=function(){f.prototype.onVisibleChoicesChanged.call(this),this.updateSelectAllItemProps()},e.prototype.onEnableItemCallBack=function(m){return this.shouldCheckMaxSelectedChoices()?this.isItemSelected(m):!0},e.prototype.onAfterRunItemsEnableCondition=function(){if(this.updateSelectAllItemProps(),this.maxSelectedChoices<1){this.otherItem.setIsEnabled(!0);return}this.hasOther&&this.otherItem.setIsEnabled(!this.shouldCheckMaxSelectedChoices()||this.isOtherSelected)},e.prototype.updateSelectAllItemProps=function(){this.hasSelectAll&&this.selectAllItem.setIsEnabled(this.getSelectAllEnabled())},e.prototype.getSelectAllEnabled=function(){if(!this.hasSelectAll)return!0;var m=this.activeChoices,s=this.getVisibleEnableItems().length,a=this.maxSelectedChoices;return a>0&&a<s?!1:s>0},e.prototype.getVisibleEnableItems=function(){for(var m=new Array,s=this.activeChoices,a=0;a<s.length;a++){var c=s[a];c.isEnabled&&c.isVisible&&m.push(c)}return m},e.prototype.shouldCheckMaxSelectedChoices=function(){if(this.maxSelectedChoices<1)return!1;var m=this.value,s=Array.isArray(m)?m.length:0;return s>=this.maxSelectedChoices},e.prototype.checkMinSelectedChoicesUnreached=function(){if(this.minSelectedChoices<1)return!1;var m=this.value,s=Array.isArray(m)?m.length:0;return s<this.minSelectedChoices},e.prototype.getItemClassCore=function(m,s){var a=this.value;return s.isSelectAllItem=m===this.selectAllItem,new V.CssClassBuilder().append(f.prototype.getItemClassCore.call(this,m,s)).append(this.cssClasses.itemSelectAll,s.isSelectAllItem).toString()},e.prototype.updateValueFromSurvey=function(m,s){f.prototype.updateValueFromSurvey.call(this,m,s),this.invisibleOldValues={}},e.prototype.setDefaultValue=function(){f.prototype.setDefaultValue.call(this);var m=this.defaultValue;if(Array.isArray(m))for(var s=0;s<m.length;s++){var a=this.getRealValue(m[s]);this.canClearValueAnUnknown(a)&&this.addIntoInvisibleOldValues(a)}},e.prototype.addIntoInvisibleOldValues=function(m){this.invisibleOldValues[m]=m},e.prototype.hasValueToClearIncorrectValues=function(){return f.prototype.hasValueToClearIncorrectValues.call(this)||!A.Helpers.isValueEmpty(this.invisibleOldValues)},e.prototype.setNewValue=function(m){this.isChangingValueOnClearIncorrect||(this.invisibleOldValues={}),m=this.valueFromData(m);var s=this.value;m||(m=[]),s||(s=[]),!this.isTwoValueEquals(s,m)&&(this.removeNoneItemsValues(s,m),f.prototype.setNewValue.call(this,m))},e.prototype.getIsMultipleValue=function(){return!0},e.prototype.getCommentFromValue=function(m){var s=this.getFirstUnknownIndex(m);return s<0?"":m[s]},e.prototype.setOtherValueIntoValue=function(m){var s=this.getFirstUnknownIndex(m);return s<0||m.splice(s,1,this.otherItem.value),m},e.prototype.getFirstUnknownIndex=function(m){if(!Array.isArray(m))return-1;for(var s=0;s<m.length;s++)if(this.hasUnknownValue(m[s],!1,!1))return s;return-1},e.prototype.removeNoneItemsValues=function(m,s){var a=[];if(this.showNoneItem&&a.push(this.noneItem.value),this.showRefuseItem&&a.push(this.refuseItem.value),this.showDontKnowItem&&a.push(this.dontKnowItem.value),a.length>0){var c=this.noneIndexInArray(m,a),r=this.noneIndexInArray(s,a);if(c.index>-1)if(c.val===r.val)s.length>0&&s.splice(r.index,1);else{var t=this.noneIndexInArray(s,[c.val]);t.index>-1&&t.index<s.length-1&&s.splice(t.index,1)}else if(r.index>-1&&s.length>1){var n=this.convertValueToObject([r.val])[0];s.splice(0,s.length,n)}}},e.prototype.noneIndexInArray=function(m,s){if(!Array.isArray(m))return{index:-1,val:void 0};for(var a=m.length-1;a>=0;a--){var c=s.indexOf(this.getRealValue(m[a]));if(c>-1)return{index:a,val:s[c]}}return{index:-1,val:void 0}},e.prototype.canUseFilteredChoices=function(){return!this.hasSelectAll&&f.prototype.canUseFilteredChoices.call(this)},e.prototype.supportSelectAll=function(){return this.isSupportProperty("showSelectAllItem")},e.prototype.addNonChoicesItems=function(m,s){f.prototype.addNonChoicesItems.call(this,m,s),this.supportSelectAll()&&this.addNonChoiceItem(m,this.selectAllItem,s,this.hasSelectAll,l.settings.specialChoicesOrder.selectAllItem)},e.prototype.isBuiltInChoice=function(m){return m===this.selectAllItem||f.prototype.isBuiltInChoice.call(this,m)},e.prototype.isItemInList=function(m){return m==this.selectAllItem?this.hasSelectAll:f.prototype.isItemInList.call(this,m)},e.prototype.getDisplayValueCore=function(m,s){if(!Array.isArray(s))return f.prototype.getDisplayValueCore.call(this,m,s);var a=this.valuePropertyName,c=function(r){var t=s[r];return a&&t[a]&&(t=t[a]),t};return this.getDisplayArrayValue(m,s,c)},e.prototype.clearIncorrectValuesCore=function(){this.clearIncorrectAndDisabledValues(!1)},e.prototype.clearDisabledValuesCore=function(){this.clearIncorrectAndDisabledValues(!0)},e.prototype.clearIncorrectAndDisabledValues=function(m){var s=this.value,a=!1,c=this.restoreValuesFromInvisible();if(!(!s&&c.length==0)){if(!Array.isArray(s)||s.length==0){if(this.isChangingValueOnClearIncorrect=!0,m||(this.hasComment?this.value=null:this.clearValue()),this.isChangingValueOnClearIncorrect=!1,c.length==0)return;s=[]}for(var r=[],t=0;t<s.length;t++){var n=this.getRealValue(s[t]),o=this.canClearValueAnUnknown(n);!m&&!o||m&&!this.isValueDisabled(n)?r.push(s[t]):(a=!0,o&&this.addIntoInvisibleOldValues(s[t]))}for(var t=0;t<c.length;t++)r.push(c[t]),a=!0;a&&(this.isChangingValueOnClearIncorrect=!0,r.length==0?this.clearValue():this.value=r,this.isChangingValueOnClearIncorrect=!1)}},e.prototype.restoreValuesFromInvisible=function(){for(var m=[],s=this.visibleChoices,a=0;a<s.length;a++){var c=s[a];if(c!==this.selectAllItem){var r=s[a].value;A.Helpers.isTwoValueEquals(r,this.invisibleOldValues[r])&&(this.isItemSelected(c)||m.push(r),delete this.invisibleOldValues[r])}}return m},e.prototype.getConditionJson=function(m,s){m===void 0&&(m=null),s===void 0&&(s=null);var a=f.prototype.getConditionJson.call(this);return(m=="contains"||m=="notcontains")&&(a.type="radiogroup"),a.maxSelectedChoices=0,a.minSelectedChoices=0,a},e.prototype.isAnswerCorrect=function(){return A.Helpers.isArrayContainsEqual(this.value,this.correctAnswer)},e.prototype.setDefaultValueWithOthers=function(){this.value=this.renderedValueFromDataCore(this.defaultValue)},e.prototype.getIsItemValue=function(m,s){return!m||!Array.isArray(m)?!1:m.indexOf(s.value)>=0},e.prototype.valueFromData=function(m){if(!m)return m;if(!Array.isArray(m))return[f.prototype.valueFromData.call(this,m)];for(var s=[],a=0;a<m.length;a++){var c=R.ItemValue.getItemByValue(this.activeChoices,m[a]);c?s.push(c.value):s.push(m[a])}return s},e.prototype.rendredValueFromData=function(m){return m=this.convertValueFromObject(m),f.prototype.rendredValueFromData.call(this,m)},e.prototype.rendredValueToData=function(m){return m=f.prototype.rendredValueToData.call(this,m),this.convertValueToObject(m)},e.prototype.convertValueFromObject=function(m){return this.valuePropertyName?A.Helpers.convertArrayObjectToValue(m,this.valuePropertyName):m},e.prototype.convertValueToObject=function(m){if(!this.valuePropertyName)return m;var s=void 0;return this.survey&&this.survey.questionsByValueName(this.getValueName()).length>1&&(s=this.data.getValue(this.getValueName())),A.Helpers.convertArrayValueToObject(m,this.valuePropertyName,s)},e.prototype.renderedValueFromDataCore=function(m){if((!m||!Array.isArray(m))&&(m=[]),!this.hasActiveChoices)return m;for(var s=0;s<m.length;s++){if(m[s]==this.otherItem.value)return m;if(this.hasUnknownValue(m[s],!0,!1)){this.otherValue=m[s];var a=m.slice();return a[s]=this.otherItem.value,a}}return m},e.prototype.rendredValueToDataCore=function(m){if(!m||!m.length)return m;for(var s=0;s<m.length;s++)if(m[s]==this.otherItem.value&&this.needConvertRenderedOtherToDataValue()){var a=m.slice();return a[s]=this.otherValue,a}return m},e.prototype.selectOtherValueFromComment=function(m){var s=[],a=this.renderedValue;if(Array.isArray(a))for(var c=0;c<a.length;c++)a[c]!==this.otherItem.value&&s.push(a[c]);m&&s.push(this.otherItem.value),this.value=s},Object.defineProperty(e.prototype,"checkBoxSvgPath",{get:function(){return"M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"a11y_input_ariaRole",{get:function(){return"listbox"},enumerable:!1,configurable:!0}),e}(D.QuestionCheckboxBase);P.Serializer.addClass("checkbox",[{name:"showSelectAllItem:boolean",alternativeName:"hasSelectAll"},{name:"separateSpecialChoices",visible:!0},{name:"maxSelectedChoices:number",default:0,onSettingValue:function(f,e){if(e<=0)return 0;var m=f.minSelectedChoices;return m>0&&e<m?m:e}},{name:"minSelectedChoices:number",default:0,onSettingValue:function(f,e){if(e<=0)return 0;var m=f.maxSelectedChoices;return m>0&&e>m?m:e}},{name:"selectAllText",serializationProperty:"locSelectAllText",dependsOn:"showSelectAllItem",visibleIf:function(f){return f.hasSelectAll}},{name:"valuePropertyName",category:"data"},{name:"itemComponent",visible:!1,default:"survey-checkbox-item"}],function(){return new p("")},"checkboxbase"),C.QuestionFactory.Instance.registerQuestion("checkbox",function(f){var e=new p(f);return e.choices=C.QuestionFactory.DefaultChoices,e})},"./src/question_comment.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"QuestionCommentModel",function(){return O});var P=d("./src/jsonobject.ts"),C=d("./src/questionfactory.ts"),D=d("./src/question_textbase.ts"),A=d("./src/utils/utils.ts"),R=d("./src/settings.ts"),V=function(){var l=function(y,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var m in e)Object.prototype.hasOwnProperty.call(e,m)&&(f[m]=e[m])},l(y,p)};return function(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");l(y,p);function f(){this.constructor=y}y.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}(),O=function(l){V(y,l);function y(){return l!==null&&l.apply(this,arguments)||this}return Object.defineProperty(y.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},set:function(p){this.setPropertyValue("rows",p)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"cols",{get:function(){return this.getPropertyValue("cols")},set:function(p){this.setPropertyValue("cols",p)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"acceptCarriageReturn",{get:function(){return this.getPropertyValue("acceptCarriageReturn")},set:function(p){this.setPropertyValue("acceptCarriageReturn",p)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"autoGrow",{get:function(){return this.getPropertyValue("autoGrow")||this.survey&&this.survey.autoGrowComment},set:function(p){this.setPropertyValue("autoGrow",p)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"allowResize",{get:function(){return this.getPropertyValue("allowResize")},set:function(p){this.setPropertyValue("allowResize",p)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"renderedAllowResize",{get:function(){return this.allowResize&&this.survey&&this.survey.allowResizeComment},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"resizeStyle",{get:function(){return this.renderedAllowResize?"both":"none"},enumerable:!1,configurable:!0}),y.prototype.getType=function(){return"comment"},y.prototype.afterRenderQuestionElement=function(p){var f=R.settings.environment.root;this.element=f.getElementById(this.inputId)||p,this.updateElement(),l.prototype.afterRenderQuestionElement.call(this,p)},y.prototype.updateElement=function(){var p=this;this.element&&this.autoGrow&&setTimeout(function(){return Object(A.increaseHeightByContent)(p.element)},1)},y.prototype.beforeDestroyQuestionElement=function(p){l.prototype.beforeDestroyQuestionElement.call(this,p),this.element=void 0},y.prototype.onInput=function(p){this.isInputTextUpdate?this.value=p.target.value:this.updateElement(),this.updateRemainingCharacterCounter(p.target.value)},y.prototype.onKeyDown=function(p){this.onKeyDownPreprocess&&this.onKeyDownPreprocess(p),!this.acceptCarriageReturn&&(p.key==="Enter"||p.keyCode===13)&&(p.preventDefault(),p.stopPropagation())},y.prototype.setQuestionValue=function(p,f){f===void 0&&(f=!0),l.prototype.setQuestionValue.call(this,p,f),this.updateElement()},y.prototype.onValueChanged=function(){l.prototype.onValueChanged.call(this),this.updateElement()},y.prototype.setNewValue=function(p){!this.acceptCarriageReturn&&p&&(p=p.replace(new RegExp(`(\r
|
|\r)`,"gm"),"")),l.prototype.setNewValue.call(this,p)},y.prototype.getValueSeparator=function(){return`
`},Object.defineProperty(y.prototype,"className",{get:function(){return(this.cssClasses?this.getControlClass():"panel-comment-root")||void 0},enumerable:!1,configurable:!0}),y}(D.QuestionTextBase);P.Serializer.addClass("comment",[{name:"maxLength:number",default:-1},{name:"cols:number",default:50,visible:!1,isSerializable:!1},{name:"rows:number",default:4},{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder"},{name:"textUpdateMode",default:"default",choices:["default","onBlur","onTyping"]},{name:"autoGrow:boolean"},{name:"allowResize:boolean",default:!0},{name:"acceptCarriageReturn:boolean",default:!0,visible:!1}],function(){return new O("")},"textbase"),C.QuestionFactory.Instance.registerQuestion("comment",function(l){return new O(l)})},"./src/question_custom.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"ComponentQuestionJSON",function(){return l}),d.d(M,"ComponentCollection",function(){return y}),d.d(M,"QuestionCustomModelBase",function(){return p}),d.d(M,"QuestionCustomModel",function(){return f}),d.d(M,"QuestionCompositeModel",function(){return m});var P=d("./src/question.ts"),C=d("./src/jsonobject.ts"),D=d("./src/survey-element.ts"),A=d("./src/helpers.ts"),R=d("./src/textPreProcessor.ts"),V=d("./src/utils/cssClassBuilder.ts"),O=function(){var s=function(a,c){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])},s(a,c)};return function(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");s(a,c);function r(){this.constructor=a}a.prototype=c===null?Object.create(c):(r.prototype=c.prototype,new r)}}(),l=function(){function s(a,c){this.name=a,this.json=c;var r=this;C.Serializer.addClass(a,[],function(t){return y.Instance.createQuestion(t?t.name:"",r)},"question"),this.onInit()}return s.prototype.onInit=function(){this.json.onInit&&this.json.onInit()},s.prototype.onCreated=function(a){this.json.onCreated&&this.json.onCreated(a)},s.prototype.onLoaded=function(a){this.json.onLoaded&&this.json.onLoaded(a)},s.prototype.onAfterRender=function(a,c){this.json.onAfterRender&&this.json.onAfterRender(a,c)},s.prototype.onAfterRenderContentElement=function(a,c,r){this.json.onAfterRenderContentElement&&this.json.onAfterRenderContentElement(a,c,r)},s.prototype.onUpdateQuestionCssClasses=function(a,c,r){this.json.onUpdateQuestionCssClasses&&this.json.onUpdateQuestionCssClasses(a,c,r)},s.prototype.onPropertyChanged=function(a,c,r){this.json.onPropertyChanged&&this.json.onPropertyChanged(a,c,r)},s.prototype.onValueChanged=function(a,c,r){this.json.onValueChanged&&this.json.onValueChanged(a,c,r)},s.prototype.onValueChanging=function(a,c,r){return this.json.onValueChanging?this.json.onValueChanging(a,c,r):r},s.prototype.onItemValuePropertyChanged=function(a,c,r,t,n){this.json.onItemValuePropertyChanged&&this.json.onItemValuePropertyChanged(a,{obj:c,propertyName:r,name:t,newValue:n})},s.prototype.getDisplayValue=function(a,c,r){return this.json.getDisplayValue?this.json.getDisplayValue(r):r.getDisplayValue(a,c)},Object.defineProperty(s.prototype,"defaultQuestionTitle",{get:function(){return this.json.defaultQuestionTitle},enumerable:!1,configurable:!0}),s.prototype.setValueToQuestion=function(a){var c=this.json.valueToQuestion||this.json.setValue;return c?c(a):a},s.prototype.getValueFromQuestion=function(a){var c=this.json.valueFromQuestion||this.json.getValue;return c?c(a):a},Object.defineProperty(s.prototype,"isComposite",{get:function(){return!!this.json.elementsJSON||!!this.json.createElements},enumerable:!1,configurable:!0}),s.prototype.getDynamicProperties=function(){return Array.isArray(this.dynamicProperties),this.dynamicProperties=this.calcDynamicProperties(),this.dynamicProperties},s.prototype.calcDynamicProperties=function(){var a=this.json.inheritBaseProps;if(!a||!this.json.questionJSON)return[];var c=this.json.questionJSON.type;if(!c)return[];if(Array.isArray(a)){var r=[];return a.forEach(function(o){var u=C.Serializer.findProperty(c,o);u&&r.push(u)}),r}var t=[];for(var n in this.json.questionJSON)t.push(n);return C.Serializer.getDynamicPropertiesByTypes(this.name,c,t)},s}(),y=function(){function s(){this.customQuestionValues=[]}return s.prototype.add=function(a){if(a){var c=a.name;if(!c)throw"Attribute name is missed";if(c=c.toLowerCase(),this.getCustomQuestionByName(c))throw"There is already registered custom question with name '"+c+"'";if(C.Serializer.findClass(c))throw"There is already class with name '"+c+"'";var r=new l(c,a);this.onAddingJson&&this.onAddingJson(c,r.isComposite),this.customQuestionValues.push(r)}},s.prototype.remove=function(a){if(!a)return!1;var c=this.getCustomQuestionIndex(a.toLowerCase());return c<0?!1:(this.removeByIndex(c),!0)},Object.defineProperty(s.prototype,"items",{get:function(){return this.customQuestionValues},enumerable:!1,configurable:!0}),s.prototype.getCustomQuestionByName=function(a){var c=this.getCustomQuestionIndex(a);return c>=0?this.customQuestionValues[c]:void 0},s.prototype.getCustomQuestionIndex=function(a){for(var c=0;c<this.customQuestionValues.length;c++)if(this.customQuestionValues[c].name===a)return c;return-1},s.prototype.removeByIndex=function(a){C.Serializer.removeClass(this.customQuestionValues[a].name),this.customQuestionValues.splice(a,1)},s.prototype.clear=function(a){for(var c=this.customQuestionValues.length-1;c>=0;c--)(a||!this.customQuestionValues[c].json.internal)&&this.removeByIndex(c)},s.prototype.createQuestion=function(a,c){return c.isComposite?this.createCompositeModel(a,c):this.createCustomModel(a,c)},s.prototype.createCompositeModel=function(a,c){return this.onCreateComposite?this.onCreateComposite(a,c):new m(a,c)},s.prototype.createCustomModel=function(a,c){return this.onCreateCustom?this.onCreateCustom(a,c):new f(a,c)},s.Instance=new s,s}(),p=function(s){O(a,s);function a(c,r){var t=s.call(this,c)||this;return t.customQuestion=r,C.CustomPropertiesCollection.createProperties(t),D.SurveyElement.CreateDisabledDesignElements=!0,t.locQuestionTitle=t.createLocalizableString("questionTitle",t),t.locQuestionTitle.setJson(t.customQuestion.defaultQuestionTitle),t.createWrapper(),D.SurveyElement.CreateDisabledDesignElements=!1,t.customQuestion&&t.customQuestion.onCreated(t),t}return a.prototype.getType=function(){return this.customQuestion?this.customQuestion.name:"custom"},a.prototype.locStrsChanged=function(){s.prototype.locStrsChanged.call(this),this.getElement()&&this.getElement().locStrsChanged()},a.prototype.localeChanged=function(){s.prototype.locStrsChanged.call(this),this.getElement()&&this.getElement().localeChanged()},a.prototype.getDefaultTitle=function(){return this.locQuestionTitle.isEmpty?s.prototype.getDefaultTitle.call(this):this.getProcessedText(this.locQuestionTitle.textOrHtml)},a.prototype.addUsedLocales=function(c){s.prototype.addUsedLocales.call(this,c),this.getElement()&&this.getElement().addUsedLocales(c)},a.prototype.needResponsiveWidth=function(){var c=this.getElement();return c?c.needResponsiveWidth():!1},a.prototype.createWrapper=function(){},a.prototype.onPropertyValueChanged=function(c,r,t){s.prototype.onPropertyValueChanged.call(this,c,r,t),this.customQuestion&&!this.isLoadingFromJson&&this.customQuestion.onPropertyChanged(this,c,t)},a.prototype.itemValuePropertyChanged=function(c,r,t,n){s.prototype.itemValuePropertyChanged.call(this,c,r,t,n),this.customQuestion&&!this.isLoadingFromJson&&this.customQuestion.onItemValuePropertyChanged(this,c,c.ownerPropertyName,r,n)},a.prototype.onFirstRendering=function(){var c=this.getElement();c&&c.onFirstRendering(),s.prototype.onFirstRendering.call(this)},a.prototype.onHidingContent=function(){s.prototype.onHidingContent.call(this);var c=this.getElement();c&&c.onHidingContent()},a.prototype.getProgressInfo=function(){var c=s.prototype.getProgressInfo.call(this);return this.getElement()&&(c=this.getElement().getProgressInfo()),this.isRequired&&c.requiredQuestionCount==0&&(c.requiredQuestionCount=1,this.isEmpty()||(c.answeredQuestionCount=1)),c},a.prototype.initElement=function(c){c&&(c.setSurveyImpl(this),c.disableDesignActions=!0)},a.prototype.setSurveyImpl=function(c,r){this.isSettingValOnLoading=!0,s.prototype.setSurveyImpl.call(this,c,r),this.initElement(this.getElement()),this.isSettingValOnLoading=!1},a.prototype.onSurveyLoad=function(){s.prototype.onSurveyLoad.call(this),this.getElement()&&(this.getElement().onSurveyLoad(),this.customQuestion.onLoaded(this))},a.prototype.afterRenderQuestionElement=function(c){},a.prototype.afterRenderCore=function(c){s.prototype.afterRenderCore.call(this,c),this.customQuestion&&this.customQuestion.onAfterRender(this,c)},a.prototype.onUpdateQuestionCssClasses=function(c,r){this.customQuestion&&this.customQuestion.onUpdateQuestionCssClasses(this,c,r)},a.prototype.setQuestionValue=function(c,r){r===void 0&&(r=!0),s.prototype.setQuestionValue.call(this,c,r),this.updateElementCss()},a.prototype.setNewValue=function(c){s.prototype.setNewValue.call(this,c),this.updateElementCss()},a.prototype.getSurveyData=function(){return this},a.prototype.getTextProcessor=function(){return this.textProcessor},a.prototype.getValue=function(c){return this.value},a.prototype.setValue=function(c,r,t,n){if(this.data){var o=this.convertDataName(c),u=this.convertDataValue(c,r);this.valueToDataCallback&&(u=this.valueToDataCallback(u)),this.data.setValue(o,u,t,n),this.updateIsAnswered(),this.updateElementCss(),this.customQuestion&&this.customQuestion.onValueChanged(this,c,r)}},a.prototype.getQuestionByName=function(c){},a.prototype.isValueChanging=function(c,r){if(this.customQuestion){var t=r;if(r=this.customQuestion.onValueChanging(this,c,r),!A.Helpers.isTwoValueEquals(r,t)){var n=this.getQuestionByName(c);if(n)return n.value=r,!0}}return!1},a.prototype.convertDataName=function(c){return this.getValueName()},a.prototype.convertDataValue=function(c,r){return r},a.prototype.getVariable=function(c){return this.data?this.data.getVariable(c):null},a.prototype.setVariable=function(c,r){this.data&&this.data.setVariable(c,r)},a.prototype.getComment=function(c){return this.data?this.data.getComment(this.getValueName()):""},a.prototype.setComment=function(c,r,t){this.data&&this.data.setComment(this.getValueName(),r,t)},a.prototype.getAllValues=function(){return this.data?this.data.getAllValues():{}},a.prototype.getFilteredValues=function(){return this.data?this.data.getFilteredValues():{}},a.prototype.getFilteredProperties=function(){return this.data?this.data.getFilteredProperties():{}},a.prototype.findQuestionByName=function(c){return this.data?this.data.findQuestionByName(c):null},a.prototype.addElement=function(c,r){},a.prototype.removeElement=function(c){return!1},a.prototype.getQuestionTitleLocation=function(){return"left"},a.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},a.prototype.getChildrenLayoutType=function(){return"row"},a.prototype.elementWidthChanged=function(c){},Object.defineProperty(a.prototype,"elements",{get:function(){return[]},enumerable:!1,configurable:!0}),a.prototype.indexOf=function(c){return-1},a.prototype.ensureRowsVisibility=function(){},a.prototype.validateContainerOnly=function(){},a.prototype.getQuestionErrorLocation=function(){return this.getErrorLocation()},a.prototype.getContentDisplayValueCore=function(c,r,t){return t?this.customQuestion.getDisplayValue(c,r,t):s.prototype.getDisplayValueCore.call(this,c,r)},a}(P.Question),f=function(s){O(a,s);function a(){return s!==null&&s.apply(this,arguments)||this}return a.prototype.getTemplate=function(){return"custom"},a.prototype.getDynamicProperties=function(){return this.customQuestion.getDynamicProperties()||[]},a.prototype.getDynamicType=function(){return this.questionWrapper?this.questionWrapper.getType():"question"},a.prototype.getOriginalObj=function(){return this.questionWrapper},a.prototype.createWrapper=function(){this.questionWrapper=this.createQuestion(),this.createDynamicProperties(this.questionWrapper)},a.prototype.getElement=function(){return this.contentQuestion},a.prototype.onAnyValueChanged=function(c,r){s.prototype.onAnyValueChanged.call(this,c,r),this.contentQuestion&&this.contentQuestion.onAnyValueChanged(c,r)},a.prototype.getQuestionByName=function(c){return this.contentQuestion},a.prototype.getDefaultTitle=function(){return this.hasJSONTitle&&this.contentQuestion?this.getProcessedText(this.contentQuestion.title):s.prototype.getDefaultTitle.call(this)},a.prototype.setValue=function(c,r,t,n){this.isValueChanging(c,r)||s.prototype.setValue.call(this,c,r,t,n)},a.prototype.onSetData=function(){s.prototype.onSetData.call(this),this.survey&&!this.isEmpty()&&this.setValue(this.name,this.value,!1,this.allowNotifyValueChanged)},a.prototype.hasErrors=function(c,r){if(c===void 0&&(c=!0),r===void 0&&(r=null),!this.contentQuestion)return!1;var t=this.contentQuestion.hasErrors(c,r);this.errors=[];for(var n=0;n<this.contentQuestion.errors.length;n++)this.errors.push(this.contentQuestion.errors[n]);return t||(t=s.prototype.hasErrors.call(this,c,r)),this.updateElementCss(),t},a.prototype.focus=function(c){c===void 0&&(c=!1),this.contentQuestion?this.contentQuestion.focus(c):s.prototype.focus.call(this,c)},a.prototype.afterRenderCore=function(c){s.prototype.afterRenderCore.call(this,c),this.contentQuestion&&this.contentQuestion.afterRender(c)},Object.defineProperty(a.prototype,"contentQuestion",{get:function(){return this.questionWrapper},enumerable:!1,configurable:!0}),a.prototype.createQuestion=function(){var c=this,r=this.customQuestion.json,t=null;if(r.questionJSON){this.hasJSONTitle=!!r.questionJSON.title;var n=r.questionJSON.type;if(!n||!C.Serializer.findClass(n))throw"type attribute in questionJSON is empty or incorrect";t=C.Serializer.createClass(n),this.initElement(t),t.fromJSON(r.questionJSON)}else r.createQuestion&&(t=r.createQuestion(),this.initElement(t));return t&&(t.isContentElement=!0,t.name||(t.name="question"),t.onUpdateCssClassesCallback=function(o){c.onUpdateQuestionCssClasses(t,o)},t.hasCssErrorCallback=function(){return c.errors.length>0},t.setValueChangedDirectlyCallback=function(o){c.setValueChangedDirectly(o)}),t},a.prototype.onSurveyLoad=function(){s.prototype.onSurveyLoad.call(this),this.contentQuestion&&this.isEmpty()&&!this.contentQuestion.isEmpty()&&(this.value=this.getContentQuestionValue())},a.prototype.runCondition=function(c,r){s.prototype.runCondition.call(this,c,r),this.contentQuestion&&this.contentQuestion.runCondition(c,r)},a.prototype.convertDataName=function(c){if(!this.contentQuestion)return s.prototype.convertDataName.call(this,c);var r=c.replace(this.contentQuestion.getValueName(),this.getValueName());return r.indexOf(this.getValueName())==0?r:s.prototype.convertDataName.call(this,c)},a.prototype.convertDataValue=function(c,r){return this.convertDataName(c)==s.prototype.convertDataName.call(this,c)?this.getContentQuestionValue():r},a.prototype.getContentQuestionValue=function(){if(this.contentQuestion){var c=this.contentQuestion.value;return this.customQuestion&&(c=this.customQuestion.getValueFromQuestion(c)),c}},a.prototype.setContentQuestionValue=function(c){this.contentQuestion&&(this.customQuestion&&(c=this.customQuestion.setValueToQuestion(c)),this.contentQuestion.value=c)},a.prototype.canSetValueToSurvey=function(){return!1},a.prototype.setQuestionValue=function(c,r){r===void 0&&(r=!0),s.prototype.setQuestionValue.call(this,c,r),!this.isLoadingFromJson&&this.contentQuestion&&!this.isTwoValueEquals(this.getContentQuestionValue(),c)&&this.setContentQuestionValue(this.getUnbindValue(c))},a.prototype.onSurveyValueChanged=function(c){s.prototype.onSurveyValueChanged.call(this,c),this.contentQuestion&&this.contentQuestion.onSurveyValueChanged(c)},a.prototype.getValueCore=function(){return this.contentQuestion?this.getContentQuestionValue():s.prototype.getValueCore.call(this)},a.prototype.setValueChangedDirectly=function(c){this.isSettingValueChanged||(this.isSettingValueChanged=!0,s.prototype.setValueChangedDirectly.call(this,c),this.contentQuestion&&this.contentQuestion.setValueChangedDirectly(c),this.isSettingValueChanged=!1)},a.prototype.createDynamicProperties=function(c){if(c){var r=this.getDynamicProperties();Array.isArray(r)&&C.Serializer.addDynamicPropertiesIntoObj(this,c,r)}},a.prototype.initElement=function(c){var r=this;s.prototype.initElement.call(this,c),c&&(c.parent=this,c.afterRenderQuestionCallback=function(t,n){r.customQuestion&&r.customQuestion.onAfterRenderContentElement(r,t,n)})},a.prototype.updateElementCss=function(c){this.contentQuestion&&this.questionWrapper.updateElementCss(c),s.prototype.updateElementCss.call(this,c)},a.prototype.updateElementCssCore=function(c){this.contentQuestion&&(c=this.contentQuestion.cssClasses),s.prototype.updateElementCssCore.call(this,c)},a.prototype.getDisplayValueCore=function(c,r){return s.prototype.getContentDisplayValueCore.call(this,c,r,this.contentQuestion)},a}(p),e=function(s){O(a,s);function a(c,r){var t=s.call(this,r)||this;return t.composite=c,t.variableName=r,t}return Object.defineProperty(a.prototype,"survey",{get:function(){return this.composite.survey},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"panel",{get:function(){return this.composite.contentPanel},enumerable:!1,configurable:!0}),a}(R.QuestionTextProcessor),m=function(s){O(a,s);function a(c,r){var t=s.call(this,c,r)||this;return t.customQuestion=r,t.settingNewValue=!1,t.textProcessing=new e(t,a.ItemVariableName),t}return a.prototype.createWrapper=function(){this.panelWrapper=this.createPanel()},a.prototype.getTemplate=function(){return"composite"},a.prototype.getElement=function(){return this.contentPanel},a.prototype.getCssRoot=function(c){return new V.CssClassBuilder().append(s.prototype.getCssRoot.call(this,c)).append(c.composite).toString()},Object.defineProperty(a.prototype,"contentPanel",{get:function(){return this.panelWrapper},enumerable:!1,configurable:!0}),a.prototype.hasErrors=function(c,r){c===void 0&&(c=!0),r===void 0&&(r=null);var t=s.prototype.hasErrors.call(this,c,r);return this.contentPanel&&this.contentPanel.hasErrors(c,!1,r)||t},a.prototype.updateElementCss=function(c){s.prototype.updateElementCss.call(this,c),this.contentPanel&&this.contentPanel.updateElementCss(c)},a.prototype.getTextProcessor=function(){return this.textProcessing},a.prototype.findQuestionByName=function(c){var r=this.getQuestionByName(c);return r||s.prototype.findQuestionByName.call(this,c)},a.prototype.clearValueIfInvisibleCore=function(c){s.prototype.clearValueIfInvisibleCore.call(this,c);for(var r=this.contentPanel.questions,t=0;t<r.length;t++)r[t].clearValueIfInvisible(c)},a.prototype.onAnyValueChanged=function(c,r){s.prototype.onAnyValueChanged.call(this,c,r);for(var t=this.contentPanel.questions,n=0;n<t.length;n++)t[n].onAnyValueChanged(c,r)},Object.defineProperty(a.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),a.prototype.createPanel=function(){var c=this,r=C.Serializer.createClass("panel");r.showQuestionNumbers="off",r.renderWidth="100%";var t=this.customQuestion.json;return t.elementsJSON&&r.fromJSON({elements:t.elementsJSON}),t.createElements&&t.createElements(r,this),this.initElement(r),r.readOnly=this.isReadOnly,r.questions.forEach(function(n){return n.onUpdateCssClassesCallback=function(o){c.onUpdateQuestionCssClasses(n,o)}}),this.setAfterRenderCallbacks(r),r},a.prototype.onReadOnlyChanged=function(){this.contentPanel&&(this.contentPanel.readOnly=this.isReadOnly),s.prototype.onReadOnlyChanged.call(this)},a.prototype.onSurveyLoad=function(){if(this.isSettingValOnLoading=!0,this.contentPanel&&(this.contentPanel.readOnly=this.isReadOnly,this.setIsContentElement(this.contentPanel)),s.prototype.onSurveyLoad.call(this),this.contentPanel){var c=this.getContentPanelValue();A.Helpers.isValueEmpty(c)||(this.value=c)}this.isSettingValOnLoading=!1},a.prototype.setIsContentElement=function(c){c.isContentElement=!0;for(var r=c.elements,t=0;t<r.length;t++){var n=r[t];n.isPanel?this.setIsContentElement(n):n.isContentElement=!0}},a.prototype.setVisibleIndex=function(c){var r=s.prototype.setVisibleIndex.call(this,c);return this.isVisible&&this.contentPanel&&(r+=this.contentPanel.setVisibleIndex(c)),r},a.prototype.runCondition=function(c,r){if(s.prototype.runCondition.call(this,c,r),this.contentPanel){var t=c[a.ItemVariableName];c[a.ItemVariableName]=this.contentPanel.getValue(),this.contentPanel.runCondition(c,r),delete c[a.ItemVariableName],t&&(c[a.ItemVariableName]=t)}},a.prototype.getValue=function(c){var r=this.value;return r?r[c]:null},a.prototype.getQuestionByName=function(c){return this.contentPanel?this.contentPanel.getQuestionByName(c):void 0},a.prototype.setValue=function(c,r,t,n){if(this.settingNewValue){this.setNewValueIntoQuestion(c,r);return}if(!this.isValueChanging(c,r)){if(this.settingNewValue=!0,!this.isEditingSurveyElement&&this.contentPanel)for(var o=0,u=this.contentPanel.questions.length+1;o<u&&this.updateValueCoreWithPanelValue();)o++;this.setNewValueIntoQuestion(c,r),s.prototype.setValue.call(this,c,r,t,n),this.settingNewValue=!1}},a.prototype.updateValueCoreWithPanelValue=function(){var c=this.getContentPanelValue();return this.isTwoValueEquals(this.getValueCore(),c)?!1:(this.setValueCore(c),!0)},a.prototype.getContentPanelValue=function(c){return c||(c=this.contentPanel.getValue()),this.customQuestion.setValueToQuestion(c)},a.prototype.getValueForContentPanel=function(c){return this.customQuestion.getValueFromQuestion(c)},a.prototype.setNewValueIntoQuestion=function(c,r){var t=this.getQuestionByName(c);t&&!this.isTwoValueEquals(r,t.value)&&(t.value=r)},a.prototype.addConditionObjectsByContext=function(c,r){if(this.contentPanel)for(var t=this.contentPanel.questions,n=this.name,o=this.title,u=0;u<t.length;u++)c.push({name:n+"."+t[u].name,text:o+"."+t[u].title,question:t[u]})},a.prototype.collectNestedQuestionsCore=function(c,r){this.contentPanel&&this.contentPanel.questions.forEach(function(t){return t.collectNestedQuestions(c,r)})},a.prototype.convertDataValue=function(c,r){var t=this.getValueForContentPanel(this.value);return t||(t={}),this.isValueEmpty(r)&&!this.isEditingSurveyElement?delete t[c]:t[c]=r,this.getContentPanelValue(t)},a.prototype.setQuestionValue=function(c,r){r===void 0&&(r=!0),this.setValuesIntoQuestions(c),!this.isEditingSurveyElement&&this.contentPanel&&(c=this.getContentPanelValue()),s.prototype.setQuestionValue.call(this,c,r)},a.prototype.setValuesIntoQuestions=function(c){if(this.contentPanel){c=this.getValueForContentPanel(c);var r=this.settingNewValue;this.settingNewValue=!0;for(var t=this.contentPanel.questions,n=0;n<t.length;n++){var o=t[n].getValueName(),u=c?c[o]:void 0,v=t[n];this.isTwoValueEquals(v.value,u)||(v.value=u)}this.settingNewValue=r}},a.prototype.getDisplayValueCore=function(c,r){return s.prototype.getContentDisplayValueCore.call(this,c,r,this.contentPanel)},a.prototype.setAfterRenderCallbacks=function(c){var r=this;if(!(!c||!this.customQuestion))for(var t=c.questions,n=0;n<t.length;n++)t[n].afterRenderQuestionCallback=function(o,u){r.customQuestion.onAfterRenderContentElement(r,o,u)}},a.ItemVariableName="composite",a}(p)},"./src/question_dropdown.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"QuestionDropdownModel",function(){return y});var P=d("./src/jsonobject.ts"),C=d("./src/questionfactory.ts"),D=d("./src/question_baseselect.ts"),A=d("./src/utils/cssClassBuilder.ts"),R=d("./src/dropdownListModel.ts"),V=d("./src/settings.ts"),O=function(){var p=function(f,e){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,s){m.__proto__=s}||function(m,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(m[a]=s[a])},p(f,e)};return function(f,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");p(f,e);function m(){this.constructor=f}f.prototype=e===null?Object.create(e):(m.prototype=e.prototype,new m)}}(),l=function(p,f,e,m){var s=arguments.length,a=s<3?f:m===null?m=Object.getOwnPropertyDescriptor(f,e):m,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(p,f,e,m);else for(var r=p.length-1;r>=0;r--)(c=p[r])&&(a=(s<3?c(a):s>3?c(f,e,a):c(f,e))||a);return s>3&&a&&Object.defineProperty(f,e,a),a},y=function(p){O(f,p);function f(e){var m=p.call(this,e)||this;return m.lastSelectedItemValue=null,m.minMaxChoices=[],m.onOpened=m.addEvent(),m.createLocalizableString("placeholder",m,!1,!0),m.createLocalizableString("clearCaption",m,!1,!0),m.registerPropertyChangedHandlers(["choicesMin","choicesMax","choicesStep"],function(){m.onVisibleChoicesChanged()}),m.registerPropertyChangedHandlers(["value","renderAs","showOtherItem","otherText","placeholder","choices","visibleChoices"],function(){m.updateReadOnlyText()}),m.updateReadOnlyText(),m}return f.prototype.updateReadOnlyText=function(){var e=this.selectedItem?"":this.placeholder;this.renderAs=="select"&&(this.isOtherSelected?e=this.otherText:this.isNoneSelected?e=this.noneText:this.selectedItem&&(e=this.selectedItemText)),this.readOnlyText=e},f.prototype.locStrsChanged=function(){p.prototype.locStrsChanged.call(this),this.updateReadOnlyText()},Object.defineProperty(f.prototype,"showOptionsCaption",{get:function(){return this.allowClear},set:function(e){this.allowClear=e},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"showClearButton",{get:function(){return this.allowClear&&!this.isEmpty()&&(!this.isDesignMode||V.settings.supportCreatorV2)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"optionsCaption",{get:function(){return this.placeholder},set:function(e){this.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("placeholder")},set:function(e){this.setLocalizableStringText("placeholder",e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("placeholder")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"clearCaption",{get:function(){return this.getLocalizableStringText("clearCaption")},set:function(e){this.setLocalizableStringText("clearCaption",e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locClearCaption",{get:function(){return this.getLocalizableString("clearCaption")},enumerable:!1,configurable:!0}),f.prototype.getType=function(){return"dropdown"},Object.defineProperty(f.prototype,"ariaRole",{get:function(){return"combobox"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"selectedItem",{get:function(){return this.getSingleSelectedItem()},enumerable:!1,configurable:!0}),f.prototype.onGetSingleSelectedItem=function(e){e&&(this.lastSelectedItemValue=e)},f.prototype.supportGoNextPageAutomatic=function(){return!this.isOtherSelected},f.prototype.getChoices=function(){var e=p.prototype.getChoices.call(this);if(this.choicesMax<=this.choicesMin)return e;for(var m=[],s=0;s<e.length;s++)m.push(e[s]);if(this.minMaxChoices.length===0||this.minMaxChoices.length!==(this.choicesMax-this.choicesMin)/this.choicesStep+1){this.minMaxChoices=[];for(var s=this.choicesMin;s<=this.choicesMax;s+=this.choicesStep)this.minMaxChoices.push(this.createItemValue(s))}return m=m.concat(this.minMaxChoices),m},Object.defineProperty(f.prototype,"choicesMin",{get:function(){return this.getPropertyValue("choicesMin")},set:function(e){this.setPropertyValue("choicesMin",e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"choicesMax",{get:function(){return this.getPropertyValue("choicesMax")},set:function(e){this.setPropertyValue("choicesMax",e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"choicesStep",{get:function(){return this.getPropertyValue("choicesStep")},set:function(e){e<1&&(e=1),this.setPropertyValue("choicesStep",e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"autocomplete",{get:function(){return this.getPropertyValue("autocomplete","")},set:function(e){this.setPropertyValue("autocomplete",e)},enumerable:!1,configurable:!0}),f.prototype.getControlClass=function(){return new A.CssClassBuilder().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isReadOnly).append(this.cssClasses.controlInputFieldComponent,!!this.inputFieldComponentName).toString()},Object.defineProperty(f.prototype,"selectedItemLocText",{get:function(){var e=this.suggestedItem||this.selectedItem;return e?.locText},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"inputFieldComponentName",{get:function(){return this.inputFieldComponent||this.itemComponent},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"showSelectedItemLocText",{get:function(){return!this.inputHasValue&&!this.inputFieldComponentName&&!!this.selectedItemLocText&&this.dropdownListModel.canShowSelectedItem},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"showInputFieldComponent",{get:function(){return!this.inputHasValue&&!!this.inputFieldComponentName&&!this.isEmpty()},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"selectedItemText",{get:function(){var e=this.selectedItem;return e?e.text:""},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"dropdownListModel",{get:function(){return this.renderAs!=="select"&&!this.dropdownListModelValue&&(this.dropdownListModelValue=new R.DropdownListModel(this)),this.dropdownListModelValue},set:function(e){this.dropdownListModelValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"popupModel",{get:function(){var e;return(e=this.dropdownListModel)===null||e===void 0?void 0:e.popupModel},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"ariaExpanded",{get:function(){var e=this.popupModel;return e&&e.isVisible?"true":"false"},enumerable:!1,configurable:!0}),f.prototype.onOpenedCallBack=function(){this.onOpened.fire(this,{question:this,choices:this.choices})},f.prototype.onSelectedItemValuesChangedHandler=function(e){var m;(m=this.dropdownListModel)===null||m===void 0||m.setInputStringFromSelectedItem(e),p.prototype.onSelectedItemValuesChangedHandler.call(this,e)},f.prototype.hasUnknownValue=function(e,m,s,a){return this.choicesLazyLoadEnabled?!1:p.prototype.hasUnknownValue.call(this,e,m,s,a)},f.prototype.needConvertRenderedOtherToDataValue=function(){var e,m=(e=this.otherValue)===null||e===void 0?void 0:e.trim();return m?p.prototype.hasUnknownValue.call(this,m,!0,!1):!1},f.prototype.getItemIfChoicesNotContainThisValue=function(e,m){return this.choicesLazyLoadEnabled&&!this.dropdownListModel.isAllDataLoaded?this.createItemValue(e,m):p.prototype.getItemIfChoicesNotContainThisValue.call(this,e,m)},f.prototype.onVisibleChoicesChanged=function(){p.prototype.onVisibleChoicesChanged.call(this),!this.isLoadingFromJson&&this.popupModel&&this.dropdownListModel.updateItems()},f.prototype.getFirstInputElementId=function(){return this.inputId+(this.searchEnabled?"_0":"")},f.prototype.getInputId=function(){return this.inputId+"_0"},f.prototype.clearValue=function(){var e;p.prototype.clearValue.call(this),this.lastSelectedItemValue=null,(e=this.dropdownListModel)===null||e===void 0||e.clear()},f.prototype.onClick=function(e){this.onOpenedCallBack&&this.onOpenedCallBack()},f.prototype.onKeyUp=function(e){var m=e.which||e.keyCode;m===46&&(this.clearValue(),e.preventDefault(),e.stopPropagation())},f.prototype.dispose=function(){p.prototype.dispose.call(this),this.dropdownListModelValue&&this.dropdownListModelValue.dispose()},l([Object(P.property)()],f.prototype,"allowClear",void 0),l([Object(P.property)({onSet:function(e,m){m.dropdownListModel&&m.dropdownListModel.setSearchEnabled(e)}})],f.prototype,"searchEnabled",void 0),l([Object(P.property)()],f.prototype,"searchMode",void 0),l([Object(P.property)({defaultValue:!1})],f.prototype,"inputHasValue",void 0),l([Object(P.property)({defaultValue:""})],f.prototype,"readOnlyText",void 0),l([Object(P.property)()],f.prototype,"choicesLazyLoadEnabled",void 0),l([Object(P.property)()],f.prototype,"choicesLazyLoadPageSize",void 0),l([Object(P.property)()],f.prototype,"suggestedItem",void 0),f}(D.QuestionSelectBase);P.Serializer.addClass("dropdown",[{name:"placeholder",alternativeName:"optionsCaption",serializationProperty:"locPlaceholder"},{name:"allowClear:boolean",alternativeName:"showOptionsCaption",default:!0},{name:"choicesMin:number",default:0},{name:"choicesMax:number",default:0},{name:"choicesStep:number",default:1,minValue:1},{name:"autocomplete",alternativeName:"autoComplete",choices:V.settings.questions.dataList},{name:"renderAs",default:"default",visible:!1},{name:"searchEnabled:boolean",default:!0,visible:!1},{name:"searchMode",default:"contains",choices:["contains","startsWith"]},{name:"choicesLazyLoadEnabled:boolean",default:!1,visible:!1},{name:"choicesLazyLoadPageSize:number",default:25,visible:!1},{name:"inputFieldComponent",visible:!1},{name:"itemComponent",visible:!1,default:""}],function(){return new y("")},"selectbase"),C.QuestionFactory.Instance.registerQuestion("dropdown",function(p){var f=new y(p);return f.choices=C.QuestionFactory.DefaultChoices,f})},"./src/question_empty.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"QuestionEmptyModel",function(){return A});var P=d("./src/jsonobject.ts"),C=d("./src/question.ts"),D=function(){var R=function(V,O){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,y){l.__proto__=y}||function(l,y){for(var p in y)Object.prototype.hasOwnProperty.call(y,p)&&(l[p]=y[p])},R(V,O)};return function(V,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");R(V,O);function l(){this.constructor=V}V.prototype=O===null?Object.create(O):(l.prototype=O.prototype,new l)}}(),A=function(R){D(V,R);function V(O){return R.call(this,O)||this}return V.prototype.getType=function(){return"empty"},V}(C.Question);P.Serializer.addClass("empty",[],function(){return new A("")},"question")},"./src/question_expression.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"QuestionExpressionModel",function(){return V}),d.d(M,"getCurrecyCodes",function(){return O});var P=d("./src/helpers.ts"),C=d("./src/question.ts"),D=d("./src/jsonobject.ts"),A=d("./src/questionfactory.ts"),R=function(){var l=function(y,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var m in e)Object.prototype.hasOwnProperty.call(e,m)&&(f[m]=e[m])},l(y,p)};return function(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");l(y,p);function f(){this.constructor=y}y.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}(),V=function(l){R(y,l);function y(p){var f=l.call(this,p)||this;return f.createLocalizableString("format",f),f.registerPropertyChangedHandlers(["expression"],function(){f.expressionRunner&&(f.expressionRunner=f.createRunner())}),f.registerPropertyChangedHandlers(["format","currency","displayStyle"],function(){f.updateFormatedValue()}),f}return y.prototype.getType=function(){return"expression"},Object.defineProperty(y.prototype,"hasInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"format",{get:function(){return this.getLocalizableStringText("format","")},set:function(p){this.setLocalizableStringText("format",p)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"locFormat",{get:function(){return this.getLocalizableString("format")},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(p){this.setPropertyValue("expression",p)},enumerable:!1,configurable:!0}),y.prototype.locCalculation=function(){this.expressionIsRunning=!0},y.prototype.unlocCalculation=function(){this.expressionIsRunning=!1},y.prototype.runCondition=function(p,f){l.prototype.runCondition.call(this,p,f),!(!this.expression||this.expressionIsRunning||!this.runIfReadOnly&&this.isReadOnly)&&(this.locCalculation(),this.expressionRunner||(this.expressionRunner=this.createRunner()),this.expressionRunner.run(p,f))},y.prototype.canCollectErrors=function(){return!0},y.prototype.hasRequiredError=function(){return!1},y.prototype.createRunner=function(){var p=this,f=this.createExpressionRunner(this.expression);return f.onRunComplete=function(e){p.value=p.roundValue(e),p.unlocCalculation()},f},Object.defineProperty(y.prototype,"maximumFractionDigits",{get:function(){return this.getPropertyValue("maximumFractionDigits")},set:function(p){p<-1||p>20||this.setPropertyValue("maximumFractionDigits",p)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"minimumFractionDigits",{get:function(){return this.getPropertyValue("minimumFractionDigits")},set:function(p){p<-1||p>20||this.setPropertyValue("minimumFractionDigits",p)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"runIfReadOnly",{get:function(){return this.runIfReadOnlyValue===!0},set:function(p){this.runIfReadOnlyValue=p},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"formatedValue",{get:function(){return this.getPropertyValue("formatedValue","")},enumerable:!1,configurable:!0}),y.prototype.updateFormatedValue=function(){this.setPropertyValue("formatedValue",this.getDisplayValueCore(!1,this.value))},y.prototype.onValueChanged=function(){this.updateFormatedValue()},y.prototype.updateValueFromSurvey=function(p,f){l.prototype.updateValueFromSurvey.call(this,p,f),this.updateFormatedValue()},y.prototype.getDisplayValueCore=function(p,f){var e=f??this.defaultValue,m="";if(!this.isValueEmpty(e)){var s=this.getValueAsStr(e);m=this.format?this.format.format(s):s}return this.survey&&(m=this.survey.getExpressionDisplayValue(this,e,m)),m},Object.defineProperty(y.prototype,"displayStyle",{get:function(){return this.getPropertyValue("displayStyle")},set:function(p){this.setPropertyValue("displayStyle",p)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"currency",{get:function(){return this.getPropertyValue("currency")},set:function(p){O().indexOf(p)<0||this.setPropertyValue("currency",p)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"useGrouping",{get:function(){return this.getPropertyValue("useGrouping")},set:function(p){this.setPropertyValue("useGrouping",p)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"precision",{get:function(){return this.getPropertyValue("precision")},set:function(p){this.setPropertyValue("precision",p)},enumerable:!1,configurable:!0}),y.prototype.roundValue=function(p){if(p!==1/0)return this.precision<0||!P.Helpers.isNumber(p)?p:parseFloat(p.toFixed(this.precision))},y.prototype.getValueAsStr=function(p){if(this.displayStyle=="date"){var f=new Date(p);if(f&&f.toLocaleDateString)return f.toLocaleDateString()}if(this.displayStyle!="none"&&P.Helpers.isNumber(p)){var e=this.getLocale();e||(e="en");var m={style:this.displayStyle,currency:this.currency,useGrouping:this.useGrouping};return this.maximumFractionDigits>-1&&(m.maximumFractionDigits=this.maximumFractionDigits),this.minimumFractionDigits>-1&&(m.minimumFractionDigits=this.minimumFractionDigits),p.toLocaleString(e,m)}return p.toString()},y}(C.Question);function O(){return["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UZS","VEF","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]}D.Serializer.addClass("expression",["expression:expression",{name:"format",serializationProperty:"locFormat"},{name:"displayStyle",default:"none",choices:["none","decimal","currency","percent","date"]},{name:"currency",choices:function(){return O()},default:"USD",visibleIf:function(l){return l.displayStyle==="currency"}},{name:"maximumFractionDigits:number",default:-1},{name:"minimumFractionDigits:number",default:-1},{name:"useGrouping:boolean",default:!0},{name:"precision:number",default:-1,category:"data"},{name:"enableIf",visible:!1},{name:"isRequired",visible:!1},{name:"readOnly",visible:!1},{name:"requiredErrorText",visible:!1},{name:"defaultValueExpression",visible:!1},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"requiredIf",visible:!1}],function(){return new V("")},"question"),A.QuestionFactory.Instance.registerQuestion("expression",function(l){return new V(l)})},"./src/question_file.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"dataUrl2File",function(){return a}),d.d(M,"QuestionFileModelBase",function(){return c}),d.d(M,"QuestionFileModel",function(){return r}),d.d(M,"FileLoader",function(){return t});var P=d("./src/question.ts"),C=d("./src/jsonobject.ts"),D=d("./src/questionfactory.ts"),A=d("./src/base.ts"),R=d("./src/error.ts"),V=d("./src/utils/cssClassBuilder.ts"),O=d("./src/utils/utils.ts"),l=d("./src/actions/container.ts"),y=d("./src/actions/action.ts"),p=d("./src/helpers.ts"),f=d("./src/utils/camera.ts"),e=d("./src/settings.ts"),m=function(){var n=function(o,u){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,x){v.__proto__=x}||function(v,x){for(var b in x)Object.prototype.hasOwnProperty.call(x,b)&&(v[b]=x[b])},n(o,u)};return function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");n(o,u);function v(){this.constructor=o}o.prototype=u===null?Object.create(u):(v.prototype=u.prototype,new v)}}(),s=function(n,o,u,v){var x=arguments.length,b=x<3?o:v===null?v=Object.getOwnPropertyDescriptor(o,u):v,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(n,o,u,v);else for(var h=n.length-1;h>=0;h--)(i=n[h])&&(b=(x<3?i(b):x>3?i(o,u,b):i(o,u))||b);return x>3&&b&&Object.defineProperty(o,u,b),b};function a(n,o,u){var v=atob(n.split(",")[1]),x=new Uint8Array(v.split("").map(function(b){return b.charCodeAt(0)})).buffer;return new File([x],o,{type:u})}var c=function(n){m(o,n);function o(){var u=n!==null&&n.apply(this,arguments)||this;return u.isUploading=!1,u.onUploadStateChanged=u.addEvent(),u.onStateChanged=u.addEvent(),u}return o.prototype.stateChanged=function(u){this.currentState!=u&&(u==="loading"&&(this.isUploading=!0),u==="loaded"&&(this.isUploading=!1),u==="error"&&(this.isUploading=!1),this.currentState=u,this.onStateChanged.fire(this,{state:u}),this.onUploadStateChanged.fire(this,{state:u}))},Object.defineProperty(o.prototype,"showLoadingIndicator",{get:function(){return this.isUploading&&this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"storeDataAsText",{get:function(){return this.getPropertyValue("storeDataAsText")},set:function(u){this.setPropertyValue("storeDataAsText",u)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"waitForUpload",{get:function(){return this.getPropertyValue("waitForUpload")},set:function(u){this.setPropertyValue("waitForUpload",u)},enumerable:!1,configurable:!0}),o.prototype.clearValue=function(){this.clearOnDeletingContainer(),n.prototype.clearValue.call(this)},o.prototype.clearOnDeletingContainer=function(){this.survey&&this.survey.clearFiles(this,this.name,this.value,null,function(){})},o.prototype.onCheckForErrors=function(u,v){n.prototype.onCheckForErrors.call(this,u,v),this.isUploading&&this.waitForUpload&&u.push(new R.UploadingFileError(this.getLocalizationString("uploadingFile"),this))},o.prototype.uploadFiles=function(u){var v=this;this.survey&&(this.stateChanged("loading"),this.survey.uploadFiles(this,this.name,u,function(x,b){Array.isArray(x)&&(v.setValueFromResult(x),Array.isArray(b)&&(b.forEach(function(i){return v.errors.push(new R.UploadingFileError(i,v))}),v.stateChanged("error"))),x==="success"&&Array.isArray(b)&&v.setValueFromResult(b),x==="error"&&(typeof b=="string"&&v.errors.push(new R.UploadingFileError(b,v)),Array.isArray(b)&&b.length>0&&b.forEach(function(i){return v.errors.push(new R.UploadingFileError(i,v))}),v.stateChanged("error")),v.stateChanged("loaded")}))},s([Object(C.property)()],o.prototype,"isUploading",void 0),s([Object(C.property)({defaultValue:"empty"})],o.prototype,"currentState",void 0),o}(P.Question),r=function(n){m(o,n);function o(u){var v=n.call(this,u)||this;return v.isDragging=!1,v.fileNavigator=new l.ActionContainer,v.canFlipCameraValue=void 0,v.prevPreviewLength=0,v.calcAvailableItemsCount=function(x,b,i){var h=Math.floor(x/(b+i));return(h+1)*(b+i)-i<=x&&h++,h},v.dragCounter=0,v.onDragEnter=function(x){v.canDragDrop()&&(x.preventDefault(),v.isDragging=!0,v.dragCounter++)},v.onDragOver=function(x){if(!v.canDragDrop())return x.returnValue=!1,!1;x.dataTransfer.dropEffect="copy",x.preventDefault()},v.onDrop=function(x){if(v.canDragDrop()){v.isDragging=!1,v.dragCounter=0,x.preventDefault();var b=x.dataTransfer;v.onChange(b)}},v.onDragLeave=function(x){v.canDragDrop()&&(v.dragCounter--,v.dragCounter===0&&(v.isDragging=!1))},v.doChange=function(x){var b=x.target||x.srcElement;v.onChange(b)},v.doClean=function(){if(v.needConfirmRemoveFile){Object(O.confirmActionAsync)(v.confirmRemoveAllMessage,function(){v.clearFilesCore()},void 0,v.getLocale());return}v.clearFilesCore()},v.doDownloadFile=function(x,b){Object(O.detectIEOrEdge)()&&(x.preventDefault(),Object(O.loadFileFromBase64)(b.content,b.name))},v.createLocalizableString("takePhotoCaption",v,!1,!0),v.actionsContainer=new l.ActionContainer,v.actionsContainer.locOwner=v,v.fileIndexAction=new y.Action({id:"fileIndex",title:v.getFileIndexCaption(),enabled:!1}),v.prevFileAction=new y.Action({id:"prevPage",iconSize:16,action:function(){v.indexToShow=v.previewValue.length&&(v.indexToShow-1+v.pagesCount)%v.pagesCount||0,v.fileIndexAction.title=v.getFileIndexCaption()}}),v.nextFileAction=new y.Action({id:"nextPage",iconSize:16,action:function(){v.indexToShow=v.previewValue.length&&(v.indexToShow+1)%v.pagesCount||0,v.fileIndexAction.title=v.getFileIndexCaption()}}),v.takePictureAction=new y.Action({iconName:"icon-takepicture",id:"sv-file-take-picture",iconSize:"auto",innerCss:new A.ComputedUpdater(function(){return new V.CssClassBuilder().append(v.cssClasses.contextButton).append(v.cssClasses.takePictureButton).toString()}),locTitle:v.locTakePhotoCaption,showTitle:!1,action:function(){v.snapPicture()}}),v.closeCameraAction=new y.Action({iconName:"icon-closecamera",id:"sv-file-close-camera",iconSize:"auto",innerCss:new A.ComputedUpdater(function(){return new V.CssClassBuilder().append(v.cssClasses.contextButton).append(v.cssClasses.closeCameraButton).toString()}),action:function(){v.stopVideo()}}),v.changeCameraAction=new y.Action({iconName:"icon-changecamera",id:"sv-file-change-camera",iconSize:"auto",innerCss:new A.ComputedUpdater(function(){return new V.CssClassBuilder().append(v.cssClasses.contextButton).append(v.cssClasses.changeCameraButton).toString()}),visible:new A.ComputedUpdater(function(){return v.canFlipCamera()}),action:function(){v.flipCamera()}}),v.chooseFileAction=new y.Action({iconName:"icon-choosefile",id:"sv-file-choose-file",iconSize:"auto",data:{question:v},component:"sv-file-choose-btn"}),v.startCameraAction=new y.Action({iconName:"icon-takepicture_24x24",id:"sv-file-start-camera",iconSize:"auto",locTitle:v.locTakePhotoCaption,showTitle:new A.ComputedUpdater(function(){return!v.isAnswered}),enabledIf:function(){return!v.isInputReadOnly},action:function(){v.startVideo()}}),v.cleanAction=new y.Action({iconName:"icon-clear",id:"sv-file-clean",iconSize:"auto",title:new A.ComputedUpdater(function(){return v.clearButtonCaption}),showTitle:!1,enabledIf:function(){return!v.isInputReadOnly},innerCss:new A.ComputedUpdater(function(){return v.cssClasses.removeButton}),action:function(){v.doClean()}}),[v.closeCameraAction,v.changeCameraAction,v.takePictureAction].forEach(function(x){x.cssClasses={}}),v.registerFunctionOnPropertiesValueChanged(["sourceType","currentMode","isAnswered"],function(){v.updateActionsVisibility()}),v.actionsContainer.actions=[v.chooseFileAction,v.startCameraAction,v.cleanAction],v.fileNavigator.actions=[v.prevFileAction,v.fileIndexAction,v.nextFileAction],v}return Object.defineProperty(o.prototype,"fileNavigatorVisible",{get:function(){var u=this.isUploading,v=this.isPlayingVideo,x=this.containsMultiplyFiles,b=this.pageSize<this.previewValue.length;return!u&&!v&&x&&b&&this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"pagesCount",{get:function(){return Math.ceil(this.previewValue.length/this.pageSize)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"actionsContainerVisible",{get:function(){var u=this.isUploading,v=this.isPlayingVideo,x=this.isDefaultV2Theme;return!u&&!v&&x},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"videoId",{get:function(){return this.id+"_video"},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hasVideoUI",{get:function(){return this.currentMode!=="file"},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hasFileUI",{get:function(){return this.currentMode!=="camera"},enumerable:!1,configurable:!0}),o.prototype.startVideo=function(){var u=this;this.currentMode==="file"||this.isDesignMode||this.isPlayingVideo||(this.setIsPlayingVideo(!0),setTimeout(function(){u.startVideoInCamera()},0))},o.prototype.startVideoInCamera=function(){var u=this;this.camera.startVideo(this.videoId,function(v){u.videoStream=v,v||u.stopVideo()},Object(O.getRenderedSize)(this.imageWidth),Object(O.getRenderedSize)(this.imageHeight))},o.prototype.stopVideo=function(){this.setIsPlayingVideo(!1),this.closeVideoStream()},o.prototype.snapPicture=function(){var u=this;if(this.isPlayingVideo){var v=function(x){if(x){var b=new File([x],"snap_picture.png",{type:"image/png"});u.loadFiles([b])}};this.camera.snap(this.videoId,v),this.stopVideo()}},o.prototype.canFlipCamera=function(){var u=this;return this.canFlipCameraValue===void 0&&(this.canFlipCameraValue=this.camera.canFlip(function(v){u.canFlipCameraValue=v})),this.canFlipCameraValue},o.prototype.flipCamera=function(){this.canFlipCamera()&&(this.closeVideoStream(),this.camera.flip(),this.startVideoInCamera())},o.prototype.closeVideoStream=function(){this.videoStream&&(this.videoStream.getTracks().forEach(function(u){u.stop()}),this.videoStream=void 0)},o.prototype.onHidingContent=function(){n.prototype.onHidingContent.call(this),this.stopVideo()},o.prototype.updateElementCssCore=function(u){n.prototype.updateElementCssCore.call(this,u),this.prevFileAction.iconName=this.cssClasses.leftIconId,this.nextFileAction.iconName=this.cssClasses.rightIconId},o.prototype.getFileIndexCaption=function(){return this.getLocalizationFormatString("indexText",this.indexToShow+1,this.pagesCount)},o.prototype.updateFileNavigator=function(){this.indexToShow=this.previewValue.length&&(this.indexToShow+this.pagesCount)%this.pagesCount||0,this.fileIndexAction.title=this.getFileIndexCaption()},o.prototype.previewValueChanged=function(){var u=this;this.previewValue.length!==this.prevPreviewLength&&(this.previewValue.length>0?this.prevPreviewLength>this.previewValue.length?this.indexToShow=this.indexToShow>=this.pagesCount&&this.indexToShow>0?this.pagesCount-1:this.indexToShow:this.indexToShow=Math.floor(this.prevPreviewLength/this.pageSize):this.indexToShow=0),this.fileIndexAction.title=this.getFileIndexCaption(),this.containsMultiplyFiles=this.previewValue.length>1,this.previewValue.length>0&&!this.calculatedGapBetweenItems&&!this.calculatedItemWidth&&setTimeout(function(){u.processResponsiveness(0,u._width)}),this.prevPreviewLength=this.previewValue.length},o.prototype.isPreviewVisible=function(u){var v=this.fileNavigatorVisible,x=this.indexToShow*this.pageSize<=u&&u<(this.indexToShow+1)*this.pageSize;return!v||x},o.prototype.getType=function(){return"file"},Object.defineProperty(o.prototype,"showPreview",{get:function(){return this.getPropertyValue("showPreview")},set:function(u){this.setPropertyValue("showPreview",u)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"allowMultiple",{get:function(){return this.getPropertyValue("allowMultiple")},set:function(u){this.setPropertyValue("allowMultiple",u)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(u){this.setPropertyValue("imageHeight",u)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(u){this.setPropertyValue("imageWidth",u)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"acceptedTypes",{get:function(){return this.getPropertyValue("acceptedTypes")},set:function(u){this.setPropertyValue("acceptedTypes",u)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"allowImagesPreview",{get:function(){return this.getPropertyValue("allowImagesPreview")},set:function(u){this.setPropertyValue("allowImagesPreview",u)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"maxSize",{get:function(){return this.getPropertyValue("maxSize")},set:function(u){this.setPropertyValue("maxSize",u)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"needConfirmRemoveFile",{get:function(){return this.getPropertyValue("needConfirmRemoveFile")},set:function(u){this.setPropertyValue("needConfirmRemoveFile",u)},enumerable:!1,configurable:!0}),o.prototype.getConfirmRemoveMessage=function(u){return this.confirmRemoveMessage.format(u)},Object.defineProperty(o.prototype,"takePhotoCaption",{get:function(){return this.getLocalizableStringText("takePhotoCaption")},set:function(u){this.setLocalizableStringText("takePhotoCaption",u)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"locTakePhotoCaption",{get:function(){return this.getLocalizableString("takePhotoCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"locRenderedPlaceholder",{get:function(){var u=this;return this.locRenderedPlaceholderValue===void 0&&(this.locRenderedPlaceholderValue=new A.ComputedUpdater(function(){var v=u.isReadOnly,x=!u.isDesignMode&&u.hasFileUI||u.isDesignMode&&u.sourceType!="camera",b=!u.isDesignMode&&u.hasVideoUI||u.isDesignMode&&u.sourceType!="file",i;return v?i=u.locNoFileChosenCaption:x&&b?i=u.locFileOrPhotoPlaceholder:x?i=u.locFilePlaceholder:i=u.locPhotoPlaceholder,i})),this.locRenderedPlaceholderValue},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"currentMode",{get:function(){return this.getPropertyValue("currentMode",this.sourceType)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isPlayingVideo",{get:function(){return this.getPropertyValue("isPlayingVideo",!1)},enumerable:!1,configurable:!0}),o.prototype.setIsPlayingVideo=function(u){this.setPropertyValue("isPlayingVideo",u)},o.prototype.updateCurrentMode=function(){var u=this;this.isDesignMode||(this.sourceType!=="file"?this.camera.hasCamera(function(v){u.setPropertyValue("currentMode",v&&u.isDefaultV2Theme?u.sourceType:"file")}):this.setPropertyValue("currentMode",this.sourceType))},o.prototype.updateActionsVisibility=function(){var u=this.isDesignMode;this.chooseFileAction.visible=!u&&this.hasFileUI||u&&this.sourceType!=="camera",this.startCameraAction.visible=!u&&this.hasVideoUI||u&&this.sourceType!=="file",this.cleanAction.visible=!!this.isAnswered},Object.defineProperty(o.prototype,"inputTitle",{get:function(){return this.isUploading?this.loadingFileTitle:this.isEmpty()?this.chooseFileTitle:" "},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"chooseButtonText",{get:function(){return this.isEmpty()||this.allowMultiple?this.chooseButtonCaption:this.replaceButtonCaption},enumerable:!1,configurable:!0}),o.prototype.clear=function(u){var v=this;this.survey&&(this.containsMultiplyFiles=!1,this.survey.clearFiles(this,this.name,this.value,null,function(x,b){x==="success"&&(v.value=void 0,v.errors=[],u&&u(),v.indexToShow=0,v.fileIndexAction.title=v.getFileIndexCaption())}))},Object.defineProperty(o.prototype,"renderCapture",{get:function(){return this.allowCameraAccess?"user":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"multipleRendered",{get:function(){return this.allowMultiple?"multiple":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"showChooseButton",{get:function(){return!this.isReadOnly&&!this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"showFileDecorator",{get:function(){var u=this.isPlayingVideo,v=this.showLoadingIndicator;return!u&&!v},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"allowShowPreview",{get:function(){var u=this.showLoadingIndicator,v=this.isPlayingVideo;return!u&&!v},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"showPreviewContainer",{get:function(){return this.previewValue&&this.previewValue.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"showRemoveButtonCore",{get:function(){var u=this.showLoadingIndicator,v=this.isReadOnly,x=this.isEmpty();return!v&&!x&&!u&&!this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"showRemoveButton",{get:function(){return this.showRemoveButtonCore&&this.cssClasses.removeButton},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"showRemoveButtonBottom",{get:function(){var u=new V.CssClassBuilder().append(this.cssClasses.removeButtonBottom).append(this.cssClasses.contextButton).toString();return this.showRemoveButtonCore&&u},enumerable:!1,configurable:!0}),o.prototype.defaultImage=function(u){return!this.canPreviewImage(u)&&!!this.cssClasses.defaultImage},o.prototype.removeFile=function(u){this.removeFileByContent(this.value.filter(function(v){return v.name===u})[0])},o.prototype.removeFileByContent=function(u){var v=this;this.survey&&this.survey.clearFiles(this,this.name,this.value,u.name,function(x,b){if(x==="success"){var i=v.value;Array.isArray(i)?v.value=i.filter(function(h){return!p.Helpers.isTwoValueEquals(h,u,!0,!1,!1)}):v.value=void 0}})},o.prototype.setValueFromResult=function(u){this.value=(this.value||[]).concat(u.map(function(v){return{name:v.file.name,type:v.file.type,content:v.content}}))},o.prototype.loadFiles=function(u){var v=this;if(this.survey&&(this.errors=[],!!this.allFilesOk(u))){var x=function(){v.stateChanged("loading");var b=[];v.storeDataAsText?u.forEach(function(i){var h=new FileReader;h.onload=function(E){b=b.concat([{name:i.name,type:i.type,content:h.result}]),b.length===u.length&&(v.value=(v.value||[]).concat(b))},h.readAsDataURL(i)}):v.uploadFiles(u)};this.allowMultiple?x():this.clear(x)}},Object.defineProperty(o.prototype,"camera",{get:function(){return this.cameraValue||(this.cameraValue=new f.Camera),this.cameraValue},enumerable:!1,configurable:!0}),o.prototype.canPreviewImage=function(u){return this.allowImagesPreview&&!!u&&this.isFileImage(u)},o.prototype.loadPreview=function(u){var v=this;if(this.previewValue.splice(0,this.previewValue.length),!(!this.showPreview||!u)){var x=Array.isArray(u)?u:u?[u]:[];this.storeDataAsText?x.forEach(function(b){var i=b.content||b;v.previewValue.push({name:b.name,type:b.type,content:i})}):(this._previewLoader&&this._previewLoader.dispose(),this.isFileLoading=!0,this._previewLoader=new t(this,function(b,i){b==="loaded"&&(i.forEach(function(h){v.previewValue.push(h)}),v.previewValueChanged()),v.isFileLoading=!1,v._previewLoader.dispose(),v._previewLoader=void 0}),this._previewLoader.load(x)),this.previewValueChanged()}},Object.defineProperty(o.prototype,"isFileLoading",{get:function(){return this.isFileLoadingValue},set:function(u){this.isFileLoadingValue=u,this.updateIsReady()},enumerable:!1,configurable:!0}),o.prototype.getIsQuestionReady=function(){return n.prototype.getIsQuestionReady.call(this)&&!this.isFileLoading},o.prototype.allFilesOk=function(u){var v=this,x=this.errors?this.errors.length:0;return(u||[]).forEach(function(b){v.maxSize>0&&b.size>v.maxSize&&v.errors.push(new R.ExceedSizeError(v.maxSize,v))}),x===this.errors.length},o.prototype.isFileImage=function(u){if(!u||!u.content||!u.content.substring)return!1;var v="data:image",x=u.content&&u.content.substring(0,v.length);x=x&&x.toLowerCase();var b=x===v||!!u.type&&u.type.toLowerCase().indexOf("image/")===0;return b},o.prototype.getPlainData=function(u){u===void 0&&(u={includeEmpty:!0});var v=n.prototype.getPlainData.call(this,u);if(v&&!this.isEmpty()){v.isNode=!1;var x=Array.isArray(this.value)?this.value:[this.value];v.data=x.map(function(b,i){return{name:i,title:"File",value:b.content&&b.content||b,displayValue:b.name&&b.name||b,getString:function(h){return typeof h=="object"?JSON.stringify(h):h},isNode:!1}})}return v},o.prototype.getImageWrapperCss=function(u){return new V.CssClassBuilder().append(this.cssClasses.imageWrapper).append(this.cssClasses.imageWrapperDefaultImage,this.defaultImage(u)).toString()},o.prototype.getActionsContainerCss=function(u){return new V.CssClassBuilder().append(u.actionsContainer).append(u.actionsContainerAnswered,this.isAnswered).toString()},o.prototype.getRemoveButtonCss=function(){return new V.CssClassBuilder().append(this.cssClasses.removeFileButton).append(this.cssClasses.contextButton).toString()},o.prototype.getChooseFileCss=function(){var u=this.isAnswered;return new V.CssClassBuilder().append(this.cssClasses.chooseFile).append(this.cssClasses.controlDisabled,this.isReadOnly).append(this.cssClasses.chooseFileAsText,!u).append(this.cssClasses.chooseFileAsTextDisabled,!u&&this.isInputReadOnly).append(this.cssClasses.contextButton,u).append(this.cssClasses.chooseFileAsIcon,u).toString()},o.prototype.getReadOnlyFileCss=function(){return new V.CssClassBuilder().append("form-control").append(this.cssClasses.placeholderInput).toString()},Object.defineProperty(o.prototype,"fileRootCss",{get:function(){return new V.CssClassBuilder().append(this.cssClasses.root).append(this.cssClasses.rootDragging,this.isDragging).append(this.cssClasses.rootAnswered,this.isAnswered).append(this.cssClasses.single,!this.allowMultiple).append(this.cssClasses.singleImage,!this.allowMultiple&&this.isAnswered&&this.canPreviewImage(this.value[0])).append(this.cssClasses.mobile,this.isMobile).toString()},enumerable:!1,configurable:!0}),o.prototype.getFileDecoratorCss=function(){return new V.CssClassBuilder().append(this.cssClasses.fileDecorator).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.fileDecoratorDrag,this.isDragging).toString()},o.prototype.onChange=function(u){if(window.FileReader&&!(!u||!u.files||u.files.length<1)){for(var v=[],x=this.allowMultiple?u.files.length:1,b=0;b<x;b++)v.push(u.files[b]);u.value="",this.loadFiles(v)}},o.prototype.onChangeQuestionValue=function(u){n.prototype.onChangeQuestionValue.call(this,u),this.stateChanged(this.isEmpty()?"empty":"loaded"),this.isLoadingFromJson||this.loadPreview(u)},o.prototype.calcCssClasses=function(u){var v=n.prototype.calcCssClasses.call(this,u);return this.actionsContainer.cssClasses=u.actionBar,this.actionsContainer.cssClasses.itemWithTitle=this.actionsContainer.cssClasses.item,this.actionsContainer.cssClasses.item="",this.actionsContainer.cssClasses.itemAsIcon=v.contextButton,this.actionsContainer.containerCss=v.actionsContainer,v},o.prototype.updateElementCss=function(u){n.prototype.updateElementCss.call(this,u),this.updateCurrentMode()},o.prototype.endLoadingFromJson=function(){n.prototype.endLoadingFromJson.call(this),this.updateCurrentMode(),this.updateActionsVisibility(),this.loadPreview(this.value)},o.prototype.needResponsiveness=function(){return this.supportResponsiveness()&&this.isDefaultV2Theme},o.prototype.supportResponsiveness=function(){return!0},o.prototype.getObservedElementSelector=function(){return Object(O.classesToSelector)(this.cssClasses.dragArea)},o.prototype.getFileListSelector=function(){return Object(O.classesToSelector)(this.cssClasses.fileList)},o.prototype.triggerResponsiveness=function(u){u&&(this.calculatedGapBetweenItems=void 0,this.calculatedItemWidth=void 0),n.prototype.triggerResponsiveness.call(this)},o.prototype.processResponsiveness=function(u,v){var x=this;if(this._width=v,this.rootElement&&(!this.calculatedGapBetweenItems||!this.calculatedItemWidth)&&this.allowMultiple){var b=this.getFileListSelector(),i=b?this.rootElement.querySelector(this.getFileListSelector()):void 0;if(i){this.calculatedGapBetweenItems=Math.ceil(Number.parseFloat(window.getComputedStyle(i).gap));var h=Array.from(i.children).filter(function(E,S){return x.isPreviewVisible(S)})[0];h&&(this.calculatedItemWidth=Math.ceil(Number.parseFloat(window.getComputedStyle(h).width)))}}return this.calculatedGapBetweenItems&&this.calculatedItemWidth?(this.pageSize=this.calcAvailableItemsCount(v,this.calculatedItemWidth,this.calculatedGapBetweenItems),!0):!1},o.prototype.canDragDrop=function(){return!this.isInputReadOnly&&this.currentMode!=="camera"&&!this.isPlayingVideo},o.prototype.afterRender=function(u){this.rootElement=u,n.prototype.afterRender.call(this,u)},o.prototype.clearFilesCore=function(){if(this.rootElement){var u=this.rootElement.querySelectorAll("input")[0];u&&(u.value="")}this.clear()},o.prototype.doRemoveFile=function(u){var v=this;if(this.needConfirmRemoveFile){Object(O.confirmActionAsync)(this.getConfirmRemoveMessage(u.name),function(){v.removeFileCore(u)},void 0,this.getLocale());return}this.removeFileCore(u)},o.prototype.removeFileCore=function(u){var v=this.previewValue.indexOf(u);this.removeFileByContent(v===-1?u:this.value[v])},o.prototype.dispose=function(){this.cameraValue=void 0,this.closeVideoStream(),n.prototype.dispose.call(this)},s([Object(C.property)()],o.prototype,"isDragging",void 0),s([Object(C.propertyArray)({})],o.prototype,"previewValue",void 0),s([Object(C.property)({defaultValue:0})],o.prototype,"indexToShow",void 0),s([Object(C.property)({defaultValue:1,onSet:function(u,v){v.updateFileNavigator()}})],o.prototype,"pageSize",void 0),s([Object(C.property)({defaultValue:!1})],o.prototype,"containsMultiplyFiles",void 0),s([Object(C.property)()],o.prototype,"allowCameraAccess",void 0),s([Object(C.property)({onSet:function(u,v){v.isLoadingFromJson||v.updateCurrentMode()}})],o.prototype,"sourceType",void 0),s([Object(C.property)()],o.prototype,"canFlipCameraValue",void 0),s([Object(C.property)({localizable:{defaultStr:"confirmRemoveFile"}})],o.prototype,"confirmRemoveMessage",void 0),s([Object(C.property)({localizable:{defaultStr:"confirmRemoveAllFiles"}})],o.prototype,"confirmRemoveAllMessage",void 0),s([Object(C.property)({localizable:{defaultStr:"noFileChosen"}})],o.prototype,"noFileChosenCaption",void 0),s([Object(C.property)({localizable:{defaultStr:"chooseFileCaption"}})],o.prototype,"chooseButtonCaption",void 0),s([Object(C.property)({localizable:{defaultStr:"replaceFileCaption"}})],o.prototype,"replaceButtonCaption",void 0),s([Object(C.property)({localizable:{defaultStr:"clearCaption"}})],o.prototype,"clearButtonCaption",void 0),s([Object(C.property)({localizable:{defaultStr:"removeFileCaption"}})],o.prototype,"removeFileCaption",void 0),s([Object(C.property)({localizable:{defaultStr:"loadingFile"}})],o.prototype,"loadingFileTitle",void 0),s([Object(C.property)({localizable:{defaultStr:"chooseFile"}})],o.prototype,"chooseFileTitle",void 0),s([Object(C.property)({localizable:{defaultStr:"fileOrPhotoPlaceholder"}})],o.prototype,"fileOrPhotoPlaceholder",void 0),s([Object(C.property)({localizable:{defaultStr:"photoPlaceholder"}})],o.prototype,"photoPlaceholder",void 0),s([Object(C.property)({localizable:{defaultStr:"filePlaceholder"}})],o.prototype,"filePlaceholder",void 0),s([Object(C.property)()],o.prototype,"locRenderedPlaceholderValue",void 0),o}(c);C.Serializer.addClass("file",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"showPreview:boolean",default:!0},"allowMultiple:boolean",{name:"allowImagesPreview:boolean",default:!0,dependsOn:"showPreview",visibleIf:function(n){return!!n.showPreview}},"imageHeight","imageWidth","acceptedTypes",{name:"storeDataAsText:boolean",default:!0},{name:"waitForUpload:boolean",default:!1},{name:"maxSize:number",default:0},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"validators",visible:!1},{name:"needConfirmRemoveFile:boolean"},{name:"sourceType",choices:["file","camera","file-camera"],default:"file",category:"general",visible:!0,visibleIf:function(){return e.settings.supportCreatorV2}},{name:"fileOrPhotoPlaceholder:text",serializationProperty:"locFileOrPhotoPlaceholder",category:"general",visibleIf:function(){return e.settings.supportCreatorV2}},{name:"photoPlaceholder:text",serializationProperty:"locPhotoPlaceholder",category:"general",visibleIf:function(){return e.settings.supportCreatorV2}},{name:"filePlaceholder:text",serializationProperty:"locFilePlaceholder",category:"general",visibleIf:function(){return e.settings.supportCreatorV2}},{name:"allowCameraAccess:switch",category:"general",visible:!1}],function(){return new r("")},"question"),D.QuestionFactory.Instance.registerQuestion("file",function(n){return new r(n)});var t=function(){function n(o,u){this.fileQuestion=o,this.callback=u,this.loaded=[]}return n.prototype.load=function(o){var u=this,v=0;this.loaded=new Array(o.length),o.forEach(function(x,b){u.fileQuestion.survey&&u.fileQuestion.survey.downloadFile(u.fileQuestion,u.fileQuestion.name,x,function(i,h){!u.fileQuestion||!u.callback||(i==="success"?(u.loaded[b]={content:h,name:x.name,type:x.type},v++,v===o.length&&u.callback("loaded",u.loaded)):u.callback("error",u.loaded))})})},n.prototype.dispose=function(){this.fileQuestion=void 0,this.callback=void 0},n}()},"./src/question_html.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"QuestionHtmlModel",function(){return R});var P=d("./src/questionnonvalue.ts"),C=d("./src/jsonobject.ts"),D=d("./src/questionfactory.ts"),A=function(){var V=function(O,l){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,p){y.__proto__=p}||function(y,p){for(var f in p)Object.prototype.hasOwnProperty.call(p,f)&&(y[f]=p[f])},V(O,l)};return function(O,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");V(O,l);function y(){this.constructor=O}O.prototype=l===null?Object.create(l):(y.prototype=l.prototype,new y)}}(),R=function(V){A(O,V);function O(l){var y=V.call(this,l)||this,p=y.createLocalizableString("html",y);return p.onGetTextCallback=function(f){return y.survey&&!y.ignoreHtmlProgressing?y.processHtml(f):f},y}return O.prototype.getType=function(){return"html"},Object.defineProperty(O.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),O.prototype.getProcessedText=function(l){return this.ignoreHtmlProgressing?l:V.prototype.getProcessedText.call(this,l)},Object.defineProperty(O.prototype,"html",{get:function(){return this.getLocalizableStringText("html","")},set:function(l){this.setLocalizableStringText("html",l)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"processedHtml",{get:function(){return this.processHtml(this.html)},enumerable:!1,configurable:!0}),O.prototype.processHtml=function(l){return this.survey?this.survey.processHtml(l,"html-question"):this.html},Object.defineProperty(O.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),O}(P.QuestionNonValue);C.Serializer.addClass("html",[{name:"html:html",serializationProperty:"locHtml"},{name:"hideNumber",visible:!1},{name:"state",visible:!1},{name:"titleLocation",visible:!1},{name:"descriptionLocation",visible:!1},{name:"errorLocation",visible:!1},{name:"indent",visible:!1},{name:"width",visible:!1}],function(){return new R("")},"nonvalue"),D.QuestionFactory.Instance.registerQuestion("html",function(V){return new R(V)})},"./src/question_image.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"QuestionImageModel",function(){return m});var P=d("./src/questionnonvalue.ts"),C=d("./src/jsonobject.ts"),D=d("./src/questionfactory.ts"),A=d("./src/utils/cssClassBuilder.ts"),R=d("./src/utils/utils.ts"),V=function(){var a=function(c,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])},a(c,r)};return function(c,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");a(c,r);function t(){this.constructor=c}c.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}}(),O=function(a,c,r,t){var n=arguments.length,o=n<3?c:t===null?t=Object.getOwnPropertyDescriptor(c,r):t,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(a,c,r,t);else for(var v=a.length-1;v>=0;v--)(u=a[v])&&(o=(n<3?u(o):n>3?u(c,r,o):u(c,r))||o);return n>3&&o&&Object.defineProperty(c,r,o),o},l=["youtube.com","youtu.be"],y=[".mp4",".mov",".wmv",".flv",".avi",".mkv"],p="https://www.youtube.com/",f="embed";function e(a){if(!a)return!1;a=a.toLowerCase();for(var c=0;c<l.length;c++)if(a.indexOf(l[c])!==-1)return!0;return!1}var m=function(a){V(c,a);function c(r){var t=a.call(this,r)||this,n=t.createLocalizableString("imageLink",t,!1);return n.onGetTextCallback=function(o){return s(o)},t.createLocalizableString("altText",t,!1),t.registerPropertyChangedHandlers(["contentMode","imageLink"],function(){return t.calculateRenderedMode()}),t}return c.prototype.getType=function(){return"image"},Object.defineProperty(c.prototype,"isCompositeQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),c.prototype.onSurveyLoad=function(){a.prototype.onSurveyLoad.call(this),this.calculateRenderedMode()},Object.defineProperty(c.prototype,"imageLink",{get:function(){return this.getLocalizableStringText("imageLink")},set:function(r){this.setLocalizableStringText("imageLink",r)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"locImageLink",{get:function(){return this.getLocalizableString("imageLink")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"altText",{get:function(){return this.getLocalizableStringText("altText")},set:function(r){this.setLocalizableStringText("altText",r)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"locAltText",{get:function(){return this.getLocalizableString("altText")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(r){this.setPropertyValue("imageHeight",r)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"renderedStyleHeight",{get:function(){return this.imageHeight?Object(R.getRenderedStyleSize)(this.imageHeight):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"renderedHeight",{get:function(){return this.imageHeight?Object(R.getRenderedSize)(this.imageHeight):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(r){this.setPropertyValue("imageWidth",r)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"renderedStyleWidth",{get:function(){return this.imageWidth?Object(R.getRenderedStyleSize)(this.imageWidth):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"renderedWidth",{get:function(){return this.imageWidth?Object(R.getRenderedSize)(this.imageWidth):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"imageFit",{get:function(){return this.getPropertyValue("imageFit")},set:function(r){this.setPropertyValue("imageFit",r)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"contentMode",{get:function(){return this.getPropertyValue("contentMode")},set:function(r){this.setPropertyValue("contentMode",r),r==="video"&&(this.showLabel=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"renderedMode",{get:function(){return this.getPropertyValue("renderedMode","image")},enumerable:!1,configurable:!0}),c.prototype.getImageCss=function(){var r=this.getPropertyByName("imageHeight"),t=this.getPropertyByName("imageWidth"),n=r.isDefaultValue(this.imageHeight)&&t.isDefaultValue(this.imageWidth);return new A.CssClassBuilder().append(this.cssClasses.image).append(this.cssClasses.adaptive,n).toString()},c.prototype.onLoadHandler=function(){this.contentNotLoaded=!1},c.prototype.onErrorHandler=function(){this.contentNotLoaded=!0},c.prototype.setRenderedMode=function(r){this.setPropertyValue("renderedMode",r)},c.prototype.calculateRenderedMode=function(){this.contentMode!=="auto"?this.setRenderedMode(this.contentMode):this.isYoutubeVideo()?this.setRenderedMode("youtube"):this.isVideo()?this.setRenderedMode("video"):this.setRenderedMode("image")},c.prototype.isYoutubeVideo=function(){return e(this.imageLink)},c.prototype.isVideo=function(){var r=this.imageLink;if(!r)return!1;r=r.toLowerCase();for(var t=0;t<y.length;t++)if(r.endsWith(y[t]))return!0;return!1},O([Object(C.property)({defaultValue:!1})],c.prototype,"contentNotLoaded",void 0),c}(P.QuestionNonValue);function s(a){if(!a||!e(a))return a;var c=a.toLocaleLowerCase();if(c.indexOf(f)>-1)return a;for(var r="",t=a.length-1;t>=0&&!(a[t]==="="||a[t]==="/");t--)r=a[t]+r;return p+f+"/"+r}C.Serializer.addClass("image",[{name:"imageLink:file",serializationProperty:"locImageLink"},{name:"altText",serializationProperty:"locAltText",alternativeName:"text",category:"general"},{name:"contentMode",default:"auto",choices:["auto","image","video","youtube"]},{name:"imageFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"imageHeight",default:"150"},{name:"imageWidth",default:"200"}],function(){return new m("")},"nonvalue"),D.QuestionFactory.Instance.registerQuestion("image",function(a){return new m(a)})},"./src/question_imagepicker.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"ImageItemValue",function(){return f}),d.d(M,"QuestionImagePickerModel",function(){return e});var P=d("./src/jsonobject.ts"),C=d("./src/questionfactory.ts"),D=d("./src/question_baseselect.ts"),A=d("./src/itemvalue.ts"),R=d("./src/helpers.ts"),V=d("./src/utils/cssClassBuilder.ts"),O=d("./src/settings.ts"),l=d("./src/utils/utils.ts"),y=function(){var m=function(s,a){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,r){c.__proto__=r}||function(c,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(c[t]=r[t])},m(s,a)};return function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");m(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),p=function(m,s,a,c){var r=arguments.length,t=r<3?s:c===null?c=Object.getOwnPropertyDescriptor(s,a):c,n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")t=Reflect.decorate(m,s,a,c);else for(var o=m.length-1;o>=0;o--)(n=m[o])&&(t=(r<3?n(t):r>3?n(s,a,t):n(s,a))||t);return r>3&&t&&Object.defineProperty(s,a,t),t},f=function(m){y(s,m);function s(a,c,r){c===void 0&&(c=null),r===void 0&&(r="imageitemvalue");var t=m.call(this,a,c,r)||this;return t.typeName=r,t.createLocalizableString("imageLink",t,!1),t}return s.prototype.getType=function(){return this.typeName?this.typeName:"itemvalue"},Object.defineProperty(s.prototype,"imageLink",{get:function(){return this.getLocalizableStringText("imageLink")},set:function(a){this.setLocalizableStringText("imageLink",a),this.imageNotLoaded=!1,this.videoNotLoaded=!1},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"locImageLink",{get:function(){return this.getLocalizableString("imageLink")},enumerable:!1,configurable:!0}),s.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},s.prototype.getMarkdownHtml=function(a,c){return this.locOwner?this.locOwner.getMarkdownHtml(a,c):void 0},s.prototype.getRenderer=function(a){return this.locOwner?this.locOwner.getRenderer(a):null},s.prototype.getRendererContext=function(a){return this.locOwner?this.locOwner.getRendererContext(a):a},s.prototype.getProcessedText=function(a){return this.locOwner?this.locOwner.getProcessedText(a):a},s.prototype.onErrorHandler=function(){this.contentNotLoaded=!0},Object.defineProperty(s.prototype,"contentNotLoaded",{get:function(){return this.locOwner instanceof e&&this.locOwner.contentMode=="video"?this.videoNotLoaded:this.imageNotLoaded},set:function(a){this.locOwner instanceof e&&this.locOwner.contentMode=="video"?this.videoNotLoaded=a:this.imageNotLoaded=a},enumerable:!1,configurable:!0}),p([Object(P.property)({defaultValue:!1})],s.prototype,"videoNotLoaded",void 0),p([Object(P.property)({defaultValue:!1})],s.prototype,"imageNotLoaded",void 0),s}(A.ItemValue),e=function(m){y(s,m);function s(a){var c=m.call(this,a)||this;return c.isResponsiveValue=!1,c.onContentLoaded=function(r,t){r.contentNotLoaded=!1;var n=t.target;c.contentMode=="video"?r.aspectRatio=n.videoWidth/n.videoHeight:r.aspectRatio=n.naturalWidth/n.naturalHeight,c._width&&c.processResponsiveness(0,c._width)},c.colCount=0,c.registerPropertyChangedHandlers(["minImageWidth","maxImageWidth","minImageHeight","maxImageHeight","visibleChoices","colCount","isResponsiveValue"],function(){c._width&&c.processResponsiveness(0,c._width)}),c.registerPropertyChangedHandlers(["imageWidth","imageHeight"],function(){c.calcIsResponsive()}),c.calcIsResponsive(),c}return s.prototype.getType=function(){return"imagepicker"},s.prototype.supportGoNextPageAutomatic=function(){return!this.multiSelect},Object.defineProperty(s.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),s.prototype.getItemValueType=function(){return"imageitemvalue"},Object.defineProperty(s.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),s.prototype.supportOther=function(){return!1},s.prototype.supportNone=function(){return!1},s.prototype.supportRefuse=function(){return!1},s.prototype.supportDontKnow=function(){return!1},s.prototype.isAnswerCorrect=function(){return this.multiSelect?R.Helpers.isArrayContainsEqual(this.value,this.correctAnswer):m.prototype.isAnswerCorrect.call(this)},Object.defineProperty(s.prototype,"multiSelect",{get:function(){return this.getPropertyValue("multiSelect")},set:function(a){this.setPropertyValue("multiSelect",a)},enumerable:!1,configurable:!0}),s.prototype.isItemSelected=function(a){var c=this.value,r=a;if(this.isValueEmpty(c)||!r.imageLink||r.contentNotLoaded)return!1;if(!this.multiSelect)return this.isTwoValueEquals(c,a.value);if(!Array.isArray(c))return!1;for(var t=0;t<c.length;t++)if(this.isTwoValueEquals(c[t],a.value))return!0;return!1},s.prototype.getItemEnabled=function(a){var c=a;return!c.imageLink||c.contentNotLoaded?!1:m.prototype.getItemEnabled.call(this,a)},s.prototype.clearIncorrectValues=function(){if(this.multiSelect){var a=this.value;if(!a)return;if(!Array.isArray(a)||a.length==0){this.clearValue();return}for(var c=[],r=0;r<a.length;r++)this.hasUnknownValue(a[r],!0)||c.push(a[r]);if(c.length==a.length)return;c.length==0?this.clearValue():this.value=c}else m.prototype.clearIncorrectValues.call(this)},s.prototype.getDisplayValueCore=function(a,c){return!this.multiSelect&&!Array.isArray(c)?m.prototype.getDisplayValueCore.call(this,a,c):this.getDisplayArrayValue(a,c)},Object.defineProperty(s.prototype,"showLabel",{get:function(){return this.getPropertyValue("showLabel")},set:function(a){this.setPropertyValue("showLabel",a)},enumerable:!1,configurable:!0}),s.prototype.endLoadingFromJson=function(){m.prototype.endLoadingFromJson.call(this),!this.isDesignMode&&this.multiSelect&&(this.createNewArray("renderedValue"),this.createNewArray("value")),this.calcIsResponsive()},s.prototype.getValueCore=function(){var a=m.prototype.getValueCore.call(this);return a!==void 0?a:this.multiSelect?[]:a},s.prototype.convertValToArrayForMultSelect=function(a){return!this.multiSelect||this.isValueEmpty(a)||Array.isArray(a)?a:[a]},s.prototype.renderedValueFromDataCore=function(a){return this.convertValToArrayForMultSelect(a)},s.prototype.rendredValueToDataCore=function(a){return this.convertValToArrayForMultSelect(a)},Object.defineProperty(s.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(a){this.setPropertyValue("imageHeight",a)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"renderedImageHeight",{get:function(){var a=this.isResponsive?Math.floor(this.responsiveImageHeight):this.imageHeight;return a||150},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(a){this.setPropertyValue("imageWidth",a)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"renderedImageWidth",{get:function(){var a=this.isResponsive?Math.floor(this.responsiveImageWidth):this.imageWidth;return a||200},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"imageFit",{get:function(){return this.getPropertyValue("imageFit")},set:function(a){this.setPropertyValue("imageFit",a)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"contentMode",{get:function(){return this.getPropertyValue("contentMode")},set:function(a){this.setPropertyValue("contentMode",a),a==="video"&&(this.showLabel=!0)},enumerable:!1,configurable:!0}),s.prototype.convertDefaultValue=function(a){return a},Object.defineProperty(s.prototype,"inputType",{get:function(){return this.multiSelect?"checkbox":"radio"},enumerable:!1,configurable:!0}),s.prototype.isBuiltInChoice=function(a){return!1},s.prototype.addToVisibleChoices=function(a,c){this.addNewItemToVisibleChoices(a,c)},s.prototype.getSelectBaseRootCss=function(){return new V.CssClassBuilder().append(m.prototype.getSelectBaseRootCss.call(this)).append(this.cssClasses.rootColumn,this.getCurrentColCount()==1).toString()},Object.defineProperty(s.prototype,"isResponsive",{get:function(){return this.isResponsiveValue&&this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"exactSizesAreEmpty",{get:function(){var a=this;return!["imageHeight","imageWidth"].some(function(c){return a[c]!==void 0&&a[c]!==null})},enumerable:!1,configurable:!0}),s.prototype.calcIsResponsive=function(){this.isResponsiveValue=this.exactSizesAreEmpty},s.prototype.getObservedElementSelector=function(){return Object(l.classesToSelector)(this.cssClasses.root)},s.prototype.supportResponsiveness=function(){return!0},s.prototype.needResponsiveness=function(){return this.supportResponsiveness()&&this.isDefaultV2Theme},s.prototype.getCurrentColCount=function(){return this.responsiveColCount===void 0||this.colCount===0?this.colCount:this.responsiveColCount},s.prototype.processResponsiveness=function(a,c){this._width=c=Math.floor(c);var r=function(w,g,I){var T=Math.floor(w/(g+I));return(T+1)*(g+I)-I<=w&&T++,T};if(this.isResponsive){var t=this.choices.length+(this.isDesignMode?1:0),n=this.gapBetweenItems||0,o=this.minImageWidth,u=this.maxImageWidth,v=this.maxImageHeight,x=this.minImageHeight,b=this.colCount,i;if(b===0)if((n+o)*t-n>c){var h=r(c,o,n);i=Math.floor((c-n*(h-1))/h)}else i=Math.floor((c-n*(t-1))/t);else{var E=r(c,o,n);E<b?(this.responsiveColCount=E>=1?E:1,b=this.responsiveColCount):this.responsiveColCount=b,i=Math.floor((c-n*(b-1))/b)}i=Math.max(o,Math.min(i,u));var S=Number.MIN_VALUE;this.choices.forEach(function(w){var g=i/w.aspectRatio;S=g>S?g:S}),S>v?S=v:S<x&&(S=x);var L=this.responsiveImageWidth,j=this.responsiveImageHeight;return this.responsiveImageWidth=i,this.responsiveImageHeight=S,L!==this.responsiveImageWidth||j!==this.responsiveImageHeight}return!1},s.prototype.triggerResponsiveness=function(a){a===void 0&&(a=!0),a&&this.reCalcGapBetweenItemsCallback&&this.reCalcGapBetweenItemsCallback(),m.prototype.triggerResponsiveness.call(this,a)},s.prototype.afterRender=function(a){var c=this;m.prototype.afterRender.call(this,a);var r=this.getObservedElementSelector(),t=a&&r?a.querySelector(r):void 0;t&&(this.reCalcGapBetweenItemsCallback=function(){c.gapBetweenItems=Math.ceil(Number.parseFloat(window.getComputedStyle(t).gap))||16},this.reCalcGapBetweenItemsCallback())},p([Object(P.property)({})],s.prototype,"responsiveImageHeight",void 0),p([Object(P.property)({})],s.prototype,"responsiveImageWidth",void 0),p([Object(P.property)({})],s.prototype,"isResponsiveValue",void 0),p([Object(P.property)({})],s.prototype,"maxImageWidth",void 0),p([Object(P.property)({})],s.prototype,"minImageWidth",void 0),p([Object(P.property)({})],s.prototype,"maxImageHeight",void 0),p([Object(P.property)({})],s.prototype,"minImageHeight",void 0),p([Object(P.property)({})],s.prototype,"responsiveColCount",void 0),s}(D.QuestionCheckboxBase);P.Serializer.addClass("imageitemvalue",[{name:"imageLink:file",serializationProperty:"locImageLink"}],function(m){return new f(m)},"itemvalue"),P.Serializer.addClass("responsiveImageSize",[],void 0,"number"),P.Serializer.addClass("imagepicker",[{name:"showOtherItem",visible:!1},{name:"otherText",visible:!1},{name:"showNoneItem",visible:!1},{name:"showRefuseItem",visible:!1},{name:"showDontKnowItem",visible:!1},{name:"noneText",visible:!1},{name:"optionsCaption",visible:!1},{name:"otherErrorText",visible:!1},{name:"storeOthersAsComment",visible:!1},{name:"contentMode",default:"image",choices:["image","video"]},{name:"imageFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"imageHeight:number",minValue:0},{name:"imageWidth:number",minValue:0},{name:"minImageWidth:responsiveImageSize",default:200,minValue:0,visibleIf:function(){return O.settings.supportCreatorV2}},{name:"minImageHeight:responsiveImageSize",default:133,minValue:0,visibleIf:function(){return O.settings.supportCreatorV2}},{name:"maxImageWidth:responsiveImageSize",default:400,minValue:0,visibleIf:function(){return O.settings.supportCreatorV2}},{name:"maxImageHeight:responsiveImageSize",default:266,minValue:0,visibleIf:function(){return O.settings.supportCreatorV2}}],function(){return new e("")},"checkboxbase"),P.Serializer.addProperty("imagepicker",{name:"showLabel:boolean",default:!1}),P.Serializer.addProperty("imagepicker",{name:"colCount:number",default:0,choices:[0,1,2,3,4,5]}),P.Serializer.addProperty("imagepicker",{name:"multiSelect:boolean",default:!1}),P.Serializer.addProperty("imagepicker",{name:"choices:imageitemvalue[]"}),C.QuestionFactory.Instance.registerQuestion("imagepicker",function(m){var s=new e(m);return s})},"./src/question_matrix.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"MatrixRowModel",function(){return s}),d.d(M,"MatrixCells",function(){return a}),d.d(M,"QuestionMatrixModel",function(){return c});var P=d("./src/helpers.ts"),C=d("./src/itemvalue.ts"),D=d("./src/martixBase.ts"),A=d("./src/jsonobject.ts"),R=d("./src/base.ts"),V=d("./src/surveyStrings.ts"),O=d("./src/error.ts"),l=d("./src/questionfactory.ts"),y=d("./src/localizablestring.ts"),p=d("./src/question_dropdown.ts"),f=d("./src/settings.ts"),e=d("./src/utils/cssClassBuilder.ts"),m=function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var v in u)Object.prototype.hasOwnProperty.call(u,v)&&(o[v]=u[v])},r(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),s=function(r){m(t,r);function t(n,o,u,v){var x=r.call(this)||this;return x.item=n,x.fullName=o,x.data=u,x.setValueDirectly(v),x.cellClick=function(b){x.value=b.value},x.registerPropertyChangedHandlers(["value"],function(){x.data&&x.data.onMatrixRowChanged(x)}),x}return Object.defineProperty(t.prototype,"name",{get:function(){return this.item.value},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this.item.text},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locText",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.getPropertyValue("value")},set:function(n){this.isReadOnly||this.setValueDirectly(this.data.getCorrectedRowValue(n))},enumerable:!1,configurable:!0}),t.prototype.setValueDirectly=function(n){this.setPropertyValue("value",n)},Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return!this.item.enabled||this.data.isInputReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowTextClasses",{get:function(){return new e.CssClassBuilder().append(this.data.cssClasses.rowTextCell).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowClasses",{get:function(){var n=this.data.cssClasses;return new e.CssClassBuilder().append(n.row).append(n.rowError,this.data.hasErrorInRow(this)).append(n.rowDisabled,this.isReadOnly).toString()},enumerable:!1,configurable:!0}),t}(R.Base),a=function(){function r(t){this.cellsOwner=t,this.values={}}return Object.defineProperty(r.prototype,"isEmpty",{get:function(){return Object.keys(this.values).length==0},enumerable:!1,configurable:!0}),r.prototype.valuesChanged=function(){this.onValuesChanged&&this.onValuesChanged()},r.prototype.setCellText=function(t,n,o){if(t=this.getCellRowColumnValue(t,this.rows),n=this.getCellRowColumnValue(n,this.columns),!(!t||!n)){if(o)this.values[t]||(this.values[t]={}),this.values[t][n]||(this.values[t][n]=this.createString()),this.values[t][n].text=o;else if(this.values[t]&&this.values[t][n]){var u=this.values[t][n];u.text="",u.isEmpty&&(delete this.values[t][n],Object.keys(this.values[t]).length==0&&delete this.values[t])}this.valuesChanged()}},r.prototype.setDefaultCellText=function(t,n){this.setCellText(f.settings.matrix.defaultRowName,t,n)},r.prototype.getCellLocText=function(t,n){return t=this.getCellRowColumnValue(t,this.rows),n=this.getCellRowColumnValue(n,this.columns),!t||!n||!this.values[t]||!this.values[t][n]?null:this.values[t][n]},r.prototype.getDefaultCellLocText=function(t,n){return this.getCellLocText(f.settings.matrix.defaultRowName,t)},r.prototype.getCellDisplayLocText=function(t,n){var o=this.getCellLocText(t,n);return o&&!o.isEmpty||(o=this.getCellLocText(f.settings.matrix.defaultRowName,n),o&&!o.isEmpty)?o:(typeof n=="number"&&(n=n>=0&&n<this.columns.length?this.columns[n]:null),n&&n.locText?n.locText:null)},r.prototype.getCellText=function(t,n){var o=this.getCellLocText(t,n);return o?o.calculatedText:null},r.prototype.getDefaultCellText=function(t){var n=this.getCellLocText(f.settings.matrix.defaultRowName,t);return n?n.calculatedText:null},r.prototype.getCellDisplayText=function(t,n){var o=this.getCellDisplayLocText(t,n);return o?o.calculatedText:null},Object.defineProperty(r.prototype,"rows",{get:function(){return this.cellsOwner?this.cellsOwner.getRows():[]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"columns",{get:function(){return this.cellsOwner?this.cellsOwner.getColumns():[]},enumerable:!1,configurable:!0}),r.prototype.getCellRowColumnValue=function(t,n){if(t==null)return null;if(typeof t=="number"){if(t<0||t>=n.length)return null;t=n[t].value}return t.value?t.value:t},r.prototype.getJson=function(){if(this.isEmpty)return null;var t={};for(var n in this.values){var o={},u=this.values[n];for(var v in u)o[v]=u[v].getJson();t[n]=o}return t},r.prototype.setJson=function(t){if(this.values={},t){for(var n in t)if(n!="pos"){var o=t[n];this.values[n]={};for(var u in o)if(u!="pos"){var v=this.createString();v.setJson(o[u]),this.values[n][u]=v}}}this.valuesChanged()},r.prototype.locStrsChanged=function(){if(!this.isEmpty)for(var t in this.values){var n=this.values[t];for(var o in n)n[o].strChanged()}},r.prototype.createString=function(){return new y.LocalizableString(this.cellsOwner,!0)},r}(),c=function(r){m(t,r);function t(n){var o=r.call(this,n)||this;return o.isRowChanging=!1,o.emptyLocalizableString=new y.LocalizableString(o),o.cellsValue=new a(o),o.cellsValue.onValuesChanged=function(){o.updateHasCellText(),o.propertyValueChanged("cells",o.cells,o.cells)},o.registerPropertyChangedHandlers(["columns"],function(){o.onColumnsChanged()}),o.registerPropertyChangedHandlers(["rows"],function(){o.filterItems()||o.onRowsChanged()}),o.registerPropertyChangedHandlers(["hideIfRowsEmpty"],function(){o.updateVisibilityBasedOnRows()}),o}return t.prototype.getType=function(){return"matrix"},Object.defineProperty(t.prototype,"cellComponent",{get:function(){return this.getPropertyValue("cellComponent")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemComponent",{set:function(n){this.setPropertyValue("cellComponent",n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAllRowRequired",{get:function(){return this.getPropertyValue("isAllRowRequired")},set:function(n){this.setPropertyValue("isAllRowRequired",n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eachRowUnique",{get:function(){return this.getPropertyValue("eachRowUnique")},set:function(n){this.setPropertyValue("eachRowUnique",n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasRows",{get:function(){return this.rows.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowsOrder",{get:function(){return this.getPropertyValue("rowsOrder")},set:function(n){n=n.toLowerCase(),n!=this.rowsOrder&&(this.setPropertyValue("rowsOrder",n),this.onRowsChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hideIfRowsEmpty",{get:function(){return this.getPropertyValue("hideIfRowsEmpty")},set:function(n){this.setPropertyValue("hideIfRowsEmpty",n)},enumerable:!1,configurable:!0}),t.prototype.getRows=function(){return this.rows},t.prototype.getColumns=function(){return this.visibleColumns},t.prototype.addColumn=function(n,o){var u=new C.ItemValue(n,o);return this.columns.push(u),u},t.prototype.getItemClass=function(n,o){var u=n.value==o.value,v=this.isReadOnly,x=!u&&!v,b=this.hasCellText,i=this.cssClasses;return new e.CssClassBuilder().append(i.cell,b).append(b?i.cellText:i.label).append(i.itemOnError,!b&&this.hasCssError()).append(b?i.cellTextSelected:i.itemChecked,u).append(b?i.cellTextDisabled:i.itemDisabled,v).append(i.itemHover,x&&!b).toString()},Object.defineProperty(t.prototype,"itemSvgIcon",{get:function(){return this.cssClasses.itemSvgIconId},enumerable:!1,configurable:!0}),t.prototype.locStrsChanged=function(){r.prototype.locStrsChanged.call(this),this.cells.locStrsChanged()},t.prototype.getQuizQuestionCount=function(){for(var n=0,o=0;o<this.rows.length;o++)this.isValueEmpty(this.correctAnswer[this.rows[o].value])||n++;return n},t.prototype.getCorrectAnswerCount=function(){for(var n=0,o=this.value,u=0;u<this.rows.length;u++){var v=this.rows[u].value;!this.isValueEmpty(o[v])&&this.isTwoValueEquals(this.correctAnswer[v],o[v])&&n++}return n},t.prototype.runItemsCondition=function(n,o){return C.ItemValue.runEnabledConditionsForItems(this.rows,void 0,n,o),r.prototype.runItemsCondition.call(this,n,o)},t.prototype.getVisibleRows=function(){var n=new Array,o=this.value;o||(o={});for(var u=this.filteredRows?this.filteredRows:this.rows,v=0;v<u.length;v++){var x=u[v];this.isValueEmpty(x.value)||n.push(this.createMatrixRow(x,this.id+"_"+x.value.toString().replace(/\s/g,"_"),o[x.value]))}return this.generatedVisibleRows=n,n},t.prototype.sortVisibleRows=function(n){if(this.survey&&this.survey.isDesignMode)return n;var o=this.rowsOrder.toLowerCase();return o==="random"?P.Helpers.randomizeArray(n):n},t.prototype.endLoadingFromJson=function(){r.prototype.endLoadingFromJson.call(this),this.rows=this.sortVisibleRows(this.rows)},t.prototype.isNewValueCorrect=function(n){return P.Helpers.isValueObject(n,!0)},t.prototype.processRowsOnSet=function(n){return this.sortVisibleRows(n)},Object.defineProperty(t.prototype,"visibleRows",{get:function(){return this.getVisibleRows()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cells",{get:function(){return this.cellsValue},set:function(n){this.cells.setJson(n&&n.getJson?n.getJson():null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCellText",{get:function(){return this.getPropertyValue("hasCellText",!1)},enumerable:!1,configurable:!0}),t.prototype.updateHasCellText=function(){this.setPropertyValue("hasCellText",!this.cells.isEmpty)},t.prototype.setCellText=function(n,o,u){this.cells.setCellText(n,o,u)},t.prototype.getCellText=function(n,o){return this.cells.getCellText(n,o)},t.prototype.setDefaultCellText=function(n,o){this.cells.setDefaultCellText(n,o)},t.prototype.getDefaultCellText=function(n){return this.cells.getDefaultCellText(n)},t.prototype.getCellDisplayText=function(n,o){return this.cells.getCellDisplayText(n,o)},t.prototype.getCellDisplayLocText=function(n,o){var u=this.cells.getCellDisplayLocText(n,o);return u||this.emptyLocalizableString},t.prototype.supportGoNextPageAutomatic=function(){return this.isMouseDown===!0&&this.hasValuesInAllRows()},t.prototype.onCheckForErrors=function(n,o){r.prototype.onCheckForErrors.call(this,n,o),this.errorsInRow=void 0,(!o||this.hasCssError())&&(this.hasErrorAllRowsRequired()&&n.push(new O.RequiredInAllRowsError(null,this)),this.hasErrorEachRowUnique()&&n.push(new O.EachRowUniqueError(null,this)))},t.prototype.hasErrorAllRowsRequired=function(){return this.isAllRowRequired&&!this.hasValuesInAllRows()},t.prototype.hasErrorEachRowUnique=function(){return this.eachRowUnique&&this.hasNonUniqueValueInRow()},t.prototype.hasValuesInAllRows=function(){var n=this.generatedVisibleRows;if(n||(n=this.visibleRows),!n)return!0;for(var o=!0,u=0;u<n.length;u++){var v=n[u],x=!this.isValueEmpty(v.value);x||this.addErrorIntoRow(v),o=o&&x}return o},t.prototype.hasNonUniqueValueInRow=function(){var n=this.generatedVisibleRows;if(n||(n=this.visibleRows),!n)return!1;for(var o={},u=!0,v=0;v<n.length;v++){var x=n[v].value,b=this.isValueEmpty(x),i=b||o[x]!==!0;i||this.addErrorIntoRow(n[v]),u=u&&i,b||(o[x]=!0)}return!u},t.prototype.addErrorIntoRow=function(n){this.errorsInRow||(this.errorsInRow={}),this.errorsInRow[n.name]=!0},t.prototype.getIsAnswered=function(){return r.prototype.getIsAnswered.call(this)&&this.hasValuesInAllRows()},t.prototype.createMatrixRow=function(n,o,u){var v=new s(n,o,this,u);return this.onMatrixRowCreated(v),v},t.prototype.onMatrixRowCreated=function(n){},t.prototype.setQuestionValue=function(n,o){if(o===void 0&&(o=!0),r.prototype.setQuestionValue.call(this,n,this.isRowChanging||o),!(!this.generatedVisibleRows||this.generatedVisibleRows.length==0)){this.isRowChanging=!0;var u=this.value;if(u||(u={}),this.rows.length==0)this.generatedVisibleRows[0].setValueDirectly(u);else for(var v=0;v<this.generatedVisibleRows.length;v++){var x=this.generatedVisibleRows[v],b=u[x.name];this.isValueEmpty(b)&&(b=null),this.generatedVisibleRows[v].setValueDirectly(b)}this.updateIsAnswered(),this.isRowChanging=!1}},t.prototype.getDisplayValueCore=function(n,o){var u={};for(var v in o){var x=n?C.ItemValue.getTextOrHtmlByValue(this.rows,v):v;x||(x=v);var b=C.ItemValue.getTextOrHtmlByValue(this.columns,o[v]);b||(b=o[v]),u[x]=b}return u},t.prototype.getPlainData=function(n){var o=this;n===void 0&&(n={includeEmpty:!0});var u=r.prototype.getPlainData.call(this,n);if(u){var v=this.createValueCopy();u.isNode=!0,u.data=Object.keys(v||{}).map(function(x){var b=o.rows.filter(function(E){return E.value===x})[0],i={name:x,title:b?b.text:"row",value:v[x],displayValue:C.ItemValue.getTextOrHtmlByValue(o.visibleColumns,v[x]),getString:function(E){return typeof E=="object"?JSON.stringify(E):E},isNode:!1},h=C.ItemValue.getItemByValue(o.visibleColumns,v[x]);return h&&(n.calculations||[]).forEach(function(E){i[E.propertyName]=h[E.propertyName]}),i})}return u},t.prototype.addConditionObjectsByContext=function(n,o){for(var u=0;u<this.rows.length;u++){var v=this.rows[u];v.value&&n.push({name:this.getValueName()+"."+v.value,text:this.processedTitle+"."+v.calculatedText,question:this})}},t.prototype.getConditionJson=function(n,o){if(n===void 0&&(n=null),o===void 0&&(o=null),!o)return r.prototype.getConditionJson.call(this);var u=new p.QuestionDropdownModel(o);u.choices=this.columns;var v=new A.JsonObject().toJsonObject(u);return v.type=u.getType(),v},t.prototype.clearValueIfInvisibleCore=function(n){r.prototype.clearValueIfInvisibleCore.call(this,n),this.hasRows&&this.clearInvisibleValuesInRows()},t.prototype.getFirstInputElementId=function(){var n=this.generatedVisibleRows;return n||(n=this.visibleRows),n.length>0&&this.visibleColumns.length>0?this.inputId+"_"+n[0].name+"_0":r.prototype.getFirstInputElementId.call(this)},t.prototype.onMatrixRowChanged=function(n){if(!this.isRowChanging){if(this.isRowChanging=!0,!this.hasRows)this.setNewValue(n.value);else{var o=this.value;o||(o={}),o[n.name]=n.value,this.setNewValue(o)}this.isRowChanging=!1}},t.prototype.getCorrectedRowValue=function(n){for(var o=0;o<this.columns.length;o++)if(n===this.columns[o].value)return n;for(var o=0;o<this.columns.length;o++)if(this.isTwoValueEquals(n,this.columns[o].value))return this.columns[o].value;return n},t.prototype.hasErrorInRow=function(n){return!!this.errorsInRow&&!!this.errorsInRow[n.name]},t.prototype.getSearchableItemValueKeys=function(n){n.push("columns"),n.push("rows")},Object.defineProperty(t.prototype,"SurveyModel",{get:function(){return this.survey},enumerable:!1,configurable:!0}),t.prototype.getColumnHeaderWrapperComponentName=function(n){return this.SurveyModel.getElementWrapperComponentName({column:n},"column-header")},t.prototype.getColumnHeaderWrapperComponentData=function(n){return this.SurveyModel.getElementWrapperComponentData({column:n},"column-header")},t.prototype.getRowHeaderWrapperComponentName=function(n){return this.SurveyModel.getElementWrapperComponentName({row:n},"row-header")},t.prototype.getRowHeaderWrapperComponentData=function(n){return this.SurveyModel.getElementWrapperComponentData({row:n},"row-header")},t}(D.QuestionMatrixBaseModel);A.Serializer.addClass("matrix",["rowTitleWidth",{name:"columns:itemvalue[]",uniqueProperty:"value",baseValue:function(){return V.surveyLocalization.getString("matrix_column")}},{name:"rows:itemvalue[]",uniqueProperty:"value",baseValue:function(){return V.surveyLocalization.getString("matrix_row")}},{name:"cells:cells",serializationProperty:"cells"},{name:"rowsOrder",default:"initial",choices:["initial","random"]},"isAllRowRequired:boolean",{name:"eachRowUnique:boolean",category:"validation"},"hideIfRowsEmpty:boolean",{name:"cellComponent",visible:!1,default:"survey-matrix-cell"}],function(){return new c("")},"matrixbase"),l.QuestionFactory.Instance.registerQuestion("matrix",function(r){var t=new c(r);return t.rows=l.QuestionFactory.DefaultRows,t.columns=l.QuestionFactory.DefaultColums,t})},"./src/question_matrixdropdown.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"MatrixDropdownRowModel",function(){return O}),d.d(M,"QuestionMatrixDropdownModel",function(){return l});var P=d("./src/question_matrixdropdownbase.ts"),C=d("./src/jsonobject.ts"),D=d("./src/itemvalue.ts"),A=d("./src/questionfactory.ts"),R=d("./src/helpers.ts"),V=function(){var y=function(p,f){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,m){e.__proto__=m}||function(e,m){for(var s in m)Object.prototype.hasOwnProperty.call(m,s)&&(e[s]=m[s])},y(p,f)};return function(p,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");y(p,f);function e(){this.constructor=p}p.prototype=f===null?Object.create(f):(e.prototype=f.prototype,new e)}}(),O=function(y){V(p,y);function p(f,e,m,s){var a=y.call(this,m,s)||this;return a.name=f,a.item=e,a.buildCells(s),a}return Object.defineProperty(p.prototype,"rowName",{get:function(){return this.name},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"text",{get:function(){return this.item.text},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"locText",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),p}(P.MatrixDropdownRowModelBase),l=function(y){V(p,y);function p(f){var e=y.call(this,f)||this;return e.createLocalizableString("totalText",e,!0),e.registerPropertyChangedHandlers(["rows"],function(){e.clearGeneratedRows(),e.resetRenderedTable(),e.filterItems()||e.onRowsChanged(),e.clearIncorrectValues()}),e.registerPropertyChangedHandlers(["hideIfRowsEmpty"],function(){e.updateVisibilityBasedOnRows()}),e}return p.prototype.getType=function(){return"matrixdropdown"},Object.defineProperty(p.prototype,"totalText",{get:function(){return this.getLocalizableStringText("totalText","")},set:function(f){this.setLocalizableStringText("totalText",f)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"locTotalText",{get:function(){return this.getLocalizableString("totalText")},enumerable:!1,configurable:!0}),p.prototype.getFooterText=function(){return this.locTotalText},p.prototype.getRowTitleWidth=function(){return this.rowTitleWidth},Object.defineProperty(p.prototype,"hideIfRowsEmpty",{get:function(){return this.getPropertyValue("hideIfRowsEmpty")},set:function(f){this.setPropertyValue("hideIfRowsEmpty",f)},enumerable:!1,configurable:!0}),p.prototype.getDisplayValueCore=function(f,e){if(!e)return e;var m=this.visibleRows,s={};if(!m)return s;for(var a=0;a<m.length;a++){var c=m[a].rowName,r=e[c];if(r){if(f){var t=D.ItemValue.getTextOrHtmlByValue(this.rows,c);t&&(c=t)}s[c]=this.getRowDisplayValue(f,m[a],r)}}return s},p.prototype.getConditionObjectRowName=function(f){return"."+this.rows[f].value},p.prototype.getConditionObjectRowText=function(f){return"."+this.rows[f].calculatedText},p.prototype.getConditionObjectsRowIndeces=function(){for(var f=[],e=0;e<this.rows.length;e++)f.push(e);return f},p.prototype.isNewValueCorrect=function(f){return R.Helpers.isValueObject(f,!0)},p.prototype.clearIncorrectValues=function(){var f=this.value;if(f){var e=null,m=!1,s=this.filteredRows?this.filteredRows:this.rows;for(var a in f)D.ItemValue.getItemByValue(s,a)?(e==null&&(e={}),e[a]=f[a]):m=!0;m&&(this.value=e),y.prototype.clearIncorrectValues.call(this)}},p.prototype.clearValueIfInvisibleCore=function(f){y.prototype.clearValueIfInvisibleCore.call(this,f),this.clearInvisibleValuesInRows()},p.prototype.generateRows=function(){var f=new Array,e=this.filteredRows?this.filteredRows:this.rows;if(!e||e.length===0)return f;var m=this.value;m||(m={});for(var s=0;s<e.length;s++)this.isValueEmpty(e[s].value)||f.push(this.createMatrixRow(e[s],m[e[s].value]));return f},p.prototype.createMatrixRow=function(f,e){return new O(f.value,f,this,e)},p.prototype.getSearchableItemValueKeys=function(f){f.push("rows")},p.prototype.updateProgressInfoByValues=function(f){var e=this.value;e||(e={});for(var m=0;m<this.rows.length;m++){var s=this.rows[m],a=e[s.value];this.updateProgressInfoByRow(f,a||{})}},p}(P.QuestionMatrixDropdownModelBase);C.Serializer.addClass("matrixdropdown",[{name:"rows:itemvalue[]",uniqueProperty:"value"},"rowsVisibleIf:condition","rowTitleWidth",{name:"totalText",serializationProperty:"locTotalText"},"hideIfRowsEmpty:boolean"],function(){return new l("")},"matrixdropdownbase"),A.QuestionFactory.Instance.registerQuestion("matrixdropdown",function(y){var p=new l(y);return p.choices=[1,2,3,4,5],p.rows=A.QuestionFactory.DefaultRows,P.QuestionMatrixDropdownModelBase.addDefaultColumns(p),p})},"./src/question_matrixdropdownbase.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"MatrixDropdownCell",function(){return r}),d.d(M,"MatrixDropdownTotalCell",function(){return t}),d.d(M,"MatrixDropdownRowModelBase",function(){return o}),d.d(M,"MatrixDropdownTotalRowModel",function(){return u}),d.d(M,"QuestionMatrixDropdownModelBase",function(){return v});var P=d("./src/jsonobject.ts"),C=d("./src/martixBase.ts"),D=d("./src/helpers.ts"),A=d("./src/base.ts"),R=d("./src/survey-element.ts"),V=d("./src/textPreProcessor.ts"),O=d("./src/itemvalue.ts"),l=d("./src/questionfactory.ts"),y=d("./src/functionsfactory.ts"),p=d("./src/settings.ts"),f=d("./src/error.ts"),e=d("./src/utils/cssClassBuilder.ts"),m=d("./src/question_matrixdropdowncolumn.ts"),s=d("./src/question_matrixdropdownrendered.ts"),a=d("./src/utils/utils.ts"),c=function(){var x=function(b,i){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,E){h.__proto__=E}||function(h,E){for(var S in E)Object.prototype.hasOwnProperty.call(E,S)&&(h[S]=E[S])},x(b,i)};return function(b,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");x(b,i);function h(){this.constructor=b}b.prototype=i===null?Object.create(i):(h.prototype=i.prototype,new h)}}(),r=function(){function x(b,i,h){this.column=b,this.row=i,this.data=h,this.questionValue=this.createQuestion(b,i,h),this.questionValue.updateCustomWidget(),this.updateCellQuestionTitleDueToAccessebility(i)}return x.prototype.updateCellQuestionTitleDueToAccessebility=function(b){var i=this;this.questionValue.locTitle.onGetTextCallback=function(h){if(!b||!b.getSurvey())return i.questionValue.title;var E=b.getAccessbilityText();return E?i.column.colOwner.getCellAriaLabel(E,i.questionValue.title):i.questionValue.title}},x.prototype.locStrsChanged=function(){this.question.locStrsChanged()},x.prototype.createQuestion=function(b,i,h){var E=h.createQuestion(this.row,this.column);return E.validateValueCallback=function(){return h.validateCell(i,b.name,i.value)},P.CustomPropertiesCollection.getProperties(b.getType()).forEach(function(S){var L=S.name;b[L]!==void 0&&(E[L]=b[L])}),E},Object.defineProperty(x.prototype,"question",{get:function(){return this.questionValue},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"value",{get:function(){return this.question.value},set:function(b){this.question.value=b},enumerable:!1,configurable:!0}),x.prototype.runCondition=function(b,i){this.question.runCondition(b,i)},x}(),t=function(x){c(b,x);function b(i,h,E){var S=x.call(this,i,h,E)||this;return S.column=i,S.row=h,S.data=E,S.updateCellQuestion(),S}return b.prototype.createQuestion=function(i,h,E){var S=P.Serializer.createClass("expression");return S.setSurveyImpl(h),S},b.prototype.locStrsChanged=function(){this.updateCellQuestion(),x.prototype.locStrsChanged.call(this)},b.prototype.updateCellQuestion=function(){this.question.locCalculation(),this.column.updateCellQuestion(this.question,null,function(i){delete i.defaultValue}),this.question.expression=this.getTotalExpression(),this.question.format=this.column.totalFormat,this.question.currency=this.column.totalCurrency,this.question.displayStyle=this.column.totalDisplayStyle,this.question.maximumFractionDigits=this.column.totalMaximumFractionDigits,this.question.minimumFractionDigits=this.column.totalMinimumFractionDigits,this.question.unlocCalculation(),this.question.runIfReadOnly=!0},b.prototype.getTotalExpression=function(){if(this.column.totalExpression)return this.column.totalExpression;if(this.column.totalType=="none")return"''";var i=this.column.totalType+"InArray";return y.FunctionFactory.Instance.hasFunction(i)?i+"({self}, '"+this.column.name+"')":""},b}(r),n=function(x){c(b,x);function b(i,h,E){var S=x.call(this,h)||this;return S.row=i,S.variableName=h,S.parentTextProcessor=E,S}return b.prototype.getParentTextProcessor=function(){return this.parentTextProcessor},Object.defineProperty(b.prototype,"survey",{get:function(){return this.row.getSurvey()},enumerable:!1,configurable:!0}),b.prototype.getValues=function(){return this.row.value},b.prototype.getQuestionByName=function(i){return this.row.getQuestionByName(i)},b.prototype.onCustomProcessText=function(i){return i.name==o.IndexVariableName?(i.isExists=!0,i.value=this.row.rowIndex,!0):i.name==o.RowValueVariableName?(i.isExists=!0,i.value=this.row.rowName,!0):!1},b}(V.QuestionTextProcessor),o=function(){function x(b,i){var h=this;this.isSettingValue=!1,this.detailPanelValue=null,this.cells=[],this.isCreatingDetailPanel=!1,this.data=b,this.subscribeToChanges(i),this.textPreProcessor=new n(this,x.RowVariableName,b?b.getParentTextProcessor():null),this.showHideDetailPanelClick=function(){if(h.getSurvey().isDesignMode)return!0;h.showHideDetailPanel()},this.idValue=x.getId()}return x.getId=function(){return"srow_"+x.idCounter++},Object.defineProperty(x.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"rowName",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"dataName",{get:function(){return this.rowName},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"text",{get:function(){return this.rowName},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"value",{get:function(){for(var b={},i=this.questions,h=0;h<i.length;h++){var E=i[h];E.isEmpty()||(b[E.getValueName()]=E.value),E.comment&&this.getSurvey()&&this.getSurvey().storeOthersAsComment&&(b[E.getValueName()+A.Base.commentSuffix]=E.comment)}return b},set:function(b){this.isSettingValue=!0,this.subscribeToChanges(b);for(var i=this.questions,h=0;h<i.length;h++){var E=i[h],S=this.getCellValue(b,E.getValueName()),L=E.comment,j=b?b[E.getValueName()+A.Base.commentSuffix]:"";j==null&&(j=""),E.updateValueFromSurvey(S),(j||this.isTwoValueEquals(L,E.comment))&&E.updateCommentFromSurvey(j),E.onSurveyValueChanged(S)}this.isSettingValue=!1},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"locText",{get:function(){return null},enumerable:!1,configurable:!0}),x.prototype.getAccessbilityText=function(){return this.locText&&this.locText.renderedHtml},Object.defineProperty(x.prototype,"hasPanel",{get:function(){return this.data?this.data.hasDetailPanel(this):!1},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"detailPanel",{get:function(){return this.detailPanelValue},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"detailPanelId",{get:function(){return this.detailPanel?this.detailPanel.id:""},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"isDetailPanelShowing",{get:function(){return this.data?this.data.getIsDetailPanelShowing(this):!1},enumerable:!1,configurable:!0}),x.prototype.setIsDetailPanelShowing=function(b){!b&&this.detailPanel&&this.detailPanel.onHidingContent(),this.data&&this.data.setIsDetailPanelShowing(this,b),this.onDetailPanelShowingChanged&&this.onDetailPanelShowingChanged()},x.prototype.showHideDetailPanel=function(){this.isDetailPanelShowing?this.hideDetailPanel():this.showDetailPanel()},x.prototype.showDetailPanel=function(){this.ensureDetailPanel(),this.detailPanelValue&&this.setIsDetailPanelShowing(!0)},x.prototype.hideDetailPanel=function(b){b===void 0&&(b=!1),this.setIsDetailPanelShowing(!1),b&&(this.detailPanelValue=null)},x.prototype.ensureDetailPanel=function(){if(!this.isCreatingDetailPanel&&!(this.detailPanelValue||!this.hasPanel||!this.data)){this.isCreatingDetailPanel=!0,this.detailPanelValue=this.data.createRowDetailPanel(this);var b=this.detailPanelValue.questions,i=this.data.getRowValue(this.data.getRowIndex(this));if(!D.Helpers.isValueEmpty(i))for(var h=0;h<b.length;h++){var E=b[h].getValueName(),S=this.editingObj?P.Serializer.getObjPropertyValue(this.editingObj,E):i[E];D.Helpers.isValueEmpty(S)||(b[h].value=S)}this.detailPanelValue.setSurveyImpl(this),this.isCreatingDetailPanel=!1}},x.prototype.getAllValues=function(){return this.value},x.prototype.getFilteredValues=function(){var b=this.data?this.data.getDataFilteredValues():{},i=this.validationValues;if(i)for(var h in i)b[h]=i[h];return b.row=this.getAllValues(),b},x.prototype.getFilteredProperties=function(){return{survey:this.getSurvey(),row:this}},x.prototype.runCondition=function(b,i){this.data&&(b[x.OwnerVariableName]=this.data.value);var h=this.rowIndex;b[x.IndexVariableName]=h,b[x.RowValueVariableName]=this.rowName;var E=D.Helpers.createCopy(i);E[x.RowVariableName]=this;for(var S=h>0?this.data.getRowValue(this.rowIndex-1):this.value,L=0;L<this.cells.length;L++)L>0&&Object(a.mergeValues)(this.value,S),b[x.RowVariableName]=S,this.cells[L].runCondition(b,E);this.detailPanel&&this.detailPanel.runCondition(b,E)},x.prototype.clearValue=function(){for(var b=this.questions,i=0;i<b.length;i++)b[i].clearValue()},x.prototype.onAnyValueChanged=function(b,i){for(var h=this.questions,E=0;E<h.length;E++)h[E].onAnyValueChanged(b,i)},x.prototype.getDataValueCore=function(b,i){var h=this.getSurvey();return h?h.getDataValueCore(b,i):b[i]},x.prototype.getValue=function(b){var i=this.getQuestionByName(b);return i?i.value:null},x.prototype.setValue=function(b,i){this.setValueCore(b,i,!1)},x.prototype.getVariable=function(b){},x.prototype.setVariable=function(b,i){},x.prototype.getComment=function(b){var i=this.getQuestionByName(b);return i?i.comment:""},x.prototype.setComment=function(b,i,h){this.setValueCore(b,i,!0)},x.prototype.findQuestionByName=function(b){if(b){var i=x.RowVariableName+".";if(b.indexOf(i)===0)return this.getQuestionByName(b.substring(i.length));var h=this.getSurvey();return h?h.getQuestionByName(b):null}},x.prototype.setValueCore=function(b,i,h){if(!this.isSettingValue){this.updateQuestionsValue(b,i,h);var E=this.value,S=h?b+A.Base.commentSuffix:b,L=i,j=this.getQuestionByName(b),w=this.data.onRowChanging(this,S,E);if(j&&!this.isTwoValueEquals(w,L)&&(this.isSettingValue=!0,h?j.comment=w:j.value=w,this.isSettingValue=!1,E=this.value),!(this.data.isValidateOnValueChanging&&this.hasQuestonError(j))){var g=i==null&&!j||h&&!i&&!!j;this.data.onRowChanged(this,S,E,g),S&&this.runTriggers(u.RowVariableName+"."+S,E),this.onAnyValueChanged(x.RowVariableName,"")}}},x.prototype.updateQuestionsValue=function(b,i,h){if(this.detailPanel){var E=this.getQuestionByColumnName(b),S=this.detailPanel.getQuestionByName(b);if(!(!E||!S)){var L=this.isTwoValueEquals(i,h?E.comment:E.value),j=L?S:E;this.isSettingValue=!0,h?j.comment=i:j.value=i,this.isSettingValue=!1}}},x.prototype.runTriggers=function(b,i){b&&this.questions.forEach(function(h){return h.runTriggers(b,i)})},x.prototype.hasQuestonError=function(b){if(!b)return!1;if(b.hasErrors(!0,{isOnValueChanged:!this.data.isValidateOnValueChanging}))return!0;if(b.isEmpty())return!1;var i=this.getCellByColumnName(b.name);return!i||!i.column||!i.column.isUnique?!1:this.data.checkIfValueInRowDuplicated(this,b)},Object.defineProperty(x.prototype,"isEmpty",{get:function(){var b=this.value;if(D.Helpers.isValueEmpty(b))return!0;for(var i in b)if(b[i]!==void 0&&b[i]!==null)return!1;return!0},enumerable:!1,configurable:!0}),x.prototype.getQuestionByColumn=function(b){var i=this.getCellByColumn(b);return i?i.question:null},x.prototype.getCellByColumn=function(b){for(var i=0;i<this.cells.length;i++)if(this.cells[i].column==b)return this.cells[i];return null},x.prototype.getCellByColumnName=function(b){for(var i=0;i<this.cells.length;i++)if(this.cells[i].column.name==b)return this.cells[i];return null},x.prototype.getQuestionByColumnName=function(b){var i=this.getCellByColumnName(b);return i?i.question:null},Object.defineProperty(x.prototype,"questions",{get:function(){for(var b=[],i=0;i<this.cells.length;i++)b.push(this.cells[i].question);for(var h=this.detailPanel?this.detailPanel.questions:[],i=0;i<h.length;i++)b.push(h[i]);return b},enumerable:!1,configurable:!0}),x.prototype.getQuestionByName=function(b){var i=this.getQuestionByColumnName(b);return i||(this.detailPanel?this.detailPanel.getQuestionByName(b):null)},x.prototype.getQuestionsByName=function(b){var i=[],h=this.getQuestionByColumnName(b);return h&&i.push(h),this.detailPanel&&(h=this.detailPanel.getQuestionByName(b),h&&i.push(h)),i},x.prototype.getSharedQuestionByName=function(b){return this.data?this.data.getSharedQuestionByName(b,this):null},x.prototype.clearIncorrectValues=function(b){for(var i in b){var h=this.getQuestionByName(i);if(h){var E=h.value;h.clearIncorrectValues(),this.isTwoValueEquals(E,h.value)||this.setValue(i,h.value)}else!this.getSharedQuestionByName(i)&&i.indexOf(p.settings.matrix.totalsSuffix)<0&&this.setValue(i,null)}},x.prototype.getLocale=function(){return this.data?this.data.getLocale():""},x.prototype.getMarkdownHtml=function(b,i){return this.data?this.data.getMarkdownHtml(b,i):void 0},x.prototype.getRenderer=function(b){return this.data?this.data.getRenderer(b):null},x.prototype.getRendererContext=function(b){return this.data?this.data.getRendererContext(b):b},x.prototype.getProcessedText=function(b){return this.data?this.data.getProcessedText(b):b},x.prototype.locStrsChanged=function(){for(var b=0;b<this.cells.length;b++)this.cells[b].locStrsChanged();this.detailPanel&&this.detailPanel.locStrsChanged()},x.prototype.updateCellQuestionOnColumnChanged=function(b,i,h){var E=this.getCellByColumn(b);E&&this.updateCellOnColumnChanged(E,i,h)},x.prototype.updateCellQuestionOnColumnItemValueChanged=function(b,i,h,E,S,L){var j=this.getCellByColumn(b);j&&this.updateCellOnColumnItemValueChanged(j,i,h,E,S,L)},x.prototype.onQuestionReadOnlyChanged=function(b){for(var i=this.questions,h=0;h<i.length;h++){var E=i[h];E.setPropertyValue("isReadOnly",E.isReadOnly)}this.detailPanel&&(this.detailPanel.readOnly=b)},x.prototype.hasErrors=function(b,i,h){var E=!1,S=this.cells;if(!S)return E;this.validationValues=i.validationValues;for(var L=0;L<S.length;L++)if(S[L]){var j=S[L].question;!j||!j.visible||(j.onCompletedAsyncValidators=function(g){h()},!(i&&i.isOnValueChanged===!0&&j.isEmpty())&&(E=j.hasErrors(b,i)||E))}if(this.hasPanel){this.ensureDetailPanel();var w=this.detailPanel.hasErrors(b,!1,i);!i.hideErroredPanel&&w&&b&&(i.isSingleDetailPanel&&(i.hideErroredPanel=!0),this.showDetailPanel()),E=w||E}return this.validationValues=void 0,E},x.prototype.updateCellOnColumnChanged=function(b,i,h){b.question[i]=h},x.prototype.updateCellOnColumnItemValueChanged=function(b,i,h,E,S,L){var j=b.question[i];if(Array.isArray(j)){var w=E==="value"?L:h.value,g=O.ItemValue.getItemByValue(j,w);g&&(g[E]=S)}},x.prototype.buildCells=function(b){this.isSettingValue=!0;for(var i=this.data.columns,h=0;h<i.length;h++){var E=i[h],S=this.createCell(E);this.cells.push(S);var L=this.getCellValue(b,E.name);if(!D.Helpers.isValueEmpty(L)){S.question.value=L;var j=E.name+A.Base.commentSuffix;b&&!D.Helpers.isValueEmpty(b[j])&&(S.question.comment=b[j])}}this.isSettingValue=!1},x.prototype.isTwoValueEquals=function(b,i){return D.Helpers.isTwoValueEquals(b,i,!1,!0,!1)},x.prototype.getCellValue=function(b,i){return this.editingObj?P.Serializer.getObjPropertyValue(this.editingObj,i):b?b[i]:void 0},x.prototype.createCell=function(b){return new r(b,this,this.data)},x.prototype.getSurveyData=function(){return this},x.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},x.prototype.getTextProcessor=function(){return this.textPreProcessor},Object.defineProperty(x.prototype,"rowIndex",{get:function(){return this.data?this.data.getRowIndex(this)+1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"editingObj",{get:function(){return this.editingObjValue},enumerable:!1,configurable:!0}),x.prototype.dispose=function(){this.editingObj&&(this.editingObj.onPropertyChanged.remove(this.onEditingObjPropertyChanged),this.editingObjValue=null)},x.prototype.subscribeToChanges=function(b){var i=this;!b||!b.getType||!b.onPropertyChanged||b!==this.editingObj&&(this.editingObjValue=b,this.onEditingObjPropertyChanged=function(h,E){i.updateOnSetValue(E.name,E.newValue)},this.editingObj.onPropertyChanged.add(this.onEditingObjPropertyChanged))},x.prototype.updateOnSetValue=function(b,i){this.isSettingValue=!0;for(var h=this.getQuestionsByName(b),E=0;E<h.length;E++)h[E].value=i;this.isSettingValue=!1},x.RowVariableName="row",x.OwnerVariableName="self",x.IndexVariableName="rowIndex",x.RowValueVariableName="rowValue",x.idCounter=1,x}(),u=function(x){c(b,x);function b(i){var h=x.call(this,i,null)||this;return h.buildCells(null),h}return b.prototype.createCell=function(i){return new t(i,this,this.data)},b.prototype.setValue=function(i,h){this.data&&!this.isSettingValue&&this.data.onTotalValueChanged()},b.prototype.runCondition=function(i,h){var E=0,S;do S=D.Helpers.getUnbindValue(this.value),x.prototype.runCondition.call(this,i,h),E++;while(!D.Helpers.isTwoValueEquals(S,this.value)&&E<3)},b.prototype.updateCellOnColumnChanged=function(i,h,E){i.updateCellQuestion()},b}(o),v=function(x){c(b,x);function b(i){var h=x.call(this,i)||this;return h.isRowChanging=!1,h.lockResetRenderedTable=!1,h.isDoingonAnyValueChanged=!1,h.createItemValues("choices"),h.createLocalizableString("placeholder",h,!1,!0),h.createLocalizableString("keyDuplicationError",h,!1,!0),h.detailPanelValue=h.createNewDetailPanel(),h.detailPanel.selectedElementInDesign=h,h.detailPanel.renderWidth="100%",h.detailPanel.isInteractiveDesignElement=!1,h.detailPanel.showTitle=!1,h.registerPropertyChangedHandlers(["columns","cellType"],function(){h.updateColumnsAndRows()}),h.registerPropertyChangedHandlers(["placeholder","columnColCount","rowTitleWidth","choices"],function(){h.clearRowsAndResetRenderedTable()}),h.registerPropertyChangedHandlers(["columnLayout","addRowLocation","hideColumnsIfEmpty","showHeader","minRowCount","isReadOnly","rowCount","hasFooter","detailPanelMode"],function(){h.resetRenderedTable()}),h.registerPropertyChangedHandlers(["isMobile"],function(){h.resetRenderedTable()}),h}return Object.defineProperty(b,"defaultCellType",{get:function(){return p.settings.matrix.defaultCellType},set:function(i){p.settings.matrix.defaultCellType=i},enumerable:!1,configurable:!0}),b.addDefaultColumns=function(i){for(var h=l.QuestionFactory.DefaultColums,E=0;E<h.length;E++)i.addColumn(h[E])},b.prototype.createColumnValues=function(){var i=this;return this.createNewArray("columns",function(h){h.colOwner=i,i.onAddColumn&&i.onAddColumn(h),i.survey&&i.survey.matrixColumnAdded(i,h)},function(h){h.colOwner=null,i.onRemoveColumn&&i.onRemoveColumn(h)})},b.prototype.getType=function(){return"matrixdropdownbase"},b.prototype.dispose=function(){x.prototype.dispose.call(this),this.clearGeneratedRows()},Object.defineProperty(b.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"isContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"isRowsDynamic",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"isUpdateLocked",{get:function(){return this.isLoadingFromJson||this.isUpdating},enumerable:!1,configurable:!0}),b.prototype.beginUpdate=function(){this.isUpdating=!0},b.prototype.endUpdate=function(){this.isUpdating=!1,this.updateColumnsAndRows()},b.prototype.updateColumnsAndRows=function(){this.updateColumnsIndexes(this.columns),this.updateColumnsCellType(),this.generatedTotalRow=null,this.clearRowsAndResetRenderedTable()},b.prototype.itemValuePropertyChanged=function(i,h,E,S){x.prototype.itemValuePropertyChanged.call(this,i,h,E,S),i.ownerPropertyName==="choices"&&this.clearRowsAndResetRenderedTable()},Object.defineProperty(b.prototype,"columnLayout",{get:function(){return this.getPropertyValue("columnLayout")},set:function(i){this.setPropertyValue("columnLayout",i)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"columnsLocation",{get:function(){return this.columnLayout},set:function(i){this.columnLayout=i},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"detailErrorLocation",{get:function(){return this.getPropertyValue("detailErrorLocation")},set:function(i){this.setPropertyValue("detailErrorLocation",i.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"cellErrorLocation",{get:function(){return this.getPropertyValue("cellErrorLocation")},set:function(i){this.setPropertyValue("cellErrorLocation",i.toLowerCase())},enumerable:!1,configurable:!0}),b.prototype.getChildErrorLocation=function(i){var h=i.parent?this.detailErrorLocation:this.cellErrorLocation;return h!=="default"?h:x.prototype.getChildErrorLocation.call(this,i)},Object.defineProperty(b.prototype,"isColumnLayoutHorizontal",{get:function(){return this.isMobile?!0:this.columnLayout!="vertical"},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"isUniqueCaseSensitive",{get:function(){return this.isUniqueCaseSensitiveValue!==void 0?this.isUniqueCaseSensitiveValue:p.settings.comparator.caseSensitive},set:function(i){this.isUniqueCaseSensitiveValue=i},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"detailPanelMode",{get:function(){return this.getPropertyValue("detailPanelMode")},set:function(i){this.setPropertyValue("detailPanelMode",i)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"detailPanel",{get:function(){return this.detailPanelValue},enumerable:!1,configurable:!0}),b.prototype.getPanel=function(){return this.detailPanel},Object.defineProperty(b.prototype,"detailElements",{get:function(){return this.detailPanel.elements},enumerable:!1,configurable:!0}),b.prototype.createNewDetailPanel=function(){return P.Serializer.createClass("panel")},Object.defineProperty(b.prototype,"hasRowText",{get:function(){return!0},enumerable:!1,configurable:!0}),b.prototype.getFooterText=function(){return null},Object.defineProperty(b.prototype,"canAddRow",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"canRemoveRows",{get:function(){return!1},enumerable:!1,configurable:!0}),b.prototype.canRemoveRow=function(i){return!0},b.prototype.onPointerDown=function(i,h){},b.prototype.onRowsChanged=function(){this.resetRenderedTable(),x.prototype.onRowsChanged.call(this)},b.prototype.onStartRowAddingRemoving=function(){this.lockResetRenderedTable=!0,this.setValueChangedDirectly(!0)},b.prototype.onEndRowAdding=function(){if(this.lockResetRenderedTable=!1,!!this.renderedTable)if(this.renderedTable.isRequireReset())this.resetRenderedTable();else{var i=this.visibleRows.length-1;this.renderedTable.onAddedRow(this.visibleRows[i],i)}},b.prototype.onEndRowRemoving=function(i){this.lockResetRenderedTable=!1,this.renderedTable.isRequireReset()?this.resetRenderedTable():i&&this.renderedTable.onRemovedRow(i)},Object.defineProperty(b.prototype,"renderedTableValue",{get:function(){return this.getPropertyValue("renderedTable",null)},set:function(i){this.setPropertyValue("renderedTable",i)},enumerable:!1,configurable:!0}),b.prototype.clearRowsAndResetRenderedTable=function(){this.clearGeneratedRows(),this.resetRenderedTable(),this.fireCallback(this.columnsChangedCallback)},b.prototype.resetRenderedTable=function(){this.lockResetRenderedTable||this.isUpdateLocked||(this.renderedTableValue=null,this.fireCallback(this.onRenderedTableResetCallback))},b.prototype.clearGeneratedRows=function(){if(this.generatedVisibleRows){for(var i=0;i<this.generatedVisibleRows.length;i++)this.generatedVisibleRows[i].dispose();x.prototype.clearGeneratedRows.call(this)}},Object.defineProperty(b.prototype,"isRendredTableCreated",{get:function(){return!!this.renderedTableValue},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"renderedTable",{get:function(){return this.renderedTableValue||(this.renderedTableValue=this.createRenderedTable(),this.onRenderedTableCreatedCallback&&this.onRenderedTableCreatedCallback(this.renderedTableValue)),this.renderedTableValue},enumerable:!1,configurable:!0}),b.prototype.createRenderedTable=function(){return new s.QuestionMatrixDropdownRenderedTable(this)},b.prototype.onMatrixRowCreated=function(i){if(this.survey)for(var h={rowValue:i.value,row:i,column:null,columnName:null,cell:null,cellQuestion:null,value:null},E=0;E<this.visibleColumns.length;E++){h.column=this.visibleColumns[E],h.columnName=h.column.name;var S=i.cells[E];h.cell=S,h.cellQuestion=S.question,h.value=S.value,this.onCellCreatedCallback&&this.onCellCreatedCallback(h),this.survey.matrixCellCreated(this,h)}},Object.defineProperty(b.prototype,"cellType",{get:function(){return this.getPropertyValue("cellType",p.settings.matrix.defaultCellType)},set:function(i){i=i.toLowerCase(),this.setPropertyValue("cellType",i)},enumerable:!1,configurable:!0}),b.prototype.updateColumnsCellType=function(){for(var i=0;i<this.columns.length;i++)this.columns[i].defaultCellTypeChanged()},b.prototype.updateColumnsIndexes=function(i){for(var h=0;h<i.length;h++)i[h].setIndex(h)},Object.defineProperty(b.prototype,"columnColCount",{get:function(){return this.getPropertyValue("columnColCount")},set:function(i){i<0||i>4||this.setPropertyValue("columnColCount",i)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"horizontalScroll",{get:function(){return this.getPropertyValue("horizontalScroll")},set:function(i){this.setPropertyValue("horizontalScroll",i)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"allowAdaptiveActions",{get:function(){return this.getPropertyValue("allowAdaptiveActions")},set:function(i){this.setPropertyValue("allowAdaptiveActions",i),this.detailPanel&&(this.detailPanel.allowAdaptiveActions=i)},enumerable:!1,configurable:!0}),b.prototype.getRequiredText=function(){return this.survey?this.survey.requiredText:""},b.prototype.hasChoices=function(){return this.choices.length>0},b.prototype.onColumnPropertyChanged=function(i,h,E){if(this.updateHasFooter(),!!this.generatedVisibleRows){for(var S=0;S<this.generatedVisibleRows.length;S++)this.generatedVisibleRows[S].updateCellQuestionOnColumnChanged(i,h,E);this.generatedTotalRow&&this.generatedTotalRow.updateCellQuestionOnColumnChanged(i,h,E),this.onColumnsChanged(),h=="isRequired"&&this.resetRenderedTable()}},b.prototype.onColumnItemValuePropertyChanged=function(i,h,E,S,L,j){if(this.generatedVisibleRows)for(var w=0;w<this.generatedVisibleRows.length;w++)this.generatedVisibleRows[w].updateCellQuestionOnColumnItemValueChanged(i,h,E,S,L,j)},b.prototype.onShowInMultipleColumnsChanged=function(i){this.resetTableAndRows()},b.prototype.onColumnVisibilityChanged=function(i){this.resetTableAndRows()},b.prototype.onColumnCellTypeChanged=function(i){this.resetTableAndRows()},b.prototype.resetTableAndRows=function(){this.clearGeneratedRows(),this.resetRenderedTable()},b.prototype.getRowTitleWidth=function(){return""},Object.defineProperty(b.prototype,"hasFooter",{get:function(){return this.getPropertyValue("hasFooter",!1)},enumerable:!1,configurable:!0}),b.prototype.getAddRowLocation=function(){return"default"},b.prototype.getShowColumnsIfEmpty=function(){return!1},b.prototype.updateShowTableAndAddRow=function(){this.renderedTable&&this.renderedTable.updateShowTableAndAddRow()},b.prototype.updateHasFooter=function(){this.setPropertyValue("hasFooter",this.hasTotal)},Object.defineProperty(b.prototype,"hasTotal",{get:function(){for(var i=0;i<this.columns.length;i++)if(this.columns[i].hasTotal)return!0;return!1},enumerable:!1,configurable:!0}),b.prototype.getCellType=function(){return this.cellType},b.prototype.getCustomCellType=function(i,h,E){if(!this.survey)return E;var S={rowValue:h.value,row:h,column:i,columnName:i.name,cellType:E};return this.survey.matrixCellCreating(this,S),S.cellType},b.prototype.getConditionJson=function(i,h){if(i===void 0&&(i=null),h===void 0&&(h=null),!h)return x.prototype.getConditionJson.call(this);for(var E="",S=h.length-1;S>=0&&h[S]!=".";S--)E=h[S]+E;var L=this.getColumnByName(E);if(!L)return null;var j=L.createCellQuestion(null);return j?j.getConditionJson(i):null},b.prototype.clearIncorrectValues=function(){var i=this.visibleRows;if(i)for(var h=0;h<i.length;h++)i[h].clearIncorrectValues(this.getRowValue(h))},b.prototype.clearErrors=function(){x.prototype.clearErrors.call(this),this.runFuncForCellQuestions(function(i){i.clearErrors()})},b.prototype.localeChanged=function(){x.prototype.localeChanged.call(this),this.runFuncForCellQuestions(function(i){i.localeChanged()})},b.prototype.runFuncForCellQuestions=function(i){if(this.generatedVisibleRows)for(var h=0;h<this.generatedVisibleRows.length;h++)for(var E=this.generatedVisibleRows[h],S=0;S<E.cells.length;S++)i(E.cells[S].question)},b.prototype.runCondition=function(i,h){x.prototype.runCondition.call(this,i,h);var E=0,S;do S=D.Helpers.getUnbindValue(this.totalValue),this.runCellsCondition(i,h),this.runTotalsCondition(i,h),E++;while(!D.Helpers.isTwoValueEquals(S,this.totalValue)&&E<3)},b.prototype.runTriggers=function(i,h){x.prototype.runTriggers.call(this,i,h),this.runFuncForCellQuestions(function(E){E.runTriggers(i,h)})},b.prototype.shouldRunColumnExpression=function(){return!1},b.prototype.runCellsCondition=function(i,h){if(this.generatedVisibleRows){for(var E=this.getRowConditionValues(i),S=this.generatedVisibleRows,L=0;L<S.length;L++)S[L].runCondition(E,h);this.checkColumnsVisibility(),this.checkColumnsRenderedRequired()}},b.prototype.checkColumnsVisibility=function(){if(!this.isDesignMode){for(var i=!1,h=0;h<this.visibleColumns.length;h++){var E=this.visibleColumns[h];!E.visibleIf&&!E.isFilteredMultipleColumns||(i=this.isColumnVisibilityChanged(E)||i)}i&&this.resetRenderedTable()}},b.prototype.checkColumnsRenderedRequired=function(){for(var i=this.generatedVisibleRows,h=0;h<this.visibleColumns.length;h++){var E=this.visibleColumns[h];if(E.requiredIf){for(var S=i.length>0,L=0;L<i.length;L++)if(!i[L].cells[h].question.isRequired){S=!1;break}E.updateIsRenderedRequired(S)}}},b.prototype.isColumnVisibilityChanged=function(i){for(var h=i.isColumnVisible,E=i.isFilteredMultipleColumns,S=E?i.getVisibleChoicesInCell:[],L=new Array,j=!1,w=this.generatedVisibleRows,g=0;g<w.length;g++){var I=w[g].cells[i.index],T=I?.question;if(T&&T.isVisible)if(j=!0,E)this.updateNewVisibleChoices(T,L);else break}return i.hasVisibleCell=j,E&&(i.setVisibleChoicesInCell(L),!D.Helpers.isArraysEqual(S,L,!0,!1,!1))?!0:h!==i.isColumnVisible},b.prototype.updateNewVisibleChoices=function(i,h){var E=i.visibleChoices;if(Array.isArray(E))for(var S=0;S<E.length;S++){var L=E[S];h.indexOf(L.value)<0&&h.push(L.value)}},b.prototype.runTotalsCondition=function(i,h){this.generatedTotalRow&&this.generatedTotalRow.runCondition(this.getRowConditionValues(i),h)},b.prototype.getRowConditionValues=function(i){var h=i;h||(h={});var E={};return this.isValueEmpty(this.totalValue)||(E=JSON.parse(JSON.stringify(this.totalValue))),h.row={},h.totalRow=E,h},b.prototype.IsMultiplyColumn=function(i){return i.isShowInMultipleColumns&&!this.isMobile},b.prototype.locStrsChanged=function(){x.prototype.locStrsChanged.call(this);for(var i=this.columns,h=0;h<i.length;h++)i[h].locStrsChanged();var E=this.generatedVisibleRows;if(E){for(var h=0;h<E.length;h++)E[h].locStrsChanged();this.generatedTotalRow&&this.generatedTotalRow.locStrsChanged()}},b.prototype.getColumnByName=function(i){for(var h=0;h<this.columns.length;h++)if(this.columns[h].name==i)return this.columns[h];return null},b.prototype.getColumnName=function(i){return this.getColumnByName(i)},b.prototype.getColumnWidth=function(i){var h;return i.minWidth?i.minWidth:this.columnMinWidth?this.columnMinWidth:((h=p.settings.matrix.columnWidthsByType[i.cellType])===null||h===void 0?void 0:h.minWidth)||""},Object.defineProperty(b.prototype,"choices",{get:function(){return this.getPropertyValue("choices")},set:function(i){this.setPropertyValue("choices",i)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("placeholder")},set:function(i){this.setLocalizableStringText("placeholder",i)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("placeholder")},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"optionsCaption",{get:function(){return this.placeholder},set:function(i){this.placeholder=i},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"keyDuplicationError",{get:function(){return this.getLocalizableStringText("keyDuplicationError")},set:function(i){this.setLocalizableStringText("keyDuplicationError",i)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"locKeyDuplicationError",{get:function(){return this.getLocalizableString("keyDuplicationError")},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"storeOthersAsComment",{get:function(){return this.survey?this.survey.storeOthersAsComment:!1},enumerable:!1,configurable:!0}),b.prototype.addColumn=function(i,h){h===void 0&&(h=null);var E=new m.MatrixDropdownColumn(i,h);return this.columns.push(E),E},b.prototype.getVisibleRows=function(){var i=this;return this.isUpdateLocked?null:(this.generatedVisibleRows||(this.generatedVisibleRows=this.generateRows(),this.generatedVisibleRows.forEach(function(h){return i.onMatrixRowCreated(h)}),this.data&&this.runCellsCondition(this.data.getFilteredValues(),this.data.getFilteredProperties()),this.updateValueOnRowsGeneration(this.generatedVisibleRows),this.updateIsAnswered()),this.generatedVisibleRows)},b.prototype.updateValueOnRowsGeneration=function(i){for(var h=this.createNewValue(!0),E=this.createNewValue(),S=0;S<i.length;S++){var L=i[S];if(!L.editingObj){var j=this.getRowValue(S),w=L.value;this.isTwoValueEquals(j,w)||(E=this.getNewValueOnRowChanged(L,"",w,!1,E).value)}}this.isTwoValueEquals(h,E)||(this.isRowChanging=!0,this.setNewValue(E),this.isRowChanging=!1)},Object.defineProperty(b.prototype,"totalValue",{get:function(){return!this.hasTotal||!this.visibleTotalRow?{}:this.visibleTotalRow.value},enumerable:!1,configurable:!0}),b.prototype.getVisibleTotalRow=function(){if(this.isUpdateLocked)return null;if(this.hasTotal){if(!this.generatedTotalRow&&(this.generatedTotalRow=this.generateTotalRow(),this.data)){var i={survey:this.survey};this.runTotalsCondition(this.data.getAllValues(),i)}}else this.generatedTotalRow=null;return this.generatedTotalRow},Object.defineProperty(b.prototype,"visibleTotalRow",{get:function(){return this.getVisibleTotalRow()},enumerable:!1,configurable:!0}),b.prototype.onSurveyLoad=function(){x.prototype.onSurveyLoad.call(this),this.updateColumnsIndexes(this.columns),this.clearGeneratedRows(),this.generatedTotalRow=null,this.updateHasFooter()},b.prototype.getRowValue=function(i){if(i<0)return null;var h=this.visibleRows;if(i>=h.length)return null;var E=this.createNewValue();return this.getRowValueCore(h[i],E)},b.prototype.checkIfValueInRowDuplicated=function(i,h){if(!this.generatedVisibleRows)return!1;for(var E=!1,S=0;S<this.generatedVisibleRows.length;S++){var L=this.generatedVisibleRows[S];if(i!==L&&D.Helpers.isTwoValueEquals(L.getValue(h.name),h.value,!0,this.isUniqueCaseSensitive)){E=!0;break}}return E?this.addDuplicationError(h):h.clearErrors(),E},b.prototype.setRowValue=function(i,h){if(i<0)return null;var E=this.visibleRows;if(i>=E.length)return null;E[i].value=h,this.onRowChanged(E[i],"",h,!1)},b.prototype.generateRows=function(){return null},b.prototype.generateTotalRow=function(){return new u(this)},b.prototype.createNewValue=function(i){i===void 0&&(i=!1);var h=this.value?this.createValueCopy():{};return i&&this.isMatrixValueEmpty(h)?null:h},b.prototype.getRowValueCore=function(i,h,E){E===void 0&&(E=!1);var S=h&&h[i.rowName]?h[i.rowName]:null;return!S&&E&&(S={},h&&(h[i.rowName]=S)),S},b.prototype.getRowObj=function(i){var h=this.getRowValueCore(i,this.value);return h&&h.getType?h:null},b.prototype.getRowDisplayValue=function(i,h,E){if(!E||h.editingObj)return E;for(var S=Object.keys(E),L=0;L<S.length;L++){var j=S[L],w=h.getQuestionByName(j);if(w||(w=this.getSharedQuestionByName(j,h)),w){var g=w.getDisplayValue(i,E[j]);i&&w.title&&w.title!==j?(E[w.title]=g,delete E[j]):E[j]=g}}return E},b.prototype.getPlainData=function(i){var h=this;i===void 0&&(i={includeEmpty:!0});var E=x.prototype.getPlainData.call(this,i);if(E){E.isNode=!0;var S=Array.isArray(E.data)?[].concat(E.data):[];E.data=this.visibleRows.map(function(L){var j={name:L.dataName,title:L.text,value:L.value,displayValue:h.getRowDisplayValue(!1,L,L.value),getString:function(w){return typeof w=="object"?JSON.stringify(w):w},isNode:!0,data:L.cells.map(function(w){return w.question.getPlainData(i)}).filter(function(w){return!!w})};return(i.calculations||[]).forEach(function(w){j[w.propertyName]=L[w.propertyName]}),j}),E.data=E.data.concat(S)}return E},b.prototype.addConditionObjectsByContext=function(i,h){var E=h?h===!0||this.columns.indexOf(h)>-1:!1,S=this.getConditionObjectsRowIndeces();E&&S.push(-1);for(var L=0;L<S.length;L++){var j=S[L],w=j>-1?this.getConditionObjectRowName(j):"row";if(w)for(var g=j>-1?this.getConditionObjectRowText(j):"row",I=j>-1||h===!0,T=I&&j===-1?".":"",B=(I?this.getValueName():"")+T+w+".",N=(I?this.processedTitle:"")+T+g+".",H=0;H<this.columns.length;H++){var k=this.columns[H];if(!(j===-1&&h===k)){var W={name:B+k.name,text:N+k.fullTitle,question:this};j===-1&&h===!0&&(W.context=this),i.push(W)}}}},b.prototype.onHidingContent=function(){x.prototype.onHidingContent.call(this);var i=[];this.collectNestedQuestions(i,!0),i.forEach(function(h){return h.onHidingContent()})},b.prototype.getIsReadyNestedQuestions=function(){if(!this.generatedVisibleRows)return[];var i=new Array;return this.collectNestedQuestonsInRows(this.generatedVisibleRows,i,!1),this.generatedTotalRow&&this.collectNestedQuestonsInRows([this.generatedTotalRow],i,!1),i},b.prototype.collectNestedQuestionsCore=function(i,h){this.collectNestedQuestonsInRows(this.visibleRows,i,h)},b.prototype.collectNestedQuestonsInRows=function(i,h,E){Array.isArray(i)&&i.forEach(function(S){S.questions.forEach(function(L){return L.collectNestedQuestions(h,E)})})},b.prototype.getConditionObjectRowName=function(i){return""},b.prototype.getConditionObjectRowText=function(i){return this.getConditionObjectRowName(i)},b.prototype.getConditionObjectsRowIndeces=function(){return[]},b.prototype.getProgressInfo=function(){if(this.generatedVisibleRows)return R.SurveyElement.getProgressInfoByElements(this.getCellQuestions(),this.isRequired);var i=A.Base.createProgressInfo();return this.updateProgressInfoByValues(i),i.requiredQuestionCount===0&&this.isRequired&&(i.requiredQuestionCount=1,i.requiredAnsweredQuestionCount=this.isEmpty()?0:1),i},b.prototype.updateProgressInfoByValues=function(i){},b.prototype.updateProgressInfoByRow=function(i,h){for(var E=0;E<this.columns.length;E++){var S=this.columns[E];if(S.templateQuestion.hasInput){i.questionCount+=1,i.requiredQuestionCount+=S.isRequired;var L=!D.Helpers.isValueEmpty(h[S.name]);i.answeredQuestionCount+=L?1:0,i.requiredAnsweredQuestionCount+=L&&S.isRequired?1:0}}},b.prototype.getCellQuestions=function(){var i=[];return this.runFuncForCellQuestions(function(h){i.push(h)}),i},b.prototype.onBeforeValueChanged=function(i){},b.prototype.onSetQuestionValue=function(){if(!this.isRowChanging&&(this.onBeforeValueChanged(this.value),!(!this.generatedVisibleRows||this.generatedVisibleRows.length==0))){this.isRowChanging=!0;for(var i=this.createNewValue(),h=0;h<this.generatedVisibleRows.length;h++){var E=this.generatedVisibleRows[h];this.generatedVisibleRows[h].value=this.getRowValueCore(E,i)}this.isRowChanging=!1}},b.prototype.setQuestionValue=function(i){x.prototype.setQuestionValue.call(this,i,!1),this.onSetQuestionValue(),this.updateIsAnswered()},b.prototype.supportGoNextPageAutomatic=function(){var i=this.generatedVisibleRows;if(i||(i=this.visibleRows),!i)return!0;for(var h=0;h<i.length;h++){var E=this.generatedVisibleRows[h].cells;if(E)for(var S=0;S<E.length;S++){var L=E[S].question;if(L&&(!L.supportGoNextPageAutomatic()||!L.value))return!1}}return!0},b.prototype.getContainsErrors=function(){return x.prototype.getContainsErrors.call(this)||this.checkForAnswersOrErrors(function(i){return i.containsErrors},!1)},b.prototype.getIsAnswered=function(){return x.prototype.getIsAnswered.call(this)&&this.checkForAnswersOrErrors(function(i){return i.isAnswered},!0)},b.prototype.checkForAnswersOrErrors=function(i,h){h===void 0&&(h=!1);var E=this.generatedVisibleRows;if(!E)return!1;for(var S=0;S<E.length;S++){var L=E[S].cells;if(L){for(var j=0;j<L.length;j++)if(L[j]){var w=L[j].question;if(w&&w.isVisible){if(i(w)){if(!h)return!0}else if(h)return!1}}}}return!!h},b.prototype.hasErrors=function(i,h){i===void 0&&(i=!0),h===void 0&&(h=null);var E=this.hasErrorInRows(i,h),S=this.isValueDuplicated();return x.prototype.hasErrors.call(this,i,h)||E||S},b.prototype.getIsRunningValidators=function(){if(x.prototype.getIsRunningValidators.call(this))return!0;if(!this.generatedVisibleRows)return!1;for(var i=0;i<this.generatedVisibleRows.length;i++){var h=this.generatedVisibleRows[i].cells;if(h){for(var E=0;E<h.length;E++)if(h[E]){var S=h[E].question;if(S&&S.isRunningValidators)return!0}}}return!1},b.prototype.getAllErrors=function(){var i=x.prototype.getAllErrors.call(this),h=this.generatedVisibleRows;if(h===null)return i;for(var E=0;E<h.length;E++)for(var S=h[E],L=0;L<S.cells.length;L++){var j=S.cells[L].question.getAllErrors();j&&j.length>0&&(i=i.concat(j))}return i},b.prototype.hasErrorInRows=function(i,h){var E=this,S=this.generatedVisibleRows;this.generatedVisibleRows||(S=this.visibleRows);var L=!1;if(h||(h={}),!S)return h;h.validationValues=this.getDataFilteredValues(),h.isSingleDetailPanel=this.detailPanelMode==="underRowSingle";for(var j=0;j<S.length;j++)L=S[j].hasErrors(i,h,function(){E.raiseOnCompletedAsyncValidators()})||L;return L},b.prototype.isValueDuplicated=function(){if(!this.generatedVisibleRows)return!1;for(var i=this.getUniqueColumns(),h=!1,E=0;E<i.length;E++)h=this.isValueInColumnDuplicated(i[E])||h;return h},b.prototype.isValueInColumnDuplicated=function(i){for(var h=[],E=!1,S=0;S<this.generatedVisibleRows.length;S++)E=this.isValueDuplicatedInRow(this.generatedVisibleRows[S],i,h)||E;return E},b.prototype.getUniqueColumns=function(){for(var i=new Array,h=0;h<this.columns.length;h++)this.columns[h].isUnique&&i.push(this.columns[h]);return i},b.prototype.isValueDuplicatedInRow=function(i,h,E){var S=i.getQuestionByColumn(h);if(!S||S.isEmpty())return!1;for(var L=S.value,j=0;j<E.length;j++)if(D.Helpers.isTwoValueEquals(L,E[j],!0,this.isUniqueCaseSensitive))return this.addDuplicationError(S),!0;return E.push(L),!1},b.prototype.addDuplicationError=function(i){var h=i.errors.find(function(E){return E.getErrorType()==="keyduplicationerror"});h||i.addError(new f.KeyDuplicationError(this.keyDuplicationError,this))},b.prototype.getFirstQuestionToFocus=function(i){return this.getFirstCellQuestion(i)},b.prototype.getFirstInputElementId=function(){var i=this.getFirstCellQuestion(!1);return i?i.inputId:x.prototype.getFirstInputElementId.call(this)},b.prototype.getFirstErrorInputElementId=function(){var i=this.getFirstCellQuestion(!0);return i?i.inputId:x.prototype.getFirstErrorInputElementId.call(this)},b.prototype.getFirstCellQuestion=function(i){if(!this.generatedVisibleRows)return null;for(var h=0;h<this.generatedVisibleRows.length;h++)for(var E=this.generatedVisibleRows[h].cells,S=0;S<E.length;S++)if(!i||E[S].question.currentErrorCount>0)return E[S].question;return null},b.prototype.onReadOnlyChanged=function(){if(x.prototype.onReadOnlyChanged.call(this),!!this.generateRows)for(var i=0;i<this.visibleRows.length;i++)this.visibleRows[i].onQuestionReadOnlyChanged(this.isReadOnly)},b.prototype.createQuestion=function(i,h){return this.createQuestionCore(i,h)},b.prototype.createQuestionCore=function(i,h){var E=h.createCellQuestion(i);return E.setSurveyImpl(i),E.setParentQuestion(this),E.inMatrixMode=!0,E},b.prototype.deleteRowValue=function(i,h){return i&&(delete i[h.rowName],this.isObject(i)&&Object.keys(i).length==0?null:i)},b.prototype.onAnyValueChanged=function(i,h){if(!(this.isUpdateLocked||this.isDoingonAnyValueChanged||!this.generatedVisibleRows)){this.isDoingonAnyValueChanged=!0;for(var E=this.visibleRows,S=0;S<E.length;S++)E[S].onAnyValueChanged(i,h);var L=this.visibleTotalRow;L&&L.onAnyValueChanged(i,h),this.isDoingonAnyValueChanged=!1}},b.prototype.isObject=function(i){return i!==null&&typeof i=="object"},b.prototype.getOnCellValueChangedOptions=function(i,h,E){var S=function(L){return i.getQuestionByName(L)};return{row:i,columnName:h,rowValue:E,value:E?E[h]:null,getCellQuestion:S,cellQuestion:i.getQuestionByName(h),column:this.getColumnByName(h)}},b.prototype.onCellValueChanged=function(i,h,E){if(this.survey){var S=this.getOnCellValueChangedOptions(i,h,E);this.onCellValueChangedCallback&&this.onCellValueChangedCallback(S),this.survey.matrixCellValueChanged(this,S)}},b.prototype.validateCell=function(i,h,E){if(this.survey){var S=this.getOnCellValueChangedOptions(i,h,E);return this.survey.matrixCellValidate(this,S)}},Object.defineProperty(b.prototype,"isValidateOnValueChanging",{get:function(){return this.survey?this.survey.isValidateOnValueChanging:!1},enumerable:!1,configurable:!0}),b.prototype.onRowChanging=function(i,h,E){if(!this.survey&&!this.cellValueChangingCallback)return E?E[h]:null;var S=this.getOnCellValueChangedOptions(i,h,E),L=this.getRowValueCore(i,this.createNewValue(),!0);return S.oldValue=L?L[h]:null,this.cellValueChangingCallback&&(S.value=this.cellValueChangingCallback(i,h,S.value,S.oldValue)),this.survey&&this.survey.matrixCellValueChanging(this,S),S.value},b.prototype.onRowChanged=function(i,h,E,S){var L=h?this.getRowObj(i):null;if(L){var j=null;E&&!S&&(j=E[h]),this.isRowChanging=!0,P.Serializer.setObjPropertyValue(L,h,j),this.isRowChanging=!1,this.onCellValueChanged(i,h,L)}else{var w=this.createNewValue(!0),g=this.getNewValueOnRowChanged(i,h,E,S,this.createNewValue());if(this.isTwoValueEquals(w,g.value))return;this.isRowChanging=!0,this.setNewValue(g.value),this.isRowChanging=!1,h&&this.onCellValueChanged(i,h,g.rowValue)}},b.prototype.getNewValueOnRowChanged=function(i,h,E,S,L){var j=this.getRowValueCore(i,L,!0);S&&delete j[h];for(var w=0;w<i.cells.length;w++){var g=i.cells[w].question.getValueName();delete j[g]}if(E){E=JSON.parse(JSON.stringify(E));for(var g in E)this.isValueEmpty(E[g])||(j[g]=E[g])}return this.isObject(j)&&Object.keys(j).length===0&&(L=this.deleteRowValue(L,i)),{value:L,rowValue:j}},b.prototype.getRowIndex=function(i){return this.generatedVisibleRows?this.visibleRows.indexOf(i):-1},b.prototype.getElementsInDesign=function(i){i===void 0&&(i=!1);var h;return this.detailPanelMode=="none"?h=x.prototype.getElementsInDesign.call(this,i):h=i?[this.detailPanel]:this.detailElements,this.columns.concat(h)},b.prototype.hasDetailPanel=function(i){return this.detailPanelMode=="none"?!1:this.isDesignMode?!0:this.onHasDetailPanelCallback?this.onHasDetailPanelCallback(i):this.detailElements.length>0},b.prototype.getIsDetailPanelShowing=function(i){if(this.detailPanelMode=="none")return!1;if(this.isDesignMode){var h=this.visibleRows.indexOf(i)==0;return h&&(i.detailPanel||i.showDetailPanel()),h}return this.getPropertyValue("isRowShowing"+i.id,!1)},b.prototype.setIsDetailPanelShowing=function(i,h){if(h!=this.getIsDetailPanelShowing(i)&&(this.setPropertyValue("isRowShowing"+i.id,h),this.updateDetailPanelButtonCss(i),this.renderedTable&&this.renderedTable.onDetailPanelChangeVisibility(i,h),h&&this.detailPanelMode==="underRowSingle"))for(var E=this.visibleRows,S=0;S<E.length;S++)E[S].id!==i.id&&E[S].isDetailPanelShowing&&E[S].hideDetailPanel()},b.prototype.getDetailPanelButtonCss=function(i){var h=new e.CssClassBuilder().append(this.getPropertyValue("detailButtonCss"+i.id));return h.append(this.cssClasses.detailButton,h.toString()==="").toString()},b.prototype.getDetailPanelIconCss=function(i){var h=new e.CssClassBuilder().append(this.getPropertyValue("detailIconCss"+i.id));return h.append(this.cssClasses.detailIcon,h.toString()==="").toString()},b.prototype.getDetailPanelIconId=function(i){return this.getIsDetailPanelShowing(i)?this.cssClasses.detailIconExpandedId:this.cssClasses.detailIconId},b.prototype.updateDetailPanelButtonCss=function(i){var h=this.cssClasses,E=this.getIsDetailPanelShowing(i),S=new e.CssClassBuilder().append(h.detailIcon).append(h.detailIconExpanded,E);this.setPropertyValue("detailIconCss"+i.id,S.toString());var L=new e.CssClassBuilder().append(h.detailButton).append(h.detailButtonExpanded,E);this.setPropertyValue("detailButtonCss"+i.id,L.toString())},b.prototype.createRowDetailPanel=function(i){var h=this;if(this.isDesignMode)return this.detailPanel;var E=this.createNewDetailPanel();E.readOnly=this.isReadOnly,E.setSurveyImpl(i);var S=this.detailPanel.toJSON();return new P.JsonObject().toObject(S,E),E.renderWidth="100%",E.updateCustomWidgets(),this.onCreateDetailPanelCallback&&this.onCreateDetailPanelCallback(i,E),E.questions.forEach(function(L){return L.setParentQuestion(h)}),E.onSurveyLoad(),E},b.prototype.getSharedQuestionByName=function(i,h){if(!this.survey||!this.valueName)return null;var E=this.getRowIndex(h);return E<0?null:this.survey.getQuestionByValueNameFromArray(this.valueName,i,E)},b.prototype.onTotalValueChanged=function(){this.data&&this.visibleTotalRow&&!this.isUpdateLocked&&!this.isSett&&this.data.setValue(this.getValueName()+p.settings.matrix.totalsSuffix,this.totalValue,!1)},b.prototype.getDataFilteredValues=function(){return this.data?this.data.getFilteredValues():{}},b.prototype.getParentTextProcessor=function(){if(!this.parentQuestion||!this.parent)return null;var i=this.parent.data;return i&&i.getTextProcessor?i.getTextProcessor():null},b.prototype.getQuestionFromArray=function(i,h){return h>=this.visibleRows.length?null:this.visibleRows[h].getQuestionByName(i)},b.prototype.isMatrixValueEmpty=function(i){if(i){if(Array.isArray(i)){for(var h=0;h<i.length;h++)if(this.isObject(i[h])&&Object.keys(i[h]).length>0)return!1;return!0}return Object.keys(i).length==0}},Object.defineProperty(b.prototype,"SurveyModel",{get:function(){return this.survey},enumerable:!1,configurable:!0}),b.prototype.getCellTemplateData=function(i){return this.SurveyModel.getMatrixCellTemplateData(i)},b.prototype.getCellWrapperComponentName=function(i){return this.SurveyModel.getElementWrapperComponentName(i,i.row instanceof u?"row-footer":"cell")},b.prototype.getCellWrapperComponentData=function(i){return this.SurveyModel.getElementWrapperComponentData(i,i.row instanceof u?"row-footer":"cell")},b.prototype.getColumnHeaderWrapperComponentName=function(i){return this.SurveyModel.getElementWrapperComponentName(i,"column-header")},b.prototype.getColumnHeaderWrapperComponentData=function(i){return this.SurveyModel.getElementWrapperComponentData(i,"column-header")},b.prototype.getRowHeaderWrapperComponentName=function(i){return this.SurveyModel.getElementWrapperComponentName(i,"row-header")},b.prototype.getRowHeaderWrapperComponentData=function(i){return this.SurveyModel.getElementWrapperComponentData(i,"row-header")},Object.defineProperty(b.prototype,"showHorizontalScroll",{get:function(){return!this.isDefaultV2Theme&&this.horizontalScroll},enumerable:!1,configurable:!0}),b.prototype.getRootCss=function(){return new e.CssClassBuilder().append(x.prototype.getRootCss.call(this)).append(this.cssClasses.rootScroll,this.horizontalScroll).toString()},b}(C.QuestionMatrixBaseModel);P.Serializer.addClass("matrixdropdownbase",[{name:"columns:matrixdropdowncolumns",className:"matrixdropdowncolumn",isArray:!0},{name:"columnLayout",alternativeName:"columnsLocation",default:"horizontal",choices:["horizontal","vertical"]},{name:"detailElements",visible:!1,isLightSerializable:!1},{name:"detailPanelMode",choices:["none","underRow","underRowSingle"],default:"none"},{name:"cellErrorLocation",default:"default",choices:["default","top","bottom"]},{name:"detailErrorLocation",default:"default",choices:["default","top","bottom"],visibleIf:function(x){return!!x&&x.detailPanelMode!="none"}},"horizontalScroll:boolean",{name:"choices:itemvalue[]",uniqueProperty:"value"},{name:"placeholder",alternativeName:"optionsCaption",serializationProperty:"locPlaceholder"},{name:"keyDuplicationError",serializationProperty:"locKeyDuplicationError"},{name:"cellType",default:"dropdown",choices:function(){return m.MatrixDropdownColumn.getColumnTypes()}},{name:"columnColCount",default:0,choices:[0,1,2,3,4]},"columnMinWidth",{name:"allowAdaptiveActions:boolean",default:!1,visible:!1}],function(){return new v("")},"matrixbase")},"./src/question_matrixdropdowncolumn.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"matrixDropdownColumnTypes",function(){return l}),d.d(M,"MatrixDropdownColumn",function(){return y});var P=d("./src/jsonobject.ts"),C=d("./src/base.ts"),D=d("./src/question_expression.ts"),A=d("./src/settings.ts"),R=function(){var p=function(f,e){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,s){m.__proto__=s}||function(m,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(m[a]=s[a])},p(f,e)};return function(f,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");p(f,e);function m(){this.constructor=f}f.prototype=e===null?Object.create(e):(m.prototype=e.prototype,new m)}}();function V(p,f,e,m){p.storeOthersAsComment=e?e.storeOthersAsComment:!1,(!p.choices||p.choices.length==0)&&p.choicesByUrl.isEmpty&&(p.choices=e.choices),p.choicesByUrl.isEmpty||p.choicesByUrl.run(m.getTextProcessor())}function O(p,f,e,m){V(p,f,e,m),p.locPlaceholder&&p.locPlaceholder.isEmpty&&!e.locPlaceholder.isEmpty&&(p.optionsCaption=e.optionsCaption)}var l={dropdown:{onCellQuestionUpdate:function(p,f,e,m){O(p,f,e,m)}},checkbox:{onCellQuestionUpdate:function(p,f,e,m){V(p,f,e,m),p.colCount=f.colCount>-1?f.colCount:e.columnColCount}},radiogroup:{onCellQuestionUpdate:function(p,f,e,m){V(p,f,e,m),p.colCount=f.colCount>-1?f.colCount:e.columnColCount}},tagbox:{onCellQuestionUpdate:function(p,f,e,m){V(p,f,e,m)}},text:{},comment:{},boolean:{onCellQuestionUpdate:function(p,f,e,m){p.renderAs=f.renderAs}},expression:{},rating:{}},y=function(p){R(f,p);function f(e,m){m===void 0&&(m=null);var s=p.call(this)||this;return s.colOwnerValue=null,s.indexValue=-1,s._hasVisibleCell=!0,s.previousChoicesId=void 0,s.createLocalizableString("totalFormat",s),s.createLocalizableString("cellHint",s),s.registerPropertyChangedHandlers(["showInMultipleColumns"],function(){s.doShowInMultipleColumnsChanged()}),s.registerPropertyChangedHandlers(["visible"],function(){s.doColumnVisibilityChanged()}),s.updateTemplateQuestion(),s.name=e,m?s.title=m:s.templateQuestion.locTitle.strChanged(),s}return f.getColumnTypes=function(){var e=[];for(var m in l)e.push(m);return e},f.prototype.getOriginalObj=function(){return this.templateQuestion},f.prototype.getClassNameProperty=function(){return"cellType"},f.prototype.getSurvey=function(e){return e===void 0&&(e=!1),this.colOwner?this.colOwner.survey:null},f.prototype.endLoadingFromJson=function(){var e=this;p.prototype.endLoadingFromJson.call(this),this.templateQuestion.autoOtherMode=this.isShowInMultipleColumns,this.templateQuestion.endLoadingFromJson(),this.templateQuestion.onGetSurvey=function(){return e.getSurvey()}},f.prototype.getDynamicPropertyName=function(){return"cellType"},f.prototype.getDynamicType=function(){return this.cellType==="default"?"question":this.calcCellQuestionType(null)},Object.defineProperty(f.prototype,"colOwner",{get:function(){return this.colOwnerValue},set:function(e){this.colOwnerValue=e,e&&(this.updateTemplateQuestion(),this.setParentQuestionToTemplate(this.templateQuestion))},enumerable:!1,configurable:!0}),f.prototype.locStrsChanged=function(){p.prototype.locStrsChanged.call(this),this.locTitle.strChanged()},f.prototype.addUsedLocales=function(e){p.prototype.addUsedLocales.call(this,e),this.templateQuestion.addUsedLocales(e)},Object.defineProperty(f.prototype,"index",{get:function(){return this.indexValue},enumerable:!1,configurable:!0}),f.prototype.setIndex=function(e){this.indexValue=e},f.prototype.getType=function(){return"matrixdropdowncolumn"},Object.defineProperty(f.prototype,"cellType",{get:function(){return this.getPropertyValue("cellType")},set:function(e){e=e.toLocaleLowerCase(),this.updateTemplateQuestion(e),this.setPropertyValue("cellType",e),this.colOwner&&this.colOwner.onColumnCellTypeChanged(this)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"templateQuestion",{get:function(){return this.templateQuestionValue},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"value",{get:function(){return this.templateQuestion.name},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isVisible",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isColumnVisible",{get:function(){return this.isDesignMode?!0:this.visible&&this.hasVisibleCell},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"visible",{get:function(){return this.getPropertyValue("visible")},set:function(e){this.setPropertyValue("visible",e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasVisibleCell",{get:function(){return this._hasVisibleCell},set:function(e){this._hasVisibleCell=e},enumerable:!1,configurable:!0}),f.prototype.getVisibleMultipleChoices=function(){var e=this.templateQuestion.visibleChoices;if(!Array.isArray(e))return[];if(!Array.isArray(this._visiblechoices))return e;for(var m=new Array,s=0;s<e.length;s++){var a=e[s];this._visiblechoices.indexOf(a.value)>-1&&m.push(a)}return m},Object.defineProperty(f.prototype,"getVisibleChoicesInCell",{get:function(){if(Array.isArray(this._visiblechoices))return this._visiblechoices;var e=this.templateQuestion.visibleChoices;return Array.isArray(e)?e:[]},enumerable:!1,configurable:!0}),f.prototype.setVisibleChoicesInCell=function(e){this._visiblechoices=e},Object.defineProperty(f.prototype,"isFilteredMultipleColumns",{get:function(){if(!this.showInMultipleColumns)return!1;var e=this.templateQuestion.choices;if(!Array.isArray(e))return!1;for(var m=0;m<e.length;m++)if(e[m].visibleIf)return!0;return!1},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"name",{get:function(){return this.templateQuestion.name},set:function(e){this.templateQuestion.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"title",{get:function(){return this.templateQuestion.title},set:function(e){this.templateQuestion.title=e},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locTitle",{get:function(){return this.templateQuestion.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"fullTitle",{get:function(){return this.locTitle.textOrHtml},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isRequired",{get:function(){return this.templateQuestion.isRequired},set:function(e){this.templateQuestion.isRequired=e},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isRenderedRequired",{get:function(){return this.getPropertyValue("isRenderedRequired",this.isRequired)},set:function(e){this.setPropertyValue("isRenderedRequired",e)},enumerable:!1,configurable:!0}),f.prototype.updateIsRenderedRequired=function(e){this.isRenderedRequired=e||this.isRequired},Object.defineProperty(f.prototype,"requiredText",{get:function(){return this.isRenderedRequired&&this.getSurvey()?this.getSurvey().requiredText:this.templateQuestion.requiredText},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"requiredErrorText",{get:function(){return this.templateQuestion.requiredErrorText},set:function(e){this.templateQuestion.requiredErrorText=e},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locRequiredErrorText",{get:function(){return this.templateQuestion.locRequiredErrorText},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"readOnly",{get:function(){return this.templateQuestion.readOnly},set:function(e){this.templateQuestion.readOnly=e},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasOther",{get:function(){return this.templateQuestion.hasOther},set:function(e){this.templateQuestion.hasOther=e},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"visibleIf",{get:function(){return this.templateQuestion.visibleIf},set:function(e){this.templateQuestion.visibleIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"enableIf",{get:function(){return this.templateQuestion.enableIf},set:function(e){this.templateQuestion.enableIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"requiredIf",{get:function(){return this.templateQuestion.requiredIf},set:function(e){this.templateQuestion.requiredIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"resetValueIf",{get:function(){return this.templateQuestion.resetValueIf},set:function(e){this.templateQuestion.resetValueIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"defaultValueExpression",{get:function(){return this.templateQuestion.defaultValueExpression},set:function(e){this.templateQuestion.defaultValueExpression=e},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"setValueIf",{get:function(){return this.templateQuestion.setValueIf},set:function(e){this.templateQuestion.setValueIf=e},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"setValueExpession",{get:function(){return this.templateQuestion.setValueExpession},set:function(e){this.templateQuestion.setValueExpession=e},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isUnique",{get:function(){return this.getPropertyValue("isUnique")},set:function(e){this.setPropertyValue("isUnique",e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"showInMultipleColumns",{get:function(){return this.getPropertyValue("showInMultipleColumns")},set:function(e){this.setPropertyValue("showInMultipleColumns",e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isSupportMultipleColumns",{get:function(){return["checkbox","radiogroup"].indexOf(this.cellType)>-1},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isShowInMultipleColumns",{get:function(){return this.showInMultipleColumns&&this.isSupportMultipleColumns},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"validators",{get:function(){return this.templateQuestion.validators},set:function(e){this.templateQuestion.validators=e},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"totalType",{get:function(){return this.getPropertyValue("totalType")},set:function(e){this.setPropertyValue("totalType",e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"totalExpression",{get:function(){return this.getPropertyValue("totalExpression")},set:function(e){this.setPropertyValue("totalExpression",e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasTotal",{get:function(){return this.totalType!="none"||!!this.totalExpression},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"totalFormat",{get:function(){return this.getLocalizableStringText("totalFormat","")},set:function(e){this.setLocalizableStringText("totalFormat",e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locTotalFormat",{get:function(){return this.getLocalizableString("totalFormat")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"cellHint",{get:function(){return this.getLocalizableStringText("cellHint","")},set:function(e){this.setLocalizableStringText("cellHint",e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locCellHint",{get:function(){return this.getLocalizableString("cellHint")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"renderAs",{get:function(){return this.getPropertyValue("renderAs")},set:function(e){this.setPropertyValue("renderAs",e),this.templateQuestion&&(this.templateQuestion.renderAs=e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"totalMaximumFractionDigits",{get:function(){return this.getPropertyValue("totalMaximumFractionDigits")},set:function(e){e<-1||e>20||this.setPropertyValue("totalMaximumFractionDigits",e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"totalMinimumFractionDigits",{get:function(){return this.getPropertyValue("totalMinimumFractionDigits")},set:function(e){e<-1||e>20||this.setPropertyValue("totalMinimumFractionDigits",e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"totalDisplayStyle",{get:function(){return this.getPropertyValue("totalDisplayStyle")},set:function(e){this.setPropertyValue("totalDisplayStyle",e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"totalCurrency",{get:function(){return this.getPropertyValue("totalCurrency")},set:function(e){Object(D.getCurrecyCodes)().indexOf(e)<0||this.setPropertyValue("totalCurrency",e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth","")},set:function(e){this.setPropertyValue("minWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"width",{get:function(){return this.templateQuestion.width},set:function(e){this.templateQuestion.width=e},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount")},set:function(e){e<-1||e>4||this.setPropertyValue("colCount",e)},enumerable:!1,configurable:!0}),f.prototype.getLocale=function(){return this.colOwner?this.colOwner.getLocale():""},f.prototype.getMarkdownHtml=function(e,m){return this.colOwner?this.colOwner.getMarkdownHtml(e,m):void 0},f.prototype.getRenderer=function(e){return this.colOwner?this.colOwner.getRenderer(e):null},f.prototype.getRendererContext=function(e){return this.colOwner?this.colOwner.getRendererContext(e):e},f.prototype.getProcessedText=function(e){return this.colOwner?this.colOwner.getProcessedText(e):e},f.prototype.createCellQuestion=function(e){var m=this.calcCellQuestionType(e),s=this.createNewQuestion(m);return this.callOnCellQuestionUpdate(s,e),s},f.prototype.startLoadingFromJson=function(e){p.prototype.startLoadingFromJson.call(this,e),e&&!e.cellType&&e.choices&&(e.cellType=this.colOwner.getCellType())},f.prototype.updateCellQuestion=function(e,m,s){s===void 0&&(s=null),this.setQuestionProperties(e,s)},f.prototype.callOnCellQuestionUpdate=function(e,m){var s=e.getType(),a=l[s];a&&a.onCellQuestionUpdate&&a.onCellQuestionUpdate(e,this,this.colOwner,m)},f.prototype.defaultCellTypeChanged=function(){this.updateTemplateQuestion()},f.prototype.calcCellQuestionType=function(e){var m=this.getDefaultCellQuestionType();return e&&this.colOwner&&(m=this.colOwner.getCustomCellType(this,e,m)),m},f.prototype.getDefaultCellQuestionType=function(e){return e||(e=this.cellType),e!=="default"?e:this.colOwner?this.colOwner.getCellType():A.settings.matrix.defaultCellType},f.prototype.updateTemplateQuestion=function(e){var m=this,s=this.getDefaultCellQuestionType(e),a=this.templateQuestion?this.templateQuestion.getType():"";s!==a&&(this.templateQuestion&&this.removeProperties(a),this.templateQuestionValue=this.createNewQuestion(s),this.templateQuestion.locOwner=this,this.addProperties(s),this.templateQuestion.onPropertyChanged.add(function(c,r){m.propertyValueChanged(r.name,r.oldValue,r.newValue)}),this.templateQuestion.onItemValuePropertyChanged.add(function(c,r){m.doItemValuePropertyChanged(r.propertyName,r.obj,r.name,r.newValue,r.oldValue)}),this.templateQuestion.isContentElement=!0,this.isLoadingFromJson||(this.templateQuestion.onGetSurvey=function(){return m.getSurvey()}),this.templateQuestion.locTitle.strChanged())},f.prototype.createNewQuestion=function(e){var m=P.Serializer.createClass(e);return m||(m=P.Serializer.createClass("text")),m.loadingOwner=this,m.isEditableTemplateElement=!0,m.autoOtherMode=this.isShowInMultipleColumns,this.setQuestionProperties(m),this.setParentQuestionToTemplate(m),m},f.prototype.setParentQuestionToTemplate=function(e){this.colOwner&&this.colOwner.isQuestion&&e.setParentQuestion(this.colOwner)},f.prototype.setQuestionProperties=function(e,m){var s=this;if(m===void 0&&(m=null),this.templateQuestion){var a=new P.JsonObject().toJsonObject(this.templateQuestion,!0);m&&m(a),a.type=e.getType(),this.cellType==="default"&&this.colOwner&&this.colOwner.hasChoices()&&delete a.choices,delete a.itemComponent,this.jsonObj&&Object.keys(this.jsonObj).forEach(function(c){a[c]=s.jsonObj[c]}),new P.JsonObject().toObject(a,e),e.isContentElement=this.templateQuestion.isContentElement,this.previousChoicesId=void 0,e.loadedChoicesFromServerCallback=function(){if(s.isShowInMultipleColumns&&!(s.previousChoicesId&&s.previousChoicesId!==e.id)){s.previousChoicesId=e.id;var c=e.visibleChoices;s.templateQuestion.choices=c,s.propertyValueChanged("choices",c,c)}}}},f.prototype.propertyValueChanged=function(e,m,s){p.prototype.propertyValueChanged.call(this,e,m,s),e==="isRequired"&&this.updateIsRenderedRequired(s),!(!this.colOwner||this.isLoadingFromJson)&&(this.isShowInMultipleColumns&&["visibleChoices","choices"].indexOf(e)>-1&&this.colOwner.onShowInMultipleColumnsChanged(this),P.Serializer.hasOriginalProperty(this,e)&&this.colOwner.onColumnPropertyChanged(this,e,s))},f.prototype.doItemValuePropertyChanged=function(e,m,s,a,c){P.Serializer.hasOriginalProperty(m,s)&&this.colOwner!=null&&!this.isLoadingFromJson&&this.colOwner.onColumnItemValuePropertyChanged(this,e,m,s,a,c)},f.prototype.doShowInMultipleColumnsChanged=function(){this.colOwner!=null&&this.colOwner.onShowInMultipleColumnsChanged(this),this.templateQuestion&&(this.templateQuestion.autoOtherMode=this.isShowInMultipleColumns)},f.prototype.doColumnVisibilityChanged=function(){this.colOwner!=null&&!this.isDesignMode&&this.colOwner.onColumnVisibilityChanged(this)},f.prototype.getProperties=function(e){return P.Serializer.getDynamicPropertiesByObj(this,e)},f.prototype.removeProperties=function(e){for(var m=this.getProperties(e),s=0;s<m.length;s++){var a=m[s];delete this[a.name],a.serializationProperty&&delete this[a.serializationProperty]}},f.prototype.addProperties=function(e){var m=this.getProperties(e);P.Serializer.addDynamicPropertiesIntoObj(this,this.templateQuestion,m)},f}(C.Base);P.Serializer.addClass("matrixdropdowncolumn",[{name:"!name",isUnique:!0},{name:"title",serializationProperty:"locTitle",dependsOn:"name",onPropertyEditorUpdate:function(p,f){p&&f&&(f.placeholder=p.name)}},{name:"cellHint",serializationProperty:"locCellHint",visible:!1},{name:"cellType",default:"default",choices:function(){var p=y.getColumnTypes();return p.splice(0,0,"default"),p}},{name:"colCount",default:-1,choices:[-1,0,1,2,3,4]},"isRequired:boolean","isUnique:boolean",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},"readOnly:boolean",{name:"minWidth",onPropertyEditorUpdate:function(p,f){p&&f&&(f.value=p.minWidth)}},"width",{name:"visible:switch",default:!0,overridingProperty:"visibleIf"},"visibleIf:condition","enableIf:condition","requiredIf:condition","resetValueIf:condition","setValueIf:condition","setValueExpression:expression",{name:"showInMultipleColumns:boolean",dependsOn:"cellType",visibleIf:function(p){return p.isSupportMultipleColumns}},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"},{name:"totalType",default:"none",choices:["none","sum","count","min","max","avg"]},"totalExpression:expression",{name:"totalFormat",serializationProperty:"locTotalFormat"},{name:"totalDisplayStyle",default:"none",choices:["none","decimal","currency","percent"]},{name:"totalCurrency",choices:function(){return Object(D.getCurrecyCodes)()},default:"USD"},{name:"totalMaximumFractionDigits:number",default:-1},{name:"totalMinimumFractionDigits:number",default:-1},{name:"renderAs",default:"default",visible:!1}],function(){return new y("")})},"./src/question_matrixdropdownrendered.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"QuestionMatrixDropdownRenderedCell",function(){return e}),d.d(M,"QuestionMatrixDropdownRenderedRow",function(){return m}),d.d(M,"QuestionMatrixDropdownRenderedErrorRow",function(){return s}),d.d(M,"QuestionMatrixDropdownRenderedTable",function(){return a});var P=d("./src/jsonobject.ts"),C=d("./src/base.ts"),D=d("./src/itemvalue.ts"),A=d("./src/actions/action.ts"),R=d("./src/actions/adaptive-container.ts"),V=d("./src/utils/cssClassBuilder.ts"),O=d("./src/actions/container.ts"),l=d("./src/settings.ts"),y=function(){var c=function(r,t){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(n[u]=o[u])},c(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");c(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),p=function(c,r,t,n){var o=arguments.length,u=o<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,r,t,n);else for(var x=c.length-1;x>=0;x--)(v=c[x])&&(u=(o<3?v(u):o>3?v(r,t,u):v(r,t))||u);return o>3&&u&&Object.defineProperty(r,t,u),u},f=function(c,r){for(var t=0,n=r.length,o=c.length;t<n;t++,o++)c[o]=r[t];return c},e=function(){function c(){this.minWidth="",this.width="",this.colSpans=1,this.isActionsCell=!1,this.isErrorsCell=!1,this.isDragHandlerCell=!1,this.isDetailRowCell=!1,this.classNameValue="",this.idValue=c.counter++}return Object.defineProperty(c.prototype,"requiredText",{get:function(){return this.column&&this.column.isRenderedRequired?this.column.requiredText:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"hasQuestion",{get:function(){return!!this.question&&!this.isErrorsCell},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"hasTitle",{get:function(){return!!this.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"hasPanel",{get:function(){return!!this.panel},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"item",{get:function(){return this.itemValue},set:function(r){this.itemValue=r,r&&(r.hideCaption=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isChoice",{get:function(){return!!this.item},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isItemChoice",{get:function(){return this.isChoice&&!this.isOtherChoice},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"choiceValue",{get:function(){return this.isChoice?this.item.value:null},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isCheckbox",{get:function(){return this.isItemChoice&&this.question.isDescendantOf("checkbox")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isRadio",{get:function(){return this.isItemChoice&&this.question.isDescendantOf("radiogroup")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isFirstChoice",{get:function(){return this.choiceIndex===0},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"className",{get:function(){var r=new V.CssClassBuilder().append(this.classNameValue);return this.hasQuestion&&r.append(this.question.cssClasses.hasError,this.question.errors.length>0).append(this.question.cssClasses.answered,this.question.isAnswered),r.toString()},set:function(r){this.classNameValue=r},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"headers",{get:function(){if(this.cell&&this.cell.column){if(this.matrix.IsMultiplyColumn(this.cell.column))return this.item?this.item.locText.renderedHtml:"";var r=this.cell.column.cellHint;return r?r.trim()===""?"":this.cell.column.locCellHint.renderedHtml:this.hasQuestion&&this.question.isVisible&&this.question.title?this.question.title:this.cell.column.title}return this.hasQuestion&&this.question.isVisible?this.question.locTitle.renderedHtml:this.hasTitle&&this.locTitle.renderedHtml||""},enumerable:!1,configurable:!0}),c.prototype.getTitle=function(){return this.matrix&&this.matrix.showHeader?this.headers:""},c.prototype.calculateFinalClassName=function(r){var t=this.cell.question.cssClasses,n=new V.CssClassBuilder().append(t.itemValue,!!t).append(t.asCell,!!t);return n.append(r.cell,n.isEmpty()&&!!r).append(r.choiceCell,this.isChoice).toString()},c.prototype.focusIn=function(){this.question&&this.question.focusIn()},c.counter=1,c}(),m=function(c){y(r,c);function r(t,n){n===void 0&&(n=!1);var o=c.call(this)||this;return o.cssClasses=t,o.isDetailRow=n,o.hasEndActions=!1,o.isErrorsRow=!1,o.cells=[],o.idValue=r.counter++,o}return Object.defineProperty(r.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"attributes",{get:function(){return this.row?{"data-sv-drop-target-matrix-row":this.row.id}:{}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"className",{get:function(){var t,n;return new V.CssClassBuilder().append(this.cssClasses.row).append(this.cssClasses.detailRow,this.isDetailRow).append(this.cssClasses.rowHasPanel,(t=this.row)===null||t===void 0?void 0:t.hasPanel).append(this.cssClasses.expandedRow,((n=this.row)===null||n===void 0?void 0:n.isDetailPanelShowing)&&!this.isDetailRow).append(this.cssClasses.rowHasEndActions,this.hasEndActions).append(this.cssClasses.ghostRow,this.isGhostRow).append(this.cssClasses.rowAdditional,this.isAdditionalClasses).toString()},enumerable:!1,configurable:!0}),r.counter=1,p([Object(P.property)({defaultValue:!1})],r.prototype,"isGhostRow",void 0),p([Object(P.property)({defaultValue:!1})],r.prototype,"isAdditionalClasses",void 0),p([Object(P.property)({defaultValue:!0})],r.prototype,"visible",void 0),r}(C.Base),s=function(c){y(r,c);function r(t){var n=c.call(this,t)||this;return n.isErrorsRow=!0,n}return Object.defineProperty(r.prototype,"attributes",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"className",{get:function(){return new V.CssClassBuilder().append(this.cssClasses.row).append(this.cssClasses.errorRow).toString()},enumerable:!1,configurable:!0}),r.prototype.onAfterCreated=function(){var t=this,n=function(){t.visible=t.cells.some(function(o){return o.question&&o.question.hasVisibleErrors})};this.cells.forEach(function(o){o.question&&o.question.registerFunctionOnPropertyValueChanged("hasVisibleErrors",n)}),n()},r}(m),a=function(c){y(r,c);function r(t){var n=c.call(this)||this;return n.matrix=t,n.renderedRowsChangedCallback=function(){},n.hasActionCellInRowsValues={},n.build(),n}return Object.defineProperty(r.prototype,"showTable",{get:function(){return this.getPropertyValue("showTable",!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showHeader",{get:function(){return this.getPropertyValue("showHeader")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showAddRow",{get:function(){return this.getPropertyValue("showAddRow",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showAddRowOnTop",{get:function(){return this.getPropertyValue("showAddRowOnTop",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showAddRowOnBottom",{get:function(){return this.getPropertyValue("showAddRowOnBottom",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showFooter",{get:function(){return this.matrix.hasFooter&&this.matrix.isColumnLayoutHorizontal},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasFooter",{get:function(){return!!this.footerRow},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasRemoveRows",{get:function(){return this.hasRemoveRowsValue},enumerable:!1,configurable:!0}),r.prototype.isRequireReset=function(){return this.hasRemoveRows!=this.matrix.canRemoveRows||!this.matrix.isColumnLayoutHorizontal},Object.defineProperty(r.prototype,"headerRow",{get:function(){return this.headerRowValue},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"footerRow",{get:function(){return this.footerRowValue},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isRowsDragAndDrop",{get:function(){return this.matrix.isRowsDragAndDrop&&this.matrix.isColumnLayoutHorizontal},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showCellErrorsTop",{get:function(){return this.matrix.getErrorLocation()==="top"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showCellErrorsBottom",{get:function(){return this.matrix.getErrorLocation()==="bottom"},enumerable:!1,configurable:!0}),r.prototype.build=function(){this.hasRemoveRowsValue=this.matrix.canRemoveRows;var t=this.matrix.visibleRows;this.cssClasses=this.matrix.cssClasses,this.buildRowsActions(),this.buildHeader(),this.buildRows(),this.buildFooter(),this.updateShowTableAndAddRow()},r.prototype.updateShowTableAndAddRow=function(){var t=this.rows.length>0||this.matrix.isDesignMode||!this.matrix.getShowColumnsIfEmpty();this.setPropertyValue("showTable",t);var n=this.matrix.canAddRow&&t,o=n,u=n;o&&(this.matrix.getAddRowLocation()==="default"?o=!this.matrix.isColumnLayoutHorizontal:o=this.matrix.getAddRowLocation()!=="bottom"),u&&this.matrix.getAddRowLocation()!=="topBottom"&&(u=!o),this.setPropertyValue("showAddRow",this.matrix.canAddRow),this.setPropertyValue("showAddRowOnTop",o),this.setPropertyValue("showAddRowOnBottom",u)},r.prototype.onAddedRow=function(t,n){if(!(this.getRenderedDataRowCount()>=this.matrix.visibleRows.length)){var o=this.getRenderedRowIndexByIndex(n);this.rowsActions.splice(n,0,this.buildRowActions(t)),this.addHorizontalRow(this.rows,t,this.matrix.visibleRows.length==1&&!this.matrix.showHeader,o),this.updateShowTableAndAddRow()}},r.prototype.getRenderedRowIndexByIndex=function(t){for(var n=0,o=0,u=0;u<this.rows.length;u++){if(o===t){(this.rows[u].isErrorsRow||this.rows[u].isDetailRow)&&n++;break}n++,!this.rows[u].isErrorsRow&&!this.rows[u].isDetailRow&&o++}return o<t?this.rows.length:n},r.prototype.getRenderedDataRowCount=function(){for(var t=0,n=0;n<this.rows.length;n++)!this.rows[n].isErrorsRow&&!this.rows[n].isDetailRow&&t++;return t},r.prototype.onRemovedRow=function(t){var n=this.getRenderedRowIndex(t);if(!(n<0)){this.rowsActions.splice(n,1);var o=1;n<this.rows.length-1&&this.showCellErrorsBottom&&this.rows[n+1].isErrorsRow&&o++,n<this.rows.length-1&&(this.rows[n+1].isDetailRow||this.showCellErrorsBottom&&n+1<this.rows.length-1&&this.rows[n+2].isDetailRow)&&o++,n>0&&this.showCellErrorsTop&&this.rows[n-1].isErrorsRow&&(n--,o++),this.rows.splice(n,o),this.updateShowTableAndAddRow()}},r.prototype.onDetailPanelChangeVisibility=function(t,n){var o=this.getRenderedRowIndex(t);if(!(o<0)){var u=o;this.showCellErrorsBottom&&u++;var v=u<this.rows.length-1&&this.rows[u+1].isDetailRow?u+1:-1;if(!(n&&v>-1||!n&&v<0))if(n){var x=this.createDetailPanelRow(t,this.rows[o]);this.rows.splice(u+1,0,x)}else this.rows.splice(v,1)}},r.prototype.getRenderedRowIndex=function(t){for(var n=0;n<this.rows.length;n++)if(this.rows[n].row==t)return n;return-1},r.prototype.buildRowsActions=function(){this.rowsActions=[];for(var t=this.matrix.visibleRows,n=0;n<t.length;n++)this.rowsActions.push(this.buildRowActions(t[n]))},r.prototype.createRenderedRow=function(t,n){return n===void 0&&(n=!1),new m(t,n)},r.prototype.createErrorRenderedRow=function(t){return new s(t)},r.prototype.buildHeader=function(){var t=this.matrix.isColumnLayoutHorizontal&&this.matrix.showHeader,n=t||this.matrix.hasRowText&&!this.matrix.isColumnLayoutHorizontal;if(this.setPropertyValue("showHeader",n),!!n){if(this.headerRowValue=this.createRenderedRow(this.cssClasses),this.isRowsDragAndDrop&&this.headerRow.cells.push(this.createHeaderCell(null,"action")),this.hasActionCellInRows("start")&&this.headerRow.cells.push(this.createHeaderCell(null,"action")),this.matrix.hasRowText&&this.matrix.showHeader&&this.headerRow.cells.push(this.createHeaderCell(null)),this.matrix.isColumnLayoutHorizontal)for(var o=0;o<this.matrix.visibleColumns.length;o++){var u=this.matrix.visibleColumns[o];u.isColumnVisible&&(this.matrix.IsMultiplyColumn(u)?this.createMutlipleColumnsHeader(u):this.headerRow.cells.push(this.createHeaderCell(u)))}else{for(var v=this.matrix.visibleRows,o=0;o<v.length;o++){var x=this.createTextCell(v[o].locText);this.setHeaderCellCssClasses(x),x.row=v[o],this.headerRow.cells.push(x)}if(this.matrix.hasFooter){var x=this.createTextCell(this.matrix.getFooterText());this.setHeaderCellCssClasses(x),this.headerRow.cells.push(x)}}this.hasActionCellInRows("end")&&this.headerRow.cells.push(this.createHeaderCell(null,"action"))}},r.prototype.buildFooter=function(){if(this.showFooter){if(this.footerRowValue=this.createRenderedRow(this.cssClasses),this.isRowsDragAndDrop&&this.footerRow.cells.push(this.createHeaderCell(null)),this.hasActionCellInRows("start")&&this.footerRow.cells.push(this.createHeaderCell(null,"action")),this.matrix.hasRowText){var t=this.createTextCell(this.matrix.getFooterText());t.className=new V.CssClassBuilder().append(t.className).append(this.cssClasses.footerTotalCell).toString(),this.footerRow.cells.push(t)}for(var n=this.matrix.visibleTotalRow.cells,o=0;o<n.length;o++){var u=n[o];if(u.column.isColumnVisible)if(this.matrix.IsMultiplyColumn(u.column))this.createMutlipleColumnsFooter(this.footerRow,u);else{var v=this.createEditCell(u);u.column&&this.setHeaderCellWidth(u.column,v),v.className=new V.CssClassBuilder().append(v.className).append(this.cssClasses.footerCell).toString(),this.footerRow.cells.push(v)}}this.hasActionCellInRows("end")&&this.footerRow.cells.push(this.createHeaderCell(null,"action"))}},r.prototype.buildRows=function(){var t=this.matrix.isColumnLayoutHorizontal?this.buildHorizontalRows():this.buildVerticalRows();this.rows=t},r.prototype.hasActionCellInRows=function(t){return this.hasActionCellInRowsValues[t]===void 0&&(this.hasActionCellInRowsValues[t]=this.hasActionsCellInLocaltion(t)),this.hasActionCellInRowsValues[t]},r.prototype.hasActionsCellInLocaltion=function(t){var n=this;return t=="end"&&this.hasRemoveRows?!0:this.matrix.visibleRows.some(function(o,u){return!n.isValueEmpty(n.getRowActions(u,t))})},r.prototype.canRemoveRow=function(t){return this.matrix.canRemoveRow(t)},r.prototype.buildHorizontalRows=function(){for(var t=this.matrix.visibleRows,n=[],o=0;o<t.length;o++)this.addHorizontalRow(n,t[o],o==0&&!this.matrix.showHeader);return n},r.prototype.addHorizontalRow=function(t,n,o,u){u===void 0&&(u=-1);var v=this.createHorizontalRow(n,o),x=this.createErrorRow(v);if(v.row=n,u<0&&(u=t.length),this.matrix.isMobile){for(var b=[],i=0;i<v.cells.length;i++)this.showCellErrorsTop&&!x.cells[i].isEmpty&&b.push(x.cells[i]),b.push(v.cells[i]),this.showCellErrorsBottom&&!x.cells[i].isEmpty&&b.push(x.cells[i]);v.cells=b,t.splice(u,0,v)}else t.splice.apply(t,f([u,0],this.showCellErrorsTop?[x,v]:[v,x])),u++;n.isDetailPanelShowing&&t.splice(u+1,0,this.createDetailPanelRow(n,v))},r.prototype.getRowDragCell=function(t){var n=new e;return n.isDragHandlerCell=!0,n.className=this.getActionsCellClassName(n),n.row=this.matrix.visibleRows[t],n},r.prototype.getActionsCellClassName=function(t){var n=this;t===void 0&&(t=null);var o=new V.CssClassBuilder().append(this.cssClasses.actionsCell).append(this.cssClasses.actionsCellDrag,t?.isDragHandlerCell).append(this.cssClasses.detailRowCell,t?.isDetailRowCell).append(this.cssClasses.verticalCell,!this.matrix.isColumnLayoutHorizontal);if(t.isActionsCell){var u=t.item.value.actions;this.cssClasses.actionsCellPrefix&&u.forEach(function(v){o.append(n.cssClasses.actionsCellPrefix+"--"+v.id)})}return o.toString()},r.prototype.getRowActionsCell=function(t,n,o){o===void 0&&(o=!1);var u=this.getRowActions(t,n);if(!this.isValueEmpty(u)){var v=new e,x=this.matrix.allowAdaptiveActions?new R.AdaptiveActionContainer:new O.ActionContainer;this.matrix.survey&&this.matrix.survey.getCss().actionBar&&(x.cssClasses=this.matrix.survey.getCss().actionBar),x.setItems(u);var b=new D.ItemValue(x);return v.item=b,v.isActionsCell=!0,v.isDragHandlerCell=!1,v.isDetailRowCell=o,v.className=this.getActionsCellClassName(v),v.row=this.matrix.visibleRows[t],v}return null},r.prototype.getRowActions=function(t,n){var o=this.rowsActions[t];return Array.isArray(o)?o.filter(function(u){return u.location||(u.location="start"),u.location===n}):[]},r.prototype.buildRowActions=function(t){var n=[];return this.setDefaultRowActions(t,n),this.matrix.survey&&(n=this.matrix.survey.getUpdatedMatrixRowActions(this.matrix,t,n)),n},Object.defineProperty(r.prototype,"showRemoveButtonAsIcon",{get:function(){return l.settings.matrix.renderRemoveAsIcon&&this.matrix.survey&&this.matrix.survey.css.root==="sd-root-modern"},enumerable:!1,configurable:!0}),r.prototype.setDefaultRowActions=function(t,n){var o=this,u=this.matrix;this.hasRemoveRows&&this.canRemoveRow(t)&&(this.showRemoveButtonAsIcon?n.push(new A.Action({id:"remove-row",iconName:"icon-delete",iconSize:"auto",component:"sv-action-bar-item",innerCss:new V.CssClassBuilder().append(this.matrix.cssClasses.button).append(this.matrix.cssClasses.buttonRemove).toString(),location:"end",showTitle:!1,title:u.removeRowText,enabled:!u.isInputReadOnly,data:{row:t,question:u},action:function(){u.removeRowUI(t)}})):n.push(new A.Action({id:"remove-row",location:"end",enabled:!this.matrix.isInputReadOnly,component:"sv-matrix-remove-button",data:{row:t,question:this.matrix}}))),t.hasPanel&&(this.matrix.isMobile?n.unshift(new A.Action({id:"show-detail-mobile",title:"Show Details",showTitle:!0,location:"end",action:function(v){v.title=t.isDetailPanelShowing?o.matrix.getLocalizationString("showDetails"):o.matrix.getLocalizationString("hideDetails"),t.showHideDetailPanelClick()}})):n.push(new A.Action({id:"show-detail",title:this.matrix.getLocalizationString("editText"),showTitle:!1,location:"start",component:"sv-matrix-detail-button",data:{row:t,question:this.matrix}})))},r.prototype.createErrorRow=function(t){for(var n=this.createErrorRenderedRow(this.cssClasses),o=0;o<t.cells.length;o++){var u=t.cells[o];u.hasQuestion?this.matrix.IsMultiplyColumn(u.cell.column)?u.isFirstChoice?n.cells.push(this.createErrorCell(u.cell)):n.cells.push(this.createEmptyCell(!0)):n.cells.push(this.createErrorCell(u.cell)):n.cells.push(this.createEmptyCell(!0))}return n.onAfterCreated(),n},r.prototype.createHorizontalRow=function(t,n){var o=this.createRenderedRow(this.cssClasses);if(this.isRowsDragAndDrop){var u=this.matrix.visibleRows.indexOf(t);o.cells.push(this.getRowDragCell(u))}if(this.addRowActionsCell(t,o,"start"),this.matrix.hasRowText){var v=this.createTextCell(t.locText);v.row=t,o.cells.push(v),this.setHeaderCellWidth(null,v),v.className=new V.CssClassBuilder().append(v.className).append(this.cssClasses.rowTextCell).append(this.cssClasses.columnTitleCell,!this.matrix.isColumnLayoutHorizontal).append(this.cssClasses.detailRowText,t.hasPanel).toString()}for(var x=0;x<t.cells.length;x++){var b=t.cells[x];if(b.column.isColumnVisible)if(this.matrix.IsMultiplyColumn(b.column))this.createMutlipleEditCells(o,b);else{b.column.isShowInMultipleColumns&&b.question.visibleChoices.map(function(h){return h.hideCaption=!1});var v=this.createEditCell(b);o.cells.push(v),n&&this.setHeaderCellWidth(b.column,v)}}return this.addRowActionsCell(t,o,"end"),o},r.prototype.addRowActionsCell=function(t,n,o){var u=this.matrix.visibleRows.indexOf(t);if(this.hasActionCellInRows(o)){var v=this.getRowActionsCell(u,o,n.isDetailRow);if(v)n.cells.push(v),n.hasEndActions=!0;else{var x=new e;x.isEmpty=!0,x.isDetailRowCell=n.isDetailRow,n.cells.push(x)}}},r.prototype.createDetailPanelRow=function(t,n){var o=this.matrix.isDesignMode,u=this.createRenderedRow(this.cssClasses,!0);u.row=t;var v=new e;this.matrix.hasRowText&&(v.colSpans=2),v.isEmpty=!0,o||u.cells.push(v);var x=null;this.hasActionCellInRows("end")&&(x=new e,x.isEmpty=!0);var b=new e;return b.panel=t.detailPanel,b.colSpans=n.cells.length-(o?0:v.colSpans)-(x?x.colSpans:0),b.className=this.cssClasses.detailPanelCell,u.cells.push(b),x&&(this.matrix.isMobile?this.addRowActionsCell(t,u,"end"):u.cells.push(x)),typeof this.matrix.onCreateDetailPanelRenderedRowCallback=="function"&&this.matrix.onCreateDetailPanelRenderedRowCallback(u),u},r.prototype.buildVerticalRows=function(){for(var t=this.matrix.columns,n=[],o=0;o<t.length;o++){var u=t[o];if(u.isColumnVisible)if(this.matrix.IsMultiplyColumn(u))this.createMutlipleVerticalRows(n,u,o);else{var v=this.createVerticalRow(u,o),x=this.createErrorRow(v);this.showCellErrorsTop?(n.push(x),n.push(v)):(n.push(v),n.push(x))}}return this.hasActionCellInRows("end")&&n.push(this.createEndVerticalActionRow()),n},r.prototype.createMutlipleVerticalRows=function(t,n,o){var u=this.getMultipleColumnChoices(n);if(u)for(var v=0;v<u.length;v++){var x=this.createVerticalRow(n,o,u[v],v),b=this.createErrorRow(x);this.showCellErrorsTop?(t.push(b),t.push(x)):(t.push(x),t.push(b))}},r.prototype.createVerticalRow=function(t,n,o,u){o===void 0&&(o=null),u===void 0&&(u=-1);var v=this.createRenderedRow(this.cssClasses);if(this.matrix.showHeader){var x=o?o.locText:t.locTitle,b=this.createTextCell(x);b.column=t,b.className=new V.CssClassBuilder().append(b.className).append(this.cssClasses.rowTextCell).append(this.cssClasses.columnTitleCell).toString(),v.cells.push(b)}for(var i=this.matrix.visibleRows,h=0;h<i.length;h++){var E=o,S=u>=0?u:h,L=i[h].cells[n],j=o?L.question.visibleChoices:void 0;j&&S<j.length&&(E=j[S]);var w=this.createEditCell(L,E);w.item=E,w.choiceIndex=S,v.cells.push(w)}return this.matrix.hasTotal&&v.cells.push(this.createEditCell(this.matrix.visibleTotalRow.cells[n])),v},r.prototype.createEndVerticalActionRow=function(){var t=this.createRenderedRow(this.cssClasses);this.matrix.showHeader&&t.cells.push(this.createEmptyCell());for(var n=this.matrix.visibleRows,o=0;o<n.length;o++)t.cells.push(this.getRowActionsCell(o,"end"));return this.matrix.hasTotal&&t.cells.push(this.createEmptyCell()),t},r.prototype.createMutlipleEditCells=function(t,n,o){o===void 0&&(o=!1);var u=o?this.getMultipleColumnChoices(n.column):n.question.visibleChoices;if(u)for(var v=0;v<u.length;v++){var x=this.createEditCell(n,o?void 0:u[v]);o||(this.setItemCellCssClasses(x),x.choiceIndex=v),t.cells.push(x)}},r.prototype.setItemCellCssClasses=function(t){t.className=new V.CssClassBuilder().append(this.cssClasses.itemCell).append(this.cssClasses.radioCell,t.isRadio).append(this.cssClasses.checkboxCell,t.isCheckbox).toString()},r.prototype.createEditCell=function(t,n){n===void 0&&(n=void 0);var o=new e;return o.cell=t,o.row=t.row,o.question=t.question,o.matrix=this.matrix,o.item=n,o.isOtherChoice=!!n&&!!t.question&&t.question.otherItem===n,o.className=o.calculateFinalClassName(this.cssClasses),o},r.prototype.createErrorCell=function(t,n){n===void 0&&(n=void 0);var o=new e;return o.question=t.question,o.row=t.row,o.matrix=this.matrix,o.isErrorsCell=!0,o.className=new V.CssClassBuilder().append(this.cssClasses.cell).append(this.cssClasses.errorsCell).append(this.cssClasses.errorsCellTop,this.showCellErrorsTop).append(this.cssClasses.errorsCellBottom,this.showCellErrorsBottom).toString(),o},r.prototype.createMutlipleColumnsFooter=function(t,n){this.createMutlipleEditCells(t,n,!0)},r.prototype.createMutlipleColumnsHeader=function(t){var n=this.getMultipleColumnChoices(t);if(n)for(var o=0;o<n.length;o++){var u=this.createTextCell(n[o].locText);this.setHeaderCell(t,u),this.setHeaderCellCssClasses(u),this.headerRow.cells.push(u)}},r.prototype.getMultipleColumnChoices=function(t){var n=t.templateQuestion.choices;return n&&Array.isArray(n)&&n.length==0?this.matrix.choices:(n=t.getVisibleMultipleChoices(),!n||!Array.isArray(n)?null:n)},r.prototype.setHeaderCellCssClasses=function(t,n){t.className=new V.CssClassBuilder().append(this.cssClasses.headerCell).append(this.cssClasses.columnTitleCell,this.matrix.isColumnLayoutHorizontal).append(this.cssClasses.emptyCell,!!t.isEmpty).append(this.cssClasses.cell+"--"+n,!!n).toString()},r.prototype.createHeaderCell=function(t,n){n===void 0&&(n=null);var o=t?this.createTextCell(t.locTitle):this.createEmptyCell();return o.column=t,this.setHeaderCell(t,o),n||(n=t&&t.cellType!=="default"?t.cellType:this.matrix.cellType),this.setHeaderCellCssClasses(o,n),o},r.prototype.setHeaderCell=function(t,n){this.setHeaderCellWidth(t,n)},r.prototype.setHeaderCellWidth=function(t,n){n.minWidth=t!=null?this.matrix.getColumnWidth(t):this.matrix.getRowTitleWidth(),n.width=t!=null?t.width:this.matrix.getRowTitleWidth()},r.prototype.createTextCell=function(t){var n=new e;return n.locTitle=t,t&&t.strChanged(),this.cssClasses.cell&&(n.className=this.cssClasses.cell),n},r.prototype.createEmptyCell=function(t){t===void 0&&(t=!1);var n=this.createTextCell(null);return n.isEmpty=!0,n.className=new V.CssClassBuilder().append(this.cssClasses.cell).append(this.cssClasses.emptyCell).append(this.cssClasses.errorsCell,t).toString(),n},p([Object(P.propertyArray)({onPush:function(t,n,o){o.renderedRowsChangedCallback()}})],r.prototype,"rows",void 0),r}(C.Base)},"./src/question_matrixdynamic.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"MatrixDynamicRowModel",function(){return e}),d.d(M,"QuestionMatrixDynamicModel",function(){return m});var P=d("./src/jsonobject.ts"),C=d("./src/questionfactory.ts"),D=d("./src/question_matrixdropdownbase.ts"),A=d("./src/error.ts"),R=d("./src/settings.ts"),V=d("./src/utils/utils.ts"),O=d("./src/dragdrop/matrix-rows.ts"),l=d("./src/utils/cssClassBuilder.ts"),y=d("./src/question_matrixdropdownrendered.ts"),p=d("./src/utils/dragOrClickHelper.ts"),f=function(){var a=function(c,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])},a(c,r)};return function(c,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");a(c,r);function t(){this.constructor=c}c.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}}(),e=function(a){f(c,a);function c(r,t,n){var o=a.call(this,t,n)||this;return o.index=r,o.buildCells(n),o}return Object.defineProperty(c.prototype,"rowName",{get:function(){return this.id},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"dataName",{get:function(){return"row"+(this.index+1)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"text",{get:function(){return"row "+(this.index+1)},enumerable:!1,configurable:!0}),c.prototype.getAccessbilityText=function(){return(this.index+1).toString()},Object.defineProperty(c.prototype,"shortcutText",{get:function(){var r=this.data,t=r.visibleRows.indexOf(this)+1,n=this.cells.length>1?this.cells[1].questionValue:void 0,o=this.cells.length>0?this.cells[0].questionValue:void 0;return n&&n.value||o&&o.value||""+t},enumerable:!1,configurable:!0}),c}(D.MatrixDropdownRowModelBase),m=function(a){f(c,a);function c(r){var t=a.call(this,r)||this;t.rowCounter=0,t.initialRowCount=2,t.setRowCountValueFromData=!1,t.startDragMatrixRow=function(o,u){t.dragDropMatrixRows.startDrag(o,t.draggedRow,t,o.target)},t.createLocalizableString("confirmDeleteText",t,!1,"confirmDelete");var n=t.createLocalizableString("addRowText",t);return n.onGetTextCallback=function(o){return o||t.defaultAddRowText},t.createLocalizableString("removeRowText",t,!1,"removeRow"),t.createLocalizableString("emptyRowsText",t,!1,!0),t.registerPropertyChangedHandlers(["hideColumnsIfEmpty","allowAddRows"],function(){t.updateShowTableAndAddRow()}),t.registerPropertyChangedHandlers(["allowRowsDragAndDrop","isReadOnly"],function(){t.clearRowsAndResetRenderedTable()}),t.dragOrClickHelper=new p.DragOrClickHelper(t.startDragMatrixRow),t}return c.prototype.setSurveyImpl=function(r,t){a.prototype.setSurveyImpl.call(this,r,t),this.dragDropMatrixRows=new O.DragDropMatrixRows(this.survey,null,!0)},c.prototype.isBanStartDrag=function(r){var t=r.target;return t.getAttribute("contenteditable")==="true"||t.nodeName==="INPUT"||!this.isDragHandleAreaValid(t)},c.prototype.isDragHandleAreaValid=function(r){return this.survey.matrixDragHandleArea==="icon"?r.classList.contains(this.cssClasses.dragElementDecorator):!0},c.prototype.onPointerDown=function(r,t){!t||!this.isRowsDragAndDrop||this.isBanStartDrag(r)||t.isDetailPanelShowing||(this.draggedRow=t,this.dragOrClickHelper.onPointerDown(r))},c.prototype.getType=function(){return"matrixdynamic"},Object.defineProperty(c.prototype,"isRowsDynamic",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"confirmDelete",{get:function(){return this.getPropertyValue("confirmDelete")},set:function(r){this.setPropertyValue("confirmDelete",r)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isValueArray",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"keyName",{get:function(){return this.getPropertyValue("keyName","")},set:function(r){this.setPropertyValue("keyName",r)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"defaultRowValue",{get:function(){return this.getPropertyValue("defaultRowValue")},set:function(r){this.setPropertyValue("defaultRowValue",r)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"defaultValueFromLastRow",{get:function(){return this.getPropertyValue("defaultValueFromLastRow")},set:function(r){this.setPropertyValue("defaultValueFromLastRow",r)},enumerable:!1,configurable:!0}),c.prototype.isDefaultValueEmpty=function(){return a.prototype.isDefaultValueEmpty.call(this)&&this.isValueEmpty(this.defaultRowValue)},c.prototype.valueFromData=function(r){if(this.minRowCount<1)return a.prototype.valueFromData.call(this,r);Array.isArray(r)||(r=[]);for(var t=r.length;t<this.minRowCount;t++)r.push({});return r},c.prototype.isNewValueCorrect=function(r){return Array.isArray(r)},c.prototype.setDefaultValue=function(){if(this.isValueEmpty(this.defaultRowValue)||!this.isValueEmpty(this.defaultValue)){a.prototype.setDefaultValue.call(this);return}if(!(!this.isEmpty()||this.rowCount==0)){for(var r=[],t=0;t<this.rowCount;t++)r.push(this.defaultRowValue);this.value=r}},c.prototype.moveRowByIndex=function(r,t){var n=this.createNewValue();if(!(!Array.isArray(n)&&Math.max(r,t)>=n.length)){var o=n[r];n.splice(r,1),n.splice(t,0,o),this.value=n}},c.prototype.clearOnDrop=function(){this.isEditingSurveyElement||this.resetRenderedTable()},c.prototype.initDataUI=function(){this.generatedVisibleRows||this.visibleRows},Object.defineProperty(c.prototype,"rowCount",{get:function(){return this.rowCountValue},set:function(r){if(!(r<0||r>R.settings.matrix.maxRowCount)){this.setRowCountValueFromData=!1;var t=this.rowCountValue;if(this.rowCountValue=r,this.value&&this.value.length>r){var n=this.value;n.splice(r),this.value=n}if(this.isUpdateLocked){this.initialRowCount=r;return}if(this.generatedVisibleRows||t==0){this.generatedVisibleRows||(this.generatedVisibleRows=[]),this.generatedVisibleRows.splice(r);for(var o=t;o<r;o++){var u=this.createMatrixRow(this.getValueForNewRow());this.generatedVisibleRows.push(u),this.onMatrixRowCreated(u)}this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())}this.onRowsChanged()}},enumerable:!1,configurable:!0}),c.prototype.updateProgressInfoByValues=function(r){var t=this.value;Array.isArray(t)||(t=[]);for(var n=0;n<this.rowCount;n++){var o=n<t.length?t[n]:{};this.updateProgressInfoByRow(r,o)}},c.prototype.getValueForNewRow=function(){var r=null;return this.onGetValueForNewRowCallBack&&(r=this.onGetValueForNewRowCallBack(this)),r},Object.defineProperty(c.prototype,"allowRowsDragAndDrop",{get:function(){return this.getPropertyValue("allowRowsDragAndDrop")},set:function(r){this.setPropertyValue("allowRowsDragAndDrop",r)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isRowsDragAndDrop",{get:function(){return this.allowRowsDragAndDrop&&!this.isReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"iconDragElement",{get:function(){return this.cssClasses.iconDragElement},enumerable:!1,configurable:!0}),c.prototype.createRenderedTable=function(){return new s(this)},Object.defineProperty(c.prototype,"rowCountValue",{get:function(){return this.getPropertyValue("rowCount")},set:function(r){this.setPropertyValue("rowCount",r)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"minRowCount",{get:function(){return this.getPropertyValue("minRowCount")},set:function(r){r<0&&(r=0),this.setPropertyValue("minRowCount",r),r>this.maxRowCount&&(this.maxRowCount=r),this.rowCount<r&&(this.rowCount=r)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"maxRowCount",{get:function(){return this.getPropertyValue("maxRowCount")},set:function(r){r<=0||(r>R.settings.matrix.maxRowCount&&(r=R.settings.matrix.maxRowCount),r!=this.maxRowCount&&(this.setPropertyValue("maxRowCount",r),r<this.minRowCount&&(this.minRowCount=r),this.rowCount>r&&(this.rowCount=r)))},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"allowAddRows",{get:function(){return this.getPropertyValue("allowAddRows")},set:function(r){this.setPropertyValue("allowAddRows",r)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"allowRemoveRows",{get:function(){return this.getPropertyValue("allowRemoveRows")},set:function(r){this.setPropertyValue("allowRemoveRows",r),this.isUpdateLocked||this.resetRenderedTable()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"canAddRow",{get:function(){return this.allowAddRows&&!this.isReadOnly&&this.rowCount<this.maxRowCount},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"canRemoveRows",{get:function(){var r=this.allowRemoveRows&&!this.isReadOnly&&this.rowCount>this.minRowCount;return this.canRemoveRowsCallback?this.canRemoveRowsCallback(r):r},enumerable:!1,configurable:!0}),c.prototype.canRemoveRow=function(r){return this.survey?this.survey.matrixAllowRemoveRow(this,r.index,r):!0},c.prototype.addRowUI=function(){this.addRow(!0)},c.prototype.getQuestionToFocusOnAddingRow=function(){for(var r=this.visibleRows[this.visibleRows.length-1],t=0;t<r.cells.length;t++){var n=r.cells[t].question;if(n&&n.isVisible&&!n.isReadOnly)return n}return null},c.prototype.addRow=function(r){var t=this.rowCount,n=this.canAddRow,o={question:this,canAddRow:n,allow:n};this.survey&&this.survey.matrixBeforeRowAdded(o);var u=n!==o.allow?o.allow:n!==o.canAddRow?o.canAddRow:n;if(u&&(this.onStartRowAddingRemoving(),this.addRowCore(),this.onEndRowAdding(),this.detailPanelShowOnAdding&&this.visibleRows.length>0&&this.visibleRows[this.visibleRows.length-1].showDetailPanel(),r&&t!==this.rowCount)){var v=this.getQuestionToFocusOnAddingRow();v&&v.focus()}},Object.defineProperty(c.prototype,"detailPanelShowOnAdding",{get:function(){return this.getPropertyValue("detailPanelShowOnAdding")},set:function(r){this.setPropertyValue("detailPanelShowOnAdding",r)},enumerable:!1,configurable:!0}),c.prototype.hasRowsAsItems=function(){return!1},c.prototype.unbindValue=function(){this.clearGeneratedRows(),this.clearPropertyValue("value"),this.rowCountValue=0,a.prototype.unbindValue.call(this)},c.prototype.isValueSurveyElement=function(r){return this.isEditingSurveyElement||a.prototype.isValueSurveyElement.call(this,r)},c.prototype.addRowCore=function(){var r=this.rowCount;this.rowCount=this.rowCount+1;var t=this.getDefaultRowValue(!0),n=null;if(this.isValueEmpty(t)||(n=this.createNewValue(),n.length==this.rowCount&&(n[n.length-1]=t,this.value=n)),this.data&&(this.runCellsCondition(this.getDataFilteredValues(),this.getDataFilteredProperties()),this.isValueEmpty(t))){var o=this.visibleRows[this.rowCount-1];this.isValueEmpty(o.value)||(n||(n=this.createNewValue()),!this.isValueSurveyElement(n)&&!this.isTwoValueEquals(n[n.length-1],o.value)&&(n[n.length-1]=o.value,this.value=n))}this.survey&&r+1==this.rowCount&&(this.survey.matrixRowAdded(this,this.visibleRows[this.visibleRows.length-1]),this.onRowsChanged())},c.prototype.getDefaultRowValue=function(r){for(var t=null,n=0;n<this.columns.length;n++){var o=this.columns[n].templateQuestion;o&&!this.isValueEmpty(o.getDefaultValue())&&(t=t||{},t[this.columns[n].name]=o.getDefaultValue())}if(!this.isValueEmpty(this.defaultRowValue))for(var u in this.defaultRowValue)t=t||{},t[u]=this.defaultRowValue[u];if(r&&this.defaultValueFromLastRow){var v=this.value;if(v&&Array.isArray(v)&&v.length>=this.rowCount-1){var x=v[this.rowCount-2];for(var u in x)t=t||{},t[u]=x[u]}}return t},c.prototype.removeRowUI=function(r){if(r&&r.rowName){var t=this.visibleRows.indexOf(r);if(t<0)return;r=t}this.removeRow(r)},c.prototype.isRequireConfirmOnRowDelete=function(r){if(!this.confirmDelete||r<0||r>=this.rowCount)return!1;var t=this.createNewValue();return this.isValueEmpty(t)||!Array.isArray(t)||r>=t.length?!1:!this.isValueEmpty(t[r])},c.prototype.removeRow=function(r,t){var n=this;if(this.canRemoveRows&&!(r<0||r>=this.rowCount)){var o=this.visibleRows&&r<this.visibleRows.length?this.visibleRows[r]:null;if(t===void 0&&(t=this.isRequireConfirmOnRowDelete(r)),t){Object(V.confirmActionAsync)(this.confirmDeleteText,function(){n.removeRowAsync(r,o)},void 0,this.getLocale());return}this.removeRowAsync(r,o)}},c.prototype.removeRowAsync=function(r,t){t&&this.survey&&!this.survey.matrixRowRemoving(this,r,t)||(this.onStartRowAddingRemoving(),this.removeRowCore(r),this.onEndRowRemoving(t))},c.prototype.removeRowCore=function(r){var t=this.generatedVisibleRows?this.generatedVisibleRows[r]:null;if(this.generatedVisibleRows&&r<this.generatedVisibleRows.length&&this.generatedVisibleRows.splice(r,1),this.rowCountValue--,this.value){var n=[];Array.isArray(this.value)&&r<this.value.length?n=this.createValueCopy():n=this.createNewValue(),n.splice(r,1),n=this.deleteRowValue(n,null),this.isRowChanging=!0,this.value=n,this.isRowChanging=!1}this.onRowsChanged(),this.survey&&this.survey.matrixRowRemoved(this,r,t)},Object.defineProperty(c.prototype,"confirmDeleteText",{get:function(){return this.getLocalizableStringText("confirmDeleteText")},set:function(r){this.setLocalizableStringText("confirmDeleteText",r)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"locConfirmDeleteText",{get:function(){return this.getLocalizableString("confirmDeleteText")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"addRowText",{get:function(){return this.getLocalizableStringText("addRowText",this.defaultAddRowText)},set:function(r){this.setLocalizableStringText("addRowText",r)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"locAddRowText",{get:function(){return this.getLocalizableString("addRowText")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"defaultAddRowText",{get:function(){return this.getLocalizationString(this.isColumnLayoutHorizontal?"addRow":"addColumn")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"addRowLocation",{get:function(){return this.getPropertyValue("addRowLocation")},set:function(r){this.setPropertyValue("addRowLocation",r)},enumerable:!1,configurable:!0}),c.prototype.getAddRowLocation=function(){return this.addRowLocation},Object.defineProperty(c.prototype,"hideColumnsIfEmpty",{get:function(){return this.getPropertyValue("hideColumnsIfEmpty")},set:function(r){this.setPropertyValue("hideColumnsIfEmpty",r)},enumerable:!1,configurable:!0}),c.prototype.getShowColumnsIfEmpty=function(){return this.hideColumnsIfEmpty},Object.defineProperty(c.prototype,"removeRowText",{get:function(){return this.getLocalizableStringText("removeRowText")},set:function(r){this.setLocalizableStringText("removeRowText",r)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"locRemoveRowText",{get:function(){return this.getLocalizableString("removeRowText")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"emptyRowsText",{get:function(){return this.getLocalizableStringText("emptyRowsText")},set:function(r){this.setLocalizableStringText("emptyRowsText",r)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"locEmptyRowsText",{get:function(){return this.getLocalizableString("emptyRowsText")},enumerable:!1,configurable:!0}),c.prototype.getDisplayValueCore=function(r,t){if(!t||!Array.isArray(t))return t;for(var n=this.getUnbindValue(t),o=this.visibleRows,u=0;u<o.length&&u<n.length;u++){var v=n[u];v&&(n[u]=this.getRowDisplayValue(r,o[u],v))}return n},c.prototype.getConditionObjectRowName=function(r){return"["+r.toString()+"]"},c.prototype.getConditionObjectsRowIndeces=function(){for(var r=[],t=Math.max(this.rowCount,1),n=0;n<Math.min(R.settings.matrix.maxRowCountInCondition,t);n++)r.push(n);return r},c.prototype.supportGoNextPageAutomatic=function(){return!1},Object.defineProperty(c.prototype,"hasRowText",{get:function(){return!1},enumerable:!1,configurable:!0}),c.prototype.onCheckForErrors=function(r,t){a.prototype.onCheckForErrors.call(this,r,t),!t&&this.hasErrorInMinRows()&&r.push(new A.MinRowCountError(this.minRowCount,this))},c.prototype.hasErrorInMinRows=function(){if(this.minRowCount<=0||!this.isRequired||!this.generatedVisibleRows)return!1;for(var r=0,t=0;t<this.generatedVisibleRows.length;t++){var n=this.generatedVisibleRows[t];n.isEmpty||r++}return r<this.minRowCount},c.prototype.getUniqueColumns=function(){var r=a.prototype.getUniqueColumns.call(this);if(this.keyName){var t=this.getColumnByName(this.keyName);t&&r.indexOf(t)<0&&r.push(t)}return r},c.prototype.generateRows=function(){var r=new Array;if(this.rowCount===0)return r;for(var t=this.createNewValue(),n=0;n<this.rowCount;n++)r.push(this.createMatrixRow(this.getRowValueByIndex(t,n)));return this.isValueEmpty(this.getDefaultRowValue(!1))||(this.value=t),r},c.prototype.createMatrixRow=function(r){return new e(this.rowCounter++,this,r)},c.prototype.getInsertedDeletedIndex=function(r,t){for(var n=Math.min(r.length,t.length),o=0;o<n;o++)if(t[o]!==r[o].editingObj)return o;return n},c.prototype.isEditingObjectValueChanged=function(){var r=this.value;if(!this.generatedVisibleRows||!this.isValueSurveyElement(r))return!1;var t=this.lastDeletedRow;this.lastDeletedRow=void 0;var n=this.generatedVisibleRows;if(!Array.isArray(r)||Math.abs(n.length-r.length)>1||n.length===r.length)return!1;var o=this.getInsertedDeletedIndex(n,r);if(n.length>r.length){this.lastDeletedRow=n[o];var u=n[o];n.splice(o,1),this.isRendredTableCreated&&this.renderedTable.onRemovedRow(u)}else{var v=void 0;t&&t.editingObj===r[o]?v=t:v=this.createMatrixRow(r[o]),n.splice(o,0,v),t||this.onMatrixRowCreated(v),this.isRendredTableCreated&&this.renderedTable.onAddedRow(v,o)}return this.setPropertyValueDirectly("rowCount",r.length),!0},c.prototype.onBeforeValueChanged=function(r){if(!(!r||!Array.isArray(r))){var t=r.length;if(t!=this.rowCount&&!(!this.setRowCountValueFromData&&t<this.initialRowCount)&&!this.isEditingObjectValueChanged()&&(this.setRowCountValueFromData=!0,this.rowCountValue=t,!!this.generatedVisibleRows)){if(t==this.generatedVisibleRows.length+1){this.onStartRowAddingRemoving();var n=this.getRowValueByIndex(r,t-1),o=this.createMatrixRow(n);this.generatedVisibleRows.push(o),this.onMatrixRowCreated(o),this.onEndRowAdding()}else this.clearGeneratedRows(),this.generatedVisibleRows=this.visibleRows,this.onRowsChanged();this.setRowCountValueFromData=!1}}},c.prototype.createNewValue=function(){var r=this.createValueCopy();(!r||!Array.isArray(r))&&(r=[]),r.length>this.rowCount&&r.splice(this.rowCount);var t=this.getDefaultRowValue(!1);t=t||{};for(var n=r.length;n<this.rowCount;n++)r.push(this.getUnbindValue(t));return r},c.prototype.deleteRowValue=function(r,t){for(var n=!0,o=0;o<r.length;o++)if(this.isObject(r[o])&&Object.keys(r[o]).length>0){n=!1;break}return n?null:r},c.prototype.getRowValueByIndex=function(r,t){return Array.isArray(r)&&t>=0&&t<r.length?r[t]:null},c.prototype.getRowValueCore=function(r,t,n){if(n===void 0&&(n=!1),!this.generatedVisibleRows)return{};var o=this.getRowValueByIndex(t,this.generatedVisibleRows.indexOf(r));return!o&&n&&(o={}),o},c.prototype.getAddRowButtonCss=function(r){return r===void 0&&(r=!1),new l.CssClassBuilder().append(this.cssClasses.button).append(this.cssClasses.buttonAdd).append(this.cssClasses.emptyRowsButton,r).toString()},c.prototype.getRemoveRowButtonCss=function(){return new l.CssClassBuilder().append(this.cssClasses.button).append(this.cssClasses.buttonRemove).toString()},c.prototype.getRootCss=function(){var r;return new l.CssClassBuilder().append(a.prototype.getRootCss.call(this)).append(this.cssClasses.empty,!(!((r=this.renderedTable)===null||r===void 0)&&r.showTable)).toString()},c}(D.QuestionMatrixDropdownModelBase),s=function(a){f(c,a);function c(){return a!==null&&a.apply(this,arguments)||this}return c.prototype.setDefaultRowActions=function(r,t){a.prototype.setDefaultRowActions.call(this,r,t)},c}(y.QuestionMatrixDropdownRenderedTable);P.Serializer.addClass("matrixdynamic",[{name:"rowsVisibleIf:condition",visible:!1},{name:"allowAddRows:boolean",default:!0},{name:"allowRemoveRows:boolean",default:!0},{name:"rowCount:number",default:2,minValue:0,isBindable:!0},{name:"minRowCount:number",default:0,minValue:0},{name:"maxRowCount:number",default:R.settings.matrix.maxRowCount},{name:"keyName"},"defaultRowValue:rowvalue","defaultValueFromLastRow:boolean",{name:"confirmDelete:boolean"},{name:"confirmDeleteText",dependsOn:"confirmDelete",visibleIf:function(a){return!a||a.confirmDelete},serializationProperty:"locConfirmDeleteText"},{name:"addRowLocation",default:"default",choices:["default","top","bottom","topBottom"]},{name:"addRowText",serializationProperty:"locAddRowText"},{name:"removeRowText",serializationProperty:"locRemoveRowText"},"hideColumnsIfEmpty:boolean",{name:"emptyRowsText:text",serializationProperty:"locEmptyRowsText",dependsOn:"hideColumnsIfEmpty",visibleIf:function(a){return!a||a.hideColumnsIfEmpty}},{name:"detailPanelShowOnAdding:boolean",dependsOn:"detailPanelMode",visibleIf:function(a){return a.detailPanelMode!=="none"}},"allowRowsDragAndDrop:switch"],function(){return new m("")},"matrixdropdownbase"),C.QuestionFactory.Instance.registerQuestion("matrixdynamic",function(a){var c=new m(a);return c.choices=[1,2,3,4,5],D.QuestionMatrixDropdownModelBase.addDefaultColumns(c),c})},"./src/question_multipletext.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"MultipleTextEditorModel",function(){return e}),d.d(M,"MultipleTextItemModel",function(){return m}),d.d(M,"QuestionMultipleTextModel",function(){return s}),d.d(M,"MutlipleTextRow",function(){return a}),d.d(M,"MutlipleTextErrorRow",function(){return c}),d.d(M,"MultipleTextCell",function(){return r}),d.d(M,"MultipleTextErrorCell",function(){return t});var P=d("./src/base.ts"),C=d("./src/survey-element.ts"),D=d("./src/question.ts"),A=d("./src/question_text.ts"),R=d("./src/jsonobject.ts"),V=d("./src/questionfactory.ts"),O=d("./src/helpers.ts"),l=d("./src/utils/cssClassBuilder.ts"),y=d("./src/settings.ts"),p=function(){var n=function(o,u){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,x){v.__proto__=x}||function(v,x){for(var b in x)Object.prototype.hasOwnProperty.call(x,b)&&(v[b]=x[b])},n(o,u)};return function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");n(o,u);function v(){this.constructor=o}o.prototype=u===null?Object.create(u):(v.prototype=u.prototype,new v)}}(),f=function(n,o,u,v){var x=arguments.length,b=x<3?o:v===null?v=Object.getOwnPropertyDescriptor(o,u):v,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(n,o,u,v);else for(var h=n.length-1;h>=0;h--)(i=n[h])&&(b=(x<3?i(b):x>3?i(o,u,b):i(o,u))||b);return x>3&&b&&Object.defineProperty(o,u,b),b},e=function(n){p(o,n);function o(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(o.prototype,"a11y_input_ariaLabel",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"a11y_input_ariaLabelledBy",{get:function(){return null},enumerable:!1,configurable:!0}),o}(A.QuestionTextModel),m=function(n){p(o,n);function o(u,v){u===void 0&&(u=null),v===void 0&&(v=null);var x=n.call(this)||this;return x.focusIn=function(){x.editor.focusIn()},x.editorValue=x.createEditor(u),x.editor.questionTitleTemplateCallback=function(){return""},x.editor.titleLocation="left",v&&(x.title=v),x}return o.prototype.getType=function(){return"multipletextitem"},Object.defineProperty(o.prototype,"id",{get:function(){return this.editor.id},enumerable:!1,configurable:!0}),o.prototype.getOriginalObj=function(){return this.editor},Object.defineProperty(o.prototype,"name",{get:function(){return this.editor.name},set:function(u){this.editor.name=u},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"question",{get:function(){return this.data},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"editor",{get:function(){return this.editorValue},enumerable:!1,configurable:!0}),o.prototype.createEditor=function(u){return new e(u)},o.prototype.addUsedLocales=function(u){n.prototype.addUsedLocales.call(this,u),this.editor.addUsedLocales(u)},o.prototype.localeChanged=function(){n.prototype.localeChanged.call(this),this.editor.localeChanged()},o.prototype.locStrsChanged=function(){n.prototype.locStrsChanged.call(this),this.editor.locStrsChanged()},o.prototype.setData=function(u){this.data=u,u&&(this.editor.defaultValue=u.getItemDefaultValue(this.name),this.editor.setSurveyImpl(this),this.editor.parent=u,this.editor.setParentQuestion(u))},Object.defineProperty(o.prototype,"isRequired",{get:function(){return this.editor.isRequired},set:function(u){this.editor.isRequired=u},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"inputType",{get:function(){return this.editor.inputType},set:function(u){this.editor.inputType=u},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"title",{get:function(){return this.editor.title},set:function(u){this.editor.title=u},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"locTitle",{get:function(){return this.editor.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fullTitle",{get:function(){return this.editor.fullTitle},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"maxLength",{get:function(){return this.editor.maxLength},set:function(u){this.editor.maxLength=u},enumerable:!1,configurable:!0}),o.prototype.getMaxLength=function(){var u=this.getSurvey();return O.Helpers.getMaxLength(this.maxLength,u?u.maxTextLength:-1)},Object.defineProperty(o.prototype,"placeholder",{get:function(){return this.editor.placeholder},set:function(u){this.editor.placeholder=u},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"locPlaceholder",{get:function(){return this.editor.locPlaceholder},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"placeHolder",{get:function(){return this.placeholder},set:function(u){this.placeholder=u},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"locPlaceHolder",{get:function(){return this.locPlaceholder},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"requiredErrorText",{get:function(){return this.editor.requiredErrorText},set:function(u){this.editor.requiredErrorText=u},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"locRequiredErrorText",{get:function(){return this.editor.locRequiredErrorText},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"size",{get:function(){return this.editor.size},set:function(u){this.editor.size=u},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"defaultValueExpression",{get:function(){return this.editor.defaultValueExpression},set:function(u){this.editor.defaultValueExpression=u},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"minValueExpression",{get:function(){return this.editor.minValueExpression},set:function(u){this.editor.minValueExpression=u},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"maxValueExpression",{get:function(){return this.editor.maxValueExpression},set:function(u){this.editor.maxValueExpression=u},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"validators",{get:function(){return this.editor.validators},set:function(u){this.editor.validators=u},enumerable:!1,configurable:!0}),o.prototype.getValidators=function(){return this.validators},Object.defineProperty(o.prototype,"value",{get:function(){return this.data?this.data.getMultipleTextValue(this.name):null},set:function(u){this.data!=null&&this.data.setMultipleTextValue(this.name,u)},enumerable:!1,configurable:!0}),o.prototype.isEmpty=function(){return this.editor.isEmpty()},o.prototype.onValueChanged=function(u){this.valueChangedCallback&&this.valueChangedCallback(u)},o.prototype.getSurveyData=function(){return this},o.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},o.prototype.getTextProcessor=function(){return this.data?this.data.getTextProcessor():null},o.prototype.getValue=function(u){return this.data?this.data.getMultipleTextValue(u):null},o.prototype.setValue=function(u,v){this.data&&this.data.setMultipleTextValue(u,v)},o.prototype.getVariable=function(u){},o.prototype.setVariable=function(u,v){},o.prototype.getComment=function(u){return null},o.prototype.setComment=function(u,v){},o.prototype.getAllValues=function(){return this.data?this.data.getAllValues():this.value},o.prototype.getFilteredValues=function(){return this.getAllValues()},o.prototype.getFilteredProperties=function(){return{survey:this.getSurvey()}},o.prototype.findQuestionByName=function(u){var v=this.getSurvey();return v?v.getQuestionByName(u):null},o.prototype.getValidatorTitle=function(){return this.title},Object.defineProperty(o.prototype,"validatedValue",{get:function(){return this.value},set:function(u){this.value=u},enumerable:!1,configurable:!0}),o.prototype.getDataFilteredValues=function(){return this.getFilteredValues()},o.prototype.getDataFilteredProperties=function(){return this.getFilteredProperties()},o}(P.Base),s=function(n){p(o,n);function o(u){var v=n.call(this,u)||this;return v.isMultipleItemValueChanging=!1,v.createNewArray("items",function(x){x.setData(v),v.survey&&v.survey.multipleTextItemAdded(v,x)}),v.registerPropertyChangedHandlers(["items","colCount","itemErrorLocation"],function(){v.calcVisibleRows()}),v.registerPropertyChangedHandlers(["itemSize"],function(){v.updateItemsSize()}),v}return o.addDefaultItems=function(u){for(var v=V.QuestionFactory.DefaultMutlipleTextItems,x=0;x<v.length;x++)u.addItem(v[x])},o.prototype.getType=function(){return"multipletext"},o.prototype.setSurveyImpl=function(u,v){n.prototype.setSurveyImpl.call(this,u,v);for(var x=0;x<this.items.length;x++)this.items[x].setData(this)},Object.defineProperty(o.prototype,"isAllowTitleLeft",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(u){var v;(v=this.items)===null||v===void 0||v.map(function(x,b){return x.editor.id=u+"_"+b}),this.setPropertyValue("id",u)},enumerable:!1,configurable:!0}),o.prototype.onSurveyLoad=function(){this.editorsOnSurveyLoad(),n.prototype.onSurveyLoad.call(this)},o.prototype.setQuestionValue=function(u,v){v===void 0&&(v=!0),n.prototype.setQuestionValue.call(this,u,v),this.performForEveryEditor(function(x){x.editor.updateValueFromSurvey(x.value)}),this.updateIsAnswered()},o.prototype.onSurveyValueChanged=function(u){n.prototype.onSurveyValueChanged.call(this,u),this.performForEveryEditor(function(v){v.editor.onSurveyValueChanged(v.value)})},o.prototype.updateItemsSize=function(){this.performForEveryEditor(function(u){u.editor.updateInputSize()})},o.prototype.editorsOnSurveyLoad=function(){this.performForEveryEditor(function(u){u.editor.onSurveyLoad()})},o.prototype.performForEveryEditor=function(u){for(var v=0;v<this.items.length;v++){var x=this.items[v];x.editor&&u(x)}},Object.defineProperty(o.prototype,"items",{get:function(){return this.getPropertyValue("items")},set:function(u){this.setPropertyValue("items",u)},enumerable:!1,configurable:!0}),o.prototype.addItem=function(u,v){v===void 0&&(v=null);var x=this.createTextItem(u,v);return this.items.push(x),x},o.prototype.getItemByName=function(u){for(var v=0;v<this.items.length;v++)if(this.items[v].name==u)return this.items[v];return null},o.prototype.addConditionObjectsByContext=function(u,v){for(var x=0;x<this.items.length;x++){var b=this.items[x];u.push({name:this.getValueName()+"."+b.name,text:this.processedTitle+"."+b.fullTitle,question:this})}},o.prototype.collectNestedQuestionsCore=function(u,v){this.items.forEach(function(x){return x.editor.collectNestedQuestions(u,v)})},o.prototype.getConditionJson=function(u,v){if(u===void 0&&(u=null),v===void 0&&(v=null),!v)return n.prototype.getConditionJson.call(this);var x=this.getItemByName(v);if(!x)return null;var b=new R.JsonObject().toJsonObject(x);return b.type="text",b},o.prototype.locStrsChanged=function(){n.prototype.locStrsChanged.call(this);for(var u=0;u<this.items.length;u++)this.items[u].locStrsChanged()},o.prototype.localeChanged=function(){n.prototype.localeChanged.call(this);for(var u=0;u<this.items.length;u++)this.items[u].localeChanged()},Object.defineProperty(o.prototype,"itemErrorLocation",{get:function(){return this.getPropertyValue("itemErrorLocation")},set:function(u){this.setPropertyValue("itemErrorLocation",u)},enumerable:!1,configurable:!0}),o.prototype.getQuestionErrorLocation=function(){return this.itemErrorLocation!=="default"?this.itemErrorLocation:this.getErrorLocation()},Object.defineProperty(o.prototype,"showItemErrorOnTop",{get:function(){return this.getQuestionErrorLocation()=="top"},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"showItemErrorOnBottom",{get:function(){return this.getQuestionErrorLocation()=="bottom"},enumerable:!1,configurable:!0}),o.prototype.getChildErrorLocation=function(u){return this.getQuestionErrorLocation()},o.prototype.isNewValueCorrect=function(u){return O.Helpers.isValueObject(u,!0)},o.prototype.supportGoNextPageAutomatic=function(){for(var u=0;u<this.items.length;u++)if(this.items[u].isEmpty())return!1;return!0},Object.defineProperty(o.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount")},set:function(u){u<1||u>5||this.setPropertyValue("colCount",u)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"itemSize",{get:function(){return this.getPropertyValue("itemSize")},set:function(u){this.setPropertyValue("itemSize",u)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"itemTitleWidth",{get:function(){return this.getPropertyValue("itemTitleWidth")||""},set:function(u){this.setPropertyValue("itemTitleWidth",u)},enumerable:!1,configurable:!0}),o.prototype.onRowCreated=function(u){return u},o.prototype.calcVisibleRows=function(){for(var u=this.colCount,v=this.items,x=0,b,i,h=[],E=0;E<v.length;E++)x==0&&(b=this.onRowCreated(new a),i=this.onRowCreated(new c),this.showItemErrorOnTop?(h.push(i),h.push(b)):(h.push(b),h.push(i))),b.cells.push(new r(v[E],this)),i.cells.push(new t(v[E],this)),x++,(x>=u||E==v.length-1)&&(x=0,i.onAfterCreated());this.rows=h},o.prototype.getRows=function(){return O.Helpers.isValueEmpty(this.rows)&&this.calcVisibleRows(),this.rows},o.prototype.onValueChanged=function(){n.prototype.onValueChanged.call(this),this.onItemValueChanged()},o.prototype.createTextItem=function(u,v){return new m(u,v)},o.prototype.onItemValueChanged=function(){if(!this.isMultipleItemValueChanging)for(var u=0;u<this.items.length;u++){var v=null;this.value&&this.items[u].name in this.value&&(v=this.value[this.items[u].name]),this.items[u].onValueChanged(v)}},o.prototype.runCondition=function(u,v){n.prototype.runCondition.call(this,u,v),this.items.forEach(function(x){return x.editor.runCondition(u,v)})},o.prototype.getIsRunningValidators=function(){if(n.prototype.getIsRunningValidators.call(this))return!0;for(var u=0;u<this.items.length;u++)if(this.items[u].editor.isRunningValidators)return!0;return!1},o.prototype.hasErrors=function(u,v){var x=this;u===void 0&&(u=!0),v===void 0&&(v=null);for(var b=!1,i=0;i<this.items.length;i++)this.items[i].editor.onCompletedAsyncValidators=function(h){x.raiseOnCompletedAsyncValidators()},!(v&&v.isOnValueChanged===!0&&this.items[i].editor.isEmpty())&&(b=this.items[i].editor.hasErrors(u,v)||b);return n.prototype.hasErrors.call(this,u)||b},o.prototype.getAllErrors=function(){for(var u=n.prototype.getAllErrors.call(this),v=0;v<this.items.length;v++){var x=this.items[v].editor.getAllErrors();x&&x.length>0&&(u=u.concat(x))}return u},o.prototype.clearErrors=function(){n.prototype.clearErrors.call(this);for(var u=0;u<this.items.length;u++)this.items[u].editor.clearErrors()},o.prototype.getContainsErrors=function(){var u=n.prototype.getContainsErrors.call(this);if(u)return u;for(var v=this.items,x=0;x<v.length;x++)if(v[x].editor.containsErrors)return!0;return!1},o.prototype.getIsAnswered=function(){if(!n.prototype.getIsAnswered.call(this))return!1;for(var u=0;u<this.items.length;u++){var v=this.items[u].editor;if(v.isVisible&&!v.isAnswered)return!1}return!0},o.prototype.getProgressInfo=function(){for(var u=[],v=0;v<this.items.length;v++)u.push(this.items[v].editor);return C.SurveyElement.getProgressInfoByElements(u,this.isRequired)},o.prototype.getDisplayValueCore=function(u,v){if(!v)return v;for(var x={},b=0;b<this.items.length;b++){var i=this.items[b],h=v[i.name];if(!O.Helpers.isValueEmpty(h)){var E=i.name;u&&i.title&&(E=i.title),x[E]=i.editor.getDisplayValue(u,h)}}return x},o.prototype.allowMobileInDesignMode=function(){return!0},o.prototype.getMultipleTextValue=function(u){return this.value?this.value[u]:null},o.prototype.setMultipleTextValue=function(u,v){this.isMultipleItemValueChanging=!0,this.isValueEmpty(v)&&(v=void 0);var x=this.value;x||(x={}),x[u]=v,this.setNewValue(x),this.isMultipleItemValueChanging=!1},o.prototype.getItemDefaultValue=function(u){return this.defaultValue?this.defaultValue[u]:null},o.prototype.getTextProcessor=function(){return this.textProcessor},o.prototype.getAllValues=function(){return this.data?this.data.getAllValues():null},o.prototype.getIsRequiredText=function(){return this.survey?this.survey.requiredText:""},o.prototype.addElement=function(u,v){},o.prototype.removeElement=function(u){return!1},o.prototype.getQuestionTitleLocation=function(){return"left"},o.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},o.prototype.getChildrenLayoutType=function(){return"row"},o.prototype.elementWidthChanged=function(u){},Object.defineProperty(o.prototype,"elements",{get:function(){return[]},enumerable:!1,configurable:!0}),o.prototype.indexOf=function(u){return-1},o.prototype.ensureRowsVisibility=function(){},o.prototype.validateContainerOnly=function(){},o.prototype.getItemLabelCss=function(u){return new l.CssClassBuilder().append(this.cssClasses.itemLabel).append(this.cssClasses.itemLabelAnswered,u.editor.isAnswered).append(this.cssClasses.itemLabelAllowFocus,!this.isDesignMode).append(this.cssClasses.itemLabelOnError,u.editor.errors.length>0).append(this.cssClasses.itemWithCharacterCounter,!!u.getMaxLength()).toString()},o.prototype.getItemCss=function(){return new l.CssClassBuilder().append(this.cssClasses.item).toString()},o.prototype.getItemTitleCss=function(){return new l.CssClassBuilder().append(this.cssClasses.itemTitle).toString()},f([Object(R.propertyArray)()],o.prototype,"rows",void 0),o}(D.Question),a=function(n){p(o,n);function o(){var u=n!==null&&n.apply(this,arguments)||this;return u.isVisible=!0,u.cells=[],u}return f([Object(R.property)()],o.prototype,"isVisible",void 0),f([Object(R.propertyArray)()],o.prototype,"cells",void 0),o}(P.Base),c=function(n){p(o,n);function o(){return n!==null&&n.apply(this,arguments)||this}return o.prototype.onAfterCreated=function(){var u=this,v=function(){u.isVisible=u.cells.some(function(x){var b,i;return((b=x.item)===null||b===void 0?void 0:b.editor)&&((i=x.item)===null||i===void 0?void 0:i.editor.hasVisibleErrors)})};this.cells.forEach(function(x){var b,i;!((b=x.item)===null||b===void 0)&&b.editor&&((i=x.item)===null||i===void 0||i.editor.registerFunctionOnPropertyValueChanged("hasVisibleErrors",v))}),v()},o}(a),r=function(){function n(o,u){this.item=o,this.question=u,this.isErrorsCell=!1}return n.prototype.getClassName=function(){return new l.CssClassBuilder().append(this.question.cssClasses.cell).toString()},Object.defineProperty(n.prototype,"className",{get:function(){return this.getClassName()},enumerable:!1,configurable:!0}),n}(),t=function(n){p(o,n);function o(){var u=n!==null&&n.apply(this,arguments)||this;return u.isErrorsCell=!0,u}return o.prototype.getClassName=function(){return new l.CssClassBuilder().append(n.prototype.getClassName.call(this)).append(this.question.cssClasses.cellError).append(this.question.cssClasses.cellErrorTop,this.question.showItemErrorOnTop).append(this.question.cssClasses.cellErrorBottom,this.question.showItemErrorOnBottom).toString()},o}(r);R.Serializer.addClass("multipletextitem",[{name:"!name",isUnique:!0},"isRequired:boolean",{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder"},{name:"inputType",default:"text",choices:y.settings.questions.inputTypes},{name:"title",serializationProperty:"locTitle"},{name:"maxLength:number",default:-1},{name:"size:number",minValue:0},{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"defaultValueExpression:expression",visible:!1},{name:"minValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(n){return Object(A.isMinMaxType)(n)}},{name:"maxValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(n){return Object(A.isMinMaxType)(n)}},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"}],function(){return new m("")}),R.Serializer.addClass("multipletext",[{name:"!items:textitems",className:"multipletextitem",isArray:!0},{name:"itemSize:number",minValue:0},{name:"colCount:number",default:1,choices:[1,2,3,4,5]},{name:"itemErrorLocation",default:"default",choices:["default","top","bottom"],visible:!1},{name:"itemTitleWidth",category:"layout"}],function(){return new s("")},"question"),V.QuestionFactory.Instance.registerQuestion("multipletext",function(n){var o=new s(n);return s.addDefaultItems(o),o})},"./src/question_paneldynamic.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"QuestionPanelDynamicItem",function(){return n}),d.d(M,"QuestionPanelDynamicTemplateSurveyImpl",function(){return o}),d.d(M,"QuestionPanelDynamicModel",function(){return u});var P=d("./src/helpers.ts"),C=d("./src/survey-element.ts"),D=d("./src/localizablestring.ts"),A=d("./src/textPreProcessor.ts"),R=d("./src/question.ts"),V=d("./src/jsonobject.ts"),O=d("./src/questionfactory.ts"),l=d("./src/error.ts"),y=d("./src/settings.ts"),p=d("./src/utils/utils.ts"),f=d("./src/utils/cssClassBuilder.ts"),e=d("./src/actions/action.ts"),m=d("./src/base.ts"),s=d("./src/actions/adaptive-container.ts"),a=function(){var v=function(x,b){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,h){i.__proto__=h}||function(i,h){for(var E in h)Object.prototype.hasOwnProperty.call(h,E)&&(i[E]=h[E])},v(x,b)};return function(x,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");v(x,b);function i(){this.constructor=x}x.prototype=b===null?Object.create(b):(i.prototype=b.prototype,new i)}}(),c=function(v,x,b,i){var h=arguments.length,E=h<3?x:i===null?i=Object.getOwnPropertyDescriptor(x,b):i,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(v,x,b,i);else for(var L=v.length-1;L>=0;L--)(S=v[L])&&(E=(h<3?S(E):h>3?S(x,b,E):S(x,b))||E);return h>3&&E&&Object.defineProperty(x,b,E),E},r=function(v,x){for(var b=0,i=x.length,h=v.length;b<i;b++,h++)v[h]=x[b];return v},t=function(v){a(x,v);function x(b,i,h){var E=v.call(this,h)||this;return E.data=b,E.panelItem=i,E.variableName=h,E.sharedQuestions={},E}return Object.defineProperty(x.prototype,"survey",{get:function(){return this.panelItem.getSurvey()},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"panel",{get:function(){return this.panelItem.panel},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"panelIndex",{get:function(){return this.data?this.data.getItemIndex(this.panelItem):-1},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"visiblePanelIndex",{get:function(){return this.data?this.data.getVisibleItemIndex(this.panelItem):-1},enumerable:!1,configurable:!0}),x.prototype.getValues=function(){return this.panelItem.getAllValues()},x.prototype.getQuestionByName=function(b){var i=v.prototype.getQuestionByName.call(this,b);if(i)return i;var h=this.panelIndex;i=h>-1?this.data.getSharedQuestionFromArray(b,h):void 0;var E=i?i.name:b;return this.sharedQuestions[E]=b,i},x.prototype.getQuestionDisplayText=function(b){var i=this.sharedQuestions[b.name];if(!i)return v.prototype.getQuestionDisplayText.call(this,b);var h=this.panelItem.getValue(i);return b.getDisplayValue(!0,h)},x.prototype.onCustomProcessText=function(b){if(b.name==n.IndexVariableName){var i=this.panelIndex;if(i>-1)return b.isExists=!0,b.value=i+1,!0}if(b.name==n.VisibleIndexVariableName){var i=this.visiblePanelIndex;if(i>-1)return b.isExists=!0,b.value=i+1,!0}if(b.name.toLowerCase().indexOf(n.ParentItemVariableName+".")==0){var h=this.data;if(h&&h.parentQuestion&&h.parent&&h.parent.data){var E=new x(h.parentQuestion,h.parent.data,n.ItemVariableName),S=n.ItemVariableName+b.name.substring(n.ParentItemVariableName.length),L=E.processValue(S,b.returnDisplayValue);b.isExists=L.isExists,b.value=L.value}return!0}return!1},x}(A.QuestionTextProcessor),n=function(){function v(x,b){this.data=x,this.panelValue=b,this.textPreProcessor=new t(x,this,v.ItemVariableName),this.setSurveyImpl()}return Object.defineProperty(v.prototype,"panel",{get:function(){return this.panelValue},enumerable:!1,configurable:!0}),v.prototype.setSurveyImpl=function(){this.panel.setSurveyImpl(this)},v.prototype.getValue=function(x){var b=this.getAllValues();return b[x]},v.prototype.setValue=function(x,b){var i=this.data.getPanelItemData(this),h=i?i[x]:void 0;if(!P.Helpers.isTwoValueEquals(b,h,!1,!0,!1)){this.data.setPanelItemData(this,x,P.Helpers.getUnbindValue(b));for(var E=this.panel.questions,S=v.ItemVariableName+"."+x,L=0;L<E.length;L++){var j=E[L];j.getValueName()!==x&&j.checkBindings(x,b),j.runTriggers(S,b)}}},v.prototype.getVariable=function(x){},v.prototype.setVariable=function(x,b){},v.prototype.getComment=function(x){var b=this.getValue(x+y.settings.commentSuffix);return b||""},v.prototype.setComment=function(x,b,i){this.setValue(x+y.settings.commentSuffix,b)},v.prototype.findQuestionByName=function(x){if(x){var b=v.ItemVariableName+".";if(x.indexOf(b)===0)return this.panel.getQuestionByName(x.substring(b.length));var i=this.getSurvey();return i?i.getQuestionByName(x):null}},v.prototype.getAllValues=function(){return this.data.getPanelItemData(this)},v.prototype.getFilteredValues=function(){var x={},b=this.data&&this.data.getRootData()?this.data.getRootData().getFilteredValues():{};for(var i in b)x[i]=b[i];if(x[v.ItemVariableName]=this.getAllValues(),this.data){var h=v.IndexVariableName,E=v.VisibleIndexVariableName;delete x[h],delete x[E],x[h.toLowerCase()]=this.data.getItemIndex(this),x[E.toLowerCase()]=this.data.getVisibleItemIndex(this);var S=this.data;S&&S.parentQuestion&&S.parent&&(x[v.ParentItemVariableName]=S.parent.getValue())}return x},v.prototype.getFilteredProperties=function(){return this.data&&this.data.getRootData()?this.data.getRootData().getFilteredProperties():{survey:this.getSurvey()}},v.prototype.getSurveyData=function(){return this},v.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},v.prototype.getTextProcessor=function(){return this.textPreProcessor},v.ItemVariableName="panel",v.ParentItemVariableName="parentpanel",v.IndexVariableName="panelIndex",v.VisibleIndexVariableName="visiblePanelIndex",v}(),o=function(){function v(x){this.data=x}return v.prototype.getSurveyData=function(){return null},v.prototype.getSurvey=function(){return this.data.getSurvey()},v.prototype.getTextProcessor=function(){return null},v}(),u=function(v){a(x,v);function x(b){var i=v.call(this,b)||this;return i.isAddingNewPanels=!1,i.isSetPanelItemData={},i.createNewArray("panels",function(h){i.onPanelAdded(h)},function(h){i.onPanelRemoved(h)}),i.createNewArray("visiblePanels"),i.templateValue=i.createAndSetupNewPanelObject(),i.template.renderWidth="100%",i.template.selectedElementInDesign=i,i.template.addElementCallback=function(h){i.addOnPropertyChangedCallback(h),i.rebuildPanels()},i.template.removeElementCallback=function(){i.rebuildPanels()},i.createLocalizableString("confirmDeleteText",i,!1,"confirmDelete"),i.createLocalizableString("keyDuplicationError",i,!1,!0),i.createLocalizableString("panelAddText",i,!1,"addPanel"),i.createLocalizableString("panelRemoveText",i,!1,"removePanel"),i.createLocalizableString("panelPrevText",i,!1,"pagePrevText"),i.createLocalizableString("panelNextText",i,!1,"pageNextText"),i.createLocalizableString("noEntriesText",i,!1,"noEntriesText"),i.createLocalizableString("templateTabTitle",i,!0,"panelDynamicTabTextFormat"),i.registerPropertyChangedHandlers(["panelsState"],function(){i.setPanelsState()}),i.registerPropertyChangedHandlers(["isMobile","newPanelPosition","showRangeInProgress","renderMode"],function(){i.updateFooterActions()}),i.registerPropertyChangedHandlers(["allowAddPanel"],function(){i.updateNoEntriesTextDefaultLoc()}),i}return Object.defineProperty(x.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"isContainer",{get:function(){return!0},enumerable:!1,configurable:!0}),x.prototype.getFirstQuestionToFocus=function(b){for(var i=0;i<this.visiblePanelsCore.length;i++){var h=this.visiblePanelsCore[i].getFirstQuestionToFocus(b);if(h)return h}return null},x.prototype.setSurveyImpl=function(b,i){v.prototype.setSurveyImpl.call(this,b,i),this.setTemplatePanelSurveyImpl(),this.setPanelsSurveyImpl()},x.prototype.assignOnPropertyChangedToTemplate=function(){for(var b=this.template.elements,i=0;i<b.length;i++)this.addOnPropertyChangedCallback(b[i])},x.prototype.addOnPropertyChangedCallback=function(b){var i=this;b.isQuestion&&b.setParentQuestion(this),b.onPropertyChanged.add(function(h,E){i.onTemplateElementPropertyChanged(h,E)}),b.isPanel&&(b.addElementCallback=function(h){i.addOnPropertyChangedCallback(h)})},x.prototype.onTemplateElementPropertyChanged=function(b,i){if(!(this.isLoadingFromJson||this.useTemplatePanel||this.panelsCore.length==0)){var h=V.Serializer.findProperty(b.getType(),i.name);if(h)for(var E=this.panelsCore,S=0;S<E.length;S++){var L=E[S].getQuestionByName(b.name);L&&L[i.name]!==i.newValue&&(L[i.name]=i.newValue)}}},Object.defineProperty(x.prototype,"useTemplatePanel",{get:function(){return this.isDesignMode&&!this.isContentElement},enumerable:!1,configurable:!0}),x.prototype.getType=function(){return"paneldynamic"},x.prototype.clearOnDeletingContainer=function(){this.panelsCore.forEach(function(b){b.clearOnDeletingContainer()})},Object.defineProperty(x.prototype,"isAllowTitleLeft",{get:function(){return!1},enumerable:!1,configurable:!0}),x.prototype.removeElement=function(b){return this.template.removeElement(b)},Object.defineProperty(x.prototype,"template",{get:function(){return this.templateValue},enumerable:!1,configurable:!0}),x.prototype.getPanel=function(){return this.template},Object.defineProperty(x.prototype,"templateElements",{get:function(){return this.template.elements},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"templateTitle",{get:function(){return this.template.title},set:function(b){this.template.title=b},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"locTemplateTitle",{get:function(){return this.template.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"templateTabTitle",{get:function(){return this.locTemplateTabTitle.text},set:function(b){this.locTemplateTabTitle.text=b},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"locTemplateTabTitle",{get:function(){return this.getLocalizableString("templateTabTitle")},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"templateDescription",{get:function(){return this.template.description},set:function(b){this.template.description=b},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"locTemplateDescription",{get:function(){return this.template.locDescription},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"templateVisibleIf",{get:function(){return this.getPropertyValue("templateVisibleIf")},set:function(b){this.setPropertyValue("templateVisibleIf",b),this.template.visibleIf=b},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"items",{get:function(){for(var b=[],i=0;i<this.panelsCore.length;i++)b.push(this.panelsCore[i].data);return b},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"panels",{get:function(){return this.buildPanelsFirstTime(this.canBuildPanels),this.panelsCore},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"visiblePanels",{get:function(){return this.buildPanelsFirstTime(this.canBuildPanels),this.visiblePanelsCore},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"panelsCore",{get:function(){return this.getPropertyValue("panels")},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"visiblePanelsCore",{get:function(){return this.getPropertyValue("visiblePanels")},enumerable:!1,configurable:!0}),x.prototype.onPanelAdded=function(b){if(this.onPanelRemovedCore(b),!!b.visible){for(var i=0,h=this.panelsCore,E=0;E<h.length&&h[E]!==b;E++)h[E].visible&&i++;this.visiblePanelsCore.splice(i,0,b),this.addTabFromToolbar(b,i),this.currentPanel||(this.currentPanel=b)}},x.prototype.onPanelRemoved=function(b){var i=this.onPanelRemovedCore(b);if(this.currentPanel===b){var h=this.visiblePanelsCore;i>=h.length&&(i=h.length-1),this.currentPanel=i>=0?h[i]:null}},x.prototype.onPanelRemovedCore=function(b){var i=this.visiblePanelsCore,h=i.indexOf(b);return h>-1&&(i.splice(h,1),this.removeTabFromToolbar(b)),h},Object.defineProperty(x.prototype,"currentIndex",{get:function(){return this.isRenderModeList?-1:this.useTemplatePanel?0:this.visiblePanelsCore.indexOf(this.currentPanel)},set:function(b){b<0||this.visiblePanelCount<1||(b>=this.visiblePanelCount&&(b=this.visiblePanelCount-1),this.currentPanel=this.visiblePanelsCore[b])},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"currentPanel",{get:function(){if(this.isDesignMode)return this.template;if(this.isRenderModeList||this.useTemplatePanel)return null;var b=this.getPropertyValue("currentPanel",null);return!b&&this.visiblePanelCount>0&&(b=this.visiblePanelsCore[0],this.currentPanel=b),b},set:function(b){if(!(this.isRenderModeList||this.useTemplatePanel)){var i=this.getPropertyValue("currentPanel"),h=b?this.visiblePanelsCore.indexOf(b):-1;if(!(b&&h<0||b===i)&&(i&&i.onHidingContent(),this.setPropertyValue("currentPanel",b),this.updateFooterActions(),this.updateTabToolbarItemsPressedState(),this.fireCallback(this.currentIndexChangedCallback),h>-1&&this.survey)){var E={panel:b,visiblePanelIndex:h};this.survey.dynamicPanelCurrentIndexChanged(this,E)}}},enumerable:!1,configurable:!0}),x.prototype.onHidingContent=function(){v.prototype.onHidingContent.call(this),this.currentPanel?this.currentPanel.onHidingContent():this.visiblePanelsCore.forEach(function(b){return b.onHidingContent()})},Object.defineProperty(x.prototype,"confirmDelete",{get:function(){return this.getPropertyValue("confirmDelete")},set:function(b){this.setPropertyValue("confirmDelete",b)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"keyName",{get:function(){return this.getPropertyValue("keyName","")},set:function(b){this.setPropertyValue("keyName",b)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"confirmDeleteText",{get:function(){return this.getLocalizableStringText("confirmDeleteText")},set:function(b){this.setLocalizableStringText("confirmDeleteText",b)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"locConfirmDeleteText",{get:function(){return this.getLocalizableString("confirmDeleteText")},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"keyDuplicationError",{get:function(){return this.getLocalizableStringText("keyDuplicationError")},set:function(b){this.setLocalizableStringText("keyDuplicationError",b)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"locKeyDuplicationError",{get:function(){return this.getLocalizableString("keyDuplicationError")},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"panelPrevText",{get:function(){return this.getLocalizableStringText("panelPrevText")},set:function(b){this.setLocalizableStringText("panelPrevText",b)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"locPanelPrevText",{get:function(){return this.getLocalizableString("panelPrevText")},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"panelNextText",{get:function(){return this.getLocalizableStringText("panelNextText")},set:function(b){this.setLocalizableStringText("panelNextText",b)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"locPanelNextText",{get:function(){return this.getLocalizableString("panelNextText")},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"panelAddText",{get:function(){return this.getLocalizableStringText("panelAddText")},set:function(b){this.setLocalizableStringText("panelAddText",b)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"locPanelAddText",{get:function(){return this.getLocalizableString("panelAddText")},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"panelRemoveText",{get:function(){return this.getLocalizableStringText("panelRemoveText")},set:function(b){this.setLocalizableStringText("panelRemoveText",b)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"locPanelRemoveText",{get:function(){return this.getLocalizableString("panelRemoveText")},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"isProgressTopShowing",{get:function(){return this.renderMode==="progressTop"||this.renderMode==="progressTopBottom"},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"isProgressBottomShowing",{get:function(){return this.renderMode==="progressBottom"||this.renderMode==="progressTopBottom"},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"isPrevButtonVisible",{get:function(){return this.currentIndex>0},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"isPrevButtonShowing",{get:function(){return this.isPrevButtonVisible},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"isNextButtonVisible",{get:function(){return this.currentIndex>=0&&this.currentIndex<this.visiblePanelCount-1},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"isNextButtonShowing",{get:function(){return this.isNextButtonVisible},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"isRangeShowing",{get:function(){return this.showRangeInProgress&&this.currentIndex>=0&&this.visiblePanelCount>1},enumerable:!1,configurable:!0}),x.prototype.getElementsInDesign=function(b){return b===void 0&&(b=!1),b?[this.template]:this.templateElements},x.prototype.prepareValueForPanelCreating=function(){this.addingNewPanelsValue=this.value,this.isAddingNewPanels=!0,this.isNewPanelsValueChanged=!1},x.prototype.setValueAfterPanelsCreating=function(){this.isAddingNewPanels=!1,this.isNewPanelsValueChanged&&(this.isValueChangingInternally=!0,this.value=this.addingNewPanelsValue,this.isValueChangingInternally=!1)},x.prototype.getValueCore=function(){return this.isAddingNewPanels?this.addingNewPanelsValue:v.prototype.getValueCore.call(this)},x.prototype.setValueCore=function(b){this.isAddingNewPanels?(this.isNewPanelsValueChanged=!0,this.addingNewPanelsValue=b):v.prototype.setValueCore.call(this,b)},x.prototype.setIsMobile=function(b){v.prototype.setIsMobile.call(this,b),(this.panelsCore||[]).forEach(function(i){return i.getQuestions(!0).forEach(function(h){h.setIsMobile(b)})})},x.prototype.themeChanged=function(b){v.prototype.themeChanged.call(this,b),(this.panelsCore||[]).forEach(function(i){return i.getQuestions(!0).forEach(function(h){h.themeChanged(b)})})},Object.defineProperty(x.prototype,"panelCount",{get:function(){return!this.canBuildPanels||this.wasNotRenderedInSurvey?this.getPropertyValue("panelCount"):this.panelsCore.length},set:function(b){if(!(b<0)){if(!this.canBuildPanels||this.wasNotRenderedInSurvey){this.setPropertyValue("panelCount",b);return}if(!(b==this.panelsCore.length||this.useTemplatePanel)){this.updateBindings("panelCount",b),this.prepareValueForPanelCreating();for(var i=this.panelCount;i<b;i++){var h=this.createNewPanel();this.panelsCore.push(h),this.renderMode=="list"&&this.panelsState!="default"&&(this.panelsState==="expand"?h.expand():h.title&&h.collapse())}b<this.panelCount&&this.panelsCore.splice(b,this.panelCount-b),this.setValueAfterPanelsCreating(),this.setValueBasedOnPanelCount(),this.reRunCondition(),this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback)}}},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"visiblePanelCount",{get:function(){return this.visiblePanels.length},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"panelsState",{get:function(){return this.getPropertyValue("panelsState")},set:function(b){this.setPropertyValue("panelsState",b)},enumerable:!1,configurable:!0}),x.prototype.setTemplatePanelSurveyImpl=function(){this.template.setSurveyImpl(this.useTemplatePanel?this.surveyImpl:new o(this))},x.prototype.setPanelsSurveyImpl=function(){for(var b=0;b<this.panelsCore.length;b++){var i=this.panelsCore[b];i!=this.template&&i.setSurveyImpl(i.data)}},x.prototype.setPanelsState=function(){if(!(this.useTemplatePanel||this.renderMode!="list"||!this.templateTitle))for(var b=0;b<this.panelsCore.length;b++){var i=this.panelsState;i==="firstExpanded"&&(i=b===0?"expanded":"collapsed"),this.panelsCore[b].state=i}},x.prototype.setValueBasedOnPanelCount=function(){var b=this.value;if((!b||!Array.isArray(b))&&(b=[]),b.length!=this.panelCount){for(var i=b.length;i<this.panelCount;i++)b.push({});b.length>this.panelCount&&b.splice(this.panelCount,b.length-this.panelCount),this.isValueChangingInternally=!0,this.value=b,this.isValueChangingInternally=!1}},Object.defineProperty(x.prototype,"minPanelCount",{get:function(){return this.getPropertyValue("minPanelCount")},set:function(b){b<0&&(b=0),b!=this.minPanelCount&&(this.setPropertyValue("minPanelCount",b),b>this.maxPanelCount&&(this.maxPanelCount=b),this.panelCount<b&&(this.panelCount=b))},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"maxPanelCount",{get:function(){return this.getPropertyValue("maxPanelCount")},set:function(b){b<=0||(b>y.settings.panel.maxPanelCount&&(b=y.settings.panel.maxPanelCount),b!=this.maxPanelCount&&(this.setPropertyValue("maxPanelCount",b),b<this.minPanelCount&&(this.minPanelCount=b),this.panelCount>b&&(this.panelCount=b)))},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"allowAddPanel",{get:function(){return this.getPropertyValue("allowAddPanel")},set:function(b){this.setPropertyValue("allowAddPanel",b)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"newPanelPosition",{get:function(){return this.getPropertyValue("newPanelPosition")},set:function(b){this.setPropertyValue("newPanelPosition",b)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"allowRemovePanel",{get:function(){return this.getPropertyValue("allowRemovePanel")},set:function(b){this.setPropertyValue("allowRemovePanel",b)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"templateTitleLocation",{get:function(){return this.getPropertyValue("templateTitleLocation")},set:function(b){this.setPropertyValue("templateTitleLocation",b.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"templateErrorLocation",{get:function(){return this.getPropertyValue("templateErrorLocation")},set:function(b){this.setPropertyValue("templateErrorLocation",b.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(b){this.setPropertyValue("showQuestionNumbers",b),!this.isLoadingFromJson&&this.survey&&this.survey.questionVisibilityChanged(this,this.visible)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"panelRemoveButtonLocation",{get:function(){return this.getPropertyValue("panelRemoveButtonLocation")},set:function(b){this.setPropertyValue("panelRemoveButtonLocation",b)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"showRangeInProgress",{get:function(){return this.getPropertyValue("showRangeInProgress")},set:function(b){this.setPropertyValue("showRangeInProgress",b),this.fireCallback(this.currentIndexChangedCallback)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"renderMode",{get:function(){return this.getPropertyValue("renderMode")},set:function(b){this.setPropertyValue("renderMode",b),this.fireCallback(this.renderModeChangedCallback)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"tabAlign",{get:function(){return this.getPropertyValue("tabAlign")},set:function(b){this.setPropertyValue("tabAlign",b),this.isRenderModeTab&&(this.additionalTitleToolbar.containerCss=this.getAdditionalTitleToolbarCss())},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"isRenderModeList",{get:function(){return this.renderMode==="list"},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"isRenderModeTab",{get:function(){return this.renderMode==="tab"},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"hasTitleOnLeftTop",{get:function(){if(this.isRenderModeTab&&this.visiblePanelCount>0)return!0;if(!this.hasTitle)return!1;var b=this.getTitleLocation();return b==="left"||b==="top"},enumerable:!1,configurable:!0}),x.prototype.setVisibleIndex=function(b){if(!this.isVisible)return 0;for(var i=this.showQuestionNumbers=="onSurvey"?b:0,h=0;h<this.visiblePanelsCore.length;h++){var E=this.setPanelVisibleIndex(this.visiblePanelsCore[h],i,this.showQuestionNumbers!="off");this.showQuestionNumbers=="onSurvey"&&(i+=E)}return v.prototype.setVisibleIndex.call(this,this.showQuestionNumbers!="onSurvey"?b:-1),this.showQuestionNumbers!="onSurvey"?1:i-b},x.prototype.setPanelVisibleIndex=function(b,i,h){return h?b.setVisibleIndex(i):(b.setVisibleIndex(-1),0)},Object.defineProperty(x.prototype,"canAddPanel",{get:function(){return this.isDesignMode||this.isDefaultV2Theme&&!this.legacyNavigation&&!this.isRenderModeList&&this.currentIndex<this.visiblePanelCount-1&&this.newPanelPosition!=="next"?!1:this.allowAddPanel&&!this.isReadOnly&&this.panelCount<this.maxPanelCount},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"canRemovePanel",{get:function(){return this.isDesignMode?!1:this.allowRemovePanel&&!this.isReadOnly&&this.panelCount>this.minPanelCount},enumerable:!1,configurable:!0}),x.prototype.rebuildPanels=function(){var b;if(!this.isLoadingFromJson){this.prepareValueForPanelCreating();var i=[],h;if(this.useTemplatePanel)h=new n(this,this.template),i.push(this.template);else for(var E=0;E<this.panelCount;E++)h=this.createNewPanel(),i.push(this.createNewPanel());(b=this.panelsCore).splice.apply(b,r([0,this.panelsCore.length],i)),this.setValueAfterPanelsCreating(),this.setPanelsState(),this.reRunCondition(),this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.updateTabToolbar()}},Object.defineProperty(x.prototype,"defaultPanelValue",{get:function(){return this.getPropertyValue("defaultPanelValue")},set:function(b){this.setPropertyValue("defaultPanelValue",b)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"defaultValueFromLastPanel",{get:function(){return this.getPropertyValue("defaultValueFromLastPanel")},set:function(b){this.setPropertyValue("defaultValueFromLastPanel",b)},enumerable:!1,configurable:!0}),x.prototype.isDefaultValueEmpty=function(){return v.prototype.isDefaultValueEmpty.call(this)&&this.isValueEmpty(this.defaultPanelValue)},x.prototype.setDefaultValue=function(){if(this.isValueEmpty(this.defaultPanelValue)||!this.isValueEmpty(this.defaultValue)){v.prototype.setDefaultValue.call(this);return}if(!(!this.isEmpty()||this.panelCount==0)){for(var b=[],i=0;i<this.panelCount;i++)b.push(this.defaultPanelValue);this.value=b}},Object.defineProperty(x.prototype,"isValueArray",{get:function(){return!0},enumerable:!1,configurable:!0}),x.prototype.isEmpty=function(){var b=this.value;if(!b||!Array.isArray(b))return!0;for(var i=0;i<b.length;i++)if(!this.isRowEmpty(b[i]))return!1;return!0},x.prototype.getProgressInfo=function(){return C.SurveyElement.getProgressInfoByElements(this.visiblePanelsCore,this.isRequired)},x.prototype.isRowEmpty=function(b){for(var i in b)if(b.hasOwnProperty(i))return!1;return!0},x.prototype.addPanelUI=function(){if(!this.canAddPanel||!this.canLeaveCurrentPanel())return null;var b=this.addPanel();return this.renderMode==="list"&&this.panelsState!=="default"&&b.expand(),b},x.prototype.addPanel=function(b){var i=this.currentIndex;return b===void 0&&(b=i<0?this.panelCount:i+1),(b<0||b>this.panelCount)&&(b=this.panelCount),this.updateValueOnAddingPanel(i<0?this.panelCount-1:i,b),this.isRenderModeList||(this.currentIndex=b),this.survey&&this.survey.dynamicPanelAdded(this),this.panelsCore[b]},x.prototype.updateValueOnAddingPanel=function(b,i){this.panelCount++;var h=this.value;if(!(!Array.isArray(h)||h.length!==this.panelCount)){var E=!1,S=this.panelCount-1;if(i<S){E=!0;var L=h[S];h.splice(S,1),h.splice(i,0,L)}if(this.isValueEmpty(this.defaultPanelValue)||(E=!0,this.copyValue(h[i],this.defaultPanelValue)),this.defaultValueFromLastPanel&&h.length>1){var j=b>-1&&b<=S?b:S;E=!0,this.copyValue(h[i],h[j])}E&&(this.value=h)}},x.prototype.canLeaveCurrentPanel=function(){return!(this.renderMode!=="list"&&this.currentPanel&&this.currentPanel.hasErrors(!0,!0))},x.prototype.copyValue=function(b,i){for(var h in i)b[h]=i[h]},x.prototype.removePanelUI=function(b){var i=this;this.canRemovePanel&&(this.isRequireConfirmOnDelete(b)?Object(p.confirmActionAsync)(this.confirmDeleteText,function(){i.removePanel(b)},void 0,this.getLocale()):this.removePanel(b))},x.prototype.isRequireConfirmOnDelete=function(b){if(!this.confirmDelete)return!1;var i=this.getVisualPanelIndex(b);if(i<0||i>=this.visiblePanelCount)return!1;var h=this.visiblePanelsCore[i].getValue();return!this.isValueEmpty(h)&&(this.isValueEmpty(this.defaultPanelValue)||!this.isTwoValueEquals(h,this.defaultPanelValue))},x.prototype.goToNextPanel=function(){return this.currentIndex<0||!this.canLeaveCurrentPanel()?!1:(this.currentIndex++,!0)},x.prototype.goToPrevPanel=function(){this.currentIndex<0||this.currentIndex--},x.prototype.removePanel=function(S){var i=this.getVisualPanelIndex(S);if(!(i<0||i>=this.visiblePanelCount)){var h=this.visiblePanelsCore[i],E=this.panelsCore.indexOf(h);if(!(E<0)&&!(this.survey&&!this.survey.dynamicPanelRemoving(this,E,h))){this.panelsCore.splice(E,1),this.updateBindings("panelCount",this.panelCount);var S=this.value;!S||!Array.isArray(S)||E>=S.length||(this.isValueChangingInternally=!0,S.splice(E,1),this.value=S,this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.survey&&this.survey.dynamicPanelRemoved(this,E,h),this.isValueChangingInternally=!1)}}},x.prototype.getVisualPanelIndex=function(b){if(P.Helpers.isNumber(b))return b;for(var i=this.visiblePanelsCore,h=0;h<i.length;h++)if(i[h]===b||i[h].data===b)return h;return-1},x.prototype.getPanelIndexById=function(b){for(var i=0;i<this.panelsCore.length;i++)if(this.panelsCore[i].id===b)return i;return-1},x.prototype.locStrsChanged=function(){v.prototype.locStrsChanged.call(this);for(var b=this.panelsCore,i=0;i<b.length;i++)b[i].locStrsChanged();this.additionalTitleToolbar&&this.additionalTitleToolbar.locStrsChanged()},x.prototype.clearIncorrectValues=function(){for(var b=0;b<this.panelsCore.length;b++)this.clearIncorrectValuesInPanel(b)},x.prototype.clearErrors=function(){v.prototype.clearErrors.call(this);for(var b=0;b<this.panelsCore.length;b++)this.panelsCore[b].clearErrors()},x.prototype.getQuestionFromArray=function(b,i){return i<0||i>=this.panelsCore.length?null:this.panelsCore[i].getQuestionByName(b)},x.prototype.clearIncorrectValuesInPanel=function(b){var i=this.panelsCore[b];i.clearIncorrectValues();var h=this.value,E=h&&b<h.length?h[b]:null;if(E){var S=!1;for(var L in E)if(!this.getSharedQuestionFromArray(L,b)){var j=i.getQuestionByName(L);j||this.iscorrectValueWithPostPrefix(i,L,y.settings.commentSuffix)||this.iscorrectValueWithPostPrefix(i,L,y.settings.matrix.totalsSuffix)||(delete E[L],S=!0)}S&&(h[b]=E,this.value=h)}},x.prototype.iscorrectValueWithPostPrefix=function(b,i,h){return i.indexOf(h)!==i.length-h.length?!1:!!b.getQuestionByName(i.substring(0,i.indexOf(h)))},x.prototype.getSharedQuestionFromArray=function(b,i){return this.survey&&this.valueName?this.survey.getQuestionByValueNameFromArray(this.valueName,b,i):null},x.prototype.addConditionObjectsByContext=function(b,i){for(var h=i?i===!0||this.template.questions.indexOf(i)>-1:!1,E=new Array,S=this.template.questions,L=0;L<S.length;L++)S[L].addConditionObjectsByContext(E,i);for(var j=0;j<y.settings.panel.maxPanelCountInCondition;j++)for(var w="["+j+"].",g=this.getValueName()+w,I=this.processedTitle+w,L=0;L<E.length;L++)b.push({name:g+E[L].name,text:I+E[L].text,question:E[L].question});if(h){for(var g=i===!0?this.getValueName()+".":"",I=i===!0?this.processedTitle+".":"",L=0;L<E.length;L++)if(E[L].question!=i){var T={name:g+n.ItemVariableName+"."+E[L].name,text:I+n.ItemVariableName+"."+E[L].text,question:E[L].question};i===!0&&(T.context=this),b.push(T)}}},x.prototype.collectNestedQuestionsCore=function(b,i){var h=i?this.visiblePanelsCore:this.panelsCore;Array.isArray(h)&&h.forEach(function(E){E.questions.forEach(function(S){return S.collectNestedQuestions(b,i)})})},x.prototype.getConditionJson=function(b,i){if(b===void 0&&(b=null),i===void 0&&(i=null),!i)return v.prototype.getConditionJson.call(this,b,i);var h=i,E=i.indexOf(".");E>-1&&(h=i.substring(0,E),i=i.substring(E+1));var S=this.template.getQuestionByName(h);return S?S.getConditionJson(b,i):null},x.prototype.onReadOnlyChanged=function(){var b=this.isReadOnly;this.template.readOnly=b;for(var i=0;i<this.panelsCore.length;i++)this.panelsCore[i].readOnly=b;this.updateNoEntriesTextDefaultLoc(),this.updateFooterActions(),v.prototype.onReadOnlyChanged.call(this)},x.prototype.updateNoEntriesTextDefaultLoc=function(){var b=this.getLocalizableString("noEntriesText");b&&(b.localizationName=this.isReadOnly||!this.allowAddPanel?"noEntriesReadonlyText":"noEntriesText",b.strChanged())},x.prototype.onSurveyLoad=function(){this.template.readOnly=this.isReadOnly,this.template.onSurveyLoad(),this.buildPanelsFirstTime(),v.prototype.onSurveyLoad.call(this)},x.prototype.buildPanelsFirstTime=function(b){if(b===void 0&&(b=!1),!this.hasPanelBuildFirstTime&&!(!b&&this.wasNotRenderedInSurvey)){if(this.hasPanelBuildFirstTime=!0,this.isBuildingPanelsFirstTime=!0,this.getPropertyValue("panelCount")>0&&(this.panelCount=this.getPropertyValue("panelCount")),this.useTemplatePanel&&this.rebuildPanels(),this.setPanelsSurveyImpl(),this.setPanelsState(),this.assignOnPropertyChangedToTemplate(),this.survey)for(var i=0;i<this.panelCount;i++)this.survey.dynamicPanelAdded(this);this.updateIsReady(),(this.isReadOnly||!this.allowAddPanel)&&this.updateNoEntriesTextDefaultLoc(),this.updateFooterActions(),this.isBuildingPanelsFirstTime=!1}},Object.defineProperty(x.prototype,"wasNotRenderedInSurvey",{get:function(){return!this.hasPanelBuildFirstTime&&!this.wasRendered&&!!this.survey},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"canBuildPanels",{get:function(){return!this.isLoadingFromJson&&!this.useTemplatePanel},enumerable:!1,configurable:!0}),x.prototype.onFirstRendering=function(){v.prototype.onFirstRendering.call(this),this.buildPanelsFirstTime(),this.template.onFirstRendering();for(var b=0;b<this.panelsCore.length;b++)this.panelsCore[b].onFirstRendering()},x.prototype.localeChanged=function(){v.prototype.localeChanged.call(this);for(var b=0;b<this.panelsCore.length;b++)this.panelsCore[b].localeChanged()},x.prototype.runCondition=function(b,i){v.prototype.runCondition.call(this,b,i),this.runPanelsCondition(this.panelsCore,b,i)},x.prototype.runTriggers=function(b,i){v.prototype.runTriggers.call(this,b,i),this.visiblePanelsCore.forEach(function(h){h.questions.forEach(function(E){return E.runTriggers(b,i)})})},x.prototype.reRunCondition=function(){this.data&&this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())},x.prototype.runPanelsCondition=function(b,i,h){var E={};i&&i instanceof Object&&(E=JSON.parse(JSON.stringify(i))),this.parentQuestion&&this.parent&&(E[n.ParentItemVariableName]=this.parent.getValue()),this.isValueChangingInternally=!0;for(var S=0;S<b.length;S++){var L=b[S],j=this.getPanelItemData(L.data),w=P.Helpers.createCopy(E),g=n.ItemVariableName;w[g]=j,w[n.IndexVariableName.toLowerCase()]=S;var I=P.Helpers.createCopy(h);I[g]=L,L.runCondition(w,I)}this.isValueChangingInternally=!1},x.prototype.onAnyValueChanged=function(b,i){v.prototype.onAnyValueChanged.call(this,b,i);for(var h=0;h<this.panelsCore.length;h++)this.panelsCore[h].onAnyValueChanged(b,i),this.panelsCore[h].onAnyValueChanged(n.ItemVariableName,"")},x.prototype.hasKeysDuplicated=function(b,i){i===void 0&&(i=null);for(var h=[],E,S=0;S<this.panelsCore.length;S++)E=this.isValueDuplicated(this.panelsCore[S],h,i,b)||E;return E},x.prototype.updatePanelsContainsErrors=function(){for(var b=this.changingValueQuestion,i=b.parent;i;)i.updateContainsErrors(),i=i.parent;this.updateContainsErrors()},x.prototype.hasErrors=function(b,i){if(b===void 0&&(b=!0),i===void 0&&(i=null),this.isValueChangingInternally||this.isBuildingPanelsFirstTime)return!1;var h=!1;if(this.changingValueQuestion){var h=this.changingValueQuestion.hasErrors(b,i);h=this.hasKeysDuplicated(b,i)||h,this.updatePanelsContainsErrors()}else h=this.hasErrorInPanels(b,i);return v.prototype.hasErrors.call(this,b,i)||h},x.prototype.getContainsErrors=function(){var b=v.prototype.getContainsErrors.call(this);if(b)return b;for(var i=this.panelsCore,h=0;h<i.length;h++)if(i[h].containsErrors)return!0;return!1},x.prototype.getIsAnswered=function(){if(!v.prototype.getIsAnswered.call(this))return!1;for(var b=this.visiblePanelsCore,i=0;i<b.length;i++){var h=[];b[i].addQuestionsToList(h,!0);for(var E=0;E<h.length;E++)if(!h[E].isAnswered)return!1}return!0},x.prototype.clearValueOnHidding=function(b){if(!b){if(this.survey&&this.survey.getQuestionClearIfInvisible("onHidden")==="none")return;this.clearValueInPanelsIfInvisible("onHiddenContainer")}v.prototype.clearValueOnHidding.call(this,b)},x.prototype.clearValueIfInvisible=function(b){b===void 0&&(b="onHidden");var i=b==="onHidden"?"onHiddenContainer":b;this.clearValueInPanelsIfInvisible(i),v.prototype.clearValueIfInvisible.call(this,b)},x.prototype.clearValueInPanelsIfInvisible=function(b){for(var i=0;i<this.panelsCore.length;i++){var h=this.panelsCore[i],E=h.questions;this.isSetPanelItemData={};for(var S=0;S<E.length;S++){var L=E[S];L.visible&&!h.isVisible||(L.clearValueIfInvisible(b),this.isSetPanelItemData[L.getValueName()]=this.maxCheckCount+1)}}this.isSetPanelItemData={}},x.prototype.getIsRunningValidators=function(){if(v.prototype.getIsRunningValidators.call(this))return!0;for(var b=0;b<this.panelsCore.length;b++)for(var i=this.panelsCore[b].questions,h=0;h<i.length;h++)if(i[h].isRunningValidators)return!0;return!1},x.prototype.getAllErrors=function(){for(var b=v.prototype.getAllErrors.call(this),i=this.visiblePanelsCore,h=0;h<i.length;h++)for(var E=i[h].questions,S=0;S<E.length;S++){var L=E[S].getAllErrors();L&&L.length>0&&(b=b.concat(L))}return b},x.prototype.getDisplayValueCore=function(b,i){var h=this.getUnbindValue(i);if(!h||!Array.isArray(h))return h;for(var E=0;E<this.panelsCore.length&&E<h.length;E++){var S=h[E];S&&(h[E]=this.getPanelDisplayValue(E,S,b))}return h},x.prototype.getPanelDisplayValue=function(b,i,h){if(!i)return i;for(var E=this.panelsCore[b],S=Object.keys(i),L=0;L<S.length;L++){var j=S[L],w=E.getQuestionByValueName(j);if(w||(w=this.getSharedQuestionFromArray(j,b)),w){var g=w.getDisplayValue(h,i[j]);i[j]=g,h&&w.title&&w.title!==j&&(i[w.title]=g,delete i[j])}}return i},x.prototype.hasErrorInPanels=function(b,i){for(var h=!1,E=this.visiblePanelsCore,S=[],L=0;L<E.length;L++)this.setOnCompleteAsyncInPanel(E[L]);for(var L=0;L<E.length;L++){var j=E[L].hasErrors(b,!!i&&i.focuseOnFirstError,i);j=this.isValueDuplicated(E[L],S,i,b)||j,!this.isRenderModeList&&j&&!h&&(this.currentIndex=L),h=j||h}return h},x.prototype.setOnCompleteAsyncInPanel=function(b){for(var i=this,h=b.questions,E=0;E<h.length;E++)h[E].onCompletedAsyncValidators=function(S){i.raiseOnCompletedAsyncValidators()}},x.prototype.isValueDuplicated=function(b,i,h,E){if(!this.keyName)return!1;var S=b.getQuestionByValueName(this.keyName);if(!S||S.isEmpty())return!1;var L=S.value;this.changingValueQuestion&&S!=this.changingValueQuestion&&S.hasErrors(E,h);for(var j=0;j<i.length;j++)if(L==i[j])return E&&S.addError(new l.KeyDuplicationError(this.keyDuplicationError,this)),h&&!h.firstErrorQuestion&&(h.firstErrorQuestion=S),!0;return i.push(L),!1},x.prototype.getPanelActions=function(b){var i=this,h=b.footerActions;return this.panelRemoveButtonLocation!=="right"&&h.push(new e.Action({id:"remove-panel-"+b.id,component:"sv-paneldynamic-remove-btn",visible:new m.ComputedUpdater(function(){return[i.canRemovePanel,b.state!=="collapsed",i.panelRemoveButtonLocation!=="right"].every(function(E){return E===!0})}),data:{question:this,panel:b}})),this.survey&&(h=this.survey.getUpdatedPanelFooterActions(b,h,this)),h},x.prototype.createNewPanel=function(){var b=this,i=this.createAndSetupNewPanelObject(),h=this.template.toJSON();new V.JsonObject().toObject(h,i),i.renderWidth="100%",i.updateCustomWidgets(),new n(this,i),!this.isDesignMode&&!this.isReadOnly&&!this.isValueEmpty(i.getValue())&&this.runPanelsCondition([i],this.getDataFilteredValues(),this.getDataFilteredProperties()),i.onFirstRendering();for(var E=i.questions,S=0;S<E.length;S++)E[S].setParentQuestion(this);return i.locStrsChanged(),i.onGetFooterActionsCallback=function(){return b.getPanelActions(i)},i.onGetFooterToolbarCssCallback=function(){return b.cssClasses.panelFooter},i.registerPropertyChangedHandlers(["visible"],function(){i.visible?b.onPanelAdded(i):b.onPanelRemoved(i),b.updateFooterActions()}),i},x.prototype.createAndSetupNewPanelObject=function(){var b=this,i=this.createNewPanelObject();return i.isInteractiveDesignElement=!1,i.setParentQuestion(this),i.onGetQuestionTitleLocation=function(){return b.getTemplateQuestionTitleLocation()},i},x.prototype.getTemplateQuestionTitleLocation=function(){return this.templateTitleLocation!="default"?this.templateTitleLocation:this.getTitleLocationCore()},x.prototype.getChildErrorLocation=function(b){return this.templateErrorLocation!=="default"?this.templateErrorLocation:v.prototype.getChildErrorLocation.call(this,b)},x.prototype.createNewPanelObject=function(){return V.Serializer.createClass("panel")},x.prototype.setPanelCountBasedOnValue=function(){if(!(this.isValueChangingInternally||this.useTemplatePanel)){var b=this.value,i=b&&Array.isArray(b)?b.length:0;i==0&&this.getPropertyValue("panelCount")>0&&(i=this.getPropertyValue("panelCount")),this.settingPanelCountBasedOnValue=!0,this.panelCount=i,this.settingPanelCountBasedOnValue=!1}},x.prototype.setQuestionValue=function(b){if(!this.settingPanelCountBasedOnValue){v.prototype.setQuestionValue.call(this,b,!1),this.setPanelCountBasedOnValue();for(var i=0;i<this.panelsCore.length;i++)this.panelUpdateValueFromSurvey(this.panelsCore[i]);this.updateIsAnswered()}},x.prototype.onSurveyValueChanged=function(b){if(!(b===void 0&&this.isAllPanelsEmpty())){v.prototype.onSurveyValueChanged.call(this,b);for(var i=0;i<this.panelsCore.length;i++)this.panelSurveyValueChanged(this.panelsCore[i]);b===void 0&&this.setValueBasedOnPanelCount(),this.updateIsReady()}},x.prototype.isAllPanelsEmpty=function(){for(var b=0;b<this.panelsCore.length;b++)if(!P.Helpers.isValueEmpty(this.panelsCore[b].getValue()))return!1;return!0},x.prototype.panelUpdateValueFromSurvey=function(b){for(var i=b.questions,h=this.getPanelItemData(b.data),E=0;E<i.length;E++){var S=i[E];S.updateValueFromSurvey(h[S.getValueName()]),S.updateCommentFromSurvey(h[S.getValueName()+y.settings.commentSuffix]),S.initDataUI()}},x.prototype.panelSurveyValueChanged=function(b){for(var i=b.questions,h=this.getPanelItemData(b.data),E=0;E<i.length;E++){var S=i[E];S.onSurveyValueChanged(h[S.getValueName()])}},x.prototype.onSetData=function(){v.prototype.onSetData.call(this),this.useTemplatePanel&&(this.setTemplatePanelSurveyImpl(),this.rebuildPanels())},x.prototype.isNewValueCorrect=function(b){return Array.isArray(b)},x.prototype.getItemIndex=function(b){var i=this.items.indexOf(b);return i>-1?i:this.items.length},x.prototype.getVisibleItemIndex=function(b){for(var i=this.visiblePanelsCore,h=0;h<i.length;h++)if(i[h].data===b)return h;return i.length},x.prototype.getPanelItemData=function(b){var i=this.items,h=i.indexOf(b),E=this.value;return h<0&&Array.isArray(E)&&E.length>i.length&&(h=i.length),h<0?{}:!E||!Array.isArray(E)||E.length<=h?{}:E[h]},x.prototype.setPanelItemData=function(b,i,h){if(!(this.isSetPanelItemData[i]>this.maxCheckCount)){this.isSetPanelItemData[i]||(this.isSetPanelItemData[i]=0),this.isSetPanelItemData[i]++;var E=this.items,S=E.indexOf(b);S<0&&(S=E.length);var L=this.getUnbindValue(this.value);if((!L||!Array.isArray(L))&&(L=[]),L.length<=S)for(var j=L.length;j<=S;j++)L.push({});if(L[S]||(L[S]={}),this.isValueEmpty(h)?delete L[S][i]:L[S][i]=h,S>=0&&S<this.panelsCore.length&&(this.changingValueQuestion=this.panelsCore[S].getQuestionByValueName(i)),this.value=L,this.changingValueQuestion=null,this.survey){var w={question:this,panel:b.panel,name:i,itemIndex:S,itemValue:L[S],value:h};this.survey.dynamicPanelItemValueChanged(this,w)}this.isSetPanelItemData[i]--,this.isSetPanelItemData[i]-1&&delete this.isSetPanelItemData[i]}},x.prototype.getRootData=function(){return this.data},x.prototype.getPlainData=function(b){b===void 0&&(b={includeEmpty:!0});var i=v.prototype.getPlainData.call(this,b);if(i){i.isNode=!0;var h=Array.isArray(i.data)?[].concat(i.data):[];i.data=this.panels.map(function(E,S){var L={name:E.name||S,title:E.title||"Panel",value:E.getValue(),displayValue:E.getValue(),getString:function(j){return typeof j=="object"?JSON.stringify(j):j},isNode:!0,data:E.questions.map(function(j){return j.getPlainData(b)}).filter(function(j){return!!j})};return(b.calculations||[]).forEach(function(j){L[j.propertyName]=E[j.propertyName]}),L}),i.data=i.data.concat(h)}return i},x.prototype.updateElementCss=function(b){v.prototype.updateElementCss.call(this,b);for(var i=0;i<this.panelsCore.length;i++){var h=this.panelsCore[i];h.updateElementCss(b)}},Object.defineProperty(x.prototype,"progressText",{get:function(){var b=this.visiblePanelCount;return this.getLocalizationFormatString("panelDynamicProgressText",this.currentIndex+1,b)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"progress",{get:function(){return(this.currentIndex+1)/this.visiblePanelCount*100+"%"},enumerable:!1,configurable:!0}),x.prototype.getRootCss=function(){return new f.CssClassBuilder().append(v.prototype.getRootCss.call(this)).append(this.cssClasses.empty,this.getShowNoEntriesPlaceholder()).toString()},Object.defineProperty(x.prototype,"cssHeader",{get:function(){var b=this.isRenderModeTab&&!!this.panelCount;return new f.CssClassBuilder().append(this.cssClasses.header).append(this.cssClasses.headerTop,this.hasTitleOnTop||b).append(this.cssClasses.headerTab,b).toString()},enumerable:!1,configurable:!0}),x.prototype.getPanelWrapperCss=function(){return new f.CssClassBuilder().append(this.cssClasses.panelWrapper).append(this.cssClasses.panelWrapperInRow,this.panelRemoveButtonLocation==="right").toString()},x.prototype.getPanelRemoveButtonCss=function(){return new f.CssClassBuilder().append(this.cssClasses.button).append(this.cssClasses.buttonRemove).append(this.cssClasses.buttonRemoveRight,this.panelRemoveButtonLocation==="right").toString()},x.prototype.getAddButtonCss=function(){return new f.CssClassBuilder().append(this.cssClasses.button).append(this.cssClasses.buttonAdd).append(this.cssClasses.buttonAdd+"--list-mode",this.renderMode==="list").toString()},x.prototype.getPrevButtonCss=function(){return new f.CssClassBuilder().append(this.cssClasses.buttonPrev).append(this.cssClasses.buttonPrevDisabled,!this.isPrevButtonVisible).toString()},x.prototype.getNextButtonCss=function(){return new f.CssClassBuilder().append(this.cssClasses.buttonNext).append(this.cssClasses.buttonNextDisabled,!this.isNextButtonVisible).toString()},Object.defineProperty(x.prototype,"noEntriesText",{get:function(){return this.getLocalizableStringText("noEntriesText")},set:function(b){this.setLocalizableStringText("noEntriesText",b)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"locNoEntriesText",{get:function(){return this.getLocalizableString("noEntriesText")},enumerable:!1,configurable:!0}),x.prototype.getShowNoEntriesPlaceholder=function(){return!!this.cssClasses.noEntriesPlaceholder&&!this.isDesignMode&&this.visiblePanelCount===0},x.prototype.needResponsiveWidth=function(){var b=this.getPanel();return!!(b&&b.needResponsiveWidth())},x.prototype.getAdditionalTitleToolbar=function(){return this.isRenderModeTab?(this.additionalTitleToolbarValue||(this.additionalTitleToolbarValue=new s.AdaptiveActionContainer,this.additionalTitleToolbarValue.dotsItem.popupModel.showPointer=!1,this.additionalTitleToolbarValue.dotsItem.popupModel.verticalPosition="bottom",this.additionalTitleToolbarValue.dotsItem.popupModel.horizontalPosition="center",this.updateElementCss(!1)),this.additionalTitleToolbarValue):null},Object.defineProperty(x.prototype,"footerToolbar",{get:function(){return this.footerToolbarValue||this.initFooterToolbar(),this.footerToolbarValue},enumerable:!1,configurable:!0}),x.prototype.updateFooterActions=function(){this.updateFooterActionsCallback&&this.updateFooterActionsCallback()},x.prototype.initFooterToolbar=function(){var b=this;this.footerToolbarValue=this.createActionContainer();var i=[],h=new e.Action({id:"sv-pd-prev-btn",title:this.panelPrevText,action:function(){b.goToPrevPanel()}}),E=new e.Action({id:"sv-pd-next-btn",title:this.panelNextText,action:function(){b.goToNextPanel()}}),S=new e.Action({id:"sv-pd-add-btn",component:"sv-paneldynamic-add-btn",data:{question:this}}),L=new e.Action({id:"sv-prev-btn-icon",component:"sv-paneldynamic-prev-btn",data:{question:this}}),j=new e.Action({id:"sv-pd-progress-text",component:"sv-paneldynamic-progress-text",data:{question:this}}),w=new e.Action({id:"sv-pd-next-btn-icon",component:"sv-paneldynamic-next-btn",data:{question:this}});i.push(h,E,S,L,j,w),this.updateFooterActionsCallback=function(){var g=b.legacyNavigation,I=b.isRenderModeList,T=b.isMobile,B=!g&&!I;h.visible=B&&b.currentIndex>0,E.visible=B&&b.currentIndex<b.visiblePanelCount-1,E.needSpace=T&&E.visible&&h.visible,S.visible=b.canAddPanel,S.needSpace=b.isMobile&&!E.visible&&h.visible,j.visible=!b.isRenderModeList&&!T,j.needSpace=!g&&!b.isMobile;var N=g&&!I;L.visible=N,w.visible=N,L.needSpace=N},this.updateFooterActionsCallback(),this.footerToolbarValue.setItems(i)},x.prototype.createTabByPanel=function(b,i){var h=this;if(this.isRenderModeTab){var E=new D.LocalizableString(b,!0);E.onGetTextCallback=function(j){if(!h.survey)return j;var w={title:j,panel:b,visiblePanelIndex:i};return h.survey.dynamicPanelGetTabTitle(h,w),w.title},E.sharedData=this.locTemplateTabTitle;var S=this.getPanelIndexById(b.id)===this.currentIndex,L=new e.Action({id:b.id,pressed:S,locTitle:E,disableHide:S,action:function(){h.currentIndex=h.getPanelIndexById(L.id)}});return L}},x.prototype.getAdditionalTitleToolbarCss=function(b){var i=b??this.cssClasses;return new f.CssClassBuilder().append(i.tabsRoot).append(i.tabsLeft,this.tabAlign==="left").append(i.tabsRight,this.tabAlign==="right").append(i.tabsCenter,this.tabAlign==="center").toString()},x.prototype.updateTabToolbarItemsPressedState=function(){if(this.isRenderModeTab&&!(this.currentIndex<0||this.currentIndex>=this.visiblePanelCount)){var b=this.visiblePanelsCore[this.currentIndex];this.additionalTitleToolbar.renderedActions.forEach(function(i){var h=i.id===b.id;i.pressed=h,i.disableHide=h,i.mode==="popup"&&i.disableHide&&i.raiseUpdate()})}},x.prototype.updateTabToolbar=function(){var b=this;if(this.isRenderModeTab){for(var i=[],h=this.visiblePanelsCore,E=function(j){S.visiblePanelsCore.forEach(function(w){return i.push(b.createTabByPanel(h[j],j))})},S=this,L=0;L<h.length;L++)E(L);this.additionalTitleToolbar.setItems(i)}},x.prototype.addTabFromToolbar=function(b,i){if(this.isRenderModeTab){var h=this.createTabByPanel(b,i);this.additionalTitleToolbar.actions.splice(i,0,h),this.updateTabToolbarItemsPressedState()}},x.prototype.removeTabFromToolbar=function(b){if(this.isRenderModeTab){var i=this.additionalTitleToolbar.getActionById(b.id);i&&(this.additionalTitleToolbar.actions.splice(this.additionalTitleToolbar.actions.indexOf(i),1),this.updateTabToolbarItemsPressedState())}},Object.defineProperty(x.prototype,"showLegacyNavigation",{get:function(){return!this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"showNavigation",{get:function(){return this.visiblePanelCount>0&&!this.showLegacyNavigation&&!!this.cssClasses.footer},enumerable:!1,configurable:!0}),x.prototype.showSeparator=function(b){return this.isRenderModeList&&b<this.visiblePanelCount-1},x.prototype.calcCssClasses=function(b){var i=v.prototype.calcCssClasses.call(this,b),h=this.additionalTitleToolbar;return h&&(h.containerCss=this.getAdditionalTitleToolbarCss(i),h.cssClasses=i.tabs,h.dotsItem.cssClasses=i.tabs,h.dotsItem.popupModel.contentComponentData.model.cssClasses=b.list),i},x.maxCheckCount=3,c([Object(V.property)({defaultValue:!1,onSet:function(b,i){i.updateFooterActions()}})],x.prototype,"legacyNavigation",void 0),x}(R.Question);V.Serializer.addClass("paneldynamic",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"templateElements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"templateTitle:text",serializationProperty:"locTemplateTitle"},{name:"templateTabTitle",serializationProperty:"locTemplateTabTitle",visibleIf:function(v){return v.renderMode==="tab"}},{name:"templateDescription:text",serializationProperty:"locTemplateDescription"},{name:"minWidth",defaultFunc:function(){return"auto"}},{name:"noEntriesText:text",serializationProperty:"locNoEntriesText"},{name:"allowAddPanel:boolean",default:!0},{name:"allowRemovePanel:boolean",default:!0},{name:"newPanelPosition",choices:["next","last"],default:"last",category:"layout"},{name:"panelCount:number",isBindable:!0,default:0,choices:[0,1,2,3,4,5,6,7,8,9,10]},{name:"minPanelCount:number",default:0,minValue:0},{name:"maxPanelCount:number",default:y.settings.panel.maxPanelCount},"defaultPanelValue:panelvalue","defaultValueFromLastPanel:boolean",{name:"panelsState",default:"default",choices:["default","collapsed","expanded","firstExpanded"]},{name:"keyName"},{name:"keyDuplicationError",serializationProperty:"locKeyDuplicationError"},{name:"confirmDelete:boolean"},{name:"confirmDeleteText",serializationProperty:"locConfirmDeleteText"},{name:"panelAddText",serializationProperty:"locPanelAddText"},{name:"panelRemoveText",serializationProperty:"locPanelRemoveText"},{name:"panelPrevText",serializationProperty:"locPanelPrevText"},{name:"panelNextText",serializationProperty:"locPanelNextText"},{name:"showQuestionNumbers",default:"off",choices:["off","onPanel","onSurvey"]},{name:"showRangeInProgress:boolean",default:!0},{name:"renderMode",default:"list",choices:["list","progressTop","progressBottom","progressTopBottom","tab"]},{name:"tabAlign",default:"center",choices:["center","left","right"],visibleIf:function(v){return v.renderMode==="tab"}},{name:"templateTitleLocation",default:"default",choices:["default","top","bottom","left"]},{name:"templateErrorLocation",default:"default",choices:["default","top","bottom"]},{name:"templateVisibleIf:expression",category:"logic"},{name:"panelRemoveButtonLocation",default:"bottom",choices:["bottom","right"]}],function(){return new u("")},"question"),O.QuestionFactory.Instance.registerQuestion("paneldynamic",function(v){return new u(v)})},"./src/question_radiogroup.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"QuestionRadiogroupModel",function(){return O});var P=d("./src/jsonobject.ts"),C=d("./src/questionfactory.ts"),D=d("./src/question_baseselect.ts"),A=d("./src/actions/action.ts"),R=d("./src/base.ts"),V=function(){var l=function(y,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var m in e)Object.prototype.hasOwnProperty.call(e,m)&&(f[m]=e[m])},l(y,p)};return function(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");l(y,p);function f(){this.constructor=y}y.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}(),O=function(l){V(y,l);function y(p){return l.call(this,p)||this}return y.prototype.getDefaultItemComponent=function(){return"survey-radiogroup-item"},y.prototype.getType=function(){return"radiogroup"},y.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},Object.defineProperty(y.prototype,"selectedItem",{get:function(){return this.getSingleSelectedItem()},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"showClearButton",{get:function(){return this.getPropertyValue("showClearButton")},set:function(p){this.setPropertyValue("showClearButton",p)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"canShowClearButton",{get:function(){return this.showClearButton&&!this.isReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"clearButtonCaption",{get:function(){return this.getLocalizationString("clearCaption")},enumerable:!1,configurable:!0}),y.prototype.supportGoNextPageAutomatic=function(){return this.isMouseDown===!0&&!this.isOtherSelected},y.prototype.setNewComment=function(p){this.isMouseDown=!0,l.prototype.setNewComment.call(this,p),this.isMouseDown=!1},Object.defineProperty(y.prototype,"showClearButtonInContent",{get:function(){return!this.isDefaultV2Theme&&this.canShowClearButton},enumerable:!1,configurable:!0}),y.prototype.clickItemHandler=function(p){this.renderedValue=p.value},y.prototype.getDefaultTitleActions=function(){var p=this,f=[];if(this.isDefaultV2Theme&&!this.isDesignMode){var e=new A.Action({title:this.clearButtonCaption,id:"sv-clr-btn-"+this.id,action:function(){p.clearValue()},innerCss:this.cssClasses.clearButton,visible:new R.ComputedUpdater(function(){return p.canShowClearButton})});f.push(e)}return f},Object.defineProperty(y.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"a11y_input_ariaRole",{get:function(){return"radiogroup"},enumerable:!1,configurable:!0}),y}(D.QuestionCheckboxBase);P.Serializer.addClass("radiogroup",[{name:"showClearButton:boolean",default:!1},{name:"separateSpecialChoices",visible:!0},{name:"itemComponent",visible:!1,default:"survey-radiogroup-item"}],function(){return new O("")},"checkboxbase"),C.QuestionFactory.Instance.registerQuestion("radiogroup",function(l){var y=new O(l);return y.choices=C.QuestionFactory.DefaultChoices,y})},"./src/question_ranking.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"QuestionRankingModel",function(){return m});var P=d("./src/dragdrop/ranking-choices.ts"),C=d("./src/dragdrop/ranking-select-to-rank.ts"),D=d("./src/itemvalue.ts"),A=d("./src/jsonobject.ts"),R=d("./src/questionfactory.ts"),V=d("./src/question_checkbox.ts"),O=d("./src/utils/cssClassBuilder.ts"),l=d("./src/utils/devices.ts"),y=d("./src/helpers.ts"),p=d("./src/settings.ts"),f=function(){var s=function(a,c){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])},s(a,c)};return function(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");s(a,c);function r(){this.constructor=a}a.prototype=c===null?Object.create(c):(r.prototype=c.prototype,new r)}}(),e=function(s,a,c,r){var t=arguments.length,n=t<3?a:r===null?r=Object.getOwnPropertyDescriptor(a,c):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(s,a,c,r);else for(var u=s.length-1;u>=0;u--)(o=s[u])&&(n=(t<3?o(n):t>3?o(a,c,n):o(a,c))||n);return t>3&&n&&Object.defineProperty(a,c,n),n},m=function(s){f(a,s);function a(c){var r=s.call(this,c)||this;return r.domNode=null,r.onVisibleChoicesChanged=function(){if(s.prototype.onVisibleChoicesChanged.call(r),r.carryForwardStartUnranked&&!r.isValueSetByUser&&!r.selectToRankEnabled&&(r.value=[]),r.visibleChoices.length===1&&!r.selectToRankEnabled){r.value=[],r.value.push(r.visibleChoices[0].value),r.updateRankingChoices();return}if(r.isEmpty()){r.updateRankingChoices();return}if(r.selectToRankEnabled){r.updateRankingChoices();return}r.visibleChoices.length>r.value.length&&r.addToValueByVisibleChoices(),r.visibleChoices.length<r.value.length&&r.removeFromValueByVisibleChoices(),r.updateRankingChoices()},r.localeChanged=function(){s.prototype.localeChanged.call(r),r.updateRankingChoices()},r.handlePointerDown=function(t,n,o){var u=t.target;r.isDragStartNodeValid(u)&&r.allowStartDrag&&r.canStartDragDueMaxSelectedChoices(u)&&r.canStartDragDueItemEnabled(n)&&r.dragDropRankingChoices.startDrag(t,n,r,o)},r.handleKeydown=function(t,n){if(!r.isDesignMode){var o=t.key,u=r.rankingChoices.indexOf(n);if(r.selectToRankEnabled){r.handleKeydownSelectToRank(t,n);return}o==="ArrowUp"&&u&&(r.handleArrowKeys(u,n,!1),t.preventDefault()),o==="ArrowDown"&&u!==r.rankingChoices.length-1&&(r.handleArrowKeys(u,n,!0),t.preventDefault())}},r.handleArrowKeys=function(t,n,o){var u=o?1:-1,v=r.rankingChoices;v.splice(t,1),v.splice(t+u,0,n),r.setValue(),setTimeout(function(){r.focusItem(t+u)},1)},r.focusItem=function(t,n){if(r.selectToRankEnabled&&n){var o="[data-ranking='"+n+"']",u=r.domNode.querySelectorAll(o+" ."+r.cssClasses.item);u[t].focus()}else{var u=r.domNode.querySelectorAll("."+r.cssClasses.item);u[t].focus()}},r.isValueSetByUser=!1,r.setValue=function(){var t=[];r.rankingChoices.forEach(function(n){t.push(n.value)}),r.value=t,r.isValueSetByUser=!0},r.createNewArray("rankingChoices"),r.registerFunctionOnPropertyValueChanged("selectToRankEnabled",function(){r.clearValue(),r.setDragDropRankingChoices(),r.updateRankingChoices()}),r}return a.prototype.getDefaultItemComponent=function(){return""},a.prototype.getType=function(){return"ranking"},a.prototype.getItemTabIndex=function(c){if(!(this.isDesignMode||c.disabled))return 0},a.prototype.supportContainerQueries=function(){return this.selectToRankEnabled},Object.defineProperty(a.prototype,"rootClass",{get:function(){return new O.CssClassBuilder().append(this.cssClasses.root).append(this.cssClasses.rootMobileMod,this.isMobileMode()).append(this.cssClasses.rootDisabled,this.isReadOnly).append(this.cssClasses.rootDesignMode,!!this.isDesignMode).append(this.cssClasses.itemOnError,this.hasCssError()).append(this.cssClasses.rootDragHandleAreaIcon,p.settings.rankingDragHandleArea==="icon").append(this.cssClasses.rootSelectToRankMod,this.selectToRankEnabled).append(this.cssClasses.rootSelectToRankAlignHorizontal,this.selectToRankEnabled&&this.renderedSelectToRankAreasLayout==="horizontal").append(this.cssClasses.rootSelectToRankAlignVertical,this.selectToRankEnabled&&this.renderedSelectToRankAreasLayout==="vertical").toString()},enumerable:!1,configurable:!0}),a.prototype.getItemClassCore=function(c,r){var t=this.rankingChoices.indexOf(c),n=this.rankingChoices.indexOf(this.currentDropTarget);return new O.CssClassBuilder().append(s.prototype.getItemClassCore.call(this,c,r)).append(this.cssClasses.itemGhostMod,this.currentDropTarget===c).append("sv-dragdrop-movedown",t===n+1&&this.dropTargetNodeMove==="down").append("sv-dragdrop-moveup",t===n-1&&this.dropTargetNodeMove==="up").toString()},a.prototype.getContainerClasses=function(c){var r=!1,t=c==="to",n=c==="from";return t?r=this.rankingChoices.length===0:n&&(r=this.unRankingChoices.length===0),new O.CssClassBuilder().append(this.cssClasses.container).append(this.cssClasses.containerToMode,t).append(this.cssClasses.containerFromMode,n).append(this.cssClasses.containerEmptyMode,r).toString()},a.prototype.isItemCurrentDropTarget=function(c){return this.dragDropRankingChoices.dropTarget===c},Object.defineProperty(a.prototype,"ghostPositionCssClass",{get:function(){return this.ghostPosition==="top"?this.cssClasses.dragDropGhostPositionTop:this.ghostPosition==="bottom"?this.cssClasses.dragDropGhostPositionBottom:""},enumerable:!1,configurable:!0}),a.prototype.getItemIndexClasses=function(c){var r;return this.selectToRankEnabled?r=this.unRankingChoices.indexOf(c)!==-1:r=this.isEmpty(),new O.CssClassBuilder().append(this.cssClasses.itemIndex).append(this.cssClasses.itemIndexEmptyMode,r).toString()},a.prototype.getNumberByIndex=function(c){return this.isEmpty()?"":c+1+""},a.prototype.setSurveyImpl=function(c,r){s.prototype.setSurveyImpl.call(this,c,r),this.setDragDropRankingChoices(),this.updateRankingChoices()},a.prototype.isAnswerCorrect=function(){return y.Helpers.isArraysEqual(this.value,this.correctAnswer,!1)},Object.defineProperty(a.prototype,"requireStrictCompare",{get:function(){return!0},enumerable:!1,configurable:!0}),a.prototype.onSurveyValueChanged=function(c){s.prototype.onSurveyValueChanged.call(this,c),!this.isLoadingFromJson&&this.updateRankingChoices()},a.prototype.addToValueByVisibleChoices=function(){var c=this.value.slice();this.visibleChoices.forEach(function(r){c.indexOf(r.value)===-1&&c.push(r.value)}),this.value=c},a.prototype.removeFromValueByVisibleChoices=function(){for(var c=this.value.slice(),r=this.visibleChoices,t=this.value.length-1;t>=0;t--)D.ItemValue.getItemByValue(r,this.value[t])||c.splice(t,1);this.value=c},Object.defineProperty(a.prototype,"rankingChoices",{get:function(){return this.getPropertyValue("rankingChoices",[])},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"unRankingChoices",{get:function(){var c=[],r=this.rankingChoices;return this.visibleChoices.forEach(function(t){c.push(t)}),r.forEach(function(t){c.forEach(function(n,o){n.value===t.value&&c.splice(o,1)})}),c},enumerable:!1,configurable:!0}),a.prototype.updateRankingChoices=function(c){var r=this;if(c===void 0&&(c=!1),this.selectToRankEnabled){this.updateRankingChoicesSelectToRankMode(c);return}var t=[];if(c&&this.setPropertyValue("rankingChoices",[]),this.isEmpty()){this.setPropertyValue("rankingChoices",this.visibleChoices);return}this.value.forEach(function(n){r.visibleChoices.forEach(function(o){o.value===n&&t.push(o)})}),this.setPropertyValue("rankingChoices",t)},a.prototype.updateRankingChoicesSelectToRankMode=function(c){var r=this;if(this.isEmpty()){this.setPropertyValue("rankingChoices",[]);return}var t=[];this.value.forEach(function(n){r.visibleChoices.forEach(function(o){o.value===n&&t.push(o)})}),this.setPropertyValue("rankingChoices",t)},a.prototype.endLoadingFromJson=function(){s.prototype.endLoadingFromJson.call(this),this.setDragDropRankingChoices()},a.prototype.setDragDropRankingChoices=function(){this.dragDropRankingChoices=this.createDragDropRankingChoices()},a.prototype.createDragDropRankingChoices=function(){return this.selectToRankEnabled?new C.DragDropRankingSelectToRank(this.survey,null,this.longTap):new P.DragDropRankingChoices(this.survey,null,this.longTap)},a.prototype.isDragStartNodeValid=function(c){return p.settings.rankingDragHandleArea==="icon"?c.classList.contains(this.cssClasses.itemIconHoverMod):!0},Object.defineProperty(a.prototype,"allowStartDrag",{get:function(){return!this.isReadOnly&&!this.isDesignMode},enumerable:!1,configurable:!0}),a.prototype.canStartDragDueMaxSelectedChoices=function(c){if(!this.selectToRankEnabled)return!0;var r=c.closest("[data-ranking='from-container']");return r?this.checkMaxSelectedChoicesUnreached():!0},a.prototype.canStartDragDueItemEnabled=function(c){return c.enabled},a.prototype.checkMaxSelectedChoicesUnreached=function(){if(this.maxSelectedChoices<1)return!0;var c=this.value,r=Array.isArray(c)?c.length:0;return r<this.maxSelectedChoices},a.prototype.afterRenderQuestionElement=function(c){this.domNode=c,s.prototype.afterRenderQuestionElement.call(this,c)},a.prototype.beforeDestroyQuestionElement=function(c){s.prototype.beforeDestroyQuestionElement.call(this,c)},a.prototype.supportSelectAll=function(){return!1},a.prototype.supportOther=function(){return!1},a.prototype.supportNone=function(){return!1},a.prototype.supportRefuse=function(){return!1},a.prototype.supportDontKnow=function(){return!1},a.prototype.handleKeydownSelectToRank=function(c,r){if(!this.isDesignMode){var t=c.key;if(!(t!==" "&&t!=="ArrowUp"&&t!=="ArrowDown")){var n=this.dragDropRankingChoices,o=this.rankingChoices,u=o.indexOf(r)!==-1,v=u?o:this.unRankingChoices,x=v.indexOf(r);if(!(x<0)){var b;if(t===" "&&!u){b=0,n.selectToRank(this,x,b),this.setValueAfterKeydown(b,"to-container");return}if(u){if(t===" "){n.unselectFromRank(this,x),b=this.unRankingChoices.indexOf(r),this.setValueAfterKeydown(b,"from-container");return}var i=t==="ArrowUp"?-1:t==="ArrowDown"?1:0;i!==0&&(b=x+i,!(b<0||b>=o.length)&&(n.reorderRankedItem(this,x,b),this.setValueAfterKeydown(b,"to-container")))}}}}},a.prototype.setValueAfterKeydown=function(c,r){var t=this;this.setValue(),setTimeout(function(){t.focusItem(c,r)},1),event.preventDefault()},a.prototype.getIconHoverCss=function(){return new O.CssClassBuilder().append(this.cssClasses.itemIcon).append(this.cssClasses.itemIconHoverMod).toString()},a.prototype.getIconFocusCss=function(){return new O.CssClassBuilder().append(this.cssClasses.itemIcon).append(this.cssClasses.itemIconFocusMod).toString()},Object.defineProperty(a.prototype,"longTap",{get:function(){return this.getPropertyValue("longTap")},set:function(c){this.setPropertyValue("longTap",c)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"selectToRankEnabled",{get:function(){return this.getPropertyValue("selectToRankEnabled",!1)},set:function(c){this.setPropertyValue("selectToRankEnabled",c)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"selectToRankAreasLayout",{get:function(){return this.getPropertyValue("selectToRankAreasLayout")},set:function(c){this.setPropertyValue("selectToRankAreasLayout",c)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"renderedSelectToRankAreasLayout",{get:function(){return this.isMobileMode()?"vertical":this.selectToRankAreasLayout},enumerable:!1,configurable:!0}),a.prototype.isMobileMode=function(){return l.IsMobile},Object.defineProperty(a.prototype,"useFullItemSizeForShortcut",{get:function(){return this.getPropertyValue("useFullItemSizeForShortcut")},set:function(c){this.setPropertyValue("useFullItemSizeForShortcut",c)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"dragDropSvgIcon",{get:function(){return this.cssClasses.dragDropSvgIconId||"#icon-drag-n-drop"},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"arrowsSvgIcon",{get:function(){return this.cssClasses.arrowsSvgIconId||"#icon-ranking-arrows"},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"dashSvgIcon",{get:function(){return this.cssClasses.dashSvgIconId||"#icon-ranking-dash"},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isNewA11yStructure",{get:function(){return!1},enumerable:!1,configurable:!0}),e([Object(A.property)({defaultValue:null})],a.prototype,"currentDropTarget",void 0),e([Object(A.property)({defaultValue:null})],a.prototype,"dropTargetNodeMove",void 0),e([Object(A.property)({defaultValue:!0})],a.prototype,"carryForwardStartUnranked",void 0),e([Object(A.property)({localizable:{defaultStr:"selectToRankEmptyRankedAreaText"}})],a.prototype,"selectToRankEmptyRankedAreaText",void 0),e([Object(A.property)({localizable:{defaultStr:"selectToRankEmptyUnrankedAreaText"}})],a.prototype,"selectToRankEmptyUnrankedAreaText",void 0),a}(V.QuestionCheckboxModel);A.Serializer.addClass("ranking",[{name:"showOtherItem",visible:!1,isSerializable:!1},{name:"otherText",visible:!1,isSerializable:!1},{name:"otherErrorText",visible:!1,isSerializable:!1},{name:"storeOthersAsComment",visible:!1,isSerializable:!1},{name:"showNoneItem",visible:!1,isSerializable:!1},{name:"showRefuseItem",visible:!1,isSerializable:!1},{name:"showDontKnowItem",visible:!1,isSerializable:!1},{name:"noneText",visible:!1,isSerializable:!1},{name:"showSelectAllItem",visible:!1,isSerializable:!1},{name:"selectAllText",visible:!1,isSerializable:!1},{name:"colCount:number",visible:!1,isSerializable:!1},{name:"separateSpecialChoices",visible:!1,isSerializable:!1},{name:"longTap",default:!0,visible:!1,isSerializable:!1},{name:"selectToRankEnabled:switch",default:!1,visible:!0,isSerializable:!0},{name:"selectToRankAreasLayout",default:"horizontal",choices:["horizontal","vertical"],dependsOn:"selectToRankEnabled",visibleIf:function(s){return!!s.selectToRankEnabled},visible:!0,isSerializable:!0},{name:"selectToRankEmptyRankedAreaText:text",serializationProperty:"locSelectToRankEmptyRankedAreaText",category:"general",dependsOn:"selectToRankEnabled",visibleIf:function(s){return!!s.selectToRankEnabled}},{name:"selectToRankEmptyUnrankedAreaText:text",serializationProperty:"locSelectToRankEmptyUnrankedAreaText",category:"general",dependsOn:"selectToRankEnabled",visibleIf:function(s){return!!s.selectToRankEnabled}},{name:"maxSelectedChoices:number",visible:!0,default:0,dependsOn:"selectToRankEnabled",visibleIf:function(s){return!!s.selectToRankEnabled},isSerializable:!0},{name:"minSelectedChoices:number",visible:!0,default:0,dependsOn:"selectToRankEnabled",visibleIf:function(s){return!!s.selectToRankEnabled},isSerializable:!0},{name:"itemComponent",visible:!1,default:""}],function(){return new m("")},"checkbox"),R.QuestionFactory.Instance.registerQuestion("ranking",function(s){var a=new m(s);return a.choices=R.QuestionFactory.DefaultChoices,a})},"./src/question_rating.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"RenderedRatingItem",function(){return m}),d.d(M,"QuestionRatingModel",function(){return a});var P=d("./src/itemvalue.ts"),C=d("./src/question.ts"),D=d("./src/jsonobject.ts"),A=d("./src/questionfactory.ts"),R=d("./src/settings.ts"),V=d("./src/surveyStrings.ts"),O=d("./src/utils/cssClassBuilder.ts"),l=d("./src/base.ts"),y=d("./src/utils/utils.ts"),p=d("./src/utils/devices.ts"),f=function(){var c=function(r,t){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(n[u]=o[u])},c(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");c(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),e=function(c,r,t,n){var o=arguments.length,u=o<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(c,r,t,n);else for(var x=c.length-1;x>=0;x--)(v=c[x])&&(u=(o<3?v(u):o>3?v(r,t,u):v(r,t))||u);return o>3&&u&&Object.defineProperty(r,t,u),u},m=function(c){f(r,c);function r(t,n){n===void 0&&(n=null);var o=c.call(this)||this;return o.itemValue=t,o.locString=n,o.locText.onStringChanged.add(o.onStringChangedCallback.bind(o)),o.onStringChangedCallback(),o}return r.prototype.onStringChangedCallback=function(){this.text=this.itemValue.text},Object.defineProperty(r.prototype,"value",{get:function(){return this.itemValue.getPropertyValue("value")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"locText",{get:function(){return this.locString||this.itemValue.locText},enumerable:!1,configurable:!0}),e([Object(D.property)({defaultValue:""})],r.prototype,"highlight",void 0),e([Object(D.property)({defaultValue:""})],r.prototype,"text",void 0),e([Object(D.property)()],r.prototype,"style",void 0),r}(l.Base),s=function(c){f(r,c);function r(t,n){var o=c.call(this,t)||this;return o.description=n,o}return r}(P.ItemValue),a=function(c){f(r,c);function r(t){var n=c.call(this,t)||this;return n._syncPropertiesChanging=!1,n.createItemValues("rateValues"),n.createRenderedRateItems(),n.createLocalizableString("ratingOptionsCaption",n,!1,!0),n.registerFunctionOnPropertiesValueChanged(["rateMin","rateMax","minRateDescription","maxRateDescription","rateStep","displayRateDescriptionsAsExtremeItems"],function(){return n.createRenderedRateItems()}),n.registerFunctionOnPropertiesValueChanged(["rateType"],function(){n.setIconsToRateValues(),n.createRenderedRateItems(),n.updateRateCount()}),n.registerFunctionOnPropertiesValueChanged(["rateValues"],function(){n.autoGenerate=!1,n.setIconsToRateValues(),n.createRenderedRateItems()}),n.registerFunctionOnPropertiesValueChanged(["rateColorMode","scaleColorMode"],function(){n.updateColors(n.survey.themeVariables)}),n.registerFunctionOnPropertiesValueChanged(["autoGenerate"],function(){!n.autoGenerate&&n.rateValues.length===0&&n.setPropertyValue("rateValues",n.visibleRateValues),n.autoGenerate&&(n.rateValues.length=0,n.updateRateMax()),n.createRenderedRateItems()}),n.createLocalizableString("minRateDescription",n,!0),n.createLocalizableString("maxRateDescription",n,!0),n.initPropertyDependencies(),n}return r.prototype.setIconsToRateValues=function(){var t=this;this.rateType=="smileys"&&this.rateValues.map(function(n){return n.icon=t.getItemSmiley(n)})},r.prototype.endLoadingFromJson=function(){c.prototype.endLoadingFromJson.call(this),this.hasMinRateDescription=!!this.minRateDescription,this.hasMaxRateDescription=!!this.maxRateDescription,this.jsonObj.rateMin!==void 0&&this.jsonObj.rateCount!==void 0&&this.jsonObj.rateMax===void 0&&this.updateRateMax(),this.jsonObj.rateMax!==void 0&&this.jsonObj.rateCount!==void 0&&this.jsonObj.rateMin===void 0&&this.updateRateMin(),this.jsonObj.autoGenerate===void 0&&this.jsonObj.rateValues!==void 0&&(this.autoGenerate=!this.jsonObj.rateValues.length),this.updateRateCount(),this.setIconsToRateValues(),this.createRenderedRateItems()},r.prototype.registerSychProperties=function(t,n){var o=this;this.registerFunctionOnPropertiesValueChanged(t,function(){o._syncPropertiesChanging||(o._syncPropertiesChanging=!0,n(),o._syncPropertiesChanging=!1)})},r.prototype.useRateValues=function(){return!!this.rateValues.length&&!this.autoGenerate},r.prototype.updateRateMax=function(){this.rateMax=this.rateMin+this.rateStep*(this.rateCount-1)},r.prototype.updateRateMin=function(){this.rateMin=this.rateMax-this.rateStep*(this.rateCount-1)},r.prototype.updateRateCount=function(){var t=0;this.useRateValues()?t=this.rateValues.length:t=Math.trunc((this.rateMax-this.rateMin)/(this.rateStep||1))+1,t>10&&this.rateDisplayMode=="smileys"&&(t=10),this.rateCount=t,this.rateValues.length>t&&this.rateValues.splice(t,this.rateValues.length-t)},r.prototype.initPropertyDependencies=function(){var t=this;this.registerSychProperties(["rateCount"],function(){if(!t.useRateValues())t.rateMax=t.rateMin+t.rateStep*(t.rateCount-1);else if(t.rateCount<t.rateValues.length){if(t.rateCount>=10&&t.rateDisplayMode=="smileys")return;t.rateValues.splice(t.rateCount,t.rateValues.length-t.rateCount)}else for(var n=t.rateValues.length;n<t.rateCount;n++)t.rateValues.push(new P.ItemValue(V.surveyLocalization.getString("choices_Item")+(n+1)))}),this.registerSychProperties(["rateMin","rateMax","rateStep","rateValues"],function(){t.updateRateCount()})},Object.defineProperty(r.prototype,"showSelectedItemLocText",{get:function(){return!this.readOnly&&!this.inputHasValue&&!!this.selectedItemLocText},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"selectedItemLocText",{get:function(){var t=this,n;return!this.readOnly&&((n=this.visibleRateValues.filter(function(o){return o.value==t.value})[0])===null||n===void 0?void 0:n.locText)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rateValues",{get:function(){return this.getPropertyValue("rateValues")},set:function(t){this.setPropertyValue("rateValues",t),this.createRenderedRateItems()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rateMin",{get:function(){return this.getPropertyValue("rateMin")},set:function(t){this.setPropertyValue("rateMin",t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rateMax",{get:function(){return this.getPropertyValue("rateMax")},set:function(t){this.setPropertyValue("rateMax",t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rateStep",{get:function(){return this.getPropertyValue("rateStep")},set:function(t){this.setPropertyValue("rateStep",t)},enumerable:!1,configurable:!0}),r.prototype.updateColors=function(t){if(this.colorMode==="monochrome"||typeof document>"u"||!document||r.colorsCalculated)return;function n(o,u){var v=!!t&&t[o];if(!v){var x=getComputedStyle(document.documentElement);v=x.getPropertyValue&&x.getPropertyValue(u)}if(!v)return null;var b=document.createElement("canvas").getContext("2d");b.fillStyle=v;var i=b.fillStyle;if(i.startsWith("rgba"))return i.substring(5,i.length-1).split(",").map(function(E){return+E.trim()});var h=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i);return h?[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16),1]:null}r.badColor=n("--sjs-special-red","--sd-rating-bad-color"),r.normalColor=n("--sjs-special-yellow","--sd-rating-normal-color"),r.goodColor=n("--sjs-special-green","--sd-rating-good-color"),r.badColorLight=n("--sjs-special-red-light","--sd-rating-bad-color-light"),r.normalColorLight=n("--sjs-special-yellow-light","--sd-rating-normal-color-light"),r.goodColorLight=n("--sjs-special-green-light","--sd-rating-good-color-light"),this.colorsCalculated=!0},r.prototype.getDisplayValueCore=function(t,n){if(!this.useRateValues)return c.prototype.getDisplayValueCore.call(this,t,n);var o=P.ItemValue.getTextOrHtmlByValue(this.visibleRateValues,n);return o||n},Object.defineProperty(r.prototype,"visibleRateValues",{get:function(){return this.renderedRateItems.map(function(t){return t.itemValue})},enumerable:!1,configurable:!0}),r.prototype.itemValuePropertyChanged=function(t,n,o,u){!this.useRateValues()&&u!==void 0&&(this.autoGenerate=!1),c.prototype.itemValuePropertyChanged.call(this,t,n,o,u)},r.prototype.createRenderedRateItems=function(){var t=this,n=[];this.useRateValues()?n=this.rateValues:n=this.createRateValues(),this.rateType=="smileys"&&n.length>10&&(n=n.slice(0,10)),this.renderedRateItems=n.map(function(o,u){var v=null;return t.displayRateDescriptionsAsExtremeItems&&(u==0&&(v=new m(o,t.minRateDescription&&t.locMinRateDescription||o.locText)),u==n.length-1&&(v=new m(o,t.maxRateDescription&&t.locMaxRateDescription||o.locText))),v||(v=new m(o)),v})},r.prototype.createRateValues=function(){for(var t=[],n=this.rateMin,o=this.rateStep;n<=this.rateMax&&t.length<R.settings.ratingMaximumRateValueCount;){var u=void 0;n===this.rateMin&&(u=this.minRateDescription&&this.locMinRateDescription),(n===this.rateMax||t.length===R.settings.ratingMaximumRateValueCount)&&(u=this.maxRateDescription&&this.locMaxRateDescription);var v=new s(n,u);v.locOwner=this,v.ownerPropertyName="rateValues",t.push(v),n=this.correctValue(n+o,o)}return t},r.prototype.correctValue=function(t,n){if(!t||Math.round(t)==t)return t;for(var o=0;Math.round(n)!=n;)n*=10,o++;return parseFloat(t.toFixed(o))},r.prototype.getType=function(){return"rating"},r.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},r.prototype.getInputId=function(t){return this.inputId+"_"+t},r.prototype.supportGoNextPageAutomatic=function(){return this.isMouseDown===!0},r.prototype.supportOther=function(){return!1},r.prototype.getPlainDataCalculatedValue=function(t){var n=c.prototype.getPlainDataCalculatedValue.call(this,t);if(n!==void 0||!this.useRateValues||this.isEmpty())return n;var o=P.ItemValue.getItemByValue(this.visibleRateValues,this.value);return o?o[t]:void 0},Object.defineProperty(r.prototype,"minRateDescription",{get:function(){return this.getLocalizableStringText("minRateDescription")},set:function(t){this.setLocalizableStringText("minRateDescription",t),this.hasMinRateDescription=!!this.minRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"locMinRateDescription",{get:function(){return this.getLocalizableString("minRateDescription")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxRateDescription",{get:function(){return this.getLocalizableStringText("maxRateDescription")},set:function(t){this.setLocalizableStringText("maxRateDescription",t),this.hasMaxRateDescription=!!this.maxRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"locMaxRateDescription",{get:function(){return this.getLocalizableString("maxRateDescription")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasMinLabel",{get:function(){return!this.displayRateDescriptionsAsExtremeItems&&!!this.hasMinRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasMaxLabel",{get:function(){return!this.displayRateDescriptionsAsExtremeItems&&!!this.hasMaxRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rateDisplayMode",{get:function(){return this.rateType},set:function(t){this.rateType=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isStar",{get:function(){return this.rateType=="stars"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isSmiley",{get:function(){return this.rateType=="smileys"},enumerable:!1,configurable:!0}),r.prototype.getDefaultItemComponent=function(){return this.renderAs=="dropdown"?"sv-rating-dropdown-item":this.isStar?"sv-rating-item-star":this.isSmiley?"sv-rating-item-smiley":"sv-rating-item"},Object.defineProperty(r.prototype,"itemComponent",{get:function(){return this.getPropertyValue("itemComponent",this.getDefaultItemComponent())},set:function(t){this.setPropertyValue("itemComponent",t)},enumerable:!1,configurable:!0}),r.prototype.valueToData=function(t){if(this.useRateValues()){var n=P.ItemValue.getItemByValue(this.rateValues,t);return n?n.value:t}return isNaN(t)?t:parseFloat(t)},r.prototype.setValueFromClick=function(t){this.value===parseFloat(t)?this.clearValue():this.value=t;for(var n=0;n<this.renderedRateItems.length;n++)this.renderedRateItems[n].highlight="none"},r.prototype.onItemMouseIn=function(t){if(!p.IsTouch&&!(this.isReadOnly||!t.itemValue.isEnabled||this.isDesignMode)){var n=!0,o=this.value!=null;if(this.rateType!=="stars"){t.highlight="highlighted";return}for(var u=0;u<this.renderedRateItems.length;u++)this.renderedRateItems[u].highlight=n&&!o&&"highlighted"||!n&&o&&"unhighlighted"||"none",this.renderedRateItems[u]==t&&(n=!1),this.renderedRateItems[u].itemValue.value==this.value&&(o=!1)}},r.prototype.onItemMouseOut=function(t){p.IsTouch||this.renderedRateItems.forEach(function(n){return n.highlight="none"})},Object.defineProperty(r.prototype,"itemSmallMode",{get:function(){return this.inMatrixMode&&R.settings.matrix.rateSize=="small"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ratingRootCss",{get:function(){var t=(this.displayMode=="buttons"||this.survey&&this.survey.isDesignMode)&&this.cssClasses.rootWrappable?this.cssClasses.rootWrappable:"",n="";return(this.hasMaxLabel||this.hasMinLabel)&&(this.rateDescriptionLocation=="top"&&(n=this.cssClasses.rootLabelsTop),this.rateDescriptionLocation=="bottom"&&(n=this.cssClasses.rootLabelsBottom),this.rateDescriptionLocation=="topBottom"&&(n=this.cssClasses.rootLabelsDiagonal)),new O.CssClassBuilder().append(this.cssClasses.root).append(t).append(n).append(this.cssClasses.itemSmall,this.itemSmallMode&&this.rateType!="labels").toString()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"itemStarIcon",{get:function(){return this.itemSmallMode?"icon-rating-star-small":"icon-rating-star"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"itemStarIconAlt",{get:function(){return this.itemStarIcon+"-2"},enumerable:!1,configurable:!0}),r.prototype.getItemSmiley=function(t){var n=["terrible","very-poor","poor","not-good","average","normal","good","very-good","excellent","perfect"],o=["very-good","not-good","normal","good","average","excellent","poor","perfect","very-poor","terrible"],u=this.useRateValues()?this.rateValues.length:this.rateMax-this.rateMin+1,v=o.slice(0,u),x=n.filter(function(b){return v.indexOf(b)!=-1});return this.useRateValues()?x[this.rateValues.indexOf(t)]:x[t.value-this.rateMin]},r.prototype.getItemSmileyIconName=function(t){return"icon-"+this.getItemSmiley(t)},r.prototype.getItemClassByText=function(t,n){return this.getItemClass(t)},r.prototype.getRenderedItemColor=function(t,n){var o=n?r.badColorLight:r.badColor,u=n?r.goodColorLight:r.goodColor,v=(this.rateCount-1)/2,x=n?r.normalColorLight:r.normalColor;if(t<v?u=x:(o=x,t-=v),!o||!u)return null;for(var b=[0,0,0,0],i=0;i<4;i++)b[i]=o[i]+(u[i]-o[i])*t/v,i<3&&(b[i]=Math.trunc(b[i]));return"rgba("+b[0]+", "+b[1]+", "+b[2]+", "+b[3]+")"},r.prototype.getItemStyle=function(t,n){if(n===void 0&&(n="none"),this.scaleColorMode==="monochrome"&&this.rateColorMode=="default")return{borderColor:null,fill:null,backgroundColor:null};var o=this.visibleRateValues.indexOf(t),u=this.getRenderedItemColor(o,!1);if(this.value!=this.renderedRateItems[o].value){var v=this.getRenderedItemColor(o,!0);return n=="highlighted"&&this.scaleColorMode==="colored"?{borderColor:u,fill:u,backgroundColor:v}:this.scaleColorMode==="colored"&&this.errors.length==0?{borderColor:u,fill:u,backgroundColor:null}:{borderColor:null,fill:null,backgroundColor:null}}else return{borderColor:u,fill:null,backgroundColor:u}},r.prototype.getItemClass=function(t,n){var o=this;n===void 0&&(n="none");var u=this.value==t.value;this.isStar&&(this.useRateValues()?u=this.rateValues.indexOf(this.rateValues.filter(function(k){return k.value==o.value})[0])>=this.rateValues.indexOf(t):u=this.value>=t.value);var v=this.isReadOnly||!t.isEnabled,x=!v&&this.value!=t.value&&!(this.survey&&this.survey.isDesignMode),b=this.renderedRateItems.filter(function(k){return k.itemValue==t})[0],i=this.isStar&&b?.highlight=="highlighted",h=this.isStar&&b?.highlight=="unhighlighted",E=this.cssClasses.item,S=this.cssClasses.selected,L=this.cssClasses.itemDisabled,j=this.cssClasses.itemHover,w=this.cssClasses.itemOnError,g=null,I=null,T=null,B=null,N=null;this.isStar&&(E=this.cssClasses.itemStar,S=this.cssClasses.itemStarSelected,L=this.cssClasses.itemStarDisabled,j=this.cssClasses.itemStarHover,w=this.cssClasses.itemStarOnError,g=this.cssClasses.itemStarHighlighted,I=this.cssClasses.itemStarUnhighlighted,N=this.cssClasses.itemStarSmall),this.isSmiley&&(E=this.cssClasses.itemSmiley,S=this.cssClasses.itemSmileySelected,L=this.cssClasses.itemSmileyDisabled,j=this.cssClasses.itemSmileyHover,w=this.cssClasses.itemSmileyOnError,g=this.cssClasses.itemSmileyHighlighted,T=this.cssClasses.itemSmileyScaleColored,B=this.cssClasses.itemSmileyRateColored,N=this.cssClasses.itemSmileySmall);var H=!this.isStar&&!this.isSmiley&&(!this.displayRateDescriptionsAsExtremeItems||this.useRateValues()&&t!=this.rateValues[0]&&t!=this.rateValues[this.rateValues.length-1]||!this.useRateValues()&&t.value!=this.rateMin&&t.value!=this.rateMax)&&t.locText.calculatedText.length<=2&&Number.isInteger(Number(t.locText.calculatedText));return new O.CssClassBuilder().append(E).append(S,u).append(L,this.isReadOnly).append(j,x).append(g,i).append(T,this.scaleColorMode=="colored").append(B,this.rateColorMode=="scale"&&u).append(I,h).append(w,this.hasCssError()).append(N,this.itemSmallMode).append(this.cssClasses.itemFixedSize,H).toString()},r.prototype.getControlClass=function(){return this.isEmpty(),new O.CssClassBuilder().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isReadOnly).toString()},Object.defineProperty(r.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("ratingOptionsCaption")},set:function(t){this.setLocalizableStringText("ratingOptionsCaption",t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("ratingOptionsCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"allowClear",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"searchEnabled",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"renderedValue",{get:function(){return this.value},set:function(t){this.value=t},enumerable:!1,configurable:!0}),r.prototype.isItemSelected=function(t){return t.value==this.value},Object.defineProperty(r.prototype,"visibleChoices",{get:function(){return this.visibleRateValues},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"readOnlyText",{get:function(){return this.readOnly?this.displayValue||this.placeholder:this.isEmpty()?this.placeholder:""},enumerable:!1,configurable:!0}),r.prototype.needResponsiveWidth=function(){var t=this.getPropertyValue("rateValues"),n=this.getPropertyValue("rateStep"),o=this.getPropertyValue("rateMax"),u=this.getPropertyValue("rateMin");return this.displayMode!="dropdown"&&!!(this.hasMinRateDescription||this.hasMaxRateDescription||n&&(o-u)/n>9)},r.prototype.supportResponsiveness=function(){return!0},r.prototype.getCompactRenderAs=function(){return this.displayMode=="buttons"?"default":"dropdown"},r.prototype.getDesktopRenderAs=function(){return this.displayMode=="dropdown"?"dropdown":"default"},Object.defineProperty(r.prototype,"ariaExpanded",{get:function(){var t,n=(t=this.dropdownListModel)===null||t===void 0?void 0:t.popupModel;return n?n.isVisible?"true":"false":null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dropdownListModel",{get:function(){return this.dropdownListModelValue},set:function(t){this.dropdownListModelValue=t,this.updateElementCss()},enumerable:!1,configurable:!0}),r.prototype.updateCssClasses=function(t,n){if(c.prototype.updateCssClasses.call(this,t,n),this.dropdownListModel){var o={};Object(y.mergeValues)(n.list,o),Object(y.mergeValues)(t.list,o),t.list=o}},r.prototype.calcCssClasses=function(t){var n=c.prototype.calcCssClasses.call(this,t);return this.dropdownListModel&&this.dropdownListModel.updateCssClasses(n.popup,n.list),n},r.prototype.themeChanged=function(t){this.colorsCalculated=!1,this.updateColors(t.cssVariables),this.createRenderedRateItems()},r.prototype.setSurveyImpl=function(t,n){c.prototype.setSurveyImpl.call(this,t,n),this.survey&&this.updateColors(this.survey.themeVariables)},r.prototype.dispose=function(){c.prototype.dispose.call(this),this.dropdownListModelValue&&this.dropdownListModelValue.dispose()},r.colorsCalculated=!1,e([Object(D.property)({defaultValue:!1})],r.prototype,"inputHasValue",void 0),e([Object(D.property)()],r.prototype,"autoGenerate",void 0),e([Object(D.property)()],r.prototype,"rateCount",void 0),e([Object(D.propertyArray)()],r.prototype,"renderedRateItems",void 0),e([Object(D.property)({defaultValue:!1})],r.prototype,"hasMinRateDescription",void 0),e([Object(D.property)({defaultValue:!1})],r.prototype,"hasMaxRateDescription",void 0),e([Object(D.property)()],r.prototype,"displayRateDescriptionsAsExtremeItems",void 0),e([Object(D.property)({onSet:function(t,n){n.isDesignMode||(t==="dropdown"?n.renderAs="dropdown":n.renderAs="default")}})],r.prototype,"displayMode",void 0),e([Object(D.property)()],r.prototype,"rateDescriptionLocation",void 0),e([Object(D.property)()],r.prototype,"rateType",void 0),e([Object(D.property)()],r.prototype,"scaleColorMode",void 0),e([Object(D.property)()],r.prototype,"rateColorMode",void 0),r}(C.Question);D.Serializer.addClass("rating",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"rateType",alternativeName:"rateDisplayMode",default:"labels",category:"rateValues",choices:["labels","stars","smileys"],visibleIndex:0},{name:"scaleColorMode",category:"rateValues",default:"monochrome",choices:["monochrome","colored"],visibleIf:function(c){return c.rateDisplayMode=="smileys"},visibleIndex:1},{name:"rateColorMode",category:"rateValues",default:"scale",choices:["default","scale"],visibleIf:function(c){return c.rateDisplayMode=="smileys"&&c.scaleColorMode=="monochrome"},visibleIndex:2},{name:"autoGenerate",category:"rateValues",default:!0,choices:[!0,!1],visibleIndex:4},{name:"rateCount:number",default:5,category:"rateValues",visibleIndex:3,onSettingValue:function(c,r){return r<2?2:r>R.settings.ratingMaximumRateValueCount&&r>c.rateValues.length?R.settings.ratingMaximumRateValueCount:r>10&&c.rateDisplayMode=="smileys"?10:r}},{name:"rateValues:itemvalue[]",baseValue:function(){return V.surveyLocalization.getString("choices_Item")},category:"rateValues",visibleIf:function(c){return!c.autoGenerate},visibleIndex:5},{name:"rateMin:number",default:1,onSettingValue:function(c,r){return r>c.rateMax-c.rateStep?c.rateMax-c.rateStep:r},visibleIf:function(c){return!!c.autoGenerate},visibleIndex:6},{name:"rateMax:number",default:5,onSettingValue:function(c,r){return r<c.rateMin+c.rateStep?c.rateMin+c.rateStep:r},visibleIf:function(c){return!!c.autoGenerate},visibleIndex:7},{name:"rateStep:number",default:1,minValue:.1,onSettingValue:function(c,r){return r<=0&&(r=1),r>c.rateMax-c.rateMin&&(r=c.rateMax-c.rateMin),r},visibleIf:function(c){return!!c.autoGenerate},visibleIndex:8},{name:"minRateDescription",alternativeName:"mininumRateDescription",serializationProperty:"locMinRateDescription",visibleIndex:17},{name:"maxRateDescription",alternativeName:"maximumRateDescription",serializationProperty:"locMaxRateDescription",visibleIndex:18},{name:"displayRateDescriptionsAsExtremeItems:boolean",default:!1,visibleIndex:19,visibleIf:function(c){return c.rateType=="labels"}},{name:"rateDescriptionLocation",default:"leftRight",category:"layout",choices:["leftRight","top","bottom","topBottom"]},{name:"displayMode",default:"auto",choices:["auto","buttons","dropdown"],visibleIndex:20},{name:"itemComponent",visible:!1,defaultFunc:function(c){return c?(c.getOriginalObj&&(c=c.getOriginalObj()),c.getDefaultItemComponent()):"sv-rating-item"}}],function(){return new a("")},"question"),A.QuestionFactory.Instance.registerQuestion("rating",function(c){return new a(c)})},"./src/question_signaturepad.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"QuestionSignaturePadModel",function(){return f});var P=d("./src/jsonobject.ts"),C=d("./src/questionfactory.ts"),D=d("./node_modules/signature_pad/dist/signature_pad.js"),A=d("./src/utils/cssClassBuilder.ts"),R=d("./src/console-warnings.ts"),V=d("./src/question_file.ts"),O=function(){var m=function(s,a){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,r){c.__proto__=r}||function(c,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(c[t]=r[t])},m(s,a)};return function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");m(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),l=function(m,s,a,c){var r=arguments.length,t=r<3?s:c===null?c=Object.getOwnPropertyDescriptor(s,a):c,n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")t=Reflect.decorate(m,s,a,c);else for(var o=m.length-1;o>=0;o--)(n=m[o])&&(t=(r<3?n(t):r>3?n(s,a,t):n(s,a))||t);return r>3&&t&&Object.defineProperty(s,a,t),t},y=300,p=200,f=function(m){O(s,m);function s(a){var c=m.call(this,a)||this;return c.valueIsUpdatingInternally=!1,c.updateValueHandler=function(){c.scaleCanvas(!1,!0),c.refreshCanvas()},c.onBlur=function(r){if(!c.storeDataAsText&&!c.element.contains(r.relatedTarget)){if(!c.valueWasChangedFromLastUpload)return;c.uploadFiles([Object(V.dataUrl2File)(c.signaturePad.toDataURL(c.getFormat()),c.name+"."+e(c.dataFormat),c.getFormat())]),c.valueWasChangedFromLastUpload=!1}},c}return s.prototype.getPenColorFromTheme=function(){var a=this.survey;return!!a&&!!a.themeVariables&&a.themeVariables["--sjs-primary-backcolor"]},s.prototype.updateColors=function(a){var c=this.getPenColorFromTheme(),r=this.getPropertyByName("penColor");a.penColor=this.penColor||c||r.defaultValue||"#1ab394";var t=this.getPropertyByName("backgroundColor"),n=c?"transparent":void 0,o=this.backgroundImage?"transparent":this.backgroundColor;a.backgroundColor=o||n||t.defaultValue||"#ffffff"},s.prototype.getCssRoot=function(a){return new A.CssClassBuilder().append(m.prototype.getCssRoot.call(this,a)).append(a.small,this.signatureWidth.toString()==="300").toString()},s.prototype.getFormat=function(){return this.dataFormat==="jpeg"?"image/jpeg":this.dataFormat==="svg"?"image/svg+xml":""},s.prototype.updateValue=function(){if(this.signaturePad){var a=this.signaturePad.toDataURL(this.getFormat());this.valueIsUpdatingInternally=!0,this.value=a,this.valueIsUpdatingInternally=!1}},s.prototype.getType=function(){return"signaturepad"},s.prototype.afterRenderQuestionElement=function(a){a&&(this.initSignaturePad(a),this.element=a),m.prototype.afterRenderQuestionElement.call(this,a)},s.prototype.beforeDestroyQuestionElement=function(a){a&&this.destroySignaturePad(a)},s.prototype.themeChanged=function(a){this.signaturePad&&this.updateColors(this.signaturePad)},s.prototype.resizeCanvas=function(){this.canvas.width=this.containerWidth,this.canvas.height=this.containerHeight},s.prototype.scaleCanvas=function(a,c){a===void 0&&(a=!0),c===void 0&&(c=!1);var r=this.canvas,t=r.offsetWidth/this.containerWidth;(this.scale!=t||c)&&(this.scale=t,r.style.width=this.renderedCanvasWidth,this.resizeCanvas(),this.signaturePad.minWidth=this.penMinWidth*t,this.signaturePad.maxWidth=this.penMaxWidth*t,r.getContext("2d").scale(1/t,1/t),a&&this.refreshCanvas())},s.prototype.fromDataUrl=function(a){this.signaturePad.fromDataURL(a,{width:this.canvas.width*this.scale,height:this.canvas.height*this.scale})},s.prototype.fromUrl=function(a){var c=this,r=document.createElement("img");r.crossOrigin="anonymous",r.src=a,r.onload=function(){var t=c.canvas.getContext("2d");t.drawImage(r,0,0);var n=c.canvas.toDataURL(c.getFormat());c.fromDataUrl(n)}},s.prototype.refreshCanvas=function(){this.canvas&&(this.value?this.storeDataAsText?this.fromDataUrl(this.value):this.fromUrl(this.value):(this.canvas.getContext("2d").clearRect(0,0,this.canvas.width*this.scale,this.canvas.height*this.scale),this.signaturePad.clear(),this.valueWasChangedFromLastUpload=!1))},s.prototype.initSignaturePad=function(a){var c=this,r=a.getElementsByTagName("canvas")[0];this.canvas=r,this.resizeCanvas();var t=new D.default(r,{backgroundColor:"#ffffff"});this.signaturePad=t,this.isInputReadOnly&&t.off(),this.readOnlyChangedCallback=function(){c.isInputReadOnly?t.off():t.on()},this.updateColors(t),t.addEventListener("beginStroke",function(){c.scaleCanvas(),c.isDrawingValue=!0,r.focus()},{once:!1}),t.addEventListener("endStroke",function(){c.isDrawingValue=!1,c.storeDataAsText?c.updateValue():c.valueWasChangedFromLastUpload=!0},{once:!1}),this.updateValueHandler(),this.readOnlyChangedCallback();var n=function(o,u){(u.name==="signatureWidth"||u.name==="signatureHeight"||u.name==="value")&&(c.valueIsUpdatingInternally||c.updateValueHandler())};this.onPropertyChanged.add(n),this.signaturePad.propertyChangedHandler=n},s.prototype.destroySignaturePad=function(a){this.signaturePad&&(this.onPropertyChanged.remove(this.signaturePad.propertyChangedHandler),this.signaturePad.off()),this.readOnlyChangedCallback=null,this.signaturePad=null},Object.defineProperty(s.prototype,"dataFormat",{get:function(){return this.getPropertyValue("dataFormat")},set:function(a){this.setPropertyValue("dataFormat",e(a))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"signatureWidth",{get:function(){return this.getPropertyValue("signatureWidth")},set:function(a){this.setPropertyValue("signatureWidth",a)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"signatureHeight",{get:function(){return this.getPropertyValue("signatureHeight")},set:function(a){this.setPropertyValue("signatureHeight",a)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"containerHeight",{get:function(){return this.signatureHeight||p},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"containerWidth",{get:function(){return this.signatureWidth||y},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"renderedCanvasWidth",{get:function(){return this.signatureAutoScaleEnabled?"100%":this.containerWidth+"px"},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"height",{get:function(){return this.getPropertyValue("height")},set:function(a){this.setPropertyValue("height",a)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"allowClear",{get:function(){return this.getPropertyValue("allowClear")},set:function(a){this.setPropertyValue("allowClear",a)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"canShowClearButton",{get:function(){var a=!this.nothingIsDrawn(),c=this.isUploading;return!this.isInputReadOnly&&this.allowClear&&a&&!c},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"penColor",{get:function(){return this.getPropertyValue("penColor")},set:function(a){this.setPropertyValue("penColor",a),this.signaturePad&&this.updateColors(this.signaturePad)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"backgroundColor",{get:function(){return this.getPropertyValue("backgroundColor")},set:function(a){this.setPropertyValue("backgroundColor",a),this.signaturePad&&this.updateColors(this.signaturePad)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"backgroundImage",{get:function(){return this.getPropertyValue("backgroundImage")},set:function(a){this.setPropertyValue("backgroundImage",a),this.signaturePad&&this.updateColors(this.signaturePad)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"clearButtonCaption",{get:function(){return this.getLocalizationString("clearCaption")},enumerable:!1,configurable:!0}),s.prototype.nothingIsDrawn=function(){var a=this.isDrawingValue,c=this.isEmpty(),r=this.isUploading,t=this.valueWasChangedFromLastUpload;return!a&&c&&!r&&!t},s.prototype.needShowPlaceholder=function(){return this.showPlaceholder&&this.nothingIsDrawn()},s.prototype.uploadResultItemToValue=function(a){return a.content},s.prototype.setValueFromResult=function(a){this.valueIsUpdatingInternally=!0,this.value=a?.length?a.map(function(c){return c.content})[0]:void 0,this.valueIsUpdatingInternally=!1},s.prototype.clearValue=function(){this.valueWasChangedFromLastUpload=!1,m.prototype.clearValue.call(this),this.refreshCanvas()},s.prototype.endLoadingFromJson=function(){m.prototype.endLoadingFromJson.call(this),this.signatureWidth===300&&this.width&&typeof this.width=="number"&&this.width&&(R.ConsoleWarnings.warn("Use signatureWidth property to set width for the signature pad"),this.signatureWidth=this.width,this.width=void 0),this.signatureHeight===200&&this.height&&(R.ConsoleWarnings.warn("Use signatureHeight property to set width for the signature pad"),this.signatureHeight=this.height,this.height=void 0)},l([Object(P.property)({defaultValue:!1})],s.prototype,"isDrawingValue",void 0),l([Object(P.property)({defaultValue:!1})],s.prototype,"isReadyForUpload",void 0),l([Object(P.property)({defaultValue:!1})],s.prototype,"valueWasChangedFromLastUpload",void 0),l([Object(P.property)()],s.prototype,"signatureAutoScaleEnabled",void 0),l([Object(P.property)()],s.prototype,"penMinWidth",void 0),l([Object(P.property)()],s.prototype,"penMaxWidth",void 0),l([Object(P.property)({})],s.prototype,"showPlaceholder",void 0),l([Object(P.property)({localizable:{defaultStr:"signaturePlaceHolder"}})],s.prototype,"placeholder",void 0),s}(V.QuestionFileModelBase);function e(m){return m||(m="png"),m=m.replace("image/","").replace("+xml",""),m!=="jpeg"&&m!=="svg"&&(m="png"),m}P.Serializer.addClass("signaturepad",[{name:"signatureWidth:number",category:"general",default:300},{name:"signatureHeight:number",category:"general",default:200},{name:"signatureAutoScaleEnabled:boolean",category:"general",default:!1},{name:"penMinWidth:number",category:"general",default:.5},{name:"penMaxWidth:number",category:"general",default:2.5},{name:"height:number",category:"general",visible:!1},{name:"allowClear:boolean",category:"general",default:!0},{name:"showPlaceholder:boolean",category:"general",default:!0},{name:"placeholder:text",serializationProperty:"locPlaceholder",category:"general",dependsOn:"showPlaceholder",visibleIf:function(m){return m.showPlaceholder}},{name:"backgroundImage:file",category:"general"},{name:"penColor:color",category:"general"},{name:"backgroundColor:color",category:"general"},{name:"dataFormat",category:"general",default:"png",choices:[{value:"png",text:"PNG"},{value:"image/jpeg",text:"JPEG"},{value:"image/svg+xml",text:"SVG"}],onSettingValue:function(m,s){return e(s)}},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"storeDataAsText:boolean",default:!0},{name:"waitForUpload:boolean",default:!1}],function(){return new f("")},"question"),C.QuestionFactory.Instance.registerQuestion("signaturepad",function(m){return new f(m)})},"./src/question_tagbox.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"QuestionTagboxModel",function(){return y});var P=d("./src/jsonobject.ts"),C=d("./src/questionfactory.ts"),D=d("./src/utils/cssClassBuilder.ts"),A=d("./src/question_checkbox.ts"),R=d("./src/dropdownMultiSelectListModel.ts"),V=d("./src/settings.ts"),O=function(){var p=function(f,e){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,s){m.__proto__=s}||function(m,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(m[a]=s[a])},p(f,e)};return function(f,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");p(f,e);function m(){this.constructor=f}f.prototype=e===null?Object.create(e):(m.prototype=e.prototype,new m)}}(),l=function(p,f,e,m){var s=arguments.length,a=s<3?f:m===null?m=Object.getOwnPropertyDescriptor(f,e):m,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(p,f,e,m);else for(var r=p.length-1;r>=0;r--)(c=p[r])&&(a=(s<3?c(a):s>3?c(f,e,a):c(f,e))||a);return s>3&&a&&Object.defineProperty(f,e,a),a},y=function(p){O(f,p);function f(e){var m=p.call(this,e)||this;return m.itemDisplayNameMap={},m.onOpened=m.addEvent(),m.createLocalizableString("placeholder",m,!1,!0),m.createLocalizableString("clearCaption",m,!1,!0),m.createLocalizableString("readOnlyText",m,!0),m.registerPropertyChangedHandlers(["value","renderAs","showOtherItem","otherText","placeholder","choices","visibleChoices"],function(){m.updateReadOnlyText()}),m.updateReadOnlyText(),m}return f.prototype.locStrsChanged=function(){var e;p.prototype.locStrsChanged.call(this),this.updateReadOnlyText(),(e=this.dropdownListModel)===null||e===void 0||e.locStrsChanged()},f.prototype.updateReadOnlyText=function(){this.readOnlyText=this.displayValue||this.placeholder},f.prototype.getDefaultItemComponent=function(){return""},f.prototype.onSurveyLoad=function(){p.prototype.onSurveyLoad.call(this),this.dropdownListModel||(this.dropdownListModel=new R.DropdownMultiSelectListModel(this))},Object.defineProperty(f.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("placeholder")},set:function(e){this.setLocalizableStringText("placeholder",e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("placeholder")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"clearCaption",{get:function(){return this.getLocalizableStringText("clearCaption")},set:function(e){this.setLocalizableStringText("clearCaption",e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locClearCaption",{get:function(){return this.getLocalizableString("clearCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"readOnlyText",{get:function(){return this.getLocalizableStringText("readOnlyText")},set:function(e){this.setLocalizableStringText("readOnlyText",e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locReadOnlyText",{get:function(){return this.getLocalizableString("readOnlyText")},enumerable:!1,configurable:!0}),f.prototype.getType=function(){return"tagbox"},Object.defineProperty(f.prototype,"ariaRole",{get:function(){return"combobox"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"popupModel",{get:function(){var e;return(e=this.dropdownListModel)===null||e===void 0?void 0:e.popupModel},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"ariaExpanded",{get:function(){var e=this.popupModel;return e&&e.isVisible?"true":"false"},enumerable:!1,configurable:!0}),f.prototype.getControlClass=function(){return new D.CssClassBuilder().append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isReadOnly).toString()},f.prototype.onOpenedCallBack=function(){this.onOpened.fire(this,{question:this,choices:this.choices})},f.prototype.hasUnknownValue=function(e,m,s,a){return this.choicesLazyLoadEnabled?!1:p.prototype.hasUnknownValue.call(this,e,m,s,a)},f.prototype.needConvertRenderedOtherToDataValue=function(){var e,m=(e=this.otherValue)===null||e===void 0?void 0:e.trim();return m?p.prototype.hasUnknownValue.call(this,m,!0,!1):!1},f.prototype.onVisibleChoicesChanged=function(){p.prototype.onVisibleChoicesChanged.call(this),this.popupModel&&this.dropdownListModel.updateItems()},f.prototype.getItemIfChoicesNotContainThisValue=function(e,m){var s;return this.choicesLazyLoadEnabled&&!(!((s=this.dropdownListModel)===null||s===void 0)&&s.isAllDataLoaded)?this.createItemValue(e,m):p.prototype.getItemIfChoicesNotContainThisValue.call(this,e,m)},f.prototype.validateItemValues=function(e){var m=this;this.updateItemDisplayNameMap();var s=this.renderedValue;if(e.length&&e.length===s.length)return e;var a=this.selectedItemValues;if(!e.length&&a&&a.length)return this.defaultSelectedItemValues=[].concat(a),a;var c=e.map(function(r){return r.value});return s.filter(function(r){return c.indexOf(r)===-1}).forEach(function(r){var t=m.getItemIfChoicesNotContainThisValue(r,m.itemDisplayNameMap[r]);t&&e.push(t)}),e.sort(function(r,t){return s.indexOf(r.value)-s.indexOf(t.value)}),e},f.prototype.updateItemDisplayNameMap=function(){var e=this,m=function(s){e.itemDisplayNameMap[s.value]=s.text};(this.defaultSelectedItemValues||[]).forEach(m),(this.selectedItemValues||[]).forEach(m),this.visibleChoices.forEach(m)},f.prototype.getFirstInputElementId=function(){return this.inputId+(this.searchEnabled?"_0":"")},f.prototype.getInputId=function(){return this.inputId+"_0"},f.prototype.dispose=function(){p.prototype.dispose.call(this),this.dropdownListModelValue&&this.dropdownListModelValue.dispose()},f.prototype.clearValue=function(){var e;p.prototype.clearValue.call(this),(e=this.dropdownListModel)===null||e===void 0||e.clear()},Object.defineProperty(f.prototype,"showClearButton",{get:function(){return this.allowClear&&!this.isEmpty()&&(!this.isDesignMode||V.settings.supportCreatorV2)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isNewA11yStructure",{get:function(){return!1},enumerable:!1,configurable:!0}),l([Object(P.property)()],f.prototype,"allowClear",void 0),l([Object(P.property)({onSet:function(e,m){m.dropdownListModel&&m.dropdownListModel.setSearchEnabled(e)}})],f.prototype,"searchEnabled",void 0),l([Object(P.property)({onSet:function(e,m){m.dropdownListModel&&m.dropdownListModel.setHideSelectedItems(e)}})],f.prototype,"hideSelectedItems",void 0),l([Object(P.property)()],f.prototype,"choicesLazyLoadEnabled",void 0),l([Object(P.property)()],f.prototype,"choicesLazyLoadPageSize",void 0),l([Object(P.property)({getDefaultValue:function(){return V.settings.tagboxCloseOnSelect}})],f.prototype,"closeOnSelect",void 0),f}(A.QuestionCheckboxModel);P.Serializer.addClass("tagbox",[{name:"placeholder",serializationProperty:"locPlaceholder"},{name:"allowClear:boolean",default:!0},{name:"searchEnabled:boolean",default:!0},{name:"choicesLazyLoadEnabled:boolean",default:!1,visible:!1},{name:"choicesLazyLoadPageSize:number",default:25,visible:!1},{name:"hideSelectedItems:boolean",default:!1},{name:"closeOnSelect:boolean"},{name:"itemComponent",visible:!1,default:""}],function(){return new y("")},"checkbox"),C.QuestionFactory.Instance.registerQuestion("tagbox",function(p){var f=new y(p);return f.choices=C.QuestionFactory.DefaultChoices,f})},"./src/question_text.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"QuestionTextModel",function(){return p}),d.d(M,"isMinMaxType",function(){return e});var P=d("./src/questionfactory.ts"),C=d("./src/jsonobject.ts"),D=d("./src/localizablestring.ts"),A=d("./src/helpers.ts"),R=d("./src/validator.ts"),V=d("./src/error.ts"),O=d("./src/settings.ts"),l=d("./src/question_textbase.ts"),y=function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var v in u)Object.prototype.hasOwnProperty.call(u,v)&&(o[v]=u[v])},r(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),p=function(r){y(t,r);function t(n){var o=r.call(this,n)||this;return o._isWaitingForEnter=!1,o.onCompositionUpdate=function(u){o.isInputTextUpdate&&setTimeout(function(){o.updateValueOnEvent(u)},1),o.updateRemainingCharacterCounter(u.target.value)},o.onKeyUp=function(u){o.isInputTextUpdate?(!o._isWaitingForEnter||u.keyCode===13)&&(o.updateValueOnEvent(u),o._isWaitingForEnter=!1):u.keyCode===13&&o.updateValueOnEvent(u),o.updateRemainingCharacterCounter(u.target.value)},o.onKeyDown=function(u){o.onKeyDownPreprocess&&o.onKeyDownPreprocess(u),o.isInputTextUpdate&&(o._isWaitingForEnter=u.keyCode===229),o.onTextKeyDownHandler(u)},o.onChange=function(u){u.target===O.settings.environment.root.activeElement?o.isInputTextUpdate&&o.updateValueOnEvent(u):o.updateValueOnEvent(u),o.updateRemainingCharacterCounter(u.target.value)},o.onBlur=function(u){o.updateValueOnEvent(u),o.updateRemainingCharacterCounter(u.target.value)},o.onFocus=function(u){o.updateRemainingCharacterCounter(u.target.value)},o.createLocalizableString("minErrorText",o,!0,"minError"),o.createLocalizableString("maxErrorText",o,!0,"maxError"),o.locDataListValue=new D.LocalizableStrings(o),o.locDataListValue.onValueChanged=function(u,v){o.propertyValueChanged("dataList",u,v)},o.registerPropertyChangedHandlers(["min","max","inputType","minValueExpression","maxValueExpression"],function(){o.setRenderedMinMax()}),o.registerPropertyChangedHandlers(["inputType","size"],function(){o.updateInputSize(),o.calcRenderedPlaceholder()}),o}return t.prototype.isTextValue=function(){return["text","number","password"].indexOf(this.inputType)>-1},t.prototype.getType=function(){return"text"},t.prototype.onSurveyLoad=function(){r.prototype.onSurveyLoad.call(this),this.setRenderedMinMax(),this.updateInputSize()},Object.defineProperty(t.prototype,"inputType",{get:function(){return this.getPropertyValue("inputType")},set:function(n){n=n.toLowerCase(),(n==="datetime_local"||n==="datetime")&&(n="datetime-local"),this.setPropertyValue("inputType",n.toLowerCase()),this.isLoadingFromJson||(this.min=void 0,this.max=void 0,this.step=void 0)},enumerable:!1,configurable:!0}),t.prototype.getMaxLength=function(){return this.isTextInput?r.prototype.getMaxLength.call(this):null},t.prototype.runCondition=function(n,o){r.prototype.runCondition.call(this,n,o),(this.minValueExpression||this.maxValueExpression)&&this.setRenderedMinMax(n,o)},t.prototype.isLayoutTypeSupported=function(n){return!0},Object.defineProperty(t.prototype,"size",{get:function(){return this.getPropertyValue("size")},set:function(n){this.setPropertyValue("size",n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTextInput",{get:function(){return["text","search","tel","url","email","password"].indexOf(this.inputType)>-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputSize",{get:function(){return this.getPropertyValue("inputSize",0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedInputSize",{get:function(){return this.getPropertyValue("inputSize")||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inputWidth",{get:function(){return this.getPropertyValue("inputWidth")},enumerable:!1,configurable:!0}),t.prototype.updateInputSize=function(){var n=this.isTextInput&&this.size>0?this.size:0;this.isTextInput&&n<1&&this.parent&&this.parent.itemSize&&(n=this.parent.itemSize),this.setPropertyValue("inputSize",n),this.setPropertyValue("inputWidth",n>0?"auto":"")},Object.defineProperty(t.prototype,"autocomplete",{get:function(){return this.getPropertyValue("autocomplete",null)},set:function(n){this.setPropertyValue("autocomplete",n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this.getPropertyValue("min")},set:function(n){if(this.isValueExpression(n)){this.minValueExpression=n.substring(1);return}this.setPropertyValue("min",n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this.getPropertyValue("max")},set:function(n){if(this.isValueExpression(n)){this.maxValueExpression=n.substring(1);return}this.setPropertyValue("max",n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minValueExpression",{get:function(){return this.getPropertyValue("minValueExpression","")},set:function(n){this.setPropertyValue("minValueExpression",n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxValueExpression",{get:function(){return this.getPropertyValue("maxValueExpression","")},set:function(n){this.setPropertyValue("maxValueExpression",n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedMin",{get:function(){return this.getPropertyValue("renderedMin")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedMax",{get:function(){return this.getPropertyValue("renderedMax")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minErrorText",{get:function(){return this.getLocalizableStringText("minErrorText")},set:function(n){this.setLocalizableStringText("minErrorText",n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locMinErrorText",{get:function(){return this.getLocalizableString("minErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxErrorText",{get:function(){return this.getLocalizableStringText("maxErrorText")},set:function(n){this.setLocalizableStringText("maxErrorText",n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locMaxErrorText",{get:function(){return this.getLocalizableString("maxErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMinMaxType",{get:function(){return e(this)},enumerable:!1,configurable:!0}),t.prototype.onCheckForErrors=function(n,o){var u=this;if(r.prototype.onCheckForErrors.call(this,n,o),!o){if(this.isValueLessMin){var v=new V.CustomError(this.getMinMaxErrorText(this.minErrorText,this.getCalculatedMinMax(this.renderedMin)),this);v.onUpdateErrorTextCallback=function(E){E.text=u.getMinMaxErrorText(u.minErrorText,u.getCalculatedMinMax(u.renderedMin))},n.push(v)}if(this.isValueGreaterMax){var x=new V.CustomError(this.getMinMaxErrorText(this.maxErrorText,this.getCalculatedMinMax(this.renderedMax)),this);x.onUpdateErrorTextCallback=function(E){E.text=u.getMinMaxErrorText(u.maxErrorText,u.getCalculatedMinMax(u.renderedMax))},n.push(x)}var b=this.getValidatorTitle(),i=new R.EmailValidator;if(this.inputType==="email"&&!this.validators.some(function(E){return E.getType()==="emailvalidator"})){var h=i.validate(this.value,b);h&&h.error&&n.push(h.error)}}},t.prototype.canSetValueToSurvey=function(){if(!this.isMinMaxType)return!0;var n=!this.isValueLessMin&&!this.isValueGreaterMax;return this.inputType==="number"&&this.survey&&(this.survey.isValidateOnValueChanging||this.survey.isValidateOnValueChanged)&&this.hasErrors(),n},t.prototype.convertFuncValuetoQuestionValue=function(n){return A.Helpers.convertValToQuestionVal(n,this.inputType)},t.prototype.getMinMaxErrorText=function(n,o){if(A.Helpers.isValueEmpty(o))return n;var u=o.toString();return this.inputType==="date"&&o.toDateString&&(u=o.toDateString()),n.replace("{0}",u)},Object.defineProperty(t.prototype,"isValueLessMin",{get:function(){return!this.isValueEmpty(this.renderedMin)&&!this.isEmpty()&&this.getCalculatedMinMax(this.value)<this.getCalculatedMinMax(this.renderedMin)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isValueGreaterMax",{get:function(){return!this.isValueEmpty(this.renderedMax)&&!this.isEmpty()&&this.getCalculatedMinMax(this.value)>this.getCalculatedMinMax(this.renderedMax)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDateInputType",{get:function(){return this.inputType==="date"||this.inputType==="datetime-local"},enumerable:!1,configurable:!0}),t.prototype.getCalculatedMinMax=function(n){return this.isValueEmpty(n)?n:this.isDateInputType?new Date(n):n},t.prototype.setRenderedMinMax=function(n,o){var u=this;n===void 0&&(n=null),o===void 0&&(o=null),this.minValueRunner=this.getDefaultRunner(this.minValueRunner,this.minValueExpression),this.setValueAndRunExpression(this.minValueRunner,this.min,function(v){!v&&u.isDateInputType&&O.settings.minDate&&(v=O.settings.minDate),u.setPropertyValue("renderedMin",v)},n,o),this.maxValueRunner=this.getDefaultRunner(this.maxValueRunner,this.maxValueExpression),this.setValueAndRunExpression(this.maxValueRunner,this.max,function(v){!v&&u.isDateInputType&&(v=O.settings.maxDate?O.settings.maxDate:"2999-12-31"),u.setPropertyValue("renderedMax",v)},n,o)},Object.defineProperty(t.prototype,"step",{get:function(){return this.getPropertyValue("step")},set:function(n){this.setPropertyValue("step",n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderedStep",{get:function(){return this.isValueEmpty(this.step)?this.inputType!=="number"?void 0:"any":this.step},enumerable:!1,configurable:!0}),t.prototype.supportGoNextPageAutomatic=function(){return!this.isSurveyInputTextUpdate&&["date","datetime-local"].indexOf(this.inputType)<0},t.prototype.supportGoNextPageError=function(){return["date","datetime-local"].indexOf(this.inputType)<0},Object.defineProperty(t.prototype,"dataList",{get:function(){return this.locDataList.value},set:function(n){this.locDataList.value=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locDataList",{get:function(){return this.locDataListValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataListId",{get:function(){return this.locDataList.hasValue()?this.id+"_datalist":void 0},enumerable:!1,configurable:!0}),t.prototype.canRunValidators=function(n){return this.errors.length>0||!n||this.supportGoNextPageError()},t.prototype.setNewValue=function(n){n=this.correctValueType(n),r.prototype.setNewValue.call(this,n)},t.prototype.correctValueType=function(n){return n&&(this.inputType=="number"||this.inputType=="range"?A.Helpers.isNumber(n)?A.Helpers.getNumber(n):"":n)},t.prototype.hasPlaceholder=function(){return!this.isReadOnly&&this.inputType!=="range"},t.prototype.getControlCssClassBuilder=function(){var n=this.getMaxLength();return r.prototype.getControlCssClassBuilder.call(this).append(this.cssClasses.constrolWithCharacterCounter,!!n).append(this.cssClasses.characterCounterBig,n>99)},t.prototype.isReadOnlyRenderDiv=function(){return this.isReadOnly&&O.settings.readOnly.textRenderMode==="div"},Object.defineProperty(t.prototype,"inputStyle",{get:function(){var n={};return n.width=this.inputWidth,n},enumerable:!1,configurable:!0}),t.prototype.updateValueOnEvent=function(n){var o=n.target.value;this.isTwoValueEquals(this.value,o)||(this.value=o)},t}(l.QuestionTextBase),f=["number","range","date","datetime-local","month","time","week"];function e(r){var t=r?r.inputType:"";return t?f.indexOf(t)>-1:!1}function m(r,t){var n=r.split(t);return n.length!==2||!A.Helpers.isNumber(n[0])||!A.Helpers.isNumber(n[1])?-1:parseFloat(n[0])*60+parseFloat(n[1])}function s(r,t,n){var o=m(r,n),u=m(t,n);return o<0||u<0?!1:o>u}function a(r,t,n,o){var u=o?n:t;if(!e(r)||A.Helpers.isValueEmpty(t)||A.Helpers.isValueEmpty(n))return u;if(r.inputType.indexOf("date")===0||r.inputType==="month"){var v=r.inputType==="month",x=new Date(v?t+"-1":t),b=new Date(v?n+"-1":n);if(!x||!b)return u;if(x>b)return o?t:n}if(r.inputType==="week"||r.inputType==="time"){var i=r.inputType==="week"?"-W":":";return s(t,n,i)?o?t:n:u}if(r.inputType==="number"){if(!A.Helpers.isNumber(t)||!A.Helpers.isNumber(n))return u;if(A.Helpers.getNumber(t)>A.Helpers.getNumber(n))return o?t:n}return typeof t=="string"||typeof n=="string"?u:t>n?o?t:n:u}function c(r,t){r&&r.inputType&&(t.inputType=r.inputType!=="range"?r.inputType:"number",t.textUpdateMode="onBlur")}C.Serializer.addClass("text",[{name:"inputType",default:"text",choices:O.settings.questions.inputTypes},{name:"size:number",minValue:0,dependsOn:"inputType",visibleIf:function(r){return r?r.isTextInput:!1}},{name:"textUpdateMode",default:"default",choices:["default","onBlur","onTyping"],dependsOn:"inputType",visibleIf:function(r){return r?r.isTextInput:!1}},{name:"autocomplete",alternativeName:"autoComplete",choices:O.settings.questions.dataList},{name:"min",dependsOn:"inputType",visibleIf:function(r){return e(r)},onPropertyEditorUpdate:function(r,t){c(r,t)},onSettingValue:function(r,t){return a(r,t,r.max,!1)}},{name:"max",dependsOn:"inputType",nextToProperty:"*min",visibleIf:function(r){return e(r)},onSettingValue:function(r,t){return a(r,r.min,t,!0)},onPropertyEditorUpdate:function(r,t){c(r,t)}},{name:"minValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(r){return e(r)}},{name:"maxValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(r){return e(r)}},{name:"minErrorText",serializationProperty:"locMinErrorText",dependsOn:"inputType",visibleIf:function(r){return e(r)}},{name:"maxErrorText",serializationProperty:"locMaxErrorText",dependsOn:"inputType",visibleIf:function(r){return e(r)}},{name:"step:number",dependsOn:"inputType",visibleIf:function(r){return r?r.inputType==="number"||r.inputType==="range":!1}},{name:"maxLength:number",default:-1,dependsOn:"inputType",visibleIf:function(r){return r?r.isTextInput:!1}},{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder",dependsOn:"inputType",visibleIf:function(r){return r?r.isTextInput:!1}},{name:"dataList:string[]",serializationProperty:"locDataList",dependsOn:"inputType",visibleIf:function(r){return r?r.inputType==="text":!1}}],function(){return new p("")},"textbase"),P.QuestionFactory.Instance.registerQuestion("text",function(r){return new p(r)})},"./src/question_textbase.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"CharacterCounter",function(){return l}),d.d(M,"QuestionTextBase",function(){return y});var P=d("./src/question.ts"),C=d("./src/jsonobject.ts"),D=d("./src/helpers.ts"),A=d("./src/utils/cssClassBuilder.ts"),R=d("./src/base.ts"),V=function(){var p=function(f,e){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,s){m.__proto__=s}||function(m,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(m[a]=s[a])},p(f,e)};return function(f,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");p(f,e);function m(){this.constructor=f}f.prototype=e===null?Object.create(e):(m.prototype=e.prototype,new m)}}(),O=function(p,f,e,m){var s=arguments.length,a=s<3?f:m===null?m=Object.getOwnPropertyDescriptor(f,e):m,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(p,f,e,m);else for(var r=p.length-1;r>=0;r--)(c=p[r])&&(a=(s<3?c(a):s>3?c(f,e,a):c(f,e))||a);return s>3&&a&&Object.defineProperty(f,e,a),a},l=function(p){V(f,p);function f(){return p!==null&&p.apply(this,arguments)||this}return f.prototype.updateRemainingCharacterCounter=function(e,m){this.remainingCharacterCounter=D.Helpers.getRemainingCharacterCounterText(e,m)},O([Object(C.property)()],f.prototype,"remainingCharacterCounter",void 0),f}(R.Base),y=function(p){V(f,p);function f(e){var m=p.call(this,e)||this;return m.characterCounter=new l,m}return f.prototype.isTextValue=function(){return!0},Object.defineProperty(f.prototype,"maxLength",{get:function(){return this.getPropertyValue("maxLength")},set:function(e){this.setPropertyValue("maxLength",e),this.updateRemainingCharacterCounter(this.value)},enumerable:!1,configurable:!0}),f.prototype.getMaxLength=function(){return D.Helpers.getMaxLength(this.maxLength,this.survey?this.survey.maxTextLength:-1)},f.prototype.updateRemainingCharacterCounter=function(e){this.characterCounter.updateRemainingCharacterCounter(e,this.getMaxLength())},Object.defineProperty(f.prototype,"placeHolder",{get:function(){return this.placeholder},set:function(e){this.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"locPlaceHolder",{get:function(){return this.locPlaceholder},enumerable:!1,configurable:!0}),f.prototype.getType=function(){return"textbase"},f.prototype.isEmpty=function(){return p.prototype.isEmpty.call(this)||this.value===""},Object.defineProperty(f.prototype,"textUpdateMode",{get:function(){return this.getPropertyValue("textUpdateMode")},set:function(e){this.setPropertyValue("textUpdateMode",e)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"isSurveyInputTextUpdate",{get:function(){return this.textUpdateMode=="default"?this.survey?this.survey.isUpdateValueTextOnTyping:!1:this.textUpdateMode=="onTyping"},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"renderedPlaceholder",{get:function(){return this.getPropertyValue("renderedPlaceholder")},enumerable:!1,configurable:!0}),f.prototype.setRenderedPlaceholder=function(e){this.setPropertyValue("renderedPlaceholder",e)},f.prototype.onReadOnlyChanged=function(){p.prototype.onReadOnlyChanged.call(this),this.calcRenderedPlaceholder()},f.prototype.onSurveyLoad=function(){this.calcRenderedPlaceholder(),p.prototype.onSurveyLoad.call(this)},f.prototype.localeChanged=function(){p.prototype.localeChanged.call(this),this.calcRenderedPlaceholder()},f.prototype.setSurveyImpl=function(e,m){p.prototype.setSurveyImpl.call(this,e,m),this.calcRenderedPlaceholder()},f.prototype.calcRenderedPlaceholder=function(){var e=this.placeHolder;e&&!this.hasPlaceholder()&&(e=void 0),this.setRenderedPlaceholder(e)},f.prototype.hasPlaceholder=function(){return!this.isReadOnly},f.prototype.setNewValue=function(e){p.prototype.setNewValue.call(this,e),this.updateRemainingCharacterCounter(e)},f.prototype.setQuestionValue=function(e,m){m===void 0&&(m=!0),p.prototype.setQuestionValue.call(this,e,m),this.updateRemainingCharacterCounter(e)},f.prototype.convertToCorrectValue=function(e){return Array.isArray(e)?e.join(this.getValueSeparator()):e},f.prototype.getValueSeparator=function(){return", "},f.prototype.getControlCssClassBuilder=function(){return new A.CssClassBuilder().append(this.cssClasses.root).append(this.cssClasses.onError,this.hasCssError()).append(this.cssClasses.controlDisabled,this.isReadOnly)},f.prototype.getControlClass=function(){return this.getControlCssClassBuilder().toString()},Object.defineProperty(f.prototype,"isNewA11yStructure",{get:function(){return!0},enumerable:!1,configurable:!0}),O([Object(C.property)({localizable:!0,onSet:function(e,m){return m.calcRenderedPlaceholder()}})],f.prototype,"placeholder",void 0),f}(P.Question);C.Serializer.addClass("textbase",[],function(){return new y("")},"question")},"./src/questionfactory.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"QuestionFactory",function(){return A}),d.d(M,"ElementFactory",function(){return R});var P=d("./src/surveyStrings.ts"),C=d("./src/jsonobject.ts"),D=d("./src/question_custom.ts"),A=function(){function V(){}return Object.defineProperty(V,"DefaultChoices",{get:function(){return[P.surveyLocalization.getString("choices_Item")+"1",P.surveyLocalization.getString("choices_Item")+"2",P.surveyLocalization.getString("choices_Item")+"3"]},enumerable:!1,configurable:!0}),Object.defineProperty(V,"DefaultColums",{get:function(){var O=P.surveyLocalization.getString("matrix_column")+" ";return[O+"1",O+"2",O+"3"]},enumerable:!1,configurable:!0}),Object.defineProperty(V,"DefaultRows",{get:function(){var O=P.surveyLocalization.getString("matrix_row")+" ";return[O+"1",O+"2"]},enumerable:!1,configurable:!0}),Object.defineProperty(V,"DefaultMutlipleTextItems",{get:function(){var O=P.surveyLocalization.getString("multipletext_itemname");return[O+"1",O+"2"]},enumerable:!1,configurable:!0}),V.prototype.registerQuestion=function(O,l){R.Instance.registerElement(O,l)},V.prototype.registerCustomQuestion=function(O){R.Instance.registerCustomQuestion(O)},V.prototype.unregisterElement=function(O,l){l===void 0&&(l=!1),R.Instance.unregisterElement(O,l)},V.prototype.clear=function(){R.Instance.clear()},V.prototype.getAllTypes=function(){return R.Instance.getAllTypes()},V.prototype.createQuestion=function(O,l){return R.Instance.createElement(O,l)},V.Instance=new V,V}(),R=function(){function V(){var O=this;this.creatorHash={},this.registerCustomQuestion=function(l){var y=function(p){var f=C.Serializer.createClass(l);return f&&(f.name=p),f};O.registerElement(l,y)}}return V.prototype.registerElement=function(O,l){this.creatorHash[O]=l},V.prototype.clear=function(){this.creatorHash={}},V.prototype.unregisterElement=function(O,l){l===void 0&&(l=!1),delete this.creatorHash[O],l&&C.Serializer.removeClass(O)},V.prototype.getAllTypes=function(){var O=new Array;for(var l in this.creatorHash)O.push(l);return O.sort()},V.prototype.createElement=function(O,l){var y=this.creatorHash[O];if(y)return y(l);var p=D.ComponentCollection.Instance.getCustomQuestionByName(O);return p?D.ComponentCollection.Instance.createQuestion(l,p):null},V.Instance=new V,V}()},"./src/questionnonvalue.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"QuestionNonValue",function(){return A});var P=d("./src/question.ts"),C=d("./src/jsonobject.ts"),D=function(){var R=function(V,O){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,y){l.__proto__=y}||function(l,y){for(var p in y)Object.prototype.hasOwnProperty.call(y,p)&&(l[p]=y[p])},R(V,O)};return function(V,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");R(V,O);function l(){this.constructor=V}V.prototype=O===null?Object.create(O):(l.prototype=O.prototype,new l)}}(),A=function(R){D(V,R);function V(O){return R.call(this,O)||this}return V.prototype.getType=function(){return"nonvalue"},Object.defineProperty(V.prototype,"hasInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"hasTitle",{get:function(){return!1},enumerable:!1,configurable:!0}),V.prototype.getTitleLocation=function(){return""},Object.defineProperty(V.prototype,"hasComment",{get:function(){return!1},enumerable:!1,configurable:!0}),V.prototype.hasErrors=function(O,l){return O===void 0&&(O=!0),l===void 0&&(l=null),!1},V.prototype.getAllErrors=function(){return[]},V.prototype.supportGoNextPageAutomatic=function(){return!1},V.prototype.addConditionObjectsByContext=function(O,l){},V.prototype.getConditionJson=function(O,l){return O===void 0&&(O=null),l===void 0&&(l=null),null},Object.defineProperty(V.prototype,"ariaRole",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"ariaRequired",{get:function(){return null},enumerable:!1,configurable:!0}),V}(P.Question);C.Serializer.addClass("nonvalue",[{name:"title",visible:!1},{name:"description",visible:!1},{name:"valueName",visible:!1},{name:"enableIf",visible:!1},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"clearIfInvisible",visible:!1},{name:"isRequired",visible:!1,isSerializable:!1},{name:"requiredErrorText",visible:!1},{name:"readOnly",visible:!1},{name:"requiredIf",visible:!1},{name:"validators",visible:!1},{name:"titleLocation",visible:!1},{name:"showCommentArea",visible:!1},{name:"useDisplayValuesInDynamicTexts",alternativeName:"useDisplayValuesInTitle",visible:!1}],function(){return new A("")},"question")},"./src/rendererFactory.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"RendererFactory",function(){return P});var P=function(){function C(){this.renderersHash={}}return C.prototype.unregisterRenderer=function(D,A){delete this.renderersHash[D][A]},C.prototype.registerRenderer=function(D,A,R){this.renderersHash[D]||(this.renderersHash[D]={}),this.renderersHash[D][A]=R},C.prototype.getRenderer=function(D,A){return this.renderersHash[D]&&this.renderersHash[D][A]||"default"},C.prototype.getRendererByQuestion=function(D){return this.getRenderer(D.getType(),D.renderAs)},C.prototype.clear=function(){this.renderersHash={}},C.Instance=new C,C}()},"./src/settings.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"settings",function(){return R});var P=d("./src/utils/utils.ts"),C=typeof globalThis<"u"?globalThis.document:(void 0).document,D=C?{root:C,_rootElement:C.body,get rootElement(){var V;return(V=this._rootElement)!==null&&V!==void 0?V:C.body},set rootElement(V){this._rootElement=V},_popupMountContainer:C.body,get popupMountContainer(){var V;return(V=this._popupMountContainer)!==null&&V!==void 0?V:C.body},set popupMountContainer(V){this._popupMountContainer=V},svgMountContainer:C.head,stylesSheetsMountContainer:C.head}:void 0,A={file:{minWidth:"240px"},comment:{minWidth:"200px"}},R={designMode:{showEmptyDescriptions:!0,showEmptyTitles:!0},get allowShowEmptyDescriptionInDesignMode(){return this.designMode.showEmptyDescriptions},set allowShowEmptyDescriptionInDesignMode(V){this.designMode.showEmptyDescriptions=V},get allowShowEmptyTitleInDesignMode(){return this.designMode.showEmptyTitles},set allowShowEmptyTitleInDesignMode(V){this.designMode.showEmptyTitles=V},localization:{useLocalTimeZone:!0,storeDuplicatedTranslations:!1,defaultLocaleName:"default"},get useLocalTimeZone(){return this.localization.useLocalTimeZone},set useLocalTimeZone(V){this.localization.useLocalTimeZone=V},get storeDuplicatedTranslations(){return this.localization.storeDuplicatedTranslations},set storeDuplicatedTranslations(V){this.localization.storeDuplicatedTranslations=V},get defaultLocaleName(){return this.localization.defaultLocaleName},set defaultLocaleName(V){this.localization.defaultLocaleName=V},web:{onBeforeRequestChoices:function(V,O){},encodeUrlParams:!0,cacheLoadedChoices:!0,disableQuestionWhileLoadingChoices:!1,surveyServiceUrl:"https://api.surveyjs.io/public/v1/Survey"},get webserviceEncodeParameters(){return this.web.encodeUrlParams},set webserviceEncodeParameters(V){this.web.encodeUrlParams=V},get useCachingForChoicesRestful(){return this.web.cacheLoadedChoices},set useCachingForChoicesRestful(V){this.web.cacheLoadedChoices=V},get useCachingForChoicesRestfull(){return this.web.cacheLoadedChoices},set useCachingForChoicesRestfull(V){this.web.cacheLoadedChoices=V},get disableOnGettingChoicesFromWeb(){return this.web.disableQuestionWhileLoadingChoices},set disableOnGettingChoicesFromWeb(V){this.web.disableQuestionWhileLoadingChoices=V},get surveyServiceUrl(){return this.web.surveyServiceUrl},set surveyServiceUrl(V){this.web.surveyServiceUrl=V},triggers:{changeNavigationButtonsOnComplete:!0,executeCompleteOnValueChanged:!1,executeSkipOnValueChanged:!0},get executeCompleteTriggerOnValueChanged(){return this.triggers.executeCompleteOnValueChanged},set executeCompleteTriggerOnValueChanged(V){this.triggers.executeCompleteOnValueChanged=V},get changeNavigationButtonsOnCompleteTrigger(){return this.triggers.changeNavigationButtonsOnComplete},set changeNavigationButtonsOnCompleteTrigger(V){this.triggers.changeNavigationButtonsOnComplete=V},get executeSkipTriggerOnValueChanged(){return this.triggers.executeSkipOnValueChanged},set executeSkipTriggerOnValueChanged(V){this.triggers.executeSkipOnValueChanged=V},serialization:{itemValueSerializeAsObject:!1,itemValueSerializeDisplayText:!1,localizableStringSerializeAsObject:!1},get itemValueAlwaysSerializeAsObject(){return this.serialization.itemValueSerializeAsObject},set itemValueAlwaysSerializeAsObject(V){this.serialization.itemValueSerializeAsObject=V},get itemValueAlwaysSerializeText(){return this.serialization.itemValueSerializeDisplayText},set itemValueAlwaysSerializeText(V){this.serialization.itemValueSerializeDisplayText=V},get serializeLocalizableStringAsObject(){return this.serialization.localizableStringSerializeAsObject},set serializeLocalizableStringAsObject(V){this.serialization.localizableStringSerializeAsObject=V},lazyRender:{enabled:!1,firstBatchSize:3},get lazyRowsRendering(){return this.lazyRender.enabled},set lazyRowsRendering(V){this.lazyRender.enabled=V},get lazyRowsRenderingStartRow(){return this.lazyRender.firstBatchSize},set lazyRowsRenderingStartRow(V){this.lazyRender.firstBatchSize=V},matrix:{defaultCellType:"dropdown",defaultRowName:"default",totalsSuffix:"-total",maxRowCount:1e3,maxRowCountInCondition:1,renderRemoveAsIcon:!0,columnWidthsByType:A,rateSize:"small"},get matrixDefaultRowName(){return this.matrix.defaultRowName},set matrixDefaultRowName(V){this.matrix.defaultRowName=V},get matrixDefaultCellType(){return this.matrix.defaultCellType},set matrixDefaultCellType(V){this.matrix.defaultCellType=V},get matrixTotalValuePostFix(){return this.matrix.totalsSuffix},set matrixTotalValuePostFix(V){this.matrix.totalsSuffix=V},get matrixMaximumRowCount(){return this.matrix.maxRowCount},set matrixMaximumRowCount(V){this.matrix.maxRowCount=V},get matrixMaxRowCountInCondition(){return this.matrix.maxRowCountInCondition},set matrixMaxRowCountInCondition(V){this.matrix.maxRowCountInCondition=V},get matrixRenderRemoveAsIcon(){return this.matrix.renderRemoveAsIcon},set matrixRenderRemoveAsIcon(V){this.matrix.renderRemoveAsIcon=V},panel:{maxPanelCount:100,maxPanelCountInCondition:1},get panelDynamicMaxPanelCountInCondition(){return this.panel.maxPanelCountInCondition},set panelDynamicMaxPanelCountInCondition(V){this.panel.maxPanelCountInCondition=V},get panelMaximumPanelCount(){return this.panel.maxPanelCount},set panelMaximumPanelCount(V){this.panel.maxPanelCount=V},readOnly:{enableValidation:!1,commentRenderMode:"textarea",textRenderMode:"input"},get readOnlyCommentRenderMode(){return this.readOnly.commentRenderMode},set readOnlyCommentRenderMode(V){this.readOnly.commentRenderMode=V},get readOnlyTextRenderMode(){return this.readOnly.textRenderMode},set readOnlyTextRenderMode(V){this.readOnly.textRenderMode=V},numbering:{includeQuestionsWithHiddenNumber:!1,includeQuestionsWithHiddenTitle:!1},get setQuestionVisibleIndexForHiddenTitle(){return this.numbering.includeQuestionsWithHiddenTitle},set setQuestionVisibleIndexForHiddenTitle(V){this.numbering.includeQuestionsWithHiddenTitle=V},get setQuestionVisibleIndexForHiddenNumber(){return this.numbering.includeQuestionsWithHiddenNumber},set setQuestionVisibleIndexForHiddenNumber(V){this.numbering.includeQuestionsWithHiddenNumber=V},enterKeyAction:"default",comparator:{trimStrings:!0,caseSensitive:!1,normalizeTextCallback:function(V,O){return V}},expressionDisableConversionChar:"#",get commentPrefix(){return R.commentSuffix},set commentPrefix(V){R.commentSuffix=V},commentSuffix:"-Comment",itemValueSeparator:"|",ratingMaximumRateValueCount:20,tagboxCloseOnSelect:!1,confirmActionFunc:function(V){return confirm(V)},confirmActionAsync:function(V,O,l,y){return Object(P.showConfirmDialog)(V,O,l,y)},minWidth:"300px",maxWidth:"100%",maxConditionRunCountOnValueChanged:10,notifications:{lifetime:2e3},autoAdvanceDelay:300,showItemsInOrder:"default",noneItemValue:"none",refuseItemValue:"refused",dontKnowItemValue:"dontknow",specialChoicesOrder:{selectAllItem:[-1],noneItem:[1],refuseItem:[2],dontKnowItem:[3],otherItem:[4]},supportedValidators:{question:["expression"],comment:["text","regex"],text:["numeric","text","regex","email"],checkbox:["answercount"],imagepicker:["answercount"]},minDate:"",maxDate:"",showModal:void 0,showDialog:void 0,supportCreatorV2:!1,showDefaultItemsInCreatorV2:!0,customIcons:{},rankingDragHandleArea:"entireItem",environment:D,showMaxLengthIndicator:!0,animationEnabled:!0,titleTags:{survey:"h3",page:"h4",panel:"h4",question:"h5"},questions:{inputTypes:["color","date","datetime-local","email","month","number","password","range","tel","text","time","url","week"],dataList:["","name","honorific-prefix","given-name","additional-name","family-name","honorific-suffix","nickname","organization-title","username","new-password","current-password","organization","street-address","address-line1","address-line2","address-line3","address-level4","address-level3","address-level2","address-level1","country","country-name","postal-code","cc-name","cc-given-name","cc-additional-name","cc-family-name","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc","cc-type","transaction-currency","transaction-amount","language","bday","bday-day","bday-month","bday-year","sex","url","photo","tel","tel-country-code","tel-national","tel-area-code","tel-local","tel-local-prefix","tel-local-suffix","tel-extension","email","impp"]},legacyProgressBarView:!1}},"./src/stylesmanager.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"modernThemeColors",function(){return A}),d.d(M,"defaultThemeColors",function(){return R}),d.d(M,"orangeThemeColors",function(){return V}),d.d(M,"darkblueThemeColors",function(){return O}),d.d(M,"darkroseThemeColors",function(){return l}),d.d(M,"stoneThemeColors",function(){return y}),d.d(M,"winterThemeColors",function(){return p}),d.d(M,"winterstoneThemeColors",function(){return f}),d.d(M,"StylesManager",function(){return m});var P=d("./src/defaultCss/defaultV2Css.ts"),C=d("./src/settings.ts"),D=d("./src/utils/utils.ts"),A={"$main-color":"#1ab394","$add-button-color":"#1948b3","$remove-button-color":"#ff1800","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-slider-color":"#cfcfcf","$error-color":"#d52901","$text-color":"#404040","$light-text-color":"#fff","$checkmark-color":"#fff","$progress-buttons-color":"#8dd9ca","$inputs-background-color":"transparent","$main-hover-color":"#9f9f9f","$body-container-background-color":"#f4f4f4","$text-border-color":"#d4d4d4","$disabled-text-color":"rgba(64, 64, 64, 0.5)","$border-color":"rgb(64, 64, 64, 0.5)","$header-background-color":"#e7e7e7","$answer-background-color":"rgba(26, 179, 148, 0.2)","$error-background-color":"rgba(213, 41, 1, 0.2)","$radio-checked-color":"#404040","$clean-button-color":"#1948b3","$body-background-color":"#ffffff","$foreground-light":"#909090","$font-family":"Raleway"},R={"$header-background-color":"#e7e7e7","$body-container-background-color":"#f4f4f4","$main-color":"#1ab394","$main-hover-color":"#0aa384","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#6d7072","$text-input-color":"#6d7072","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#8dd9ca","$progress-buttons-line-color":"#d4d4d4"},V={"$header-background-color":"#4a4a4a","$body-container-background-color":"#f8f8f8","$main-color":"#f78119","$main-hover-color":"#e77109","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#f78119","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#f7b781","$progress-buttons-line-color":"#d4d4d4"},O={"$header-background-color":"#d9d8dd","$body-container-background-color":"#f6f7f2","$main-color":"#3c4f6d","$main-hover-color":"#2c3f5d","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#839ec9","$progress-buttons-line-color":"#d4d4d4"},l={"$header-background-color":"#ddd2ce","$body-container-background-color":"#f7efed","$main-color":"#68656e","$main-hover-color":"#58555e","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#c6bed4","$progress-buttons-line-color":"#d4d4d4"},y={"$header-background-color":"#cdccd2","$body-container-background-color":"#efedf4","$main-color":"#0f0f33","$main-hover-color":"#191955","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#0f0f33","$text-input-color":"#0f0f33","$header-color":"#0f0f33","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#747491","$progress-buttons-line-color":"#d4d4d4"},p={"$header-background-color":"#82b8da","$body-container-background-color":"#dae1e7","$main-color":"#3c3b40","$main-hover-color":"#1e1d20","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#000","$text-input-color":"#000","$header-color":"#000","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#d1c9f5","$progress-buttons-line-color":"#d4d4d4"},f={"$header-background-color":"#323232","$body-container-background-color":"#f8f8f8","$main-color":"#5ac8fa","$main-hover-color":"#06a1e7","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#000","$text-input-color":"#000","$header-color":"#000","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#acdcf2","$progress-buttons-line-color":"#d4d4d4"};function e(s,a){Object.keys(s||{}).forEach(function(c){var r=c.substring(1);a.style.setProperty("--"+r,s[c])})}var m=function(){function s(){s.autoApplyTheme()}return s.autoApplyTheme=function(){if(!(P.surveyCss.currentType==="bootstrap"||P.surveyCss.currentType==="bootstrapmaterial")){var a=s.getIncludedThemeCss();a.length===1&&s.applyTheme(a[0].name)}},s.getAvailableThemes=function(){var a=P.surveyCss.getAvailableThemes().filter(function(c){return["defaultV2","default","modern"].indexOf(c)!==-1}).map(function(c){return{name:c,theme:P.surveyCss[c]}});return a},s.getIncludedThemeCss=function(){if(typeof C.settings.environment>"u")return[];var a=C.settings.environment.rootElement,c=s.getAvailableThemes(),r=Object(D.isShadowDOM)(a)?a.host:a;if(r){var t=getComputedStyle(r);if(t.length)return c.filter(function(n){return n.theme.variables&&t.getPropertyValue(n.theme.variables.themeMark)})}return[]},s.findSheet=function(a){if(typeof C.settings.environment>"u")return null;for(var c=C.settings.environment.root.styleSheets,r=0;r<c.length;r++)if(c[r].ownerNode&&c[r].ownerNode.id===a)return c[r];return null},s.createSheet=function(a){var c=C.settings.environment.stylesSheetsMountContainer,r=document.createElement("style");return r.id=a,r.appendChild(document.createTextNode("")),Object(D.getElement)(c).appendChild(r),s.Logger&&s.Logger.log("style sheet "+a+" created"),r.sheet},s.applyTheme=function(a,c){if(a===void 0&&(a="default"),!(typeof C.settings.environment>"u")){var r=C.settings.environment.rootElement,t=Object(D.isShadowDOM)(r)?r.host:r;if(P.surveyCss.currentType=a,s.Enabled){if(a!=="bootstrap"&&a!=="bootstrapmaterial"){e(s.ThemeColors[a],t),s.Logger&&s.Logger.log("apply theme "+a+" completed");return}var n=s.ThemeCss[a];if(!n){P.surveyCss.currentType="defaultV2";return}s.insertStylesRulesIntoDocument();var o=c||s.ThemeSelector[a]||s.ThemeSelector.default,u=(a+o).trim(),v=s.findSheet(u);if(!v){v=s.createSheet(u);var x=s.ThemeColors[a]||s.ThemeColors.default;Object.keys(n).forEach(function(b){var i=n[b];Object.keys(x||{}).forEach(function(h){return i=i.replace(new RegExp("\\"+h,"g"),x[h])});try{b.indexOf("body")===0?v.insertRule(b+" { "+i+" }",0):v.insertRule(o+b+" { "+i+" }",0)}catch{}})}}s.Logger&&s.Logger.log("apply theme "+a+" completed")}},s.insertStylesRulesIntoDocument=function(){if(s.Enabled){var a=s.findSheet(s.SurveyJSStylesSheetId);a||(a=s.createSheet(s.SurveyJSStylesSheetId)),Object.keys(s.Styles).length&&Object.keys(s.Styles).forEach(function(c){try{a.insertRule(c+" { "+s.Styles[c]+" }",0)}catch{}}),Object.keys(s.Media).length&&Object.keys(s.Media).forEach(function(c){try{a.insertRule(s.Media[c].media+" { "+c+" { "+s.Media[c].style+" } }",0)}catch{}})}},s.SurveyJSStylesSheetId="surveyjs-styles",s.Styles={},s.Media={},s.ThemeColors={modern:A,default:R,orange:V,darkblue:O,darkrose:l,stone:y,winter:p,winterstone:f},s.ThemeCss={},s.ThemeSelector={default:".sv_main ",modern:".sv-root-modern "},s.Enabled=!0,s}()},"./src/survey-element.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"SurveyElementCore",function(){return p}),d.d(M,"DragTypeOverMeEnum",function(){return f}),d.d(M,"SurveyElement",function(){return e});var P=d("./src/jsonobject.ts"),C=d("./src/base.ts"),D=d("./src/actions/adaptive-container.ts"),A=d("./src/helpers.ts"),R=d("./src/settings.ts"),V=d("./src/actions/container.ts"),O=d("./src/utils/cssClassBuilder.ts"),l=function(){var m=function(s,a){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,r){c.__proto__=r}||function(c,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(c[t]=r[t])},m(s,a)};return function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");m(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),y=function(m,s,a,c){var r=arguments.length,t=r<3?s:c===null?c=Object.getOwnPropertyDescriptor(s,a):c,n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")t=Reflect.decorate(m,s,a,c);else for(var o=m.length-1;o>=0;o--)(n=m[o])&&(t=(r<3?n(t):r>3?n(s,a,t):n(s,a))||t);return r>3&&t&&Object.defineProperty(s,a,t),t},p=function(m){l(s,m);function s(){var a=m.call(this)||this;return a.createLocTitleProperty(),a}return s.prototype.createLocTitleProperty=function(){return this.createLocalizableString("title",this,!0)},Object.defineProperty(s.prototype,"title",{get:function(){return this.getLocalizableStringText("title",this.getDefaultTitleValue())},set:function(a){this.setLocalizableStringText("title",a)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"locTitle",{get:function(){return this.getLocalizableString("title")},enumerable:!1,configurable:!0}),s.prototype.getDefaultTitleValue=function(){},s.prototype.updateDescriptionVisibility=function(a){var c=!1;if(this.isDesignMode){var r=P.Serializer.findProperty(this.getType(),"description");c=!!r?.placeholder}this.hasDescription=!!a||c&&this.isDesignMode},Object.defineProperty(s.prototype,"locDescription",{get:function(){return this.getLocalizableString("description")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"titleTagName",{get:function(){var a=this.getDefaultTitleTagName(),c=this.getSurvey();return c?c.getElementTitleTagName(this,a):a},enumerable:!1,configurable:!0}),s.prototype.getDefaultTitleTagName=function(){return R.settings.titleTags[this.getType()]},Object.defineProperty(s.prototype,"hasTitle",{get:function(){return this.title.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"hasTitleActions",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"hasTitleEvents",{get:function(){return this.hasTitleActions},enumerable:!1,configurable:!0}),s.prototype.getTitleToolbar=function(){return null},s.prototype.getTitleOwner=function(){},Object.defineProperty(s.prototype,"isTitleOwner",{get:function(){return!!this.getTitleOwner()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isTitleRenderedAsString",{get:function(){return this.getIsTitleRenderedAsString()},enumerable:!1,configurable:!0}),s.prototype.toggleState=function(){},Object.defineProperty(s.prototype,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"cssTitle",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"ariaTitleId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"titleTabIndex",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"titleAriaExpanded",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"titleAriaRole",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"ariaLabel",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"titleAriaLabel",{get:function(){return this.ariaLabel},enumerable:!1,configurable:!0}),s.prototype.getIsTitleRenderedAsString=function(){return!this.isTitleOwner},y([Object(P.property)()],s.prototype,"hasDescription",void 0),y([Object(P.property)({localizable:!0,onSet:function(a,c){c.updateDescriptionVisibility(a)}})],s.prototype,"description",void 0),s}(C.Base),f;(function(m){m[m.InsideEmptyPanel=1]="InsideEmptyPanel",m[m.MultilineRight=2]="MultilineRight",m[m.MultilineLeft=3]="MultilineLeft",m[m.Top=4]="Top",m[m.Right=5]="Right",m[m.Bottom=6]="Bottom",m[m.Left=7]="Left"})(f||(f={}));var e=function(m){l(s,m);function s(a){var c=m.call(this)||this;return c.selectedElementInDesignValue=c,c.disableDesignActions=s.CreateDisabledDesignElements,c.parentQuestionValue=null,c.isContentElement=!1,c.isEditableTemplateElement=!1,c.isInteractiveDesignElement=!0,c.isSingleInRow=!0,c.name=a,c.createNewArray("errors"),c.createNewArray("titleActions"),c.registerPropertyChangedHandlers(["isReadOnly"],function(){c.onReadOnlyChanged()}),c.registerPropertyChangedHandlers(["errors"],function(){c.updateVisibleErrors()}),c.registerPropertyChangedHandlers(["isSingleInRow"],function(){c.updateElementCss(!1)}),c}return s.getProgressInfoByElements=function(a,c){for(var r=C.Base.createProgressInfo(),t=0;t<a.length;t++)if(a[t].isVisible){var n=a[t].getProgressInfo();r.questionCount+=n.questionCount,r.answeredQuestionCount+=n.answeredQuestionCount,r.requiredQuestionCount+=n.requiredQuestionCount,r.requiredAnsweredQuestionCount+=n.requiredAnsweredQuestionCount}return c&&r.questionCount>0&&(r.requiredQuestionCount==0&&(r.requiredQuestionCount=1),r.answeredQuestionCount>0&&(r.requiredAnsweredQuestionCount=1)),r},s.ScrollElementToTop=function(a,c){var r=R.settings.environment.root;if(!a||typeof r>"u")return!1;var t=r.getElementById(a);if(!t||!t.scrollIntoView)return!1;var n=c?-1:t.getBoundingClientRect().top,o=n<0;if(!o&&window){var u=window.innerHeight;o=u>0&&u<n}return o&&t.scrollIntoView(),o},s.GetFirstNonTextElement=function(a,c){if(c===void 0&&(c=!1),!a||!a.length||a.length==0)return null;if(c){var r=a[0];r.nodeName==="#text"&&(r.data=""),r=a[a.length-1],r.nodeName==="#text"&&(r.data="")}for(var t=0;t<a.length;t++)if(a[t].nodeName!="#text"&&a[t].nodeName!="#comment")return a[t];return null},s.FocusElement=function(a){if(!a||typeof document>"u")return!1;var c=s.focusElementCore(a);return c||setTimeout(function(){s.focusElementCore(a)},10),c},s.focusElementCore=function(a){var c=R.settings.environment.root;if(!c)return!1;var r=c.getElementById(a);return r&&!r.disabled&&r.style.display!=="none"&&r.offsetParent!==null?(r.focus(),!0):!1},s.prototype.onPropertyValueChanged=function(a,c,r){m.prototype.onPropertyValueChanged.call(this,a,c,r),a==="state"&&(this.updateElementCss(!1),this.notifyStateChanged(c),this.stateChangedCallback&&this.stateChangedCallback())},s.prototype.getSkeletonComponentNameCore=function(){return this.survey?this.survey.getSkeletonComponentName(this):""},Object.defineProperty(s.prototype,"parentQuestion",{get:function(){return this.parentQuestionValue},enumerable:!1,configurable:!0}),s.prototype.setParentQuestion=function(a){this.parentQuestionValue=a,this.onParentQuestionChanged()},s.prototype.onParentQuestionChanged=function(){},Object.defineProperty(s.prototype,"skeletonComponentName",{get:function(){return this.getSkeletonComponentNameCore()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"state",{get:function(){return this.getPropertyValue("state")},set:function(a){this.setPropertyValue("state",a)},enumerable:!1,configurable:!0}),s.prototype.notifyStateChanged=function(a){this.survey&&this.survey.elementContentVisibilityChanged(this)},Object.defineProperty(s.prototype,"isCollapsed",{get:function(){return this.state==="collapsed"&&!this.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isExpanded",{get:function(){return this.state==="expanded"},enumerable:!1,configurable:!0}),s.prototype.collapse=function(){this.isDesignMode||(this.state="collapsed")},s.prototype.expand=function(){this.state="expanded"},s.prototype.toggleState=function(){return this.isCollapsed?(this.expand(),!0):this.isExpanded?(this.collapse(),!1):!0},Object.defineProperty(s.prototype,"hasStateButton",{get:function(){return this.isExpanded||this.isCollapsed},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"shortcutText",{get:function(){return this.title||this.name},enumerable:!1,configurable:!0}),s.prototype.getTitleToolbar=function(){return this.titleToolbarValue||(this.titleToolbarValue=this.createActionContainer(!0),this.titleToolbarValue.containerCss=(this.isPanel?this.cssClasses.panel.titleBar:this.cssClasses.titleBar)||"sv-action-title-bar",this.titleToolbarValue.setItems(this.getTitleActions())),this.titleToolbarValue},s.prototype.createActionContainer=function(a){var c=a?new D.AdaptiveActionContainer:new V.ActionContainer;return this.survey&&this.survey.getCss().actionBar&&(c.cssClasses=this.survey.getCss().actionBar),c},Object.defineProperty(s.prototype,"titleActions",{get:function(){return this.getPropertyValue("titleActions")},enumerable:!1,configurable:!0}),s.prototype.getTitleActions=function(){return this.isTitleActionRequested||(this.updateTitleActions(),this.isTitleActionRequested=!0),this.titleActions},s.prototype.getDefaultTitleActions=function(){return[]},s.prototype.updateTitleActions=function(){var a=this.getDefaultTitleActions();this.survey&&(a=this.survey.getUpdatedElementTitleActions(this,a)),this.setPropertyValue("titleActions",a)},Object.defineProperty(s.prototype,"hasTitleActions",{get:function(){return this.getTitleActions().length>0},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"hasTitleEvents",{get:function(){return this.state!==void 0&&this.state!=="default"},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"titleTabIndex",{get:function(){return!this.isPage&&this.state!=="default"?0:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"titleAriaExpanded",{get:function(){if(!(this.isPage||this.state==="default"))return this.state==="expanded"?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"titleAriaRole",{get:function(){if(!(this.isPage||this.state==="default"))return"button"},enumerable:!1,configurable:!0}),s.prototype.setSurveyImpl=function(a,c){this.surveyImplValue=a,this.surveyImplValue?(this.surveyDataValue=this.surveyImplValue.getSurveyData(),this.setSurveyCore(this.surveyImplValue.getSurvey()),this.textProcessorValue=this.surveyImplValue.getTextProcessor(),this.onSetData()):(this.setSurveyCore(null),this.surveyDataValue=null),this.survey&&(this.updateDescriptionVisibility(this.description),this.clearCssClasses())},s.prototype.canRunConditions=function(){return m.prototype.canRunConditions.call(this)&&!!this.data},s.prototype.getDataFilteredValues=function(){return this.data?this.data.getFilteredValues():{}},s.prototype.getDataFilteredProperties=function(){var a=this.data?this.data.getFilteredProperties():{};return a.question=this,a},Object.defineProperty(s.prototype,"surveyImpl",{get:function(){return this.surveyImplValue},enumerable:!1,configurable:!0}),s.prototype.__setData=function(a){R.settings.supportCreatorV2&&(this.surveyDataValue=a)},Object.defineProperty(s.prototype,"data",{get:function(){return this.surveyDataValue},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"survey",{get:function(){return this.getSurvey()},enumerable:!1,configurable:!0}),s.prototype.getSurvey=function(a){return a===void 0&&(a=!1),this.surveyValue?this.surveyValue:(this.surveyImplValue&&this.setSurveyCore(this.surveyImplValue.getSurvey()),this.surveyValue)},s.prototype.setSurveyCore=function(a){this.surveyValue=a,this.surveyChangedCallback&&this.surveyChangedCallback()},Object.defineProperty(s.prototype,"isInternal",{get:function(){return this.isContentElement},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"areInvisibleElementsShowing",{get:function(){return!!this.survey&&this.survey.areInvisibleElementsShowing&&!this.isContentElement},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isVisible",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isReadOnly",{get:function(){return this.readOnly},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"readOnly",{get:function(){return this.getPropertyValue("readOnly")},set:function(a){this.readOnly!=a&&(this.setPropertyValue("readOnly",a),this.isLoadingFromJson||this.setPropertyValue("isReadOnly",this.isReadOnly))},enumerable:!1,configurable:!0}),s.prototype.onReadOnlyChanged=function(){this.readOnlyChangedCallback&&this.readOnlyChangedCallback()},Object.defineProperty(s.prototype,"css",{get:function(){return this.survey?this.survey.getCss():{}},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"cssClassesValue",{get:function(){return this.getPropertyValueWithoutDefault("cssClassesValue")},set:function(a){this.setPropertyValue("cssClassesValue",a)},enumerable:!1,configurable:!0}),s.prototype.ensureCssClassesValue=function(){this.cssClassesValue||(this.cssClassesValue=this.calcCssClasses(this.css),this.updateElementCssCore(this.cssClassesValue))},Object.defineProperty(s.prototype,"cssClasses",{get:function(){var a=this.cssClassesValue;return this.survey?(this.ensureCssClassesValue(),this.cssClassesValue):this.calcCssClasses(this.css)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"cssTitleNumber",{get:function(){var a=this.cssClasses;return a.number?a.number:a.panel?a.panel.number:void 0},enumerable:!1,configurable:!0}),s.prototype.calcCssClasses=function(a){},s.prototype.updateElementCssCore=function(a){},Object.defineProperty(s.prototype,"cssError",{get:function(){return""},enumerable:!1,configurable:!0}),s.prototype.updateElementCss=function(a){this.clearCssClasses()},s.prototype.clearCssClasses=function(){this.cssClassesValue=void 0},s.prototype.getIsLoadingFromJson=function(){return m.prototype.getIsLoadingFromJson.call(this)?!0:this.surveyValue?this.surveyValue.isLoadingFromJson:!1},Object.defineProperty(s.prototype,"name",{get:function(){return this.getPropertyValue("name","")},set:function(a){var c=this.name;this.setPropertyValue("name",this.getValidName(a)),!this.isLoadingFromJson&&c&&this.onNameChanged(c)},enumerable:!1,configurable:!0}),s.prototype.getValidName=function(a){return a},s.prototype.onNameChanged=function(a){},s.prototype.updateBindingValue=function(a,c){this.data&&!this.isTwoValueEquals(c,this.data.getValue(a))&&this.data.setValue(a,c,!1)},Object.defineProperty(s.prototype,"errors",{get:function(){return this.getPropertyValue("errors")},set:function(a){this.setPropertyValue("errors",a)},enumerable:!1,configurable:!0}),s.prototype.updateVisibleErrors=function(){for(var a=0,c=0;c<this.errors.length;c++)this.errors[c].visible&&a++;this.hasVisibleErrors=a>0},Object.defineProperty(s.prototype,"containsErrors",{get:function(){return this.getPropertyValue("containsErrors",!1)},enumerable:!1,configurable:!0}),s.prototype.updateContainsErrors=function(){this.setPropertyValue("containsErrors",this.getContainsErrors())},s.prototype.getContainsErrors=function(){return this.errors.length>0},Object.defineProperty(s.prototype,"selectedElementInDesign",{get:function(){return this.selectedElementInDesignValue},set:function(a){this.selectedElementInDesignValue=a},enumerable:!1,configurable:!0}),s.prototype.updateCustomWidgets=function(){},s.prototype.onSurveyLoad=function(){},Object.defineProperty(s.prototype,"wasRendered",{get:function(){return!!this.wasRenderedValue},enumerable:!1,configurable:!0}),s.prototype.onFirstRendering=function(){this.wasRenderedValue=!0,this.ensureCssClassesValue()},s.prototype.endLoadingFromJson=function(){m.prototype.endLoadingFromJson.call(this),this.survey||this.onSurveyLoad(),this.updateDescriptionVisibility(this.description)},s.prototype.setVisibleIndex=function(a){return 0},Object.defineProperty(s.prototype,"isPage",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isPanel",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),s.prototype.delete=function(a){},s.prototype.getLocale=function(){return this.survey?this.survey.getLocale():this.locOwner?this.locOwner.getLocale():""},s.prototype.getMarkdownHtml=function(a,c){return this.survey?this.survey.getSurveyMarkdownHtml(this,a,c):this.locOwner?this.locOwner.getMarkdownHtml(a,c):void 0},s.prototype.getRenderer=function(a){return this.survey&&typeof this.survey.getRendererForString=="function"?this.survey.getRendererForString(this,a):this.locOwner&&typeof this.locOwner.getRenderer=="function"?this.locOwner.getRenderer(a):null},s.prototype.getRendererContext=function(a){return this.survey&&typeof this.survey.getRendererContextForString=="function"?this.survey.getRendererContextForString(this,a):this.locOwner&&typeof this.locOwner.getRendererContext=="function"?this.locOwner.getRendererContext(a):a},s.prototype.getProcessedText=function(a){return this.isLoadingFromJson?a:this.textProcessor?this.textProcessor.processText(a,this.getUseDisplayValuesInDynamicTexts()):this.locOwner?this.locOwner.getProcessedText(a):a},s.prototype.getUseDisplayValuesInDynamicTexts=function(){return!0},s.prototype.removeSelfFromList=function(a){if(!(!a||!Array.isArray(a))){var c=a.indexOf(this);c>-1&&a.splice(c,1)}},Object.defineProperty(s.prototype,"textProcessor",{get:function(){return this.textProcessorValue},enumerable:!1,configurable:!0}),s.prototype.getProcessedHtml=function(a){return!a||!this.textProcessor?a:this.textProcessor.processText(a,!0)},s.prototype.onSetData=function(){},Object.defineProperty(s.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(a){this.setPropertyValue("parent",a)},enumerable:!1,configurable:!0}),s.prototype.getPage=function(a){for(;a&&a.parent;)a=a.parent;return a&&a.getType()=="page"?a:null},s.prototype.moveToBase=function(a,c,r){if(r===void 0&&(r=null),!c)return!1;a.removeElement(this);var t=-1;return A.Helpers.isNumber(r)&&(t=parseInt(r)),t==-1&&r&&r.getType&&(t=c.indexOf(r)),c.addElement(this,t),!0},s.prototype.setPage=function(a,c){var r=this.getPage(a);if(typeof c=="string"){var t=this.getSurvey();t.pages.forEach(function(n){c===n.name&&(c=n)})}r!==c&&(a&&a.removeElement(this),c&&c.addElement(this,-1))},s.prototype.getSearchableLocKeys=function(a){a.push("title"),a.push("description")},Object.defineProperty(s.prototype,"isDefaultV2Theme",{get:function(){return this.survey&&this.survey.getCss().root=="sd-root-modern"},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"hasParent",{get:function(){return this.parent&&!this.parent.isPage&&(!this.parent.originalPage||this.survey.isShowingPreview)||this.parent===void 0},enumerable:!1,configurable:!0}),s.prototype.shouldAddRunnerStyles=function(){return!this.isDesignMode&&this.isDefaultV2Theme},Object.defineProperty(s.prototype,"isCompact",{get:function(){return this.survey&&this.survey.isCompact},enumerable:!1,configurable:!0}),s.prototype.getHasFrameV2=function(){return this.shouldAddRunnerStyles()&&!this.hasParent},s.prototype.getIsNested=function(){return this.shouldAddRunnerStyles()&&this.hasParent},s.prototype.getCssRoot=function(a){return new O.CssClassBuilder().append(a.withFrame,this.getHasFrameV2()&&!this.isCompact).append(a.compact,this.isCompact&&this.getHasFrameV2()).append(a.collapsed,!!this.isCollapsed).append(a.expanded,!!this.isExpanded).append(a.nested,this.getIsNested()).toString()},Object.defineProperty(s.prototype,"width",{get:function(){return this.getPropertyValue("width","")},set:function(a){this.setPropertyValue("width",a)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(a){this.setPropertyValue("minWidth",a)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"maxWidth",{get:function(){return this.getPropertyValue("maxWidth")},set:function(a){this.setPropertyValue("maxWidth",a)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"renderWidth",{get:function(){return this.getPropertyValue("renderWidth","")},set:function(a){this.setPropertyValue("renderWidth",a)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"indent",{get:function(){return this.getPropertyValue("indent")},set:function(a){this.setPropertyValue("indent",a)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"rightIndent",{get:function(){return this.getPropertyValue("rightIndent",0)},set:function(a){this.setPropertyValue("rightIndent",a)},enumerable:!1,configurable:!0}),s.prototype.getRootStyle=function(){var a={};return this.paddingLeft&&(a["--sv-element-add-padding-left"]=this.paddingLeft),this.paddingRight&&(a["--sv-element-add-padding-right"]=this.paddingRight),a},Object.defineProperty(s.prototype,"paddingLeft",{get:function(){return this.getPropertyValue("paddingLeft","")},set:function(a){this.setPropertyValue("paddingLeft",a)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"paddingRight",{get:function(){return this.getPropertyValue("paddingRight","")},set:function(a){this.setPropertyValue("paddingRight",a)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"rootStyle",{get:function(){var a={},c=this.minWidth;return c!="auto"&&(c="min(100%, "+this.minWidth+")"),this.allowRootStyle&&this.renderWidth&&(a.flexGrow=1,a.flexShrink=1,a.flexBasis=this.renderWidth,a.minWidth=c,a.maxWidth=this.maxWidth),a},enumerable:!1,configurable:!0}),s.prototype.isContainsSelection=function(a){var c=void 0;if(document.selection)c=document.selection.createRange().parentElement();else{var r=window.getSelection();if(r.rangeCount>0){var t=r.getRangeAt(0);t.startOffset!==t.endOffset&&(c=t.startContainer.parentNode)}}return c==a},Object.defineProperty(s.prototype,"clickTitleFunction",{get:function(){var a=this;if(this.needClickTitleFunction())return function(c){if(!(c&&a.isContainsSelection(c.target)))return a.processTitleClick()}},enumerable:!1,configurable:!0}),s.prototype.needClickTitleFunction=function(){return this.state!=="default"},s.prototype.processTitleClick=function(){this.state!=="default"&&this.toggleState()},Object.defineProperty(s.prototype,"additionalTitleToolbar",{get:function(){return this.getAdditionalTitleToolbar()},enumerable:!1,configurable:!0}),s.prototype.getAdditionalTitleToolbar=function(){return null},s.prototype.getCssTitle=function(a){var c=this.state!=="default",r=4;return new O.CssClassBuilder().append(a.title).append(a.titleNumInline,(this.no||"").length>r||c).append(a.titleExpandable,c).append(a.titleExpanded,this.isExpanded).append(a.titleCollapsed,this.isCollapsed).append(a.titleDisabled,this.isReadOnly).append(a.titleOnError,this.containsErrors).toString()},s.prototype.localeChanged=function(){m.prototype.localeChanged.call(this),this.updateDescriptionVisibility(this.description),this.errors.length>0&&this.errors.forEach(function(a){a.updateText()})},s.prototype.dispose=function(){m.prototype.dispose.call(this),this.titleToolbarValue&&this.titleToolbarValue.dispose()},s.CreateDisabledDesignElements=!1,y([Object(P.property)({defaultValue:null})],s.prototype,"dragTypeOverMe",void 0),y([Object(P.property)({defaultValue:!1})],s.prototype,"isDragMe",void 0),y([Object(P.property)({defaultValue:!1})],s.prototype,"hasVisibleErrors",void 0),y([Object(P.property)({defaultValue:!0})],s.prototype,"isSingleInRow",void 0),y([Object(P.property)({defaultValue:!0})],s.prototype,"allowRootStyle",void 0),s}(p)},"./src/survey-error.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"SurveyError",function(){return D});var P=d("./src/localizablestring.ts"),C=d("./src/surveyStrings.ts"),D=function(){function A(R,V){R===void 0&&(R=null),V===void 0&&(V=null),this.text=R,this.errorOwner=V,this.visible=!0,this.onUpdateErrorTextCallback=void 0}return A.prototype.equals=function(R){return!R||!R.getErrorType||this.getErrorType()!==R.getErrorType()?!1:this.text===R.text&&this.visible===R.visible},Object.defineProperty(A.prototype,"locText",{get:function(){return this.locTextValue||(this.locTextValue=new P.LocalizableString(this.errorOwner,!0),this.locTextValue.storeDefaultText=!0,this.locTextValue.text=this.getText()),this.locTextValue},enumerable:!1,configurable:!0}),A.prototype.getText=function(){var R=this.text;return R||(R=this.getDefaultText()),this.errorOwner&&(R=this.errorOwner.getErrorCustomText(R,this)),R},A.prototype.getErrorType=function(){return"base"},A.prototype.getDefaultText=function(){return""},A.prototype.getLocale=function(){return this.errorOwner?this.errorOwner.getLocale():""},A.prototype.getLocalizationString=function(R){return C.surveyLocalization.getString(R,this.getLocale())},A.prototype.updateText=function(){this.onUpdateErrorTextCallback&&this.onUpdateErrorTextCallback(this),this.locText.text=this.getText()},A}()},"./src/survey-events-api.ts":function(q,M,d){"use strict";d.r(M)},"./src/survey.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"SurveyModel",function(){return S});var P=d("./src/helpers.ts"),C=d("./src/jsonobject.ts"),D=d("./src/base.ts"),A=d("./src/survey-element.ts"),R=d("./src/defaultCss/defaultV2Css.ts"),V=d("./src/textPreProcessor.ts"),O=d("./src/conditionProcessValue.ts"),l=d("./src/dxSurveyService.ts"),y=d("./src/surveyStrings.ts"),p=d("./src/error.ts"),f=d("./src/localizablestring.ts"),e=d("./src/stylesmanager.ts"),m=d("./src/surveyTimerModel.ts"),s=d("./src/conditions.ts"),a=d("./src/settings.ts"),c=d("./src/utils/utils.ts"),r=d("./src/actions/action.ts"),t=d("./src/actions/container.ts"),n=d("./src/utils/cssClassBuilder.ts"),o=d("./src/notifier.ts"),u=d("./src/header.ts"),v=d("./src/surveytimer.ts"),x=d("./src/surveyTaskManager.ts"),b=d("./src/progress-buttons.ts"),i=d("./src/surveyToc.ts"),h=function(){var j=function(w,g){return j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,T){I.__proto__=T}||function(I,T){for(var B in T)Object.prototype.hasOwnProperty.call(T,B)&&(I[B]=T[B])},j(w,g)};return function(w,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");j(w,g);function I(){this.constructor=w}w.prototype=g===null?Object.create(g):(I.prototype=g.prototype,new I)}}(),E=function(j,w,g,I){var T=arguments.length,B=T<3?w:I===null?I=Object.getOwnPropertyDescriptor(w,g):I,N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(j,w,g,I);else for(var H=j.length-1;H>=0;H--)(N=j[H])&&(B=(T<3?N(B):T>3?N(w,g,B):N(w,g))||B);return T>3&&B&&Object.defineProperty(w,g,B),B},S=function(j){h(w,j);function w(g,I){g===void 0&&(g=null),I===void 0&&(I=null);var T=j.call(this)||this;T.valuesHash={},T.variablesHash={},T.onTriggerExecuted=T.addEvent(),T.onCompleting=T.addEvent(),T.onComplete=T.addEvent(),T.onShowingPreview=T.addEvent(),T.onNavigateToUrl=T.addEvent(),T.onStarted=T.addEvent(),T.onPartialSend=T.addEvent(),T.onCurrentPageChanging=T.addEvent(),T.onCurrentPageChanged=T.addEvent(),T.onValueChanging=T.addEvent(),T.onValueChanged=T.addEvent(),T.onVariableChanged=T.addEvent(),T.onQuestionVisibleChanged=T.addEvent(),T.onVisibleChanged=T.onQuestionVisibleChanged,T.onPageVisibleChanged=T.addEvent(),T.onPanelVisibleChanged=T.addEvent(),T.onQuestionCreated=T.addEvent(),T.onQuestionAdded=T.addEvent(),T.onQuestionRemoved=T.addEvent(),T.onPanelAdded=T.addEvent(),T.onPanelRemoved=T.addEvent(),T.onPageAdded=T.addEvent(),T.onValidateQuestion=T.addEvent(),T.onSettingQuestionErrors=T.addEvent(),T.onServerValidateQuestions=T.addEvent(),T.onValidatePanel=T.addEvent(),T.onErrorCustomText=T.addEvent(),T.onValidatedErrorsOnCurrentPage=T.addEvent(),T.onProcessHtml=T.addEvent(),T.onGetQuestionDisplayValue=T.addEvent(),T.onGetQuestionTitle=T.addEvent(),T.onGetTitleTagName=T.addEvent(),T.onGetQuestionNo=T.addEvent(),T.onProgressText=T.addEvent(),T.onTextMarkdown=T.addEvent(),T.onTextRenderAs=T.addEvent(),T.onSendResult=T.addEvent(),T.onGetResult=T.addEvent(),T.onUploadFiles=T.addEvent(),T.onDownloadFile=T.addEvent(),T.onClearFiles=T.addEvent(),T.onLoadChoicesFromServer=T.addEvent(),T.onLoadedSurveyFromService=T.addEvent(),T.onProcessTextValue=T.addEvent(),T.onUpdateQuestionCssClasses=T.addEvent(),T.onUpdatePanelCssClasses=T.addEvent(),T.onUpdatePageCssClasses=T.addEvent(),T.onUpdateChoiceItemCss=T.addEvent(),T.onAfterRenderSurvey=T.addEvent(),T.onAfterRenderHeader=T.addEvent(),T.onAfterRenderPage=T.addEvent(),T.onAfterRenderQuestion=T.addEvent(),T.onAfterRenderQuestionInput=T.addEvent(),T.onAfterRenderPanel=T.addEvent(),T.onFocusInQuestion=T.addEvent(),T.onFocusInPanel=T.addEvent(),T.onShowingChoiceItem=T.addEvent(),T.onChoicesLazyLoad=T.addEvent(),T.onChoicesSearch=T.addEvent(),T.onGetChoiceDisplayValue=T.addEvent(),T.onMatrixRowAdded=T.addEvent(),T.onMatrixRowAdding=T.addEvent(),T.onMatrixBeforeRowAdded=T.onMatrixRowAdding,T.onMatrixRowRemoving=T.addEvent(),T.onMatrixRowRemoved=T.addEvent(),T.onMatrixRenderRemoveButton=T.addEvent(),T.onMatrixAllowRemoveRow=T.onMatrixRenderRemoveButton,T.onMatrixCellCreating=T.addEvent(),T.onMatrixCellCreated=T.addEvent(),T.onAfterRenderMatrixCell=T.addEvent(),T.onMatrixAfterCellRender=T.onAfterRenderMatrixCell,T.onMatrixCellValueChanged=T.addEvent(),T.onMatrixCellValueChanging=T.addEvent(),T.onMatrixCellValidate=T.addEvent(),T.onMatrixColumnAdded=T.addEvent(),T.onMultipleTextItemAdded=T.addEvent(),T.onDynamicPanelAdded=T.addEvent(),T.onDynamicPanelRemoved=T.addEvent(),T.onDynamicPanelRemoving=T.addEvent(),T.onTimer=T.addEvent(),T.onTimerPanelInfoText=T.addEvent(),T.onDynamicPanelItemValueChanged=T.addEvent(),T.onGetDynamicPanelTabTitle=T.addEvent(),T.onDynamicPanelCurrentIndexChanged=T.addEvent(),T.onIsAnswerCorrect=T.addEvent(),T.onDragDropAllow=T.addEvent(),T.onScrollingElementToTop=T.addEvent(),T.onLocaleChangedEvent=T.addEvent(),T.onGetQuestionTitleActions=T.addEvent(),T.onGetPanelTitleActions=T.addEvent(),T.onGetPageTitleActions=T.addEvent(),T.onGetPanelFooterActions=T.addEvent(),T.onGetMatrixRowActions=T.addEvent(),T.onElementContentVisibilityChanged=T.addEvent(),T.onGetExpressionDisplayValue=T.addEvent(),T.onPopupVisibleChanged=T.addEvent(),T.jsonErrors=null,T.cssValue=null,T.hideRequiredErrors=!1,T.cssVariables={},T._isMobile=!1,T._isCompact=!1,T._isDesignMode=!1,T.validationEnabled=!0,T.validationAllowSwitchPages=!1,T.validationAllowComplete=!1,T.isNavigationButtonPressed=!1,T.mouseDownPage=null,T.isCalculatingProgressText=!1,T.isFirstPageRendering=!0,T.isCurrentPageRendering=!0,T.isTriggerIsRunning=!1,T.triggerValues=null,T.triggerKeys=null,T.conditionValues=null,T.isValueChangedOnRunningCondition=!1,T.conditionRunnerCounter=0,T.conditionUpdateVisibleIndexes=!1,T.conditionNotifyElementsOnAnyValueOrVariableChanged=!1,T.isEndLoadingFromJson=null,T.questionHashes={names:{},namesInsensitive:{},valueNames:{},valueNamesInsensitive:{}},T.needRenderIcons=!0,T.skippedPages=[],T.skeletonComponentName="sv-skeleton",T.taskManager=new x.SurveyTaskManagerModel,typeof document<"u"&&(w.stylesManager=new e.StylesManager);var B=function(N){return"<h3>"+N+"</h3>"};return T.createHtmlLocString("completedHtml","completingSurvey",B),T.createHtmlLocString("completedBeforeHtml","completingSurveyBefore",B,"completed-before"),T.createHtmlLocString("loadingHtml","loadingSurvey",B,"loading"),T.createLocalizableString("emptySurveyText",T,!0,"emptySurvey"),T.createLocalizableString("logo",T,!1),T.createLocalizableString("startSurveyText",T,!1,!0),T.createLocalizableString("pagePrevText",T,!1,!0),T.createLocalizableString("pageNextText",T,!1,!0),T.createLocalizableString("completeText",T,!1,!0),T.createLocalizableString("previewText",T,!1,!0),T.createLocalizableString("editText",T,!1,!0),T.createLocalizableString("questionTitleTemplate",T,!0),T.timerModelValue=new m.SurveyTimerModel(T),T.timerModelValue.onTimer=function(N){T.doTimer(N)},T.createNewArray("pages",function(N){T.doOnPageAdded(N)},function(N){T.doOnPageRemoved(N)}),T.createNewArray("triggers",function(N){N.setOwner(T)}),T.createNewArray("calculatedValues",function(N){N.setOwner(T)}),T.createNewArray("completedHtmlOnCondition",function(N){N.locOwner=T}),T.createNewArray("navigateToUrlOnCondition",function(N){N.locOwner=T}),T.registerPropertyChangedHandlers(["locale"],function(){T.onSurveyLocaleChanged()}),T.registerPropertyChangedHandlers(["firstPageIsStarted"],function(){T.onFirstPageIsStartedChanged()}),T.registerPropertyChangedHandlers(["mode"],function(){T.onModeChanged()}),T.registerPropertyChangedHandlers(["progressBarType"],function(){T.updateProgressText()}),T.registerPropertyChangedHandlers(["questionStartIndex","requiredText","questionTitlePattern"],function(){T.resetVisibleIndexes()}),T.registerPropertyChangedHandlers(["isLoading","isCompleted","isCompletedBefore","mode","isStartedState","currentPage"],function(){T.updateState()}),T.registerPropertyChangedHandlers(["state","currentPage","showPreviewBeforeComplete"],function(){T.onStateAndCurrentPageChanged()}),T.registerPropertyChangedHandlers(["logo","logoPosition"],function(){T.updateHasLogo()}),T.registerPropertyChangedHandlers(["backgroundImage"],function(){T.updateRenderBackgroundImage()}),T.registerPropertyChangedHandlers(["renderBackgroundImage","backgroundOpacity","backgroundImageFit","fitToContainer","backgroundImageAttachment"],function(){T.updateBackgroundImageStyle()}),T.registerPropertyChangedHandlers(["showPrevButton","showCompleteButton"],function(){T.updateButtonsVisibility()}),T.onGetQuestionNo.onCallbacksChanged=function(){T.resetVisibleIndexes()},T.onProgressText.onCallbacksChanged=function(){T.updateProgressText()},T.onTextMarkdown.onCallbacksChanged=function(){T.locStrsChanged()},T.onProcessHtml.onCallbacksChanged=function(){T.locStrsChanged()},T.onGetQuestionTitle.onCallbacksChanged=function(){T.locStrsChanged()},T.onUpdatePageCssClasses.onCallbacksChanged=function(){T.currentPage&&T.currentPage.updateElementCss()},T.onUpdatePanelCssClasses.onCallbacksChanged=function(){T.currentPage&&T.currentPage.updateElementCss()},T.onUpdateQuestionCssClasses.onCallbacksChanged=function(){T.currentPage&&T.currentPage.updateElementCss()},T.onShowingChoiceItem.onCallbacksChanged=function(){T.rebuildQuestionChoices()},T.navigationBarValue=T.createNavigationBar(),T.navigationBar.locOwner=T,T.onBeforeCreating(),g&&((typeof g=="string"||g instanceof String)&&(g=JSON.parse(g)),g&&g.clientId&&(T.clientId=g.clientId),T.fromJSON(g),T.surveyId&&T.loadSurveyFromService(T.surveyId,T.clientId)),T.onCreating(),I&&T.render(I),T.updateCss(),T.setCalculatedWidthModeUpdater(),T.notifier=new o.Notifier(T.css.saveData),T.notifier.addAction(T.createTryAgainAction(),"error"),T.onPopupVisibleChanged.add(function(N,H){H.visible?T.onScrollCallback=function(){H.popup.toggleVisibility()}:T.onScrollCallback=void 0}),T.progressBarValue=new b.ProgressButtons(T),T.layoutElements.push({id:"timerpanel",template:"survey-timerpanel",component:"sv-timerpanel",data:T.timerModel}),T.layoutElements.push({id:"progress-buttons",component:"sv-progress-buttons",data:T.progressBar,processResponsiveness:function(N){return T.progressBar.processResponsiveness&&T.progressBar.processResponsiveness(N)}}),T.layoutElements.push({id:"progress-questions",component:"sv-progress-questions",data:T}),T.layoutElements.push({id:"progress-pages",component:"sv-progress-pages",data:T}),T.layoutElements.push({id:"progress-correctquestions",component:"sv-progress-correctquestions",data:T}),T.layoutElements.push({id:"progress-requiredquestions",component:"sv-progress-requiredquestions",data:T}),T.addLayoutElement({id:"toc-navigation",component:"sv-navigation-toc",data:new i.TOCModel(T)}),T.layoutElements.push({id:"buttons-navigation",component:"sv-action-bar",data:T.navigationBar}),T}return Object.defineProperty(w,"cssType",{get:function(){return R.surveyCss.currentType},set:function(g){e.StylesManager.applyTheme(g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"platformName",{get:function(){return w.platform},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"commentSuffix",{get:function(){return a.settings.commentSuffix},set:function(g){a.settings.commentSuffix=g},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"commentPrefix",{get:function(){return this.commentSuffix},set:function(g){this.commentSuffix=g},enumerable:!1,configurable:!0}),w.prototype.processClosedPopup=function(g,I){throw new Error("Method not implemented.")},w.prototype.createTryAgainAction=function(){var g=this;return{id:"save-again",title:this.getLocalizationString("saveAgainButton"),action:function(){g.isCompleted?g.saveDataOnComplete():g.doComplete()}}},w.prototype.createHtmlLocString=function(g,I,T,B){var N=this,H=this.createLocalizableString(g,this,!1,I);H.onGetLocalizationTextCallback=T,B&&(H.onGetTextCallback=function(k){return N.processHtml(k,B)})},w.prototype.getType=function(){return"survey"},w.prototype.onPropertyValueChanged=function(g,I,T){g==="questionsOnPageMode"&&this.onQuestionsOnPageModeChanged(I)},Object.defineProperty(w.prototype,"pages",{get:function(){return this.getPropertyValue("pages")},enumerable:!1,configurable:!0}),w.prototype.render=function(g){g===void 0&&(g=null),this.renderCallback&&this.renderCallback()},w.prototype.updateSurvey=function(g,I){var T=function(){if(N=="model"||N=="children")return"continue";if(N.indexOf("on")==0&&B[N]&&B[N].add){var H=g[N],k=function(W,K){H(W,K)};B[N].add(k)}else B[N]=g[N]},B=this;for(var N in g)T();g&&g.data&&this.onValueChanged.add(function(H,k){g.data[k.name]=k.value})},w.prototype.getCss=function(){return this.css},w.prototype.updateCompletedPageCss=function(){this.containerCss=this.css.container,this.completedCss=new n.CssClassBuilder().append(this.css.body).append(this.css.completedPage).toString(),this.completedBeforeCss=new n.CssClassBuilder().append(this.css.body).append(this.css.completedBeforePage).toString(),this.loadingBodyCss=new n.CssClassBuilder().append(this.css.body).append(this.css.bodyLoading).toString()},w.prototype.updateCss=function(){this.rootCss=this.getRootCss(),this.updateNavigationCss(),this.updateCompletedPageCss(),this.updateWrapperFormCss()},Object.defineProperty(w.prototype,"css",{get:function(){return this.cssValue||(this.cssValue={},this.copyCssClasses(this.cssValue,R.surveyCss.getCss())),this.cssValue},set:function(g){this.setCss(g)},enumerable:!1,configurable:!0}),w.prototype.setCss=function(g,I){I===void 0&&(I=!0),I?this.mergeValues(g,this.css):this.cssValue=g,this.updateCss(),this.updateElementCss(!1)},Object.defineProperty(w.prototype,"cssTitle",{get:function(){return this.css.title},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"cssNavigationComplete",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.complete)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"cssNavigationPreview",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.preview)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"cssNavigationEdit",{get:function(){return this.getNavigationCss(this.css.navigationButton,this.css.navigation.edit)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"cssNavigationPrev",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.prev)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"cssNavigationStart",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.start)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"cssNavigationNext",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.next)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"cssSurveyNavigationButton",{get:function(){return new n.CssClassBuilder().append(this.css.navigationButton).append(this.css.bodyNavigationButton).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"bodyCss",{get:function(){return new n.CssClassBuilder().append(this.css.body).append(this.css.bodyWithTimer,this.showTimerPanel!="none"&&this.state==="running").append(this.css.body+"--"+this.calculatedWidthMode).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"bodyContainerCss",{get:function(){return this.css.bodyContainer},enumerable:!1,configurable:!0}),w.prototype.insertAdvancedHeader=function(g){g.survey=this,this.layoutElements.push({id:"advanced-header",container:"header",component:"sv-header",index:-100,data:g,processResponsiveness:function(I){return g.processResponsiveness(I)}})},w.prototype.getNavigationCss=function(g,I){return new n.CssClassBuilder().append(g).append(I).toString()},Object.defineProperty(w.prototype,"lazyRendering",{get:function(){return this.lazyRenderingValue===!0},set:function(g){if(this.lazyRendering!==g){this.lazyRenderingValue=g;var I=this.currentPage;I&&I.updateRows()}},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isLazyRendering",{get:function(){return this.lazyRendering||a.settings.lazyRender.enabled},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"lazyRenderingFirstBatchSize",{get:function(){return this.lazyRenderingFirstBatchSizeValue||a.settings.lazyRender.firstBatchSize},set:function(g){this.lazyRenderingFirstBatchSizeValue=g},enumerable:!1,configurable:!0}),w.prototype.updateLazyRenderingRowsOnRemovingElements=function(){if(this.isLazyRendering){var g=this.currentPage;g&&Object(c.scrollElementByChildId)(g.id)}},Object.defineProperty(w.prototype,"triggers",{get:function(){return this.getPropertyValue("triggers")},set:function(g){this.setPropertyValue("triggers",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"calculatedValues",{get:function(){return this.getPropertyValue("calculatedValues")},set:function(g){this.setPropertyValue("calculatedValues",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"surveyId",{get:function(){return this.getPropertyValue("surveyId","")},set:function(g){this.setPropertyValue("surveyId",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"surveyPostId",{get:function(){return this.getPropertyValue("surveyPostId","")},set:function(g){this.setPropertyValue("surveyPostId",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"clientId",{get:function(){return this.getPropertyValue("clientId","")},set:function(g){this.setPropertyValue("clientId",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"cookieName",{get:function(){return this.getPropertyValue("cookieName","")},set:function(g){this.setPropertyValue("cookieName",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"sendResultOnPageNext",{get:function(){return this.getPropertyValue("sendResultOnPageNext")},set:function(g){this.setPropertyValue("sendResultOnPageNext",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"surveyShowDataSaving",{get:function(){return this.getPropertyValue("surveyShowDataSaving")},set:function(g){this.setPropertyValue("surveyShowDataSaving",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"focusFirstQuestionAutomatic",{get:function(){return this.getPropertyValue("focusFirstQuestionAutomatic")},set:function(g){this.setPropertyValue("focusFirstQuestionAutomatic",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"focusOnFirstError",{get:function(){return this.getPropertyValue("focusOnFirstError")},set:function(g){this.setPropertyValue("focusOnFirstError",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"showNavigationButtons",{get:function(){return this.getPropertyValue("showNavigationButtons")},set:function(g){(g===!0||g===void 0)&&(g="bottom"),g===!1&&(g="none"),this.setPropertyValue("showNavigationButtons",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"showPrevButton",{get:function(){return this.getPropertyValue("showPrevButton")},set:function(g){this.setPropertyValue("showPrevButton",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"showCompleteButton",{get:function(){return this.getPropertyValue("showCompleteButton",!0)},set:function(g){this.setPropertyValue("showCompleteButton",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"showTOC",{get:function(){return this.getPropertyValue("showTOC")},set:function(g){this.setPropertyValue("showTOC",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"tocLocation",{get:function(){return this.getPropertyValue("tocLocation")},set:function(g){this.setPropertyValue("tocLocation",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"showTitle",{get:function(){return this.getPropertyValue("showTitle")},set:function(g){this.setPropertyValue("showTitle",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"showPageTitles",{get:function(){return this.getPropertyValue("showPageTitles")},set:function(g){this.setPropertyValue("showPageTitles",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"showCompletedPage",{get:function(){return this.getPropertyValue("showCompletedPage")},set:function(g){this.setPropertyValue("showCompletedPage",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"navigateToUrl",{get:function(){return this.getPropertyValue("navigateToUrl")},set:function(g){this.setPropertyValue("navigateToUrl",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"navigateToUrlOnCondition",{get:function(){return this.getPropertyValue("navigateToUrlOnCondition")},set:function(g){this.setPropertyValue("navigateToUrlOnCondition",g)},enumerable:!1,configurable:!0}),w.prototype.getNavigateToUrl=function(){var g=this.getExpressionItemOnRunCondition(this.navigateToUrlOnCondition),I=g?g.url:this.navigateToUrl;return I&&(I=this.processText(I,!1)),I},w.prototype.navigateTo=function(){var g=this.getNavigateToUrl(),I={url:g,allow:!0};this.onNavigateToUrl.fire(this,I),!(!I.url||!I.allow)&&Object(c.navigateToUrl)(I.url)},Object.defineProperty(w.prototype,"requiredText",{get:function(){return this.getPropertyValue("requiredText","*")},set:function(g){this.setPropertyValue("requiredText",g)},enumerable:!1,configurable:!0}),w.prototype.beforeSettingQuestionErrors=function(g,I){this.makeRequiredErrorsInvisible(I),this.onSettingQuestionErrors.fire(this,{question:g,errors:I})},w.prototype.beforeSettingPanelErrors=function(g,I){this.makeRequiredErrorsInvisible(I)},w.prototype.makeRequiredErrorsInvisible=function(g){if(this.hideRequiredErrors)for(var I=0;I<g.length;I++){var T=g[I].getErrorType();(T=="required"||T=="requireoneanswer")&&(g[I].visible=!1)}},Object.defineProperty(w.prototype,"questionStartIndex",{get:function(){return this.getPropertyValue("questionStartIndex","")},set:function(g){this.setPropertyValue("questionStartIndex",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"storeOthersAsComment",{get:function(){return this.getPropertyValue("storeOthersAsComment")},set:function(g){this.setPropertyValue("storeOthersAsComment",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"maxTextLength",{get:function(){return this.getPropertyValue("maxTextLength")},set:function(g){this.setPropertyValue("maxTextLength",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"maxOthersLength",{get:function(){return this.getPropertyValue("maxOthersLength")},set:function(g){this.setPropertyValue("maxOthersLength",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"goNextPageAutomatic",{get:function(){return this.getPropertyValue("goNextPageAutomatic")},set:function(g){this.setPropertyValue("goNextPageAutomatic",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"allowCompleteSurveyAutomatic",{get:function(){return this.getPropertyValue("allowCompleteSurveyAutomatic",!0)},set:function(g){this.setPropertyValue("allowCompleteSurveyAutomatic",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"checkErrorsMode",{get:function(){return this.getPropertyValue("checkErrorsMode")},set:function(g){this.setPropertyValue("checkErrorsMode",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"autoGrowComment",{get:function(){return this.getPropertyValue("autoGrowComment")},set:function(g){this.setPropertyValue("autoGrowComment",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"allowResizeComment",{get:function(){return this.getPropertyValue("allowResizeComment")},set:function(g){this.setPropertyValue("allowResizeComment",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"textUpdateMode",{get:function(){return this.getPropertyValue("textUpdateMode")},set:function(g){this.setPropertyValue("textUpdateMode",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"clearInvisibleValues",{get:function(){return this.getPropertyValue("clearInvisibleValues")},set:function(g){g===!0&&(g="onComplete"),g===!1&&(g="none"),this.setPropertyValue("clearInvisibleValues",g)},enumerable:!1,configurable:!0}),w.prototype.clearIncorrectValues=function(g){g===void 0&&(g=!1);for(var I=0;I<this.pages.length;I++)this.pages[I].clearIncorrectValues();if(g){var T=this.data,B=!1;for(var N in T)if(!this.getQuestionByValueName(N)&&!(this.iscorrectValueWithPostPrefix(N,a.settings.commentSuffix)||this.iscorrectValueWithPostPrefix(N,a.settings.matrix.totalsSuffix))){var H=this.getCalculatedValueByName(N);H&&H.includeIntoResult||(B=!0,delete T[N])}B&&(this.data=T)}},w.prototype.iscorrectValueWithPostPrefix=function(g,I){return g.indexOf(I)!==g.length-I.length?!1:!!this.getQuestionByValueName(g.substring(0,g.indexOf(I)))},Object.defineProperty(w.prototype,"keepIncorrectValues",{get:function(){return this.getPropertyValue("keepIncorrectValues")},set:function(g){this.setPropertyValue("keepIncorrectValues",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"locale",{get:function(){return this.getPropertyValueWithoutDefault("locale")||y.surveyLocalization.currentLocale},set:function(g){g===y.surveyLocalization.defaultLocale&&!y.surveyLocalization.currentLocale&&(g=""),this.setPropertyValue("locale",g)},enumerable:!1,configurable:!0}),w.prototype.onSurveyLocaleChanged=function(){this.notifyElementsOnAnyValueOrVariableChanged("locale"),this.localeChanged(),this.onLocaleChangedEvent.fire(this,this.locale)},w.prototype.getUsedLocales=function(){var g=new Array;this.addUsedLocales(g);var I=g.indexOf("default");if(I>-1){var T=y.surveyLocalization.defaultLocale,B=g.indexOf(T);B>-1&&g.splice(B,1),I=g.indexOf("default"),g[I]=T}return g},w.prototype.localeChanged=function(){for(var g=0;g<this.pages.length;g++)this.pages[g].localeChanged()},w.prototype.getLocale=function(){return this.locale},w.prototype.locStrsChanged=function(){if(!this.isClearingUnsedValues&&(j.prototype.locStrsChanged.call(this),!!this.currentPage)){if(this.isDesignMode)this.pages.forEach(function(B){return B.locStrsChanged()});else{var g=this.activePage;g&&g.locStrsChanged();for(var I=this.visiblePages,T=0;T<I.length;T++)I[T].navigationLocStrChanged()}this.isShowStartingPage||this.updateProgressText(),this.navigationBar.locStrsChanged()}},w.prototype.getMarkdownHtml=function(g,I){return this.getSurveyMarkdownHtml(this,g,I)},w.prototype.getRenderer=function(g){return this.getRendererForString(this,g)},w.prototype.getRendererContext=function(g){return this.getRendererContextForString(this,g)},w.prototype.getRendererForString=function(g,I){var T=this.getBuiltInRendererForString(g,I),B={element:g,name:I,renderAs:T};return this.onTextRenderAs.fire(this,B),B.renderAs},w.prototype.getRendererContextForString=function(g,I){return I},w.prototype.getExpressionDisplayValue=function(g,I,T){var B={question:g,value:I,displayValue:T};return this.onGetExpressionDisplayValue.fire(this,B),B.displayValue},w.prototype.getBuiltInRendererForString=function(g,I){if(this.isDesignMode)return f.LocalizableString.editableRenderer},w.prototype.getProcessedText=function(g){return this.processText(g,!0)},w.prototype.getLocString=function(g){return this.getLocalizationString(g)},w.prototype.getErrorCustomText=function(g,I){return this.getSurveyErrorCustomText(this,g,I)},w.prototype.getSurveyErrorCustomText=function(g,I,T){var B={text:I,name:T.getErrorType(),obj:g,error:T};return this.onErrorCustomText.fire(this,B),B.text},w.prototype.getQuestionDisplayValue=function(g,I){var T={question:g,displayValue:I};return this.onGetQuestionDisplayValue.fire(this,T),T.displayValue},Object.defineProperty(w.prototype,"emptySurveyText",{get:function(){return this.getLocalizableStringText("emptySurveyText")},set:function(g){this.setLocalizableStringText("emptySurveyText",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"logo",{get:function(){return this.getLocalizableStringText("logo")},set:function(g){this.setLocalizableStringText("logo",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"locLogo",{get:function(){return this.getLocalizableString("logo")},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"logoWidth",{get:function(){return this.getPropertyValue("logoWidth")},set:function(g){this.setPropertyValue("logoWidth",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"renderedLogoWidth",{get:function(){return this.logoWidth?Object(c.getRenderedSize)(this.logoWidth):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"renderedStyleLogoWidth",{get:function(){return this.logoWidth?Object(c.getRenderedStyleSize)(this.logoWidth):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"logoHeight",{get:function(){return this.getPropertyValue("logoHeight")},set:function(g){this.setPropertyValue("logoHeight",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"renderedLogoHeight",{get:function(){return this.logoHeight?Object(c.getRenderedSize)(this.logoHeight):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"renderedStyleLogoHeight",{get:function(){return this.logoHeight?Object(c.getRenderedStyleSize)(this.logoHeight):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"logoPosition",{get:function(){return this.getPropertyValue("logoPosition")},set:function(g){this.setPropertyValue("logoPosition",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"hasLogo",{get:function(){return this.getPropertyValue("hasLogo",!1)},enumerable:!1,configurable:!0}),w.prototype.updateHasLogo=function(){this.setPropertyValue("hasLogo",!!this.logo&&this.logoPosition!=="none")},Object.defineProperty(w.prototype,"isLogoBefore",{get:function(){return this.isDesignMode?!1:this.renderedHasLogo&&(this.logoPosition==="left"||this.logoPosition==="top")},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isLogoAfter",{get:function(){return this.isDesignMode?this.renderedHasLogo:this.renderedHasLogo&&(this.logoPosition==="right"||this.logoPosition==="bottom")},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"logoClassNames",{get:function(){var g={left:"sv-logo--left",right:"sv-logo--right",top:"sv-logo--top",bottom:"sv-logo--bottom"};return new n.CssClassBuilder().append(this.css.logo).append(g[this.logoPosition]).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"renderedHasTitle",{get:function(){return this.isDesignMode?this.isPropertyVisible("title"):!this.locTitle.isEmpty&&this.showTitle},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"renderedHasDescription",{get:function(){return this.isDesignMode?this.isPropertyVisible("description"):!!this.hasDescription},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"hasTitle",{get:function(){return this.renderedHasTitle},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"renderedHasLogo",{get:function(){return this.isDesignMode?this.isPropertyVisible("logo"):this.hasLogo},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"renderedHasHeader",{get:function(){return this.renderedHasTitle||this.renderedHasLogo},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"logoFit",{get:function(){return this.getPropertyValue("logoFit")},set:function(g){this.setPropertyValue("logoFit",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"themeVariables",{get:function(){return Object.assign({},this.cssVariables)},enumerable:!1,configurable:!0}),w.prototype.setIsMobile=function(g){g===void 0&&(g=!0),this._isMobile!==g&&(this._isMobile=g,this.updateCss(),this.getAllQuestions().forEach(function(I){return I.setIsMobile(g)}))},Object.defineProperty(w.prototype,"isMobile",{get:function(){return this._isMobile&&!this.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isCompact",{get:function(){return this._isCompact},set:function(g){g!==this._isCompact&&(this._isCompact=g,this.updateElementCss(),this.triggerResponsiveness(!0))},enumerable:!1,configurable:!0}),w.prototype.isLogoImageChoosen=function(){return this.locLogo.renderedHtml},Object.defineProperty(w.prototype,"titleMaxWidth",{get:function(){if(!(Object(c.isMobile)()||this.isMobile)&&!this.isValueEmpty(this.isLogoImageChoosen())&&!a.settings.supportCreatorV2){var g=this.logoWidth;if(this.logoPosition==="left"||this.logoPosition==="right")return"calc(100% - 5px - 2em - "+g+")"}return""},enumerable:!1,configurable:!0}),w.prototype.updateRenderBackgroundImage=function(){var g=this.backgroundImage;this.renderBackgroundImage=Object(c.wrapUrlForBackgroundImage)(g)},Object.defineProperty(w.prototype,"backgroundOpacity",{get:function(){return this.getPropertyValue("backgroundOpacity")},set:function(g){this.setPropertyValue("backgroundOpacity",g)},enumerable:!1,configurable:!0}),w.prototype.updateBackgroundImageStyle=function(){this.backgroundImageStyle={opacity:this.backgroundOpacity,backgroundImage:this.renderBackgroundImage,backgroundSize:this.backgroundImageFit,backgroundAttachment:this.fitToContainer?void 0:this.backgroundImageAttachment}},w.prototype.updateWrapperFormCss=function(){this.wrapperFormCss=new n.CssClassBuilder().append(this.css.rootWrapper).append(this.css.rootWrapperFixed,this.backgroundImageAttachment==="fixed").toString()},Object.defineProperty(w.prototype,"completedHtml",{get:function(){return this.getLocalizableStringText("completedHtml")},set:function(g){this.setLocalizableStringText("completedHtml",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"locCompletedHtml",{get:function(){return this.getLocalizableString("completedHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"completedHtmlOnCondition",{get:function(){return this.getPropertyValue("completedHtmlOnCondition")},set:function(g){this.setPropertyValue("completedHtmlOnCondition",g)},enumerable:!1,configurable:!0}),w.prototype.runExpression=function(g){if(!g)return null;var I=this.getFilteredValues(),T=this.getFilteredProperties();return new s.ExpressionRunner(g).run(I,T)},w.prototype.runCondition=function(g){if(!g)return!1;var I=this.getFilteredValues(),T=this.getFilteredProperties();return new s.ConditionRunner(g).run(I,T)},w.prototype.runTriggers=function(){this.checkTriggers(this.getFilteredValues(),!1)},Object.defineProperty(w.prototype,"renderedCompletedHtml",{get:function(){var g=this.getExpressionItemOnRunCondition(this.completedHtmlOnCondition);return g?g.html:this.completedHtml},enumerable:!1,configurable:!0}),w.prototype.getExpressionItemOnRunCondition=function(g){if(g.length==0)return null;for(var I=this.getFilteredValues(),T=this.getFilteredProperties(),B=0;B<g.length;B++)if(g[B].runCondition(I,T))return g[B];return null},Object.defineProperty(w.prototype,"completedBeforeHtml",{get:function(){return this.getLocalizableStringText("completedBeforeHtml")},set:function(g){this.setLocalizableStringText("completedBeforeHtml",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"locCompletedBeforeHtml",{get:function(){return this.getLocalizableString("completedBeforeHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"loadingHtml",{get:function(){return this.getLocalizableStringText("loadingHtml")},set:function(g){this.setLocalizableStringText("loadingHtml",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"locLoadingHtml",{get:function(){return this.getLocalizableString("loadingHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"defaultLoadingHtml",{get:function(){return"<h3>"+this.getLocalizationString("loadingSurvey")+"</h3>"},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"navigationBar",{get:function(){return this.navigationBarValue},enumerable:!1,configurable:!0}),w.prototype.addNavigationItem=function(g){return g.component||(g.component="sv-nav-btn"),g.innerCss||(g.innerCss=this.cssSurveyNavigationButton),this.navigationBar.addAction(g)},Object.defineProperty(w.prototype,"startSurveyText",{get:function(){return this.getLocalizableStringText("startSurveyText")},set:function(g){this.setLocalizableStringText("startSurveyText",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"locStartSurveyText",{get:function(){return this.getLocalizableString("startSurveyText")},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"pagePrevText",{get:function(){return this.getLocalizableStringText("pagePrevText")},set:function(g){this.setLocalizableStringText("pagePrevText",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"locPagePrevText",{get:function(){return this.getLocalizableString("pagePrevText")},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"pageNextText",{get:function(){return this.getLocalizableStringText("pageNextText")},set:function(g){this.setLocalizableStringText("pageNextText",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"locPageNextText",{get:function(){return this.getLocalizableString("pageNextText")},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"completeText",{get:function(){return this.getLocalizableStringText("completeText")},set:function(g){this.setLocalizableStringText("completeText",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"locCompleteText",{get:function(){return this.getLocalizableString("completeText")},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"previewText",{get:function(){return this.getLocalizableStringText("previewText")},set:function(g){this.setLocalizableStringText("previewText",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"locPreviewText",{get:function(){return this.getLocalizableString("previewText")},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"editText",{get:function(){return this.getLocalizableStringText("editText")},set:function(g){this.setLocalizableStringText("editText",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"locEditText",{get:function(){return this.getLocalizableString("editText")},enumerable:!1,configurable:!0}),w.prototype.getElementTitleTagName=function(g,I){if(this.onGetTitleTagName.isEmpty)return I;var T={element:g,tagName:I};return this.onGetTitleTagName.fire(this,T),T.tagName},Object.defineProperty(w.prototype,"questionTitlePattern",{get:function(){return this.getPropertyValue("questionTitlePattern","numTitleRequire")},set:function(g){g!=="numRequireTitle"&&g!=="requireNumTitle"&&g!="numTitle"&&(g="numTitleRequire"),this.setPropertyValue("questionTitlePattern",g)},enumerable:!1,configurable:!0}),w.prototype.getQuestionTitlePatternOptions=function(){var g=new Array,I=this.getLocalizationString("questionTitlePatternText"),T=this.questionStartIndex?this.questionStartIndex:"1.";return g.push({value:"numTitleRequire",text:T+" "+I+" "+this.requiredText}),g.push({value:"numRequireTitle",text:T+" "+this.requiredText+" "+I}),g.push({value:"requireNumTitle",text:this.requiredText+" "+T+" "+I}),g.push({value:"numTitle",text:T+" "+I}),g},Object.defineProperty(w.prototype,"questionTitleTemplate",{get:function(){return this.getLocalizableStringText("questionTitleTemplate")},set:function(g){this.setLocalizableStringText("questionTitleTemplate",g),this.questionTitlePattern=this.getNewTitlePattern(g),this.questionStartIndex=this.getNewQuestionTitleElement(g,"no",this.questionStartIndex,"1"),this.requiredText=this.getNewQuestionTitleElement(g,"require",this.requiredText,"*")},enumerable:!1,configurable:!0}),w.prototype.getNewTitlePattern=function(g){if(g){for(var I=[];g.indexOf("{")>-1;){g=g.substring(g.indexOf("{")+1);var T=g.indexOf("}");if(T<0)break;I.push(g.substring(0,T)),g=g.substring(T+1)}if(I.length>1){if(I[0]=="require")return"requireNumTitle";if(I[1]=="require"&&I.length==3)return"numRequireTitle";if(I.indexOf("require")<0)return"numTitle"}if(I.length==1&&I[0]=="title")return"numTitle"}return"numTitleRequire"},w.prototype.getNewQuestionTitleElement=function(g,I,T,B){if(I="{"+I+"}",!g||g.indexOf(I)<0)return T;for(var N=g.indexOf(I),H="",k="",W=N-1;W>=0&&g[W]!="}";W--);for(W<N-1&&(H=g.substring(W+1,N)),N+=I.length,W=N;W<g.length&&g[W]!="{";W++);for(W>N&&(k=g.substring(N,W)),W=0;W<H.length&&H.charCodeAt(W)<33;)W++;for(H=H.substring(W),W=k.length-1;W>=0&&k.charCodeAt(W)<33;)W--;if(k=k.substring(0,W+1),!H&&!k)return T;var K=T||B;return H+K+k},Object.defineProperty(w.prototype,"locQuestionTitleTemplate",{get:function(){return this.getLocalizableString("questionTitleTemplate")},enumerable:!1,configurable:!0}),w.prototype.getUpdatedQuestionTitle=function(g,I){if(this.onGetQuestionTitle.isEmpty)return I;var T={question:g,title:I};return this.onGetQuestionTitle.fire(this,T),T.title},w.prototype.getUpdatedQuestionNo=function(g,I){if(this.onGetQuestionNo.isEmpty)return I;var T={question:g,no:I};return this.onGetQuestionNo.fire(this,T),T.no},Object.defineProperty(w.prototype,"showPageNumbers",{get:function(){return this.getPropertyValue("showPageNumbers")},set:function(g){g!==this.showPageNumbers&&(this.setPropertyValue("showPageNumbers",g),this.updateVisibleIndexes())},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(g){g===!0&&(g="on"),g===!1&&(g="off"),g=g.toLowerCase(),g=g==="onpage"?"onPage":g,g!==this.showQuestionNumbers&&(this.setPropertyValue("showQuestionNumbers",g),this.updateVisibleIndexes())},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"progressBar",{get:function(){return this.progressBarValue},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"showProgressBar",{get:function(){return this.getPropertyValue("showProgressBar")},set:function(g){this.setPropertyValue("showProgressBar",g.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"progressBarType",{get:function(){return this.getPropertyValue("progressBarType")},set:function(g){g==="correctquestion"&&(g="correctQuestion"),g==="requiredquestion"&&(g="requiredQuestion"),this.setPropertyValue("progressBarType",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"progressBarComponentName",{get:function(){var g=this.progressBarType;return!a.settings.legacyProgressBarView&&R.surveyCss.currentType==="defaultV2"&&L(g,"pages")&&(g="buttons"),"progress-"+g},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isShowProgressBarOnTop",{get:function(){return this.canShowProresBar()?["auto","aboveheader","belowheader","topbottom","top","both"].indexOf(this.showProgressBar)!==-1:!1},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isShowProgressBarOnBottom",{get:function(){return this.canShowProresBar()?this.showProgressBar==="bottom"||this.showProgressBar==="both"||this.showProgressBar==="topbottom":!1},enumerable:!1,configurable:!0}),w.prototype.getProgressTypeComponent=function(){return"sv-progress-"+this.progressBarType.toLowerCase()},w.prototype.getProgressCssClasses=function(g){return g===void 0&&(g=""),new n.CssClassBuilder().append(this.css.progress).append(this.css.progressTop,this.isShowProgressBarOnTop&&(!g||g=="header")).append(this.css.progressBottom,this.isShowProgressBarOnBottom&&(!g||g=="footer")).toString()},w.prototype.canShowProresBar=function(){return!this.isShowingPreview||this.showPreviewBeforeComplete!="showAllQuestions"},Object.defineProperty(w.prototype,"processedTitle",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"questionTitleLocation",{get:function(){return this.getPropertyValue("questionTitleLocation")},set:function(g){this.setPropertyValue("questionTitleLocation",g.toLowerCase()),this.isLoadingFromJson||this.updateElementCss(!0)},enumerable:!1,configurable:!0}),w.prototype.updateElementCss=function(g){this.startedPage&&this.startedPage.updateElementCss(g);for(var I=this.visiblePages,T=0;T<I.length;T++)I[T].updateElementCss(g);this.updateCss()},Object.defineProperty(w.prototype,"questionErrorLocation",{get:function(){return this.getPropertyValue("questionErrorLocation")},set:function(g){this.setPropertyValue("questionErrorLocation",g.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"questionDescriptionLocation",{get:function(){return this.getPropertyValue("questionDescriptionLocation")},set:function(g){this.setPropertyValue("questionDescriptionLocation",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"mode",{get:function(){return this.getPropertyValue("mode")},set:function(g){g=g.toLowerCase(),g!=this.mode&&(g!="edit"&&g!="display"||this.setPropertyValue("mode",g))},enumerable:!1,configurable:!0}),w.prototype.onModeChanged=function(){for(var g=0;g<this.pages.length;g++){var I=this.pages[g];I.setPropertyValue("isReadOnly",I.isReadOnly)}this.updateButtonsVisibility(),this.updateCss()},Object.defineProperty(w.prototype,"data",{get:function(){for(var g={},I=this.getValuesKeys(),T=0;T<I.length;T++){var B=I[T],N=this.getDataValueCore(this.valuesHash,B);N!==void 0&&(g[B]=N)}return this.setCalculatedValuesIntoResult(g),g},set:function(g){this.valuesHash={},this.setDataCore(g,!g)},enumerable:!1,configurable:!0}),w.prototype.mergeData=function(g){if(g){var I=this.data;this.mergeValues(g,I),this.setDataCore(I)}},w.prototype.setDataCore=function(g,I){if(I===void 0&&(I=!1),I&&(this.valuesHash={}),g)for(var T in g)this.setDataValueCore(this.valuesHash,T,g[T]);this.updateAllQuestionsValue(I),this.notifyAllQuestionsOnValueChanged(),this.notifyElementsOnAnyValueOrVariableChanged(""),this.runConditions(),this.updateAllQuestionsValue(I)},w.prototype.getStructuredData=function(g,I){if(g===void 0&&(g=!0),I===void 0&&(I=-1),I===0)return this.data;var T={};return this.pages.forEach(function(B){if(g){var N={};B.collectValues(N,I-1)&&(T[B.name]=N)}else B.collectValues(T,I)}),T},w.prototype.setStructuredData=function(g,I){if(I===void 0&&(I=!1),!!g){var T={};for(var B in g){var N=this.getQuestionByValueName(B);if(N)T[B]=g[B];else{var H=this.getPageByName(B);H||(H=this.getPanelByName(B)),H&&this.collectDataFromPanel(H,T,g[B])}}I?this.mergeData(T):this.data=T}},w.prototype.collectDataFromPanel=function(g,I,T){for(var B in T){var N=g.getElementByName(B);N&&(N.isPanel?this.collectDataFromPanel(N,I,T[B]):I[B]=T[B])}},Object.defineProperty(w.prototype,"editingObj",{get:function(){return this.editingObjValue},set:function(g){var I=this;if(this.editingObj!=g&&(this.editingObj&&this.editingObj.onPropertyChanged.remove(this.onEditingObjPropertyChanged),this.editingObjValue=g,!this.isDisposed)){if(!g)for(var T=this.getAllQuestions(),B=0;B<T.length;B++)T[B].unbindValue();this.editingObj&&(this.setDataCore({}),this.onEditingObjPropertyChanged=function(N,H){C.Serializer.hasOriginalProperty(I.editingObj,H.name)&&I.updateOnSetValue(H.name,I.editingObj[H.name],H.oldValue)},this.editingObj.onPropertyChanged.add(this.onEditingObjPropertyChanged))}},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isEditingSurveyElement",{get:function(){return!!this.editingObj},enumerable:!1,configurable:!0}),w.prototype.setCalculatedValuesIntoResult=function(g){for(var I=0;I<this.calculatedValues.length;I++){var T=this.calculatedValues[I];T.includeIntoResult&&T.name&&this.getVariable(T.name)!==void 0&&(g[T.name]=this.getVariable(T.name))}},w.prototype.getAllValues=function(){return this.data},w.prototype.getPlainData=function(g){g||(g={includeEmpty:!0,includeQuestionTypes:!1,includeValues:!1});var I=[],T=[];if(this.getAllQuestions().forEach(function(W){var K=W.getPlainData(g);K&&(I.push(K),T.push(W.valueName||W.name))}),g.includeValues)for(var B=this.getValuesKeys(),N=0;N<B.length;N++){var H=B[N];if(T.indexOf(H)==-1){var k=this.getDataValueCore(this.valuesHash,H);k&&I.push({name:H,title:H,value:k,displayValue:k,isNode:!1,getString:function(W){return typeof W=="object"?JSON.stringify(W):W}})}}return I},w.prototype.getFilteredValues=function(){var g={};for(var I in this.variablesHash)g[I]=this.variablesHash[I];this.addCalculatedValuesIntoFilteredValues(g);for(var T=this.getValuesKeys(),B=0;B<T.length;B++){var I=T[B];g[I]=this.getDataValueCore(this.valuesHash,I)}return this.getAllQuestions().forEach(function(N){N.hasFilteredValue&&(g[N.getValueName()]=N.getFilteredValue())}),g},w.prototype.addCalculatedValuesIntoFilteredValues=function(g){for(var I=this.calculatedValues,T=0;T<I.length;T++)g[I[T].name]=I[T].value},w.prototype.getFilteredProperties=function(){return{survey:this}},w.prototype.getValuesKeys=function(){if(!this.editingObj)return Object.keys(this.valuesHash);for(var g=C.Serializer.getPropertiesByObj(this.editingObj),I=[],T=0;T<g.length;T++)I.push(g[T].name);return I},w.prototype.getDataValueCore=function(g,I){return this.editingObj?C.Serializer.getObjPropertyValue(this.editingObj,I):this.getDataFromValueHash(g,I)},w.prototype.setDataValueCore=function(g,I,T){this.editingObj?C.Serializer.setObjPropertyValue(this.editingObj,I,T):this.setDataToValueHash(g,I,T)},w.prototype.deleteDataValueCore=function(g,I){this.editingObj?this.editingObj[I]=null:this.deleteDataFromValueHash(g,I)},w.prototype.getDataFromValueHash=function(g,I){return this.valueHashGetDataCallback?this.valueHashGetDataCallback(g,I):g[I]},w.prototype.setDataToValueHash=function(g,I,T){this.valueHashSetDataCallback?this.valueHashSetDataCallback(g,I,T):g[I]=T},w.prototype.deleteDataFromValueHash=function(g,I){this.valueHashDeleteDataCallback?this.valueHashDeleteDataCallback(g,I):delete g[I]},Object.defineProperty(w.prototype,"comments",{get:function(){for(var g={},I=this.getValuesKeys(),T=0;T<I.length;T++){var B=I[T];B.indexOf(this.commentSuffix)>0&&(g[B]=this.getDataValueCore(this.valuesHash,B))}return g},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"visiblePages",{get:function(){if(this.isDesignMode)return this.pages;for(var g=new Array,I=0;I<this.pages.length;I++)this.isPageInVisibleList(this.pages[I])&&g.push(this.pages[I]);return g},enumerable:!1,configurable:!0}),w.prototype.isPageInVisibleList=function(g){return this.isDesignMode||g.isVisible&&!g.isStartPage},Object.defineProperty(w.prototype,"isEmpty",{get:function(){return this.pages.length==0},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"PageCount",{get:function(){return this.pageCount},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"pageCount",{get:function(){return this.pages.length},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"visiblePageCount",{get:function(){return this.visiblePages.length},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"startedPage",{get:function(){var g=this.firstPageIsStarted&&this.pages.length>1?this.pages[0]:null;return g&&(g.onFirstRendering(),g.setWasShown(!0)),g},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"currentPage",{get:function(){return this.getPropertyValue("currentPage",null)},set:function(g){if(!this.isLoadingFromJson){var I=this.getPageByObject(g);if(!(g&&!I)&&!(!I&&this.isCurrentPageAvailable)){var T=this.visiblePages;if(!(I!=null&&T.indexOf(I)<0)&&I!=this.currentPage){var B=this.currentPage;!this.isShowingPreview&&!this.currentPageChanging(I,B)||(this.setPropertyValue("currentPage",I),I&&(I.onFirstRendering(),I.updateCustomWidgets(),I.setWasShown(!0)),this.locStrsChanged(),this.isShowingPreview||this.currentPageChanged(I,B))}}}},enumerable:!1,configurable:!0}),w.prototype.tryNavigateToPage=function(g){if(this.isDesignMode)return!1;var I=this.visiblePages.indexOf(g);if(I<0||I>=this.visiblePageCount||I===this.currentPageNo)return!1;if(I<this.currentPageNo||this.isValidateOnComplete)return this.currentPageNo=I,!0;for(var T=this.currentPageNo;T<I;T++){var B=this.visiblePages[T];if(!B.validate(!0,!0))return!1;B.passed=!0}return this.currentPage=g,!0},w.prototype.updateCurrentPage=function(){this.isCurrentPageAvailable||(this.currentPage=this.firstVisiblePage)},Object.defineProperty(w.prototype,"isCurrentPageAvailable",{get:function(){var g=this.currentPage;return!!g&&this.isPageInVisibleList(g)&&this.isPageExistsInSurvey(g)},enumerable:!1,configurable:!0}),w.prototype.isPageExistsInSurvey=function(g){return this.pages.indexOf(g)>-1?!0:!!this.onContainsPageCallback&&this.onContainsPageCallback(g)},Object.defineProperty(w.prototype,"activePage",{get:function(){return this.getPropertyValue("activePage")},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isShowStartingPage",{get:function(){return this.state==="starting"},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"matrixDragHandleArea",{get:function(){return this.getPropertyValue("matrixDragHandleArea","entireItem")},set:function(g){this.setPropertyValue("matrixDragHandleArea",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isShowingPage",{get:function(){return this.state=="running"||this.state=="preview"||this.isShowStartingPage},enumerable:!1,configurable:!0}),w.prototype.updateActivePage=function(){var g=this.isShowStartingPage?this.startedPage:this.currentPage;this.setPropertyValue("activePage",g)},w.prototype.onStateAndCurrentPageChanged=function(){this.updateActivePage(),this.updateButtonsVisibility()},w.prototype.getPageByObject=function(g){if(!g)return null;if(g.getType&&g.getType()=="page")return g;if(typeof g=="string"||g instanceof String)return this.getPageByName(String(g));if(!isNaN(g)){var I=Number(g),T=this.visiblePages;return g<0||g>=T.length?null:T[I]}return g},Object.defineProperty(w.prototype,"currentPageNo",{get:function(){return this.visiblePages.indexOf(this.currentPage)},set:function(g){var I=this.visiblePages;g<0||g>=I.length||(this.currentPage=I[g])},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"questionsOrder",{get:function(){return this.getPropertyValue("questionsOrder")},set:function(g){this.setPropertyValue("questionsOrder",g)},enumerable:!1,configurable:!0}),w.prototype.focusFirstQuestion=function(){if(!this.focusingQuestionInfo){var g=this.activePage;g&&(g.scrollToTop(),g.focusFirstQuestion())}},w.prototype.scrollToTopOnPageChange=function(g){g===void 0&&(g=!0);var I=this.activePage;I&&(g&&I.scrollToTop(),this.isCurrentPageRendering&&this.focusFirstQuestionAutomatic&&!this.focusingQuestionInfo&&(I.focusFirstQuestion(),this.isCurrentPageRendering=!1))},Object.defineProperty(w.prototype,"state",{get:function(){return this.getPropertyValue("state","empty")},enumerable:!1,configurable:!0}),w.prototype.updateState=function(){this.setPropertyValue("state",this.calcState())},w.prototype.calcState=function(){return this.isLoading?"loading":this.isCompleted?"completed":this.isCompletedBefore?"completedbefore":!this.isDesignMode&&this.isEditMode&&this.isStartedState&&this.startedPage?"starting":this.isShowingPreview?this.currentPage?"preview":"empty":this.currentPage?"running":"empty"},Object.defineProperty(w.prototype,"isCompleted",{get:function(){return this.getPropertyValue("isCompleted",!1)},set:function(g){this.setPropertyValue("isCompleted",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isShowingPreview",{get:function(){return this.getPropertyValue("isShowingPreview",!1)},set:function(g){this.isShowingPreview!=g&&(this.setPropertyValue("isShowingPreview",g),this.onShowingPreviewChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isStartedState",{get:function(){return this.getPropertyValue("isStartedState",!1)},set:function(g){this.setPropertyValue("isStartedState",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isCompletedBefore",{get:function(){return this.getPropertyValue("isCompletedBefore",!1)},set:function(g){this.setPropertyValue("isCompletedBefore",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isLoading",{get:function(){return this.getPropertyValue("isLoading",!1)},set:function(g){this.setPropertyValue("isLoading",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"completedState",{get:function(){return this.getPropertyValue("completedState","")},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"completedStateText",{get:function(){return this.getPropertyValue("completedStateText","")},enumerable:!1,configurable:!0}),w.prototype.setCompletedState=function(g,I){this.setPropertyValue("completedState",g),I||(g=="saving"&&(I=this.getLocalizationString("savingData")),g=="error"&&(I=this.getLocalizationString("savingDataError")),g=="success"&&(I=this.getLocalizationString("savingDataSuccess"))),this.setPropertyValue("completedStateText",I),this.state==="completed"&&this.showCompletedPage&&this.completedState&&this.notify(this.completedStateText,this.completedState,g==="error")},w.prototype.notify=function(g,I,T){T===void 0&&(T=!1),this.notifier.showActions=T,this.notifier.notify(g,I,T)},w.prototype.clear=function(g,I){g===void 0&&(g=!0),I===void 0&&(I=!0),this.isCompleted=!1,this.isCompletedBefore=!1,this.isLoading=!1,this.completedByTriggers=void 0,g&&this.setDataCore(null,!0),this.timerModel.spent=0;for(var T=0;T<this.pages.length;T++)this.pages[T].timeSpent=0,this.pages[T].setWasShown(!1),this.pages[T].passed=!1;this.onFirstPageIsStartedChanged(),I&&(this.currentPage=this.firstVisiblePage),g&&this.updateValuesWithDefaults()},w.prototype.mergeValues=function(g,I){Object(c.mergeValues)(g,I)},w.prototype.updateValuesWithDefaults=function(){if(!(this.isDesignMode||this.isLoading))for(var g=0;g<this.pages.length;g++)for(var I=this.pages[g].questions,T=0;T<I.length;T++)I[T].updateValueWithDefaults()},w.prototype.updateCustomWidgets=function(g){g&&g.updateCustomWidgets()},w.prototype.currentPageChanging=function(g,I){var T=this.createPageChangeEventOptions(g,I);T.allow=!0,T.allowChanging=!0,this.onCurrentPageChanging.fire(this,T);var B=T.allowChanging&&T.allow;return B&&(this.isCurrentPageRendering=!0),B},w.prototype.currentPageChanged=function(g,I){this.notifyQuestionsOnHidingContent(I);var T=this.createPageChangeEventOptions(g,I);T.isNextPage&&(I.passed=!0),this.onCurrentPageChanged.fire(this,T)},w.prototype.notifyQuestionsOnHidingContent=function(g){g&&g.questions.forEach(function(I){return I.onHidingContent()})},w.prototype.createPageChangeEventOptions=function(g,I){var T=g&&I?g.visibleIndex-I.visibleIndex:0;return{oldCurrentPage:I,newCurrentPage:g,isNextPage:T===1,isPrevPage:T===-1,isGoingForward:T>0,isGoingBackward:T<0,isAfterPreview:this.changeCurrentPageFromPreview===!0}},w.prototype.getProgress=function(){if(this.currentPage==null)return 0;if(this.progressBarType!=="pages"){var g=this.getProgressInfo();return this.progressBarType==="requiredQuestions"?g.requiredQuestionCount>=1?Math.ceil(g.requiredAnsweredQuestionCount*100/g.requiredQuestionCount):100:g.questionCount>=1?Math.ceil(g.answeredQuestionCount*100/g.questionCount):100}var I=this.visiblePages,T=I.indexOf(this.currentPage);return Math.ceil(T*100/I.length)},Object.defineProperty(w.prototype,"progressValue",{get:function(){return this.getPropertyValue("progressValue",0)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isNavigationButtonsShowing",{get:function(){if(this.isDesignMode)return"none";var g=this.currentPage;return g?g.navigationButtonsVisibility==="show"?this.showNavigationButtons==="none"?"bottom":this.showNavigationButtons:g.navigationButtonsVisibility==="hide"?"none":this.showNavigationButtons:"none"},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isNavigationButtonsShowingOnTop",{get:function(){return this.getIsNavigationButtonsShowingOn("top")},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isNavigationButtonsShowingOnBottom",{get:function(){return this.getIsNavigationButtonsShowingOn("bottom")},enumerable:!1,configurable:!0}),w.prototype.getIsNavigationButtonsShowingOn=function(g){var I=this.isNavigationButtonsShowing;return I=="both"||I==g},Object.defineProperty(w.prototype,"isEditMode",{get:function(){return this.mode=="edit"},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isDisplayMode",{get:function(){return this.mode=="display"||this.state=="preview"},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isUpdateValueTextOnTyping",{get:function(){return this.textUpdateMode=="onTyping"},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isDesignMode",{get:function(){return this._isDesignMode},enumerable:!1,configurable:!0}),w.prototype.setDesignMode=function(g){!!this._isDesignMode!=!!g&&(this._isDesignMode=!!g,this.onQuestionsOnPageModeChanged("standard"))},Object.defineProperty(w.prototype,"showInvisibleElements",{get:function(){return this.getPropertyValue("showInvisibleElements",!1)},set:function(g){var I=this.visiblePages;this.setPropertyValue("showInvisibleElements",g),!this.isLoadingFromJson&&(this.runConditions(),this.updateAllElementsVisibility(I))},enumerable:!1,configurable:!0}),w.prototype.updateAllElementsVisibility=function(g){for(var I=0;I<this.pages.length;I++){var T=this.pages[I];T.updateElementVisibility(),g.indexOf(T)>-1!=T.isVisible&&this.onPageVisibleChanged.fire(this,{page:T,visible:T.isVisible})}},Object.defineProperty(w.prototype,"areInvisibleElementsShowing",{get:function(){return this.isDesignMode||this.showInvisibleElements},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"areEmptyElementsHidden",{get:function(){return this.isShowingPreview&&this.showPreviewBeforeComplete=="showAnsweredQuestions"&&this.isAnyQuestionAnswered},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isAnyQuestionAnswered",{get:function(){for(var g=this.getAllQuestions(!0),I=0;I<g.length;I++)if(!g[I].isEmpty())return!0;return!1},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"hasCookie",{get:function(){if(!this.cookieName||typeof document>"u")return!1;var g=document.cookie;return g&&g.indexOf(this.cookieName+"=true")>-1},enumerable:!1,configurable:!0}),w.prototype.setCookie=function(){!this.cookieName||typeof document>"u"||(document.cookie=this.cookieName+"=true; expires=Fri, 31 Dec 9999 0:0:0 GMT")},w.prototype.deleteCookie=function(){this.cookieName&&(document.cookie=this.cookieName+"=;")},Object.defineProperty(w.prototype,"ignoreValidation",{get:function(){return!this.validationEnabled},set:function(g){this.validationEnabled=!g},enumerable:!1,configurable:!0}),w.prototype.nextPage=function(){return this.isLastPage?!1:this.doCurrentPageComplete(!1)},w.prototype.hasErrorsOnNavigate=function(g){var I=this;if(!this.isEditMode||this.ignoreValidation)return!1;var T=g&&this.validationAllowComplete||!g&&this.validationAllowSwitchPages,B=function(N){(!N||T)&&I.doCurrentPageCompleteCore(g)};return this.isValidateOnComplete?this.isLastPage?this.validate(!0,!0,B)!==!0&&!T:!1:this.validateCurrentPage(B)!==!0&&!T},w.prototype.checkForAsyncQuestionValidation=function(g,I){var T=this;this.clearAsyncValidationQuesitons();for(var B=function(){if(g[H].isRunningValidators){var k=g[H];k.onCompletedAsyncValidators=function(W){T.onCompletedAsyncQuestionValidators(k,I,W)},N.asyncValidationQuesitons.push(g[H])}},N=this,H=0;H<g.length;H++)B();return this.asyncValidationQuesitons.length>0},w.prototype.clearAsyncValidationQuesitons=function(){if(this.asyncValidationQuesitons)for(var g=this.asyncValidationQuesitons,I=0;I<g.length;I++)g[I].onCompletedAsyncValidators=null;this.asyncValidationQuesitons=[]},w.prototype.onCompletedAsyncQuestionValidators=function(g,I,T){if(T){if(this.clearAsyncValidationQuesitons(),I(!0),this.focusOnFirstError&&g&&g.page&&g.page===this.currentPage){for(var B=this.currentPage.questions,N=0;N<B.length;N++)if(B[N]!==g&&B[N].errors.length>0)return;g.focus(!0)}return}for(var H=this.asyncValidationQuesitons,k=0;k<H.length;k++)if(H[k].isRunningValidators)return;I(!1)},Object.defineProperty(w.prototype,"isCurrentPageHasErrors",{get:function(){return this.checkIsCurrentPageHasErrors()},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isCurrentPageValid",{get:function(){return!this.checkIsCurrentPageHasErrors()},enumerable:!1,configurable:!0}),w.prototype.hasCurrentPageErrors=function(g){return this.hasPageErrors(void 0,g)},w.prototype.validateCurrentPage=function(g){return this.validatePage(void 0,g)},w.prototype.hasPageErrors=function(g,I){var T=this.validatePage(g,I);return T===void 0?T:!T},w.prototype.validatePage=function(g,I){return g||(g=this.activePage),g?this.checkIsPageHasErrors(g)?!1:I&&this.checkForAsyncQuestionValidation(g.questions,function(T){return I(T)})?void 0:!0:!0},w.prototype.hasErrors=function(g,I,T){g===void 0&&(g=!0),I===void 0&&(I=!1);var B=this.validate(g,I,T);return B===void 0?B:!B},w.prototype.validate=function(g,I,T){g===void 0&&(g=!0),I===void 0&&(I=!1),T&&(g=!0);for(var B=this.visiblePages,N=null,H=!0,k={fireCallback:g,focuseOnFirstError:I,firstErrorQuestion:null,result:!1},W=0;W<B.length;W++)B[W].validate(g,I,k)||(N||(N=B[W]),H=!1);return I&&N&&k.firstErrorQuestion&&k.firstErrorQuestion.focus(!0),!H||!T?H:this.checkForAsyncQuestionValidation(this.getAllQuestions(),function(K){return T(K)})?void 0:!0},w.prototype.ensureUniqueNames=function(g){if(g===void 0&&(g=null),g==null)for(var I=0;I<this.pages.length;I++)this.ensureUniqueName(this.pages[I]);else this.ensureUniqueName(g)},w.prototype.ensureUniqueName=function(g){if(g.isPage&&this.ensureUniquePageName(g),g.isPanel&&this.ensureUniquePanelName(g),g.isPage||g.isPanel)for(var I=g.elements,T=0;T<I.length;T++)this.ensureUniqueNames(I[T]);else this.ensureUniqueQuestionName(g)},w.prototype.ensureUniquePageName=function(g){var I=this;return this.ensureUniqueElementName(g,function(T){return I.getPageByName(T)})},w.prototype.ensureUniquePanelName=function(g){var I=this;return this.ensureUniqueElementName(g,function(T){return I.getPanelByName(T)})},w.prototype.ensureUniqueQuestionName=function(g){var I=this;return this.ensureUniqueElementName(g,function(T){return I.getQuestionByName(T)})},w.prototype.ensureUniqueElementName=function(g,I){var T=I(g.name);if(!(!T||T==g)){for(var B=this.getNewName(g.name);I(B);)var B=this.getNewName(g.name);g.name=B}},w.prototype.getNewName=function(g){for(var I=g.length;I>0&&g[I-1]>="0"&&g[I-1]<="9";)I--;var T=g.substring(0,I),B=0;return I<g.length&&(B=parseInt(g.substring(I))),B++,T+B},w.prototype.checkIsCurrentPageHasErrors=function(g){return g===void 0&&(g=void 0),this.checkIsPageHasErrors(this.activePage,g)},w.prototype.checkIsPageHasErrors=function(g,I){if(I===void 0&&(I=void 0),I===void 0&&(I=this.focusOnFirstError),!g)return!0;var T=!g.validate(!0,I);return this.fireValidatedErrorsOnPage(g),T},w.prototype.fireValidatedErrorsOnPage=function(g){if(!(this.onValidatedErrorsOnCurrentPage.isEmpty||!g)){for(var I=g.questions,T=new Array,B=new Array,N=0;N<I.length;N++){var H=I[N];if(H.errors.length>0){T.push(H);for(var k=0;k<H.errors.length;k++)B.push(H.errors[k])}}this.onValidatedErrorsOnCurrentPage.fire(this,{questions:T,errors:B,page:g})}},w.prototype.prevPage=function(){var g=this;if(this.isFirstPage||this.state==="starting")return!1;this.resetNavigationButton();var I=this.skippedPages.find(function(N){return N.to==g.currentPage});if(I)this.currentPage=I.from,this.skippedPages.splice(this.skippedPages.indexOf(I),1);else{var T=this.visiblePages,B=T.indexOf(this.currentPage);this.currentPage=T[B-1]}return!0},w.prototype.completeLastPage=function(){this.isValidateOnComplete&&this.cancelPreview();var g=this.doCurrentPageComplete(!0);return g&&this.cancelPreview(),g},w.prototype.navigationMouseDown=function(){return this.isNavigationButtonPressed=!0,!0},w.prototype.resetNavigationButton=function(){this.isNavigationButtonPressed=!1},w.prototype.nextPageUIClick=function(){if(!(this.mouseDownPage&&this.mouseDownPage!==this.activePage))return this.mouseDownPage=null,this.nextPage()},w.prototype.nextPageMouseDown=function(){return this.mouseDownPage=this.activePage,this.navigationMouseDown()},w.prototype.showPreview=function(){return this.resetNavigationButton(),!this.isValidateOnComplete&&(this.hasErrorsOnNavigate(!0)||this.doServerValidation(!0,!0))?!1:(this.showPreviewCore(),!0)},w.prototype.showPreviewCore=function(){var g={allowShowPreview:!0,allow:!0};this.onShowingPreview.fire(this,g),this.isShowingPreview=g.allowShowPreview&&g.allow},w.prototype.cancelPreview=function(g){g===void 0&&(g=null),this.isShowingPreview&&(this.gotoPageFromPreview=g,this.isShowingPreview=!1)},w.prototype.cancelPreviewByPage=function(g){this.cancelPreview(g.originalPage)},w.prototype.doCurrentPageComplete=function(g){return this.isValidatingOnServer||(this.resetNavigationButton(),this.hasErrorsOnNavigate(g))?!1:this.doCurrentPageCompleteCore(g)},w.prototype.doCurrentPageCompleteCore=function(g){return this.doServerValidation(g)?!1:g?(this.currentPage.passed=!0,this.doComplete(this.canBeCompletedByTrigger,this.completedTrigger)):(this.doNextPage(),!0)},Object.defineProperty(w.prototype,"isSinglePage",{get:function(){return this.questionsOnPageMode=="singlePage"},set:function(g){this.questionsOnPageMode=g?"singlePage":"standard"},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"questionsOnPageMode",{get:function(){return this.getPropertyValue("questionsOnPageMode")},set:function(g){this.setPropertyValue("questionsOnPageMode",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"firstPageIsStarted",{get:function(){return this.getPropertyValue("firstPageIsStarted")},set:function(g){this.setPropertyValue("firstPageIsStarted",g)},enumerable:!1,configurable:!0}),w.prototype.isPageStarted=function(g){return this.firstPageIsStarted&&this.pages.length>1&&this.pages[0]===g},Object.defineProperty(w.prototype,"showPreviewBeforeComplete",{get:function(){return this.getPropertyValue("showPreviewBeforeComplete")},set:function(g){this.setPropertyValue("showPreviewBeforeComplete",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isShowPreviewBeforeComplete",{get:function(){var g=this.showPreviewBeforeComplete;return g=="showAllQuestions"||g=="showAnsweredQuestions"},enumerable:!1,configurable:!0}),w.prototype.onFirstPageIsStartedChanged=function(){this.isStartedState=this.firstPageIsStarted&&this.pages.length>1,this.pageVisibilityChanged(this.pages[0],!this.isStartedState)},w.prototype.onShowingPreviewChanged=function(){if(!this.isDesignMode)if(this.isShowingPreview?(this.runningPages=this.pages.slice(0,this.pages.length),this.setupPagesForPageModes(!0)):(this.runningPages&&this.restoreOriginalPages(this.runningPages),this.runningPages=void 0),this.runConditions(),this.updateAllElementsVisibility(this.pages),this.updateVisibleIndexes(),this.isShowingPreview)this.currentPageNo=0;else{var g=this.gotoPageFromPreview;this.gotoPageFromPreview=null,P.Helpers.isValueEmpty(g)&&this.visiblePageCount>0&&(g=this.visiblePages[this.visiblePageCount-1]),g&&(this.changeCurrentPageFromPreview=!0,this.currentPage=g,this.changeCurrentPageFromPreview=!1)}},w.prototype.onQuestionsOnPageModeChanged=function(g){this.isShowingPreview||(this.questionsOnPageMode=="standard"||this.isDesignMode?(this.originalPages&&this.restoreOriginalPages(this.originalPages),this.originalPages=void 0):((!g||g=="standard")&&(this.originalPages=this.pages.slice(0,this.pages.length)),this.setupPagesForPageModes(this.isSinglePage)),this.runConditions(),this.updateVisibleIndexes())},w.prototype.restoreOriginalPages=function(g){this.questionHashesClear(),this.pages.splice(0,this.pages.length);for(var I=0;I<g.length;I++){var T=g[I];T.setWasShown(!1),this.pages.push(T)}},w.prototype.getPageStartIndex=function(){return this.firstPageIsStarted&&this.pages.length>0?1:0},w.prototype.setupPagesForPageModes=function(g){this.questionHashesClear(),this.isCreatingPagesForPreview=!0;var I=this.getPageStartIndex();j.prototype.startLoadingFromJson.call(this);var T=this.createPagesForQuestionOnPageMode(g,I),B=this.pages.length-I;this.pages.splice(I,B);for(var N=0;N<T.length;N++)this.pages.push(T[N]);j.prototype.endLoadingFromJson.call(this);for(var N=0;N<T.length;N++)T[N].setSurveyImpl(this,!0);this.doElementsOnLoad(),this.updateCurrentPage(),this.isCreatingPagesForPreview=!1},w.prototype.createPagesForQuestionOnPageMode=function(g,I){return g?[this.createSinglePage(I)]:this.createPagesForEveryQuestion(I)},w.prototype.createSinglePage=function(g){var I=this.createNewPage("all");I.setSurveyImpl(this);for(var T=g;T<this.pages.length;T++){var B=this.pages[T],N=C.Serializer.createClass("panel");N.originalPage=B,I.addPanel(N);var H=new C.JsonObject().toJsonObject(B);new C.JsonObject().toObject(H,N),this.showPageTitles||(N.title="")}return I},w.prototype.createPagesForEveryQuestion=function(g){for(var I=[],T=g;T<this.pages.length;T++){var B=this.pages[T];B.setWasShown(!0);for(var N=0;N<B.elements.length;N++){var H=B.elements[N],k=C.Serializer.createClass(H.getType());if(k){var W=new C.JsonObject;W.lightSerializing=!0;var K=W.toJsonObject(B),z=C.Serializer.createClass(B.getType());z.fromJSON(K),z.name=H.name,z.setSurveyImpl(this),I.push(z);var G=new C.JsonObject().toJsonObject(H);z.addElement(k),new C.JsonObject().toObject(G,k);for(var $=0;$<z.questions.length;$++)this.questionHashesAdded(z.questions[$])}}}return I},Object.defineProperty(w.prototype,"isFirstPage",{get:function(){return this.getPropertyValue("isFirstPage")},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isLastPage",{get:function(){return this.getPropertyValue("isLastPage")},enumerable:!1,configurable:!0}),w.prototype.updateButtonsVisibility=function(){this.updateIsFirstLastPageState(),this.setPropertyValue("isShowPrevButton",this.calcIsShowPrevButton()),this.setPropertyValue("isShowNextButton",this.calcIsShowNextButton()),this.setPropertyValue("isCompleteButtonVisible",this.calcIsCompleteButtonVisible()),this.setPropertyValue("isPreviewButtonVisible",this.calcIsPreviewButtonVisible()),this.setPropertyValue("isCancelPreviewButtonVisible",this.calcIsCancelPreviewButtonVisible())},Object.defineProperty(w.prototype,"isShowPrevButton",{get:function(){return this.getPropertyValue("isShowPrevButton")},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isShowNextButton",{get:function(){return this.getPropertyValue("isShowNextButton")},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isCompleteButtonVisible",{get:function(){return this.getPropertyValue("isCompleteButtonVisible")},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isPreviewButtonVisible",{get:function(){return this.getPropertyValue("isPreviewButtonVisible")},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isCancelPreviewButtonVisible",{get:function(){return this.getPropertyValue("isCancelPreviewButtonVisible")},enumerable:!1,configurable:!0}),w.prototype.updateIsFirstLastPageState=function(){var g=this.currentPage;this.setPropertyValue("isFirstPage",!!g&&g===this.firstVisiblePage),this.setPropertyValue("isLastPage",!!g&&g===this.lastVisiblePage)},w.prototype.calcIsShowPrevButton=function(){if(this.isFirstPage||!this.showPrevButton||this.state!=="running")return!1;var g=this.visiblePages[this.currentPageNo-1];return this.getPageMaxTimeToFinish(g)<=0},w.prototype.calcIsShowNextButton=function(){return this.state==="running"&&!this.isLastPage&&!this.canBeCompletedByTrigger},w.prototype.calcIsCompleteButtonVisible=function(){var g=this.state;return this.isEditMode&&(this.state==="running"&&(this.isLastPage&&!this.isShowPreviewBeforeComplete||this.canBeCompletedByTrigger)||g==="preview")&&this.showCompleteButton},w.prototype.calcIsPreviewButtonVisible=function(){return this.isEditMode&&this.isShowPreviewBeforeComplete&&this.state=="running"&&this.isLastPage},w.prototype.calcIsCancelPreviewButtonVisible=function(){return this.isEditMode&&this.isShowPreviewBeforeComplete&&this.state=="preview"},Object.defineProperty(w.prototype,"firstVisiblePage",{get:function(){for(var g=this.pages,I=0;I<g.length;I++)if(this.isPageInVisibleList(g[I]))return g[I];return null},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"lastVisiblePage",{get:function(){for(var g=this.pages,I=g.length-1;I>=0;I--)if(this.isPageInVisibleList(g[I]))return g[I];return null},enumerable:!1,configurable:!0}),w.prototype.doComplete=function(g,I){if(g===void 0&&(g=!1),!this.isCompleted)return this.checkOnCompletingEvent(g,I)?(this.checkOnPageTriggers(!0),this.stopTimer(),this.notifyQuestionsOnHidingContent(this.currentPage),this.isCompleted=!0,this.clearUnusedValues(),this.saveDataOnComplete(g,I),this.setCookie(),!0):(this.isCompleted=!1,!1)},w.prototype.saveDataOnComplete=function(g,I){var T=this;g===void 0&&(g=!1);var B=this.hasCookie,N=function(G){K=!0,T.setCompletedState("saving",G)},H=function(G){T.setCompletedState("error",G)},k=function(G){T.setCompletedState("success",G),T.navigateTo()},W=function(G){T.setCompletedState("","")},K=!1,z={isCompleteOnTrigger:g,completeTrigger:I,showSaveInProgress:N,showSaveError:H,showSaveSuccess:k,clearSaveMessages:W,showDataSaving:N,showDataSavingError:H,showDataSavingSuccess:k,showDataSavingClear:W};this.onComplete.fire(this,z),!B&&this.surveyPostId&&this.sendResult(),K||this.navigateTo()},w.prototype.checkOnCompletingEvent=function(g,I){var T={allowComplete:!0,allow:!0,isCompleteOnTrigger:g,completeTrigger:I};return this.onCompleting.fire(this,T),T.allowComplete&&T.allow},w.prototype.start=function(){return!this.firstPageIsStarted||(this.isCurrentPageRendering=!0,this.checkIsPageHasErrors(this.startedPage,!0))?!1:(this.isStartedState=!1,this.notifyQuestionsOnHidingContent(this.pages[0]),this.startTimerFromUI(),this.onStarted.fire(this,{}),this.updateVisibleIndexes(),this.currentPage&&this.currentPage.locStrsChanged(),!0)},Object.defineProperty(w.prototype,"isValidatingOnServer",{get:function(){return this.getPropertyValue("isValidatingOnServer",!1)},enumerable:!1,configurable:!0}),w.prototype.setIsValidatingOnServer=function(g){g!=this.isValidatingOnServer&&(this.setPropertyValue("isValidatingOnServer",g),this.onIsValidatingOnServerChanged())},w.prototype.createServerValidationOptions=function(g,I){var T=this,B={data:{},errors:{},survey:this,complete:function(){T.completeServerValidation(B,I)}};if(g&&this.isValidateOnComplete)B.data=this.data;else for(var N=this.activePage.questions,H=0;H<N.length;H++){var k=N[H];if(k.visible){var W=this.getValue(k.getValueName());this.isValueEmpty(W)||(B.data[k.getValueName()]=W)}}return B},w.prototype.onIsValidatingOnServerChanged=function(){},w.prototype.doServerValidation=function(g,I){var T=this;if(I===void 0&&(I=!1),!this.onServerValidateQuestions||this.onServerValidateQuestions.isEmpty||!g&&this.isValidateOnComplete)return!1;this.setIsValidatingOnServer(!0);var B=typeof this.onServerValidateQuestions=="function";return this.serverValidationEventCount=B?1:this.onServerValidateQuestions.length,B?this.onServerValidateQuestions(this,this.createServerValidationOptions(g,I)):this.onServerValidateQuestions.fireByCreatingOptions(this,function(){return T.createServerValidationOptions(g,I)}),!0},w.prototype.completeServerValidation=function(g,I){if(!(this.serverValidationEventCount>1&&(this.serverValidationEventCount--,g&&g.errors&&Object.keys(g.errors).length===0))&&(this.serverValidationEventCount=0,this.setIsValidatingOnServer(!1),!(!g&&!g.survey))){var T=g.survey,B=!1;if(g.errors){var N=this.focusOnFirstError;for(var H in g.errors){var k=T.getQuestionByName(H);k&&k.errors&&(B=!0,k.addError(new p.CustomError(g.errors[H],this)),N&&(N=!1,k.page&&(this.currentPage=k.page),k.focus(!0)))}this.fireValidatedErrorsOnPage(this.currentPage)}B||(I?this.showPreviewCore():T.isLastPage?T.doComplete():T.doNextPage())}},w.prototype.doNextPage=function(){var g=this.currentPage;if(this.checkOnPageTriggers(!1),this.isCompleted)this.doComplete(!0);else if(this.sendResultOnPageNext&&this.sendResult(this.surveyPostId,this.clientId,!0),g===this.currentPage){var I=this.visiblePages,T=I.indexOf(this.currentPage);this.currentPage=I[T+1]}},w.prototype.setCompleted=function(g){this.doComplete(!0,g)},w.prototype.canBeCompleted=function(g,I){var T;if(a.settings.triggers.changeNavigationButtonsOnComplete){var B=this.canBeCompletedByTrigger;this.completedByTriggers||(this.completedByTriggers={}),I?this.completedByTriggers[g.id]={trigger:g,pageId:(T=this.currentPage)===null||T===void 0?void 0:T.id}:delete this.completedByTriggers[g.id],B!==this.canBeCompletedByTrigger&&this.updateButtonsVisibility()}},Object.defineProperty(w.prototype,"canBeCompletedByTrigger",{get:function(){var g;if(!this.completedByTriggers)return!1;var I=Object.keys(this.completedByTriggers);if(I.length===0)return!1;var T=(g=this.currentPage)===null||g===void 0?void 0:g.id;if(!T)return!0;for(var B=0;B<I.length;B++)if(T===this.completedByTriggers[I[B]].pageId)return!0;return!1},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"completedTrigger",{get:function(){if(this.canBeCompletedByTrigger){var g=Object.keys(this.completedByTriggers)[0];return this.completedByTriggers[g].trigger}},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"processedCompletedHtml",{get:function(){var g=this.renderedCompletedHtml;return g?this.processHtml(g,"completed"):""},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"processedCompletedBeforeHtml",{get:function(){return this.locCompletedBeforeHtml.textOrHtml},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"processedLoadingHtml",{get:function(){return this.locLoadingHtml.textOrHtml},enumerable:!1,configurable:!0}),w.prototype.getProgressInfo=function(){var g=this.isDesignMode?this.pages:this.visiblePages;return A.SurveyElement.getProgressInfoByElements(g,!1)},Object.defineProperty(w.prototype,"progressText",{get:function(){var g=this.getPropertyValue("progressText","");return g||(this.updateProgressText(),g=this.getPropertyValue("progressText","")),g},enumerable:!1,configurable:!0}),w.prototype.updateProgressText=function(g){g===void 0&&(g=!1),!this.isCalculatingProgressText&&(g&&this.progressBarType=="pages"&&this.onProgressText.isEmpty||(this.isCalculatingProgressText=!0,this.setPropertyValue("progressText",this.getProgressText()),this.setPropertyValue("progressValue",this.getProgress()),this.isCalculatingProgressText=!1))},w.prototype.getProgressText=function(){if(!this.isDesignMode&&this.currentPage==null)return"";var g={questionCount:0,answeredQuestionCount:0,requiredQuestionCount:0,requiredAnsweredQuestionCount:0,text:""},I=this.progressBarType.toLowerCase();if(I==="questions"||I==="requiredquestions"||I==="correctquestions"||!this.onProgressText.isEmpty){var T=this.getProgressInfo();g.questionCount=T.questionCount,g.answeredQuestionCount=T.answeredQuestionCount,g.requiredQuestionCount=T.requiredQuestionCount,g.requiredAnsweredQuestionCount=T.requiredAnsweredQuestionCount}return g.text=this.getProgressTextCore(g),this.onProgressText.fire(this,g),g.text},w.prototype.getProgressTextCore=function(g){var I=this.progressBarType.toLowerCase();if(I==="questions")return this.getLocalizationFormatString("questionsProgressText",g.answeredQuestionCount,g.questionCount);if(I==="requiredquestions")return this.getLocalizationFormatString("questionsProgressText",g.requiredAnsweredQuestionCount,g.requiredQuestionCount);if(I==="correctquestions"){var T=this.getCorrectedAnswerCount();return this.getLocalizationFormatString("questionsProgressText",T,g.questionCount)}var B=this.isDesignMode?this.pages:this.visiblePages,N=B.indexOf(this.currentPage)+1;return this.getLocalizationFormatString("progressText",N,B.length)},w.prototype.getRootCss=function(){return new n.CssClassBuilder().append(this.css.root).append(this.css.rootMobile,this.isMobile).append(this.css.rootAnimationDisabled,!a.settings.animationEnabled).append(this.css.rootReadOnly,this.mode==="display").append(this.css.rootCompact,this.isCompact).append(this.css.rootFitToContainer,this.fitToContainer).toString()},w.prototype.afterRenderSurvey=function(g){var I=this;this.destroyResizeObserver(),Array.isArray(g)&&(g=A.SurveyElement.GetFirstNonTextElement(g));var T=g,B=this.css.variables;if(B){var N=Number.parseFloat(window.getComputedStyle(T).getPropertyValue(B.mobileWidth));if(N){var H=!1;this.resizeObserver=new ResizeObserver(function(k){window.requestAnimationFrame(function(){H||!Object(c.isContainerVisible)(T)?H=!1:H=I.processResponsiveness(T.offsetWidth,N)})}),this.resizeObserver.observe(T)}}this.onAfterRenderSurvey.fire(this,{survey:this,htmlElement:g}),this.rootElement=g,this.addScrollEventListener()},w.prototype.processResponsiveness=function(g,I){var T=g<I;return this.layoutElements.forEach(function(B){return B.processResponsiveness&&B.processResponsiveness(g)}),this.isMobile===T?!1:(this.setIsMobile(T),!0)},w.prototype.triggerResponsiveness=function(g){this.getAllQuestions().forEach(function(I){I.triggerResponsiveness(g)})},w.prototype.destroyResizeObserver=function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0)},w.prototype.updateQuestionCssClasses=function(g,I){this.onUpdateQuestionCssClasses.fire(this,{question:g,cssClasses:I})},w.prototype.updatePanelCssClasses=function(g,I){this.onUpdatePanelCssClasses.fire(this,{panel:g,cssClasses:I})},w.prototype.updatePageCssClasses=function(g,I){this.onUpdatePageCssClasses.fire(this,{page:g,cssClasses:I})},w.prototype.updateChoiceItemCss=function(g,I){I.question=g,this.onUpdateChoiceItemCss.fire(this,I)},w.prototype.afterRenderPage=function(g){var I=this;if(!this.isDesignMode&&!this.focusingQuestionInfo){var T=!this.isFirstPageRendering;setTimeout(function(){return I.scrollToTopOnPageChange(T)},1)}this.focusQuestionInfo(),this.isFirstPageRendering=!1,!this.onAfterRenderPage.isEmpty&&this.onAfterRenderPage.fire(this,{page:this.activePage,htmlElement:g})},w.prototype.afterRenderHeader=function(g){this.onAfterRenderHeader.isEmpty||this.onAfterRenderHeader.fire(this,{htmlElement:g})},w.prototype.afterRenderQuestion=function(g,I){this.onAfterRenderQuestion.fire(this,{question:g,htmlElement:I})},w.prototype.afterRenderQuestionInput=function(g,I){if(!this.onAfterRenderQuestionInput.isEmpty){var T=g.inputId,B=a.settings.environment.root;if(T&&I.id!==T&&typeof B<"u"){var N=B.getElementById(T);N&&(I=N)}this.onAfterRenderQuestionInput.fire(this,{question:g,htmlElement:I})}},w.prototype.afterRenderPanel=function(g,I){this.onAfterRenderPanel.fire(this,{panel:g,htmlElement:I})},w.prototype.whenQuestionFocusIn=function(g){this.onFocusInQuestion.fire(this,{question:g})},w.prototype.whenPanelFocusIn=function(g){this.onFocusInPanel.fire(this,{panel:g})},w.prototype.rebuildQuestionChoices=function(){this.getAllQuestions().forEach(function(g){return g.surveyChoiceItemVisibilityChange()})},w.prototype.canChangeChoiceItemsVisibility=function(){return!this.onShowingChoiceItem.isEmpty},w.prototype.getChoiceItemVisibility=function(g,I,T){var B={question:g,item:I,visible:T};return this.onShowingChoiceItem.fire(this,B),B.visible},w.prototype.loadQuestionChoices=function(g){this.onChoicesLazyLoad.fire(this,g)},w.prototype.getChoiceDisplayValue=function(g){this.onGetChoiceDisplayValue.isEmpty?g.setItems(null):this.onGetChoiceDisplayValue.fire(this,g)},w.prototype.matrixBeforeRowAdded=function(g){this.onMatrixRowAdding.fire(this,g)},w.prototype.matrixRowAdded=function(g,I){this.onMatrixRowAdded.fire(this,{question:g,row:I})},w.prototype.matrixColumnAdded=function(g,I){this.onMatrixColumnAdded.fire(this,{question:g,column:I})},w.prototype.multipleTextItemAdded=function(g,I){this.onMultipleTextItemAdded.fire(this,{question:g,item:I})},w.prototype.getQuestionByValueNameFromArray=function(g,I,T){var B=this.getQuestionsByValueName(g);if(B){for(var N=0;N<B.length;N++){var H=B[N].getQuestionFromArray(I,T);if(H)return H}return null}},w.prototype.matrixRowRemoved=function(g,I,T){this.onMatrixRowRemoved.fire(this,{question:g,rowIndex:I,row:T})},w.prototype.matrixRowRemoving=function(g,I,T){var B={question:g,rowIndex:I,row:T,allow:!0};return this.onMatrixRowRemoving.fire(this,B),B.allow},w.prototype.matrixAllowRemoveRow=function(g,I,T){var B={question:g,rowIndex:I,row:T,allow:!0};return this.onMatrixRenderRemoveButton.fire(this,B),B.allow},w.prototype.matrixCellCreating=function(g,I){I.question=g,this.onMatrixCellCreating.fire(this,I)},w.prototype.matrixCellCreated=function(g,I){I.question=g,this.onMatrixCellCreated.fire(this,I)},w.prototype.matrixAfterCellRender=function(g,I){I.question=g,this.onAfterRenderMatrixCell.fire(this,I)},w.prototype.matrixCellValueChanged=function(g,I){I.question=g,this.onMatrixCellValueChanged.fire(this,I)},w.prototype.matrixCellValueChanging=function(g,I){I.question=g,this.onMatrixCellValueChanging.fire(this,I)},Object.defineProperty(w.prototype,"isValidateOnValueChanging",{get:function(){return this.checkErrorsMode==="onValueChanging"},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isValidateOnValueChanged",{get:function(){return this.checkErrorsMode==="onValueChanged"},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isValidateOnComplete",{get:function(){return this.checkErrorsMode==="onComplete"||this.validationAllowSwitchPages&&!this.validationAllowComplete},enumerable:!1,configurable:!0}),w.prototype.matrixCellValidate=function(g,I){return I.question=g,this.onMatrixCellValidate.fire(this,I),I.error?new p.CustomError(I.error,this):null},w.prototype.dynamicPanelAdded=function(g,I,T){if(this.isLoadingFromJson||this.updateVisibleIndexes(),!this.onDynamicPanelAdded.isEmpty){var B=g.panels;I===void 0&&(I=B.length-1,T=B[I]),this.onDynamicPanelAdded.fire(this,{question:g,panel:T,panelIndex:I})}},w.prototype.dynamicPanelRemoved=function(g,I,T){for(var B=T?T.questions:[],N=0;N<B.length;N++)B[N].clearOnDeletingContainer();this.updateVisibleIndexes(),this.onDynamicPanelRemoved.fire(this,{question:g,panelIndex:I,panel:T})},w.prototype.dynamicPanelRemoving=function(g,I,T){var B={question:g,panelIndex:I,panel:T,allow:!0};return this.onDynamicPanelRemoving.fire(this,B),B.allow},w.prototype.dynamicPanelItemValueChanged=function(g,I){I.question=g,I.panelIndex=I.itemIndex,I.panelData=I.itemValue,this.onDynamicPanelItemValueChanged.fire(this,I)},w.prototype.dynamicPanelGetTabTitle=function(g,I){I.question=g,this.onGetDynamicPanelTabTitle.fire(this,I)},w.prototype.dynamicPanelCurrentIndexChanged=function(g,I){I.question=g,this.onDynamicPanelCurrentIndexChanged.fire(this,I)},w.prototype.dragAndDropAllow=function(g){return this.onDragDropAllow.fire(this,g),g.allow},w.prototype.elementContentVisibilityChanged=function(g){this.currentPage&&this.currentPage.ensureRowsVisibility(),this.onElementContentVisibilityChanged.fire(this,{element:g})},w.prototype.getUpdatedPanelFooterActions=function(g,I,T){var B={question:T,panel:g,actions:I};return this.onGetPanelFooterActions.fire(this,B),B.actions},w.prototype.getUpdatedElementTitleActions=function(g,I){return g.isPage?this.getUpdatedPageTitleActions(g,I):g.isPanel?this.getUpdatedPanelTitleActions(g,I):this.getUpdatedQuestionTitleActions(g,I)},w.prototype.getUpdatedQuestionTitleActions=function(g,I){var T={question:g,titleActions:I};return this.onGetQuestionTitleActions.fire(this,T),T.titleActions},w.prototype.getUpdatedPanelTitleActions=function(g,I){var T={panel:g,titleActions:I};return this.onGetPanelTitleActions.fire(this,T),T.titleActions},w.prototype.getUpdatedPageTitleActions=function(g,I){var T={page:g,titleActions:I};return this.onGetPageTitleActions.fire(this,T),T.titleActions},w.prototype.getUpdatedMatrixRowActions=function(g,I,T){var B={question:g,actions:T,row:I};return this.onGetMatrixRowActions.fire(this,B),B.actions},w.prototype.scrollElementToTop=function(g,I,T,B,N){var H={element:g,question:I,page:T,elementId:B,cancel:!1};this.onScrollingElementToTop.fire(this,H),H.cancel||A.SurveyElement.ScrollElementToTop(H.elementId,N)},w.prototype.uploadFiles=function(g,I,T,B){var N=this;this.onUploadFiles.isEmpty?B("error",this.getLocString("noUploadFilesHandler")):this.taskManager.runTask("file",function(H){N.onUploadFiles.fire(N,{question:g,name:I,files:T||[],callback:function(k,W){B(k,W),H()}})}),this.surveyPostId&&this.uploadFilesCore(I,T,B)},w.prototype.downloadFile=function(g,I,T,B){this.onDownloadFile.isEmpty&&B&&B("success",T.content||T),this.onDownloadFile.fire(this,{question:g,name:I,content:T.content||T,fileValue:T,callback:B})},w.prototype.clearFiles=function(g,I,T,B,N){this.onClearFiles.isEmpty&&N&&N("success",T),this.onClearFiles.fire(this,{question:g,name:I,value:T,fileName:B,callback:N})},w.prototype.updateChoicesFromServer=function(g,I,T){var B={question:g,choices:I,serverResult:T};return this.onLoadChoicesFromServer.fire(this,B),B.choices},w.prototype.loadedChoicesFromServer=function(g){this.locStrsChanged()},w.prototype.createSurveyService=function(){return new l.dxSurveyService},w.prototype.uploadFilesCore=function(g,I,T){var B=this,N=[];I.forEach(function(H){T&&T("uploading",H),B.createSurveyService().sendFile(B.surveyPostId,H,function(k,W){k?(N.push({content:W,file:H}),N.length===I.length&&T&&T("success",N)):T&&T("error",{response:W,file:H})})})},w.prototype.getPage=function(g){return this.pages[g]},w.prototype.addPage=function(g,I){I===void 0&&(I=-1),g!=null&&(I<0||I>=this.pages.length?this.pages.push(g):this.pages.splice(I,0,g))},w.prototype.addNewPage=function(g,I){g===void 0&&(g=null),I===void 0&&(I=-1);var T=this.createNewPage(g);return this.addPage(T,I),T},w.prototype.removePage=function(g){var I=this.pages.indexOf(g);I<0||(this.pages.splice(I,1),this.currentPage==g&&(this.currentPage=this.pages.length>0?this.pages[0]:null))},w.prototype.getQuestionByName=function(g,I){if(I===void 0&&(I=!1),!g)return null;I&&(g=g.toLowerCase());var T=I?this.questionHashes.namesInsensitive:this.questionHashes.names,B=T[g];return B?B[0]:null},w.prototype.findQuestionByName=function(g){return this.getQuestionByName(g)},w.prototype.getQuestionByValueName=function(g,I){I===void 0&&(I=!1);var T=this.getQuestionsByValueName(g,I);return T?T[0]:null},w.prototype.getQuestionsByValueName=function(g,I){I===void 0&&(I=!1);var T=I?this.questionHashes.valueNamesInsensitive:this.questionHashes.valueNames,B=T[g];return B||null},w.prototype.getCalculatedValueByName=function(g){for(var I=0;I<this.calculatedValues.length;I++)if(g==this.calculatedValues[I].name)return this.calculatedValues[I];return null},w.prototype.getQuestionsByNames=function(g,I){I===void 0&&(I=!1);var T=[];if(!g)return T;for(var B=0;B<g.length;B++)if(g[B]){var N=this.getQuestionByName(g[B],I);N&&T.push(N)}return T},w.prototype.getPageByElement=function(g){for(var I=0;I<this.pages.length;I++){var T=this.pages[I];if(T.containsElement(g))return T}return null},w.prototype.getPageByQuestion=function(g){return this.getPageByElement(g)},w.prototype.getPageByName=function(g){for(var I=0;I<this.pages.length;I++)if(this.pages[I].name==g)return this.pages[I];return null},w.prototype.getPagesByNames=function(g){var I=[];if(!g)return I;for(var T=0;T<g.length;T++)if(g[T]){var B=this.getPageByName(g[T]);B&&I.push(B)}return I},w.prototype.getAllQuestions=function(g,I,T){g===void 0&&(g=!1),I===void 0&&(I=!1),T===void 0&&(T=!1),T&&(I=!1);for(var B=[],N=0;N<this.pages.length;N++)this.pages[N].addQuestionsToList(B,g,I);if(!T)return B;var H=[];return B.forEach(function(k){H.push(k),k.getNestedQuestions(g).forEach(function(W){return H.push(W)})}),H},w.prototype.getQuizQuestions=function(){for(var g=new Array,I=this.getPageStartIndex(),T=I;T<this.pages.length;T++)if(this.pages[T].isVisible)for(var B=this.pages[T].questions,N=0;N<B.length;N++){var H=B[N];H.quizQuestionCount>0&&g.push(H)}return g},w.prototype.getPanelByName=function(g,I){I===void 0&&(I=!1);var T=this.getAllPanels();I&&(g=g.toLowerCase());for(var B=0;B<T.length;B++){var N=T[B].name;if(I&&(N=N.toLowerCase()),N==g)return T[B]}return null},w.prototype.getAllPanels=function(g,I){g===void 0&&(g=!1),I===void 0&&(I=!1);for(var T=new Array,B=0;B<this.pages.length;B++)this.pages[B].addPanelsIntoList(T,g,I);return T},w.prototype.createNewPage=function(g){var I=C.Serializer.createClass("page");return I.name=g,I},w.prototype.questionOnValueChanging=function(g,I){if(this.editingObj){var T=C.Serializer.findProperty(this.editingObj.getType(),g);T&&(I=T.settingValue(this.editingObj,I))}if(this.onValueChanging.isEmpty)return I;var B={name:g,question:this.getQuestionByValueName(g),value:this.getUnbindValue(I),oldValue:this.getValue(g)};return this.onValueChanging.fire(this,B),B.value},w.prototype.updateQuestionValue=function(g,I){if(!this.isLoadingFromJson){var T=this.getQuestionsByValueName(g);if(T)for(var B=0;B<T.length;B++){var N=T[B].value;(N===I&&Array.isArray(N)&&this.editingObj||!this.isTwoValueEquals(N,I))&&T[B].updateValueFromSurvey(I,!1)}}},w.prototype.checkQuestionErrorOnValueChanged=function(g){!this.isNavigationButtonPressed&&(this.isValidateOnValueChanged||g.getAllErrors().length>0)&&this.checkQuestionErrorOnValueChangedCore(g)},w.prototype.checkQuestionErrorOnValueChangedCore=function(g){var I=g.getAllErrors().length,T=!g.validate(!0,{isOnValueChanged:!this.isValidateOnValueChanging}),B=this.checkErrorsMode.indexOf("Value")>-1;return g.page&&B&&(I>0||g.getAllErrors().length>0)&&this.fireValidatedErrorsOnPage(g.page),T},w.prototype.checkErrorsOnValueChanging=function(g,I){if(this.isLoadingFromJson)return!1;var T=this.getQuestionsByValueName(g);if(!T)return!1;for(var B=!1,N=0;N<T.length;N++){var H=T[N];this.isTwoValueEquals(H.valueForSurvey,I)||(H.value=I),this.checkQuestionErrorOnValueChangedCore(H)&&(B=!0),B=B||H.errors.length>0}return B},w.prototype.notifyQuestionOnValueChanged=function(g,I,T){if(!this.isLoadingFromJson){var B=this.getQuestionsByValueName(g);if(B)for(var N=0;N<B.length;N++){var H=B[N];this.checkQuestionErrorOnValueChanged(H),H.onSurveyValueChanged(I),this.onValueChanged.fire(this,{name:g,question:H,value:I})}else this.onValueChanged.fire(this,{name:g,question:null,value:I});this.isDisposed||(this.checkElementsBindings(g,I),this.notifyElementsOnAnyValueOrVariableChanged(g,T))}},w.prototype.checkElementsBindings=function(g,I){this.isRunningElementsBindings=!0;for(var T=0;T<this.pages.length;T++)this.pages[T].checkBindings(g,I);this.isRunningElementsBindings=!1,this.updateVisibleIndexAfterBindings&&(this.updateVisibleIndexes(),this.updateVisibleIndexAfterBindings=!1)},w.prototype.notifyElementsOnAnyValueOrVariableChanged=function(g,I){if(this.isEndLoadingFromJson!=="processing"){if(this.isRunningConditions){this.conditionNotifyElementsOnAnyValueOrVariableChanged=!0;return}for(var T=0;T<this.pages.length;T++)this.pages[T].onAnyValueChanged(g,I);this.isEndLoadingFromJson||this.locStrsChanged()}},w.prototype.updateAllQuestionsValue=function(g){for(var I=this.getAllQuestions(),T=0;T<I.length;T++){var B=I[T],N=B.getValueName();B.updateValueFromSurvey(this.getValue(N),g),B.requireUpdateCommentValue&&B.updateCommentFromSurvey(this.getComment(N))}},w.prototype.notifyAllQuestionsOnValueChanged=function(){for(var g=this.getAllQuestions(),I=0;I<g.length;I++)g[I].onSurveyValueChanged(this.getValue(g[I].getValueName()))},w.prototype.checkOnPageTriggers=function(g){for(var I=this.getCurrentPageQuestions(!0),T={},B=0;B<I.length;B++){var N=I[B],H=N.getValueName();T[H]=this.getValue(H)}this.addCalculatedValuesIntoFilteredValues(T),this.checkTriggers(T,!0,g)},w.prototype.getCurrentPageQuestions=function(g){g===void 0&&(g=!1);var I=[],T=this.currentPage;if(!T)return I;for(var B=0;B<T.questions.length;B++){var N=T.questions[B];!g&&!N.visible||!N.name||I.push(N)}return I},w.prototype.checkTriggers=function(g,I,T,B){if(T===void 0&&(T=!1),!(this.isCompleted||this.triggers.length==0||this.isDisplayMode)){if(this.isTriggerIsRunning){this.triggerValues=this.getFilteredValues();for(var N in g)this.triggerKeys[N]=g[N];return}var H=!1;if(!T&&B&&this.hasRequiredValidQuestionTrigger){var k=this.getQuestionByValueName(B);H=k&&!k.validate(!1)}this.isTriggerIsRunning=!0,this.triggerKeys=g,this.triggerValues=this.getFilteredValues();for(var W=this.getFilteredProperties(),K=this.canBeCompletedByTrigger,z=0;z<this.triggers.length;z++){var G=this.triggers[z];H&&G.requireValidQuestion||G.checkExpression(I,T,this.triggerKeys,this.triggerValues,W)}K!==this.canBeCompletedByTrigger&&this.updateButtonsVisibility(),this.isTriggerIsRunning=!1}},Object.defineProperty(w.prototype,"hasRequiredValidQuestionTrigger",{get:function(){for(var g=0;g<this.triggers.length;g++)if(this.triggers[g].requireValidQuestion)return!0;return!1},enumerable:!1,configurable:!0}),w.prototype.doElementsOnLoad=function(){for(var g=0;g<this.pages.length;g++)this.pages[g].onSurveyLoad()},Object.defineProperty(w.prototype,"isRunningConditions",{get:function(){return!!this.conditionValues},enumerable:!1,configurable:!0}),w.prototype.runExpressions=function(){this.runConditions()},w.prototype.runConditions=function(){if(!(this.isCompleted||this.isEndLoadingFromJson==="processing"||this.isRunningConditions)){this.conditionValues=this.getFilteredValues();var g=this.getFilteredProperties(),I=this.pages.indexOf(this.currentPage);this.runConditionsCore(g),this.checkIfNewPagesBecomeVisible(I),this.conditionValues=null,this.isValueChangedOnRunningCondition&&this.conditionRunnerCounter<a.settings.maxConditionRunCountOnValueChanged?(this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter++,this.runConditions()):(this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter=0,this.conditionUpdateVisibleIndexes&&(this.conditionUpdateVisibleIndexes=!1,this.updateVisibleIndexes()),this.conditionNotifyElementsOnAnyValueOrVariableChanged&&(this.conditionNotifyElementsOnAnyValueOrVariableChanged=!1,this.notifyElementsOnAnyValueOrVariableChanged("")))}},w.prototype.runConditionOnValueChanged=function(g,I){this.isRunningConditions?(this.conditionValues[g]=I,this.isValueChangedOnRunningCondition=!0):(this.runConditions(),this.runQuestionsTriggers(g,I))},w.prototype.runConditionsCore=function(g){for(var I=this.pages,T=0;T<this.calculatedValues.length;T++)this.calculatedValues[T].resetCalculation();for(var T=0;T<this.calculatedValues.length;T++)this.calculatedValues[T].doCalculation(this.calculatedValues,this.conditionValues,g);j.prototype.runConditionCore.call(this,this.conditionValues,g);for(var B=0;B<I.length;B++)I[B].runCondition(this.conditionValues,g)},w.prototype.runQuestionsTriggers=function(g,I){if(!(this.isDisplayMode||this.isDesignMode)){var T=this.getAllQuestions();T.forEach(function(B){return B.runTriggers(g,I)})}},w.prototype.checkIfNewPagesBecomeVisible=function(g){var I=this.pages.indexOf(this.currentPage);if(!(I<=g+1)){for(var T=g+1;T<I;T++)if(this.pages[T].isVisible){this.currentPage=this.pages[T];break}}},w.prototype.sendResult=function(g,I,T){if(g===void 0&&(g=null),I===void 0&&(I=null),T===void 0&&(T=!1),!!this.isEditMode&&(T&&this.onPartialSend&&this.onPartialSend.fire(this,null),!g&&this.surveyPostId&&(g=this.surveyPostId),!!g&&(I&&(this.clientId=I),!(T&&!this.clientId)))){var B=this;this.surveyShowDataSaving&&this.setCompletedState("saving",""),this.createSurveyService().sendResult(g,this.data,function(N,H,k){B.surveyShowDataSaving&&(N?B.setCompletedState("success",""):B.setCompletedState("error",H)),B.onSendResult.fire(B,{success:N,response:H,request:k})},this.clientId,T)}},w.prototype.getResult=function(g,I){var T=this;this.createSurveyService().getResult(g,I,function(B,N,H,k){T.onGetResult.fire(T,{success:B,data:N,dataList:H,response:k})})},w.prototype.loadSurveyFromService=function(g,I){g===void 0&&(g=null),I===void 0&&(I=null),g&&(this.surveyId=g),I&&(this.clientId=I);var T=this;this.isLoading=!0,this.onLoadingSurveyFromService(),I?this.createSurveyService().getSurveyJsonAndIsCompleted(this.surveyId,this.clientId,function(B,N,H,k){T.isLoading=!1,B&&(T.isCompletedBefore=H=="completed",T.loadSurveyFromServiceJson(N))}):this.createSurveyService().loadSurvey(this.surveyId,function(B,N,H){T.isLoading=!1,B&&T.loadSurveyFromServiceJson(N)})},w.prototype.loadSurveyFromServiceJson=function(g){g&&(this.fromJSON(g),this.notifyAllQuestionsOnValueChanged(),this.onLoadSurveyFromService(),this.onLoadedSurveyFromService.fire(this,{}))},w.prototype.onLoadingSurveyFromService=function(){},w.prototype.onLoadSurveyFromService=function(){},w.prototype.resetVisibleIndexes=function(){for(var g=this.getAllQuestions(!0),I=0;I<g.length;I++)g[I].setVisibleIndex(-1);this.updateVisibleIndexes()},w.prototype.updateVisibleIndexes=function(){if(!(this.isLoadingFromJson||this.isEndLoadingFromJson)){if(this.isRunningConditions&&this.onQuestionVisibleChanged.isEmpty&&this.onPageVisibleChanged.isEmpty){this.conditionUpdateVisibleIndexes=!0;return}if(this.isRunningElementsBindings){this.updateVisibleIndexAfterBindings=!0;return}if(this.updatePageVisibleIndexes(this.showPageNumbers),this.showQuestionNumbers=="onPage")for(var g=this.visiblePages,I=0;I<g.length;I++)g[I].setVisibleIndex(0);else for(var T=this.showQuestionNumbers=="on"?0:-1,I=0;I<this.pages.length;I++)T+=this.pages[I].setVisibleIndex(T);this.updateProgressText(!0)}},w.prototype.updatePageVisibleIndexes=function(g){this.updateButtonsVisibility();for(var I=0,T=0;T<this.pages.length;T++){var B=this.pages[T],N=B.isVisible&&(T>0||!B.isStartPage);B.visibleIndex=N?I++:-1,B.num=N?B.visibleIndex+1:-1}},w.prototype.fromJSON=function(g,I){if(g){this.questionHashesClear(),this.jsonErrors=null;var T=new C.JsonObject;T.toObject(g,this,I),T.errors.length>0&&(this.jsonErrors=T.errors),this.onStateAndCurrentPageChanged(),this.updateState()}},w.prototype.startLoadingFromJson=function(g){j.prototype.startLoadingFromJson.call(this,g),g&&g.locale&&(this.locale=g.locale)},w.prototype.setJsonObject=function(g){this.fromJSON(g)},w.prototype.endLoadingFromJson=function(){this.isEndLoadingFromJson="processing",this.onFirstPageIsStartedChanged(),this.onQuestionsOnPageModeChanged("standard"),j.prototype.endLoadingFromJson.call(this),this.hasCookie&&(this.isCompletedBefore=!0),this.doElementsOnLoad(),this.isEndLoadingFromJson="conditions",this.runConditions(),this.notifyElementsOnAnyValueOrVariableChanged(""),this.isEndLoadingFromJson=null,this.updateVisibleIndexes(),this.updateHasLogo(),this.updateRenderBackgroundImage(),this.updateCurrentPage(),this.hasDescription=!!this.description,this.setCalculatedWidthModeUpdater()},w.prototype.updateNavigationCss=function(){this.navigationBar&&(this.updateNavigationBarCss(),this.updateNavigationItemCssCallback&&this.updateNavigationItemCssCallback())},w.prototype.updateNavigationBarCss=function(){var g=this.navigationBar;g.cssClasses=this.css.actionBar,g.containerCss=this.css.footer},w.prototype.createNavigationBar=function(){var g=new t.ActionContainer;return g.setItems(this.createNavigationActions()),g},w.prototype.createNavigationActions=function(){var g=this,I="sv-nav-btn",T=new r.Action({id:"sv-nav-start",visible:new D.ComputedUpdater(function(){return g.isShowStartingPage}),visibleIndex:10,locTitle:this.locStartSurveyText,action:function(){return g.start()},component:I}),B=new r.Action({id:"sv-nav-prev",visible:new D.ComputedUpdater(function(){return g.isShowPrevButton}),visibleIndex:20,data:{mouseDown:function(){return g.navigationMouseDown()}},locTitle:this.locPagePrevText,action:function(){return g.prevPage()},component:I}),N=new r.Action({id:"sv-nav-next",visible:new D.ComputedUpdater(function(){return g.isShowNextButton}),visibleIndex:30,data:{mouseDown:function(){return g.nextPageMouseDown()}},locTitle:this.locPageNextText,action:function(){return g.nextPageUIClick()},component:I}),H=new r.Action({id:"sv-nav-preview",visible:new D.ComputedUpdater(function(){return g.isPreviewButtonVisible}),visibleIndex:40,data:{mouseDown:function(){return g.navigationMouseDown()}},locTitle:this.locPreviewText,action:function(){return g.showPreview()},component:I}),k=new r.Action({id:"sv-nav-complete",visible:new D.ComputedUpdater(function(){return g.isCompleteButtonVisible}),visibleIndex:50,data:{mouseDown:function(){return g.navigationMouseDown()}},locTitle:this.locCompleteText,action:function(){return g.taskManager.waitAndExecute(function(){return g.completeLastPage()})},component:I});return this.updateNavigationItemCssCallback=function(){T.innerCss=g.cssNavigationStart,B.innerCss=g.cssNavigationPrev,N.innerCss=g.cssNavigationNext,H.innerCss=g.cssNavigationPreview,k.innerCss=g.cssNavigationComplete},[T,B,N,H,k]},w.prototype.onBeforeCreating=function(){},w.prototype.onCreating=function(){},w.prototype.getProcessedTextValue=function(g){if(this.getProcessedTextValueCore(g),!this.onProcessTextValue.isEmpty){var I=this.isValueEmpty(g.value);this.onProcessTextValue.fire(this,g),g.isExists=g.isExists||I&&!this.isValueEmpty(g.value)}},w.prototype.getBuiltInVariableValue=function(g){if(g==="pageno"){var I=this.currentPage;return I!=null?this.visiblePages.indexOf(I)+1:0}if(g==="pagecount")return this.visiblePageCount;if(g==="correctedanswers"||g==="correctanswers"||g==="correctedanswercount")return this.getCorrectedAnswerCount();if(g==="incorrectedanswers"||g==="incorrectanswers"||g==="incorrectedanswercount")return this.getInCorrectedAnswerCount();if(g==="questioncount")return this.getQuizQuestionCount()},w.prototype.getProcessedTextValueCore=function(g){var I=g.name.toLocaleLowerCase();if(["no","require","title"].indexOf(I)===-1){var T=this.getBuiltInVariableValue(I);if(T!==void 0){g.isExists=!0,g.value=T;return}if(I==="locale"){g.isExists=!0,g.value=this.locale?this.locale:y.surveyLocalization.defaultLocale;return}var B=this.getVariable(I);if(B!==void 0){g.isExists=!0,g.value=B;return}var N=this.getFirstName(I);if(N){var H=N.useDisplayValuesInDynamicTexts;g.isExists=!0;var k=N.getValueName().toLowerCase();I=k+I.substring(k.length),I=I.toLocaleLowerCase();var W={};W[k]=g.returnDisplayValue&&H?N.getDisplayValue(!1,void 0):N.value,g.value=new O.ProcessValue().getValue(I,W);return}this.getProcessedValuesWithoutQuestion(g)}},w.prototype.getProcessedValuesWithoutQuestion=function(g){var I=this.getValue(g.name);if(I!==void 0){g.isExists=!0,g.value=I;return}var T=new O.ProcessValue,B=T.getFirstName(g.name);if(B!==g.name){var N={},H=this.getValue(B);P.Helpers.isValueEmpty(H)&&(H=this.getVariable(B)),!P.Helpers.isValueEmpty(H)&&(N[B]=H,g.value=T.getValue(g.name,N),g.isExists=T.hasValue(g.name,N))}},w.prototype.getFirstName=function(g){g=g.toLowerCase();var I;do I=this.getQuestionByValueName(g,!0),g=this.reduceFirstName(g);while(!I&&g);return I},w.prototype.reduceFirstName=function(g){var I=g.lastIndexOf("."),T=g.lastIndexOf("[");if(I<0&&T<0)return"";var B=Math.max(I,T);return g.substring(0,B)},w.prototype.clearUnusedValues=function(){this.isClearingUnsedValues=!0;for(var g=this.getAllQuestions(),I=0;I<g.length;I++)g[I].clearUnusedValues();this.clearInvisibleQuestionValues(),this.isClearingUnsedValues=!1},w.prototype.hasVisibleQuestionByValueName=function(g){var I=this.getQuestionsByValueName(g);if(!I)return!1;for(var T=0;T<I.length;T++){var B=I[T];if(B.isVisible&&B.isParentVisible&&!B.parentQuestion)return!0}return!1},w.prototype.questionsByValueName=function(g){var I=this.getQuestionsByValueName(g);return I||[]},w.prototype.clearInvisibleQuestionValues=function(){for(var g=this.clearInvisibleValues==="none"?"none":"onComplete",I=this.getAllQuestions(),T=0;T<I.length;T++)I[T].clearValueIfInvisible(g)},w.prototype.getVariable=function(g){if(!g)return null;g=g.toLowerCase();var I=this.variablesHash[g];return this.isValueEmpty(I)&&(g.indexOf(".")>-1||g.indexOf("[")>-1)&&new O.ProcessValue().hasValue(g,this.variablesHash)?new O.ProcessValue().getValue(g,this.variablesHash):I},w.prototype.setVariable=function(g,I){g&&(this.valuesHash&&delete this.valuesHash[g],g=g.toLowerCase(),this.variablesHash[g]=I,this.notifyElementsOnAnyValueOrVariableChanged(g),this.runConditionOnValueChanged(g,I),this.onVariableChanged.fire(this,{name:g,value:I}))},w.prototype.getVariableNames=function(){var g=[];for(var I in this.variablesHash)g.push(I);return g},w.prototype.getUnbindValue=function(g){return this.editingObj?g:P.Helpers.getUnbindValue(g)},w.prototype.getValue=function(g){if(!g||g.length==0)return null;var I=this.getDataValueCore(this.valuesHash,g);return this.getUnbindValue(I)},w.prototype.setValue=function(g,I,T,B,N){if(T===void 0&&(T=!1),B===void 0&&(B=!0),!this.isCreatingPagesForPreview){var H=I;if(B&&(H=this.questionOnValueChanging(g,I)),!(this.isValidateOnValueChanging&&this.checkErrorsOnValueChanging(g,H))&&!(!this.editingObj&&this.isValueEqual(g,H)&&this.isTwoValueEquals(H,I))){var k=this.getValue(g);this.isValueEmpyOnSetValue(g,H)?this.deleteDataValueCore(this.valuesHash,g):(H=this.getUnbindValue(H),this.setDataValueCore(this.valuesHash,g,H)),this.updateOnSetValue(g,H,k,T,B,N)}}},w.prototype.isValueEmpyOnSetValue=function(g,I){return this.isValueEmpty(I,!1)?!this.editingObj||I===null||I===void 0?!0:this.editingObj.getDefaultPropertyValue(g)===I:!1},w.prototype.updateOnSetValue=function(g,I,T,B,N,H){if(B===void 0&&(B=!1),N===void 0&&(N=!0),this.updateQuestionValue(g,I),!(B===!0||this.isDisposed||this.isRunningElementsBindings)){H=H||g;var k={};k[g]={newValue:I,oldValue:T},this.runConditionOnValueChanged(g,I),this.checkTriggers(k,!1,!1,g),N&&this.notifyQuestionOnValueChanged(g,I,H),B!=="text"&&this.tryGoNextPageAutomatic(g)}},w.prototype.isValueEqual=function(g,I){(I===""||I===void 0)&&(I=null);var T=this.getValue(g);return(T===""||T===void 0)&&(T=null),I===null||T===null?I===T:this.isTwoValueEquals(I,T)},w.prototype.doOnPageAdded=function(g){if(g.setSurveyImpl(this),g.name||(g.name=this.generateNewName(this.pages,"page")),this.questionHashesPanelAdded(g),this.updateVisibleIndexes(),!this.runningPages){this.isLoadingFromJson||(this.updateProgressText(),this.updateCurrentPage());var I={page:g};this.onPageAdded.fire(this,I)}},w.prototype.doOnPageRemoved=function(g){g.setSurveyImpl(null),!this.runningPages&&(g===this.currentPage&&this.updateCurrentPage(),this.updateVisibleIndexes(),this.updateProgressText(),this.updateLazyRenderingRowsOnRemovingElements())},w.prototype.generateNewName=function(g,I){for(var T={},B=0;B<g.length;B++)T[g[B].name]=!0;for(var N=1;T[I+N];)N++;return I+N},w.prototype.tryGoNextPageAutomatic=function(g){var I=this;if(!(this.isEndLoadingFromJson||!this.goNextPageAutomatic||!this.currentPage)){var T=this.getQuestionByValueName(g);if(!(!T||T&&(!T.visible||!T.supportGoNextPageAutomatic()))&&!(!T.validate(!1)&&!T.supportGoNextPageError())){var B=this.getCurrentPageQuestions();if(!(B.indexOf(T)<0)){for(var N=0;N<B.length;N++)if(B[N].hasInput&&B[N].isEmpty())return;if(!(this.isLastPage&&(this.goNextPageAutomatic!==!0||!this.allowCompleteSurveyAutomatic))&&!this.checkIsCurrentPageHasErrors(!1)){var H=function(){I.isLastPage?I.isShowPreviewBeforeComplete?I.showPreview():I.completeLastPage():I.nextPage()};v.surveyTimerFunctions.safeTimeOut(H,a.settings.autoAdvanceDelay)}}}}},w.prototype.getComment=function(g){var I=this.getValue(g+this.commentSuffix);return I||""},w.prototype.setComment=function(g,I,T){if(T===void 0&&(T=!1),I||(I=""),!this.isTwoValueEquals(I,this.getComment(g))){var B=g+this.commentSuffix;this.isValueEmpty(I)?this.deleteDataValueCore(this.valuesHash,B):this.setDataValueCore(this.valuesHash,B,I);var N=this.getQuestionsByValueName(g);if(N)for(var H=0;H<N.length;H++)N[H].updateCommentFromSurvey(I),this.checkQuestionErrorOnValueChanged(N[H]);T||this.runConditionOnValueChanged(g,this.getValue(g)),T!=="text"&&this.tryGoNextPageAutomatic(g);var k=this.getQuestionByName(g);k&&this.onValueChanged.fire(this,{name:B,question:k,value:I})}},w.prototype.clearValue=function(g){this.setValue(g,null),this.setComment(g,null)},Object.defineProperty(w.prototype,"clearValueOnDisableItems",{get:function(){return this.getPropertyValue("clearValueOnDisableItems",!1)},set:function(g){this.setPropertyValue("clearValueOnDisableItems",g)},enumerable:!1,configurable:!0}),w.prototype.getQuestionClearIfInvisible=function(g){return this.isShowingPreview||this.runningPages?"none":g!=="default"?g:this.clearInvisibleValues},w.prototype.questionVisibilityChanged=function(g,I){this.updateVisibleIndexes(),this.onQuestionVisibleChanged.fire(this,{question:g,name:g.name,visible:I})},w.prototype.pageVisibilityChanged=function(g,I){this.isLoadingFromJson||((I&&!this.currentPage||g===this.currentPage)&&this.updateCurrentPage(),this.updateVisibleIndexes(),this.onPageVisibleChanged.fire(this,{page:g,visible:I}))},w.prototype.panelVisibilityChanged=function(g,I){this.updateVisibleIndexes(),this.onPanelVisibleChanged.fire(this,{panel:g,visible:I})},w.prototype.questionCreated=function(g){this.onQuestionCreated.fire(this,{question:g})},w.prototype.questionAdded=function(g,I,T,B){g.name||(g.name=this.generateNewName(this.getAllQuestions(!1,!0),"question")),g.page&&this.questionHashesAdded(g),this.currentPage||this.updateCurrentPage(),this.updateVisibleIndexes(),this.setCalculatedWidthModeUpdater(),this.canFireAddElement()&&this.onQuestionAdded.fire(this,{question:g,name:g.name,index:I,parent:T,page:B,parentPanel:T,rootPanel:B})},w.prototype.canFireAddElement=function(){return!this.isMovingQuestion||this.isDesignMode&&!a.settings.supportCreatorV2},w.prototype.questionRemoved=function(g){this.questionHashesRemoved(g,g.name,g.getValueName()),this.updateVisibleIndexes(),this.onQuestionRemoved.fire(this,{question:g,name:g.name}),this.updateLazyRenderingRowsOnRemovingElements()},w.prototype.questionRenamed=function(g,I,T){this.questionHashesRemoved(g,I,T),this.questionHashesAdded(g)},w.prototype.questionHashesClear=function(){this.questionHashes.names={},this.questionHashes.namesInsensitive={},this.questionHashes.valueNames={},this.questionHashes.valueNamesInsensitive={}},w.prototype.questionHashesPanelAdded=function(g){if(!this.isLoadingFromJson)for(var I=g.questions,T=0;T<I.length;T++)this.questionHashesAdded(I[T])},w.prototype.questionHashesAdded=function(g){this.questionHashAddedCore(this.questionHashes.names,g,g.name),this.questionHashAddedCore(this.questionHashes.namesInsensitive,g,g.name.toLowerCase()),this.questionHashAddedCore(this.questionHashes.valueNames,g,g.getValueName()),this.questionHashAddedCore(this.questionHashes.valueNamesInsensitive,g,g.getValueName().toLowerCase())},w.prototype.questionHashesRemoved=function(g,I,T){I&&(this.questionHashRemovedCore(this.questionHashes.names,g,I),this.questionHashRemovedCore(this.questionHashes.namesInsensitive,g,I.toLowerCase())),T&&(this.questionHashRemovedCore(this.questionHashes.valueNames,g,T),this.questionHashRemovedCore(this.questionHashes.valueNamesInsensitive,g,T.toLowerCase()))},w.prototype.questionHashAddedCore=function(g,I,T){var B=g[T];if(B){var B=g[T];B.indexOf(I)<0&&B.push(I)}else g[T]=[I]},w.prototype.questionHashRemovedCore=function(g,I,T){var B=g[T];if(B){var N=B.indexOf(I);N>-1&&B.splice(N,1),B.length==0&&delete g[T]}},w.prototype.panelAdded=function(g,I,T,B){g.name||(g.name=this.generateNewName(this.getAllPanels(!1,!0),"panel")),this.questionHashesPanelAdded(g),this.updateVisibleIndexes(),this.canFireAddElement()&&this.onPanelAdded.fire(this,{panel:g,name:g.name,index:I,parent:T,page:B,parentPanel:T,rootPanel:B})},w.prototype.panelRemoved=function(g){this.updateVisibleIndexes(),this.onPanelRemoved.fire(this,{panel:g,name:g.name}),this.updateLazyRenderingRowsOnRemovingElements()},w.prototype.validateQuestion=function(g){if(this.onValidateQuestion.isEmpty)return null;var I={name:g.name,question:g,value:g.value,error:null};return this.onValidateQuestion.fire(this,I),I.error?new p.CustomError(I.error,this):null},w.prototype.validatePanel=function(g){if(this.onValidatePanel.isEmpty)return null;var I={name:g.name,panel:g,error:null};return this.onValidatePanel.fire(this,I),I.error?new p.CustomError(I.error,this):null},w.prototype.processHtml=function(g,I){I||(I="");var T={html:g,reason:I};return this.onProcessHtml.fire(this,T),this.processText(T.html,!0)},w.prototype.processText=function(g,I){return this.processTextEx(g,I,!1).text},w.prototype.processTextEx=function(g,I,T){var B={text:this.processTextCore(g,I,T),hasAllValuesOnLastRun:!0};return B.hasAllValuesOnLastRun=this.textPreProcessor.hasAllValuesOnLastRun,B},Object.defineProperty(w.prototype,"textPreProcessor",{get:function(){var g=this;return this.textPreProcessorValue||(this.textPreProcessorValue=new V.TextPreProcessor,this.textPreProcessorValue.onProcess=function(I){g.getProcessedTextValue(I)}),this.textPreProcessorValue},enumerable:!1,configurable:!0}),w.prototype.processTextCore=function(g,I,T){return T===void 0&&(T=!1),this.isDesignMode?g:this.textPreProcessor.process(g,I,T)},w.prototype.getSurveyMarkdownHtml=function(g,I,T){var B={element:g,text:I,name:T,html:null};return this.onTextMarkdown.fire(this,B),B.html},w.prototype.getCorrectedAnswerCount=function(){return this.getCorrectAnswerCount()},w.prototype.getCorrectAnswerCount=function(){return this.getCorrectedAnswerCountCore(!0)},w.prototype.getQuizQuestionCount=function(){for(var g=this.getQuizQuestions(),I=0,T=0;T<g.length;T++)I+=g[T].quizQuestionCount;return I},w.prototype.getInCorrectedAnswerCount=function(){return this.getInCorrectAnswerCount()},w.prototype.getInCorrectAnswerCount=function(){return this.getCorrectedAnswerCountCore(!1)},w.prototype.onCorrectQuestionAnswer=function(g,I){this.onIsAnswerCorrect.isEmpty||(I.question=g,this.onIsAnswerCorrect.fire(this,I))},w.prototype.getCorrectedAnswerCountCore=function(g){for(var I=this.getQuizQuestions(),T=0,B=0;B<I.length;B++){var N=I[B],H=N.correctAnswerCount;g?T+=H:T+=N.quizQuestionCount-H}return T},w.prototype.getCorrectedAnswers=function(){return this.getCorrectedAnswerCount()},w.prototype.getInCorrectedAnswers=function(){return this.getInCorrectedAnswerCount()},Object.defineProperty(w.prototype,"showTimerPanel",{get:function(){return this.getPropertyValue("showTimerPanel")},set:function(g){this.setPropertyValue("showTimerPanel",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isTimerPanelShowingOnTop",{get:function(){return this.showTimerPanel=="top"},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"isTimerPanelShowingOnBottom",{get:function(){return this.showTimerPanel=="bottom"},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"showTimerPanelMode",{get:function(){return this.getPropertyValue("showTimerPanelMode")},set:function(g){this.setPropertyValue("showTimerPanelMode",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"widthMode",{get:function(){return this.getPropertyValue("widthMode")},set:function(g){this.setPropertyValue("widthMode",g)},enumerable:!1,configurable:!0}),w.prototype.setCalculatedWidthModeUpdater=function(){var g=this;this.calculatedWidthModeUpdater&&this.calculatedWidthModeUpdater.dispose(),this.calculatedWidthModeUpdater=new D.ComputedUpdater(function(){return g.calculateWidthMode()}),this.calculatedWidthMode=this.calculatedWidthModeUpdater},w.prototype.calculateWidthMode=function(){if(this.widthMode=="auto"){var g=!1;return this.pages.forEach(function(I){I.needResponsiveWidth()&&(g=!0)}),g?"responsive":"static"}return this.widthMode},Object.defineProperty(w.prototype,"width",{get:function(){return this.getPropertyValue("width")},set:function(g){this.setPropertyValue("width",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"renderedWidth",{get:function(){var g=this.getPropertyValue("width");return g&&!isNaN(g)&&(g=g+"px"),this.getPropertyValue("calculatedWidthMode")=="static"&&g||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"timerInfo",{get:function(){return this.getTimerInfo()},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"timerClock",{get:function(){var g,I;if(this.currentPage){var T=this.getTimerInfo(),B=T.spent,N=T.limit,H=T.minorSpent,k=T.minorLimit;N>0?g=this.getDisplayClockTime(N-B):g=this.getDisplayClockTime(B),H!==void 0&&(k>0?I=this.getDisplayClockTime(k-H):I=this.getDisplayClockTime(H))}return{majorText:g,minorText:I}},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"timerInfoText",{get:function(){var g={text:this.getTimerInfoText()};this.onTimerPanelInfoText.fire(this,g);var I=new f.LocalizableString(this,!0);return I.text=g.text,I.textOrHtml},enumerable:!1,configurable:!0}),w.prototype.getTimerInfo=function(){var g=this.currentPage;if(!g)return{spent:0,limit:0};var I=g.timeSpent,T=this.timeSpent,B=this.getPageMaxTimeToFinish(g),N=this.maxTimeToFinish;return this.showTimerPanelMode=="page"?{spent:I,limit:B}:this.showTimerPanelMode=="survey"?{spent:T,limit:N}:B>0&&N>0?{spent:I,limit:B,minorSpent:T,minorLimit:N}:B>0?{spent:I,limit:B,minorSpent:T}:N>0?{spent:T,limit:N,minorSpent:I}:{spent:I,minorSpent:T}},w.prototype.getTimerInfoText=function(){var g=this.currentPage;if(!g)return"";var I=this.getDisplayTime(g.timeSpent),T=this.getDisplayTime(this.timeSpent),B=this.getPageMaxTimeToFinish(g),N=this.getDisplayTime(B),H=this.getDisplayTime(this.maxTimeToFinish);if(this.showTimerPanelMode=="page")return this.getTimerInfoPageText(g,I,N);if(this.showTimerPanelMode=="survey")return this.getTimerInfoSurveyText(T,H);if(this.showTimerPanelMode=="all"){if(B<=0&&this.maxTimeToFinish<=0)return this.getLocalizationFormatString("timerSpentAll",I,T);if(B>0&&this.maxTimeToFinish>0)return this.getLocalizationFormatString("timerLimitAll",I,N,T,H);var k=this.getTimerInfoPageText(g,I,N),W=this.getTimerInfoSurveyText(T,H);return k+" "+W}return""},w.prototype.getTimerInfoPageText=function(g,I,T){return this.getPageMaxTimeToFinish(g)>0?this.getLocalizationFormatString("timerLimitPage",I,T):this.getLocalizationFormatString("timerSpentPage",I,T)},w.prototype.getTimerInfoSurveyText=function(g,I){var T=this.maxTimeToFinish>0?"timerLimitSurvey":"timerSpentSurvey";return this.getLocalizationFormatString(T,g,I)},w.prototype.getDisplayClockTime=function(g){g<0&&(g=0);var I=Math.floor(g/60),T=g%60,B=T.toString();return T<10&&(B="0"+B),I+":"+B},w.prototype.getDisplayTime=function(g){var I=Math.floor(g/60),T=g%60,B="";return I>0&&(B+=I+" "+this.getLocalizationString("timerMin")),B&&T==0?B:(B&&(B+=" "),B+T+" "+this.getLocalizationString("timerSec"))},Object.defineProperty(w.prototype,"timerModel",{get:function(){return this.timerModelValue},enumerable:!1,configurable:!0}),w.prototype.startTimer=function(){this.isEditMode&&this.timerModel.start()},w.prototype.startTimerFromUI=function(){this.showTimerPanel!="none"&&this.state==="running"&&this.startTimer()},w.prototype.stopTimer=function(){this.timerModel.stop()},Object.defineProperty(w.prototype,"timeSpent",{get:function(){return this.timerModel.spent},set:function(g){this.timerModel.spent=g},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"maxTimeToFinish",{get:function(){return this.getPropertyValue("maxTimeToFinish",0)},set:function(g){this.setPropertyValue("maxTimeToFinish",g)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"maxTimeToFinishPage",{get:function(){return this.getPropertyValue("maxTimeToFinishPage",0)},set:function(g){this.setPropertyValue("maxTimeToFinishPage",g)},enumerable:!1,configurable:!0}),w.prototype.getPageMaxTimeToFinish=function(g){return!g||g.maxTimeToFinish<0?0:g.maxTimeToFinish>0?g.maxTimeToFinish:this.maxTimeToFinishPage},w.prototype.doTimer=function(g){if(this.onTimer.fire(this,{}),this.maxTimeToFinish>0&&this.maxTimeToFinish==this.timeSpent&&this.completeLastPage(),g){var I=this.getPageMaxTimeToFinish(g);I>0&&I==g.timeSpent&&(this.isLastPage?this.completeLastPage():this.nextPage())}},Object.defineProperty(w.prototype,"inSurvey",{get:function(){return!0},enumerable:!1,configurable:!0}),w.prototype.getSurveyData=function(){return this},w.prototype.getSurvey=function(){return this},w.prototype.getTextProcessor=function(){return this},w.prototype.getObjects=function(g,I){var T=[];return Array.prototype.push.apply(T,this.getPagesByNames(g)),Array.prototype.push.apply(T,this.getQuestionsByNames(I)),T},w.prototype.setTriggerValue=function(g,I,T){if(g)if(T)this.setVariable(g,I);else{var B=this.getQuestionByName(g);if(B)B.value=I;else{var N=new O.ProcessValue,H=N.getFirstName(g);if(H==g)this.setValue(g,I);else{if(!this.getQuestionByName(H))return;var k=this.getUnbindValue(this.getFilteredValues());N.setValue(k,g,I),this.setValue(H,k[H])}}}},w.prototype.copyTriggerValue=function(g,I,T){if(!(!g||!I)){var B;if(T)B=this.processText("{"+I+"}",!0);else{var N=new O.ProcessValue;B=N.getValue(I,this.getFilteredValues())}this.setTriggerValue(g,B,!1)}},w.prototype.triggerExecuted=function(g){this.onTriggerExecuted.fire(this,{trigger:g})},w.prototype.startMovingQuestion=function(){this.isMovingQuestion=!0},w.prototype.stopMovingQuestion=function(){this.isMovingQuestion=!1},Object.defineProperty(w.prototype,"isQuestionDragging",{get:function(){return this.isMovingQuestion},enumerable:!1,configurable:!0}),w.prototype.focusQuestion=function(g){return this.focusQuestionByInstance(this.getQuestionByName(g,!0))},w.prototype.focusQuestionByInstance=function(g,I){var T;if(I===void 0&&(I=!1),!g||!g.isVisible||!g.page)return!1;var B=(T=this.focusingQuestionInfo)===null||T===void 0?void 0:T.question;if(B===g)return!1;this.focusingQuestionInfo={question:g,onError:I},this.skippedPages.push({from:this.currentPage,to:g.page});var N=this.activePage!==g.page&&!g.page.isStartPage;return N&&(this.currentPage=g.page),N||this.focusQuestionInfo(),!0},w.prototype.focusQuestionInfo=function(){var g,I=(g=this.focusingQuestionInfo)===null||g===void 0?void 0:g.question;I&&!I.isDisposed&&I.focus(this.focusingQuestionInfo.onError),this.focusingQuestionInfo=void 0},w.prototype.questionEditFinishCallback=function(g,I){var T=this.enterKeyAction||a.settings.enterKeyAction;if(T=="loseFocus"&&I.target.blur(),T=="moveToNextEditor"){var B=this.currentPage.questions,N=B.indexOf(g);N>-1&&N<B.length-1?B[N+1].focus():I.target.blur()}},w.prototype.getElementWrapperComponentName=function(g,I){return I==="logo-image"?"sv-logo-image":w.TemplateRendererComponentName},w.prototype.getQuestionContentWrapperComponentName=function(g){return w.TemplateRendererComponentName},w.prototype.getRowWrapperComponentName=function(g){return w.TemplateRendererComponentName},w.prototype.getElementWrapperComponentData=function(g,I){return g},w.prototype.getRowWrapperComponentData=function(g){return g},w.prototype.getItemValueWrapperComponentName=function(g,I){return w.TemplateRendererComponentName},w.prototype.getItemValueWrapperComponentData=function(g,I){return g},w.prototype.getMatrixCellTemplateData=function(g){return g.question},w.prototype.searchText=function(g){g&&(g=g.toLowerCase());for(var I=[],T=0;T<this.pages.length;T++)this.pages[T].searchText(g,I);return I},w.prototype.getSkeletonComponentName=function(g){return this.skeletonComponentName},w.prototype.addLayoutElement=function(g){var I=this.removeLayoutElement(g.id);return this.layoutElements.push(g),I},w.prototype.findLayoutElement=function(g){var I=this.layoutElements.filter(function(T){return T.id===g})[0];return I},w.prototype.removeLayoutElement=function(g){var I=this.findLayoutElement(g);if(I){var T=this.layoutElements.indexOf(I);this.layoutElements.splice(T,1)}return I},w.prototype.getContainerContent=function(g){for(var I=[],T=0,B=this.layoutElements;T<B.length;T++){var N=B[T];if(this.mode!=="display"&&L(N.id,"timerpanel"))g==="header"&&this.isTimerPanelShowingOnTop&&!this.isShowStartingPage&&I.push(N),g==="footer"&&this.isTimerPanelShowingOnBottom&&!this.isShowStartingPage&&I.push(N);else if(this.state==="running"&&L(N.id,this.progressBarComponentName)){var H=this.findLayoutElement("advanced-header"),k=H&&H.data,W=!k||k.hasBackground;L(this.showProgressBar,"aboveHeader")&&(W=!1),g==="header"&&!W&&(N.index=-150,this.isShowProgressBarOnTop&&!this.isShowStartingPage&&I.push(N)),g==="center"&&W&&(N.index&&delete N.index,this.isShowProgressBarOnTop&&!this.isShowStartingPage&&I.push(N)),g==="footer"&&this.isShowProgressBarOnBottom&&!this.isShowStartingPage&&I.push(N)}else L(N.id,"buttons-navigation")?(g==="contentTop"&&["top","both"].indexOf(this.isNavigationButtonsShowing)!==-1&&I.push(N),g==="contentBottom"&&["bottom","both"].indexOf(this.isNavigationButtonsShowing)!==-1&&I.push(N)):this.state==="running"&&L(N.id,"toc-navigation")&&this.showTOC?(g==="left"&&["left","both"].indexOf(this.tocLocation)!==-1&&I.push(N),g==="right"&&["right","both"].indexOf(this.tocLocation)!==-1&&I.push(N)):L(N.id,"advanced-header")?this.state==="running"&&N.container===g&&I.push(N):(Array.isArray(N.container)&&N.container.indexOf(g)!==-1||N.container===g)&&I.push(N)}return I.sort(function(K,z){return(K.index||0)-(z.index||0)}),I},w.prototype.processPopupVisiblityChanged=function(g,I,T){this.onPopupVisibleChanged.fire(this,{question:g,popup:I,visible:T})},w.prototype.applyTheme=function(g){var I=this;g&&(Object.keys(g).forEach(function(T){if(T==="header"){I.removeLayoutElement("advanced-header");var B=new u.Cover;B.fromTheme(g),I.insertAdvancedHeader(B)}T==="isPanelless"?I.isCompact=g[T]:I[T]=g[T]}),this.themeChanged(g))},w.prototype.themeChanged=function(g){this.getAllQuestions().forEach(function(I){return I.themeChanged(g)})},w.prototype.dispose=function(){if(this.removeScrollEventListener(),this.destroyResizeObserver(),this.rootElement=void 0,this.layoutElements){for(var g=0;g<this.layoutElements.length;g++)this.layoutElements[g].data&&this.layoutElements[g].data!==this&&this.layoutElements[g].data.dispose&&this.layoutElements[g].data.dispose();this.layoutElements.splice(0,this.layoutElements.length)}if(j.prototype.dispose.call(this),this.editingObj=null,!!this.pages){this.currentPage=null;for(var g=0;g<this.pages.length;g++)this.pages[g].setSurveyImpl(void 0),this.pages[g].dispose();this.pages.splice(0,this.pages.length),this.disposeCallback&&this.disposeCallback()}},w.prototype.onScroll=function(){this.onScrollCallback&&this.onScrollCallback()},w.prototype.addScrollEventListener=function(){var g=this,I;this.scrollHandler=function(){g.onScroll()},this.rootElement.addEventListener("scroll",this.scrollHandler),this.rootElement.getElementsByTagName("form")[0]&&this.rootElement.getElementsByTagName("form")[0].addEventListener("scroll",this.scrollHandler),this.css.rootWrapper&&((I=this.rootElement.getElementsByClassName(this.css.rootWrapper)[0])===null||I===void 0||I.addEventListener("scroll",this.scrollHandler))},w.prototype.removeScrollEventListener=function(){var g;this.rootElement&&this.scrollHandler&&(this.rootElement.removeEventListener("scroll",this.scrollHandler),this.rootElement.getElementsByTagName("form")[0]&&this.rootElement.getElementsByTagName("form")[0].removeEventListener("scroll",this.scrollHandler),this.css.rootWrapper&&((g=this.rootElement.getElementsByClassName(this.css.rootWrapper)[0])===null||g===void 0||g.removeEventListener("scroll",this.scrollHandler)))},w.TemplateRendererComponentName="sv-template-renderer",w.stylesManager=null,w.platform="unknown",E([Object(C.property)()],w.prototype,"completedCss",void 0),E([Object(C.property)()],w.prototype,"completedBeforeCss",void 0),E([Object(C.property)()],w.prototype,"loadingBodyCss",void 0),E([Object(C.property)()],w.prototype,"containerCss",void 0),E([Object(C.property)({onSet:function(g,I){I.updateCss()}})],w.prototype,"fitToContainer",void 0),E([Object(C.property)({onSet:function(g,I){if(g==="advanced"){var T=I.findLayoutElement("advanced-header");if(!T){var B=new u.Cover;B.logoPositionX=I.logoPosition==="right"?"right":"left",B.logoPositionY="middle",B.titlePositionX=I.logoPosition==="right"?"left":"right",B.titlePositionY="middle",B.descriptionPositionX=I.logoPosition==="right"?"left":"right",B.descriptionPositionY="middle",I.insertAdvancedHeader(B)}}else I.removeLayoutElement("advanced-header")}})],w.prototype,"headerView",void 0),E([Object(C.property)()],w.prototype,"showBrandInfo",void 0),E([Object(C.property)()],w.prototype,"enterKeyAction",void 0),E([Object(C.property)()],w.prototype,"lazyRenderingFirstBatchSizeValue",void 0),E([Object(C.property)({defaultValue:{}})],w.prototype,"cssVariables",void 0),E([Object(C.property)()],w.prototype,"_isMobile",void 0),E([Object(C.property)()],w.prototype,"_isCompact",void 0),E([Object(C.property)()],w.prototype,"backgroundImage",void 0),E([Object(C.property)()],w.prototype,"renderBackgroundImage",void 0),E([Object(C.property)()],w.prototype,"backgroundImageFit",void 0),E([Object(C.property)({onSet:function(g,I){I.updateCss()}})],w.prototype,"backgroundImageAttachment",void 0),E([Object(C.property)()],w.prototype,"backgroundImageStyle",void 0),E([Object(C.property)()],w.prototype,"wrapperFormCss",void 0),E([Object(C.property)({getDefaultValue:function(g){return g.progressBarType==="buttons"}})],w.prototype,"progressBarShowPageTitles",void 0),E([Object(C.property)()],w.prototype,"progressBarShowPageNumbers",void 0),E([Object(C.property)()],w.prototype,"rootCss",void 0),E([Object(C.property)()],w.prototype,"calculatedWidthMode",void 0),E([Object(C.propertyArray)()],w.prototype,"layoutElements",void 0),w}(A.SurveyElementCore);function L(j,w){return!j||!w?!1:j.toUpperCase()===w.toUpperCase()}C.Serializer.addClass("survey",[{name:"locale",choices:function(){return y.surveyLocalization.getLocales(!0)},onGetValue:function(j){return j.locale==y.surveyLocalization.defaultLocale?null:j.locale}},{name:"title",serializationProperty:"locTitle",dependsOn:"locale"},{name:"description:text",serializationProperty:"locDescription",dependsOn:"locale"},{name:"logo:file",serializationProperty:"locLogo"},{name:"logoWidth",default:"300px",minValue:0},{name:"logoHeight",default:"200px",minValue:0},{name:"logoFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"logoPosition",default:"left",choices:["none","left","right","top","bottom"]},{name:"focusFirstQuestionAutomatic:boolean"},{name:"focusOnFirstError:boolean",default:!0},{name:"completedHtml:html",serializationProperty:"locCompletedHtml"},{name:"completedBeforeHtml:html",serializationProperty:"locCompletedBeforeHtml"},{name:"completedHtmlOnCondition:htmlconditions",className:"htmlconditionitem",isArray:!0},{name:"loadingHtml:html",serializationProperty:"locLoadingHtml"},{name:"pages:surveypages",className:"page",isArray:!0,onSerializeValue:function(j){return j.originalPages||j.pages}},{name:"elements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1,onGetValue:function(j){return null},onSetValue:function(j,w,g){j.pages.splice(0,j.pages.length);var I=j.addNewPage("");g.toObject({questions:w},I,g?.options)}},{name:"triggers:triggers",baseClassName:"surveytrigger",classNamePart:"trigger"},{name:"calculatedValues:calculatedvalues",className:"calculatedvalue",isArray:!0},{name:"surveyId",visible:!1},{name:"surveyPostId",visible:!1},{name:"surveyShowDataSaving:boolean",visible:!1},"cookieName","sendResultOnPageNext:boolean",{name:"showNavigationButtons",default:"bottom",choices:["none","top","bottom","both"]},{name:"showPrevButton:boolean",default:!0},{name:"showTitle:boolean",default:!0},{name:"showPageTitles:boolean",default:!0},{name:"showCompletedPage:boolean",default:!0},"navigateToUrl",{name:"navigateToUrlOnCondition:urlconditions",className:"urlconditionitem",isArray:!0},{name:"questionsOrder",default:"initial",choices:["initial","random"]},{name:"matrixDragHandleArea",visible:!1,default:"entireItem",choices:["entireItem","icon"]},"showPageNumbers:boolean",{name:"showQuestionNumbers",default:"on",choices:["on","onPage","off"]},{name:"questionTitleLocation",default:"top",choices:["top","bottom","left"]},{name:"questionDescriptionLocation",default:"underTitle",choices:["underInput","underTitle"]},{name:"questionErrorLocation",default:"top",choices:["top","bottom"]},{name:"showProgressBar",default:"off",choices:["off","auto","aboveHeader","belowHeader","bottom","topBottom"]},{name:"progressBarType",default:"pages",choices:["pages","questions","requiredQuestions","correctQuestions"]},{name:"progressBarShowPageTitles:switch",category:"navigation"},{name:"progressBarShowPageNumbers:switch",default:!1,category:"navigation"},{name:"showTOC:switch",default:!1},{name:"tocLocation",default:"left",choices:["left","right"],dependsOn:["showTOC"],visibleIf:function(j){return!!j&&j.showTOC}},{name:"mode",default:"edit",choices:["edit","display"]},{name:"storeOthersAsComment:boolean",default:!0},{name:"maxTextLength:number",default:0,minValue:0},{name:"maxOthersLength:number",default:0,minValue:0},{name:"goNextPageAutomatic:boolean",onSetValue:function(j,w){w!=="autogonext"&&(w=P.Helpers.isTwoValueEquals(w,!0)),j.setPropertyValue("goNextPageAutomatic",w)}},{name:"clearInvisibleValues",default:"onComplete",choices:["none","onComplete","onHidden","onHiddenContainer"]},{name:"checkErrorsMode",default:"onNextPage",choices:["onNextPage","onValueChanged","onComplete"]},{name:"textUpdateMode",default:"onBlur",choices:["onBlur","onTyping"]},{name:"autoGrowComment:boolean",default:!1},{name:"allowResizeComment:boolean",default:!0},{name:"startSurveyText",serializationProperty:"locStartSurveyText"},{name:"pagePrevText",serializationProperty:"locPagePrevText"},{name:"pageNextText",serializationProperty:"locPageNextText"},{name:"completeText",serializationProperty:"locCompleteText"},{name:"previewText",serializationProperty:"locPreviewText"},{name:"editText",serializationProperty:"locEditText"},{name:"requiredText",default:"*"},{name:"questionStartIndex",dependsOn:["showQuestionNumbers"],visibleIf:function(j){return!j||j.showQuestionNumbers!=="off"}},{name:"questionTitlePattern",default:"numTitleRequire",dependsOn:["questionStartIndex","requiredText"],choices:function(j){return j?j.getQuestionTitlePatternOptions():[]}},{name:"questionTitleTemplate",visible:!1,isSerializable:!1,serializationProperty:"locQuestionTitleTemplate"},{name:"firstPageIsStarted:boolean",default:!1},{name:"isSinglePage:boolean",default:!1,visible:!1,isSerializable:!1},{name:"questionsOnPageMode",default:"standard",choices:["singlePage","standard","questionPerPage"]},{name:"showPreviewBeforeComplete",default:"noPreview",choices:["noPreview","showAllQuestions","showAnsweredQuestions"]},{name:"maxTimeToFinish:number",default:0,minValue:0},{name:"maxTimeToFinishPage:number",default:0,minValue:0},{name:"showTimerPanel",default:"none",choices:["none","top","bottom"]},{name:"showTimerPanelMode",default:"all",choices:["all","page","survey"]},{name:"widthMode",default:"auto",choices:["auto","static","responsive"]},{name:"width",visibleIf:function(j){return j.widthMode==="static"}},{name:"fitToContainer:boolean",default:!1},{name:"headerView",default:"basic",choices:["basic","advanced"],visible:!1},{name:"backgroundImage:file",visible:!1},{name:"backgroundImageFit",default:"cover",choices:["auto","contain","cover"],visible:!1},{name:"backgroundImageAttachment",default:"scroll",choices:["scroll","fixed"],visible:!1},{name:"backgroundOpacity:number",minValue:0,maxValue:1,default:1,visible:!1},{name:"showBrandInfo:boolean",default:!1,visible:!1}])},"./src/surveyProgress.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"SurveyProgressModel",function(){return C});var P=d("./src/utils/cssClassBuilder.ts"),C=function(){function D(){}return D.getProgressTextInBarCss=function(A){return new P.CssClassBuilder().append(A.progressText).append(A.progressTextInBar).toString()},D.getProgressTextUnderBarCss=function(A){return new P.CssClassBuilder().append(A.progressText).append(A.progressTextUnderBar).toString()},D}()},"./src/surveyStrings.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"surveyLocalization",function(){return C}),d.d(M,"surveyStrings",function(){return D});var P=d("./src/localization/english.ts"),C={currentLocaleValue:"",defaultLocaleValue:"en",locales:{},localeNames:{},supportedLocales:[],get currentLocale(){return this.currentLocaleValue===this.defaultLocaleValue?"":this.currentLocaleValue},set currentLocale(A){A==="cz"&&(A="cs"),this.currentLocaleValue=A},get defaultLocale(){return this.defaultLocaleValue},set defaultLocale(A){A==="cz"&&(A="cs"),this.defaultLocaleValue=A},getLocaleStrings:function(A){return this.locales[A]},getString:function(A,R){var V=this;R===void 0&&(R=null);var O=new Array,l=function(e){var m=V.locales[e];m&&O.push(m)},y=function(e){if(e){l(e);var m=e.indexOf("-");m<1||(e=e.substring(0,m),l(e))}};y(R),y(this.currentLocale),y(this.defaultLocale),this.defaultLocale!=="en"&&l("en");for(var p=0;p<O.length;p++){var f=O[p][A];if(f!==void 0)return f}return this.onGetExternalString(A,R)},getLocales:function(A){A===void 0&&(A=!1);var R=[];R.push("");var V=this.locales;if(this.supportedLocales&&this.supportedLocales.length>0){V={};for(var O=0;O<this.supportedLocales.length;O++)V[this.supportedLocales[O]]=!0}for(var l in V)A&&l==this.defaultLocale||R.push(l);var y=function(p){if(!p)return"";var f=C.localeNames[p];return f||(f=p),f.toLowerCase()};return R.sort(function(p,f){var e=y(p),m=y(f);return e===m?0:e<m?-1:1}),R},onGetExternalString:function(A,R){}},D=P.englishStrings;C.locales.en=P.englishStrings,C.localeNames.en="english"},"./src/surveyTaskManager.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"SurveyTaskManagerModel",function(){return V});var P=d("./src/base.ts"),C=d("./src/jsonobject.ts"),D=function(){var O=function(l,y){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var e in f)Object.prototype.hasOwnProperty.call(f,e)&&(p[e]=f[e])},O(l,y)};return function(l,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");O(l,y);function p(){this.constructor=l}l.prototype=y===null?Object.create(y):(p.prototype=y.prototype,new p)}}(),A=function(O,l,y,p){var f=arguments.length,e=f<3?l:p===null?p=Object.getOwnPropertyDescriptor(l,y):p,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")e=Reflect.decorate(O,l,y,p);else for(var s=O.length-1;s>=0;s--)(m=O[s])&&(e=(f<3?m(e):f>3?m(l,y,e):m(l,y))||e);return f>3&&e&&Object.defineProperty(l,y,e),e},R=function(){function O(l){this.type=l,this.timestamp=new Date}return O}(),V=function(O){D(l,O);function l(){var y=O.call(this)||this;return y.taskList=[],y.onAllTasksCompleted=y.addEvent(),y}return l.prototype.runTask=function(y,p){var f=this,e=new R(y);return this.taskList.push(e),this.hasActiveTasks=!0,p(function(){return f.taskFinished(e)}),e},l.prototype.waitAndExecute=function(y){if(!this.hasActiveTasks){y();return}this.onAllTasksCompleted.add(function(){y()})},l.prototype.taskFinished=function(y){var p=this.taskList.indexOf(y);p>-1&&this.taskList.splice(p,1),this.hasActiveTasks&&this.taskList.length==0&&(this.hasActiveTasks=!1,this.onAllTasksCompleted.fire(this,{}))},A([Object(C.property)({defaultValue:!1})],l.prototype,"hasActiveTasks",void 0),l}(P.Base)},"./src/surveyTimerModel.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"SurveyTimerModel",function(){return O});var P=d("./src/base.ts"),C=d("./src/surveytimer.ts"),D=d("./src/jsonobject.ts"),A=d("./src/utils/cssClassBuilder.ts"),R=function(){var l=function(y,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var m in e)Object.prototype.hasOwnProperty.call(e,m)&&(f[m]=e[m])},l(y,p)};return function(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");l(y,p);function f(){this.constructor=y}y.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}(),V=function(l,y,p,f){var e=arguments.length,m=e<3?y:f===null?f=Object.getOwnPropertyDescriptor(y,p):f,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,y,p,f);else for(var a=l.length-1;a>=0;a--)(s=l[a])&&(m=(e<3?s(m):e>3?s(y,p,m):s(y,p))||m);return e>3&&m&&Object.defineProperty(y,p,m),m},O=function(l){R(y,l);function y(p){var f=l.call(this)||this;return f.timerFunc=null,f.surveyValue=p,f.onCreating(),f}return Object.defineProperty(y.prototype,"survey",{get:function(){return this.surveyValue},enumerable:!1,configurable:!0}),y.prototype.onCreating=function(){},y.prototype.start=function(){var p=this;this.survey&&(this.isRunning||this.isDesignMode||(this.survey.onCurrentPageChanged.add(function(){p.update()}),this.timerFunc=function(){p.doTimer()},this.setIsRunning(!0),this.update(),C.SurveyTimer.instance.start(this.timerFunc)))},y.prototype.stop=function(){this.isRunning&&(this.setIsRunning(!1),C.SurveyTimer.instance.stop(this.timerFunc))},Object.defineProperty(y.prototype,"isRunning",{get:function(){return this.getPropertyValue("isRunning",!1)},enumerable:!1,configurable:!0}),y.prototype.setIsRunning=function(p){this.setPropertyValue("isRunning",p)},y.prototype.update=function(){this.updateText(),this.updateProgress()},y.prototype.doTimer=function(){var p=this.survey.currentPage;p&&(p.timeSpent=p.timeSpent+1),this.spent=this.spent+1,this.update(),this.onTimer&&this.onTimer(p)},y.prototype.updateProgress=function(){var p=this,f=this.survey.timerInfo,e=f.spent,m=f.limit;m?(e==0?(this.progress=0,setTimeout(function(){p.progress=Math.floor((e+1)/m*100)/100},0)):e<=m&&(this.progress=Math.floor((e+1)/m*100)/100),this.progress>1&&(this.progress=void 0)):this.progress=void 0},y.prototype.updateText=function(){var p=this.survey.timerClock;this.clockMajorText=p.majorText,this.clockMinorText=p.minorText,this.text=this.survey.timerInfoText},Object.defineProperty(y.prototype,"showProgress",{get:function(){return this.progress!==void 0},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"showTimerAsClock",{get:function(){return!!this.survey.getCss().clockTimerRoot},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"rootCss",{get:function(){return new A.CssClassBuilder().append(this.survey.getCss().clockTimerRoot).append(this.survey.getCss().clockTimerRootTop,this.survey.isTimerPanelShowingOnTop).append(this.survey.getCss().clockTimerRootBottom,this.survey.isTimerPanelShowingOnBottom).toString()},enumerable:!1,configurable:!0}),y.prototype.getProgressCss=function(){return new A.CssClassBuilder().append(this.survey.getCss().clockTimerProgress).append(this.survey.getCss().clockTimerProgressAnimation,this.progress>0).toString()},Object.defineProperty(y.prototype,"textContainerCss",{get:function(){return this.survey.getCss().clockTimerTextContainer},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"minorTextCss",{get:function(){return this.survey.getCss().clockTimerMinorText},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"majorTextCss",{get:function(){return this.survey.getCss().clockTimerMajorText},enumerable:!1,configurable:!0}),V([Object(D.property)()],y.prototype,"text",void 0),V([Object(D.property)()],y.prototype,"progress",void 0),V([Object(D.property)()],y.prototype,"clockMajorText",void 0),V([Object(D.property)()],y.prototype,"clockMinorText",void 0),V([Object(D.property)({defaultValue:0})],y.prototype,"spent",void 0),y}(P.Base)},"./src/surveyToc.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"tryFocusPage",function(){return V}),d.d(M,"createTOCListModel",function(){return O}),d.d(M,"getTocRootCss",function(){return l}),d.d(M,"TOCModel",function(){return y});var P=d("./src/actions/action.ts"),C=d("./src/base.ts"),D=d("./src/list.ts"),A=d("./src/page.ts"),R=d("./src/popup.ts");function V(p,f){return p.isDesignMode||f.focusFirstQuestion(),!0}function O(p,f){var e,m=p.questionsOnPageMode==="singlePage"?(e=p.pages[0])===null||e===void 0?void 0:e.elements:p.pages,s=(m||[]).map(function(c){var r,t;return new P.Action({id:c.name,locTitle:!((r=c.locNavigationTitle)===null||r===void 0)&&r.text?c.locNavigationTitle:!((t=c.locTitle)===null||t===void 0)&&t.text?c.locTitle:void 0,title:c.renderedNavigationTitle,action:function(){return typeof document!==void 0&&document.activeElement&&document.activeElement.blur&&document.activeElement.blur(),f&&f(),c instanceof A.PageModel?p.tryNavigateToPage(c):V(p,c)},visible:new C.ComputedUpdater(function(){return c.isVisible&&!c.isStartPage})})}),a=new D.ListModel(s,function(c){c.action()&&(a.selectedItem=c)},!0,s.filter(function(c){return!!p.currentPage&&c.id===p.currentPage.name})[0]||s.filter(function(c){return c.id===m[0].name})[0]);return a.allowSelection=!1,a.locOwner=p,a.searchEnabled=!1,p.onCurrentPageChanged.add(function(c,r){a.selectedItem=s.filter(function(t){return!!p.currentPage&&t.id===p.currentPage.name})[0]}),a}function l(p,f){return f===void 0&&(f=!1),f?"sv_progress-toc sv_progress-toc--mobile":"sv_progress-toc"+(" sv_progress-toc--"+(p.tocLocation||"").toLowerCase())}var y=function(){function p(f){var e=this;this.survey=f,this.icon="icon-navmenu_24x24",this.togglePopup=function(){e.popupModel.toggleVisibility()},this.listModel=O(f,function(){e.popupModel.isVisible=!1}),this.popupModel=new R.PopupModel("sv-list",{model:this.listModel}),this.popupModel.overlayDisplayMode="overlay",this.popupModel.displayMode=new C.ComputedUpdater(function(){return e.isMobile?"overlay":"popup"})}return Object.defineProperty(p.prototype,"isMobile",{get:function(){return this.survey.isMobile},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"containerCss",{get:function(){return l(this.survey,this.isMobile)},enumerable:!1,configurable:!0}),p.prototype.dispose=function(){this.popupModel.dispose(),this.listModel.dispose()},p}()},"./src/surveytimer.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"surveyTimerFunctions",function(){return C}),d.d(M,"SurveyTimer",function(){return D});var P=d("./src/base.ts"),C={setTimeout:function(A){return C.safeTimeOut(A,1e3)},clearTimeout:function(A){typeof window>"u"||window.clearTimeout(A)},safeTimeOut:function(A,R){return typeof window>"u"||R<=0?(A(),0):window.setTimeout(A,R)}},D=function(){function A(){this.listenerCounter=0,this.timerId=-1,this.onTimer=new P.Event}return Object.defineProperty(A,"instance",{get:function(){return A.instanceValue||(A.instanceValue=new A),A.instanceValue},enumerable:!1,configurable:!0}),A.prototype.start=function(R){var V=this;R===void 0&&(R=null),R&&this.onTimer.add(R),this.timerId<0&&(this.timerId=C.setTimeout(function(){V.doTimer()})),this.listenerCounter++},A.prototype.stop=function(R){R===void 0&&(R=null),R&&this.onTimer.remove(R),this.listenerCounter--,this.listenerCounter==0&&this.timerId>-1&&(C.clearTimeout(this.timerId),this.timerId=-1)},A.prototype.doTimer=function(){var R=this;if((this.onTimer.isEmpty||this.listenerCounter==0)&&(this.timerId=-1),!(this.timerId<0)){var V=this.timerId;this.onTimer.fire(this,{}),V===this.timerId&&(this.timerId=C.setTimeout(function(){R.doTimer()}))}},A.instanceValue=null,A}()},"./src/svgbundle.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"SvgIconRegistry",function(){return C}),d.d(M,"SvgRegistry",function(){return D}),d.d(M,"SvgBundleViewModel",function(){return A});var P=function(){function O(){}return O}(),C=function(){function O(){this.icons={},this.iconPrefix="icon-"}return O.prototype.processId=function(l,y){return l.indexOf(y)==0&&(l=l.substring(y.length)),l},O.prototype.registerIconFromSymbol=function(l,y){this.icons[l]=y},O.prototype.registerIconFromSvgViaElement=function(l,y,p){p===void 0&&(p=this.iconPrefix),l=this.processId(l,p);var f=document.createElement("div");f.innerHTML=y;var e=document.createElement("symbol"),m=f.querySelector("svg");e.innerHTML=m.innerHTML;for(var s=0;s<m.attributes.length;s++)e.setAttributeNS("http://www.w3.org/2000/svg",m.attributes[s].name,m.attributes[s].value);e.id=p+l,this.registerIconFromSymbol(l,e.outerHTML)},O.prototype.registerIconFromSvg=function(l,y,p){p===void 0&&(p=this.iconPrefix),l=this.processId(l,p);var f="<svg ",e="</svg>";y=y.trim();var m=y.toLowerCase();return m.substring(0,f.length)===f&&m.substring(m.length-e.length,m.length)===e?(this.registerIconFromSymbol(l,'<symbol id="'+p+l+'" '+y.substring(f.length,m.length-e.length)+"</symbol>"),!0):!1},O.prototype.registerIconsFromFolder=function(l){var y=this;l.keys().forEach(function(p){y.registerIconFromSvg(p.substring(2,p.length-4).toLowerCase(),l(p))})},O.prototype.iconsRenderedHtml=function(){var l=this;return Object.keys(this.icons).map(function(y){return l.icons[y]}).join("")},O}(),D=new C,A,R=d("./src/images sync \\.svg$"),V=d("./src/images/smiley sync \\.svg$");D.registerIconsFromFolder(R),D.registerIconsFromFolder(V)},"./src/template-renderer.ts":function(q,M,d){"use strict";d.r(M)},"./src/textPreProcessor.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"TextPreProcessorItem",function(){return D}),d.d(M,"TextPreProcessorValue",function(){return A}),d.d(M,"TextPreProcessor",function(){return R}),d.d(M,"QuestionTextProcessor",function(){return V});var P=d("./src/helpers.ts"),C=d("./src/conditionProcessValue.ts"),D=function(){function O(){}return O}(),A=function(){function O(l,y){this.name=l,this.returnDisplayValue=y,this.isExists=!1,this.canProcess=!0}return O}(),R=function(){function O(){this._unObservableValues=[void 0]}return Object.defineProperty(O.prototype,"hasAllValuesOnLastRunValue",{get:function(){return this._unObservableValues[0]},set:function(l){this._unObservableValues[0]=l},enumerable:!1,configurable:!0}),O.prototype.process=function(l,y,p){if(y===void 0&&(y=!1),p===void 0&&(p=!1),this.hasAllValuesOnLastRunValue=!0,!l||!this.onProcess)return l;for(var f=this.getItems(l),e=f.length-1;e>=0;e--){var m=f[e],s=this.getName(l.substring(m.start+1,m.end));if(s){var a=new A(s,y);if(this.onProcess(a),!a.isExists){a.canProcess&&(this.hasAllValuesOnLastRunValue=!1);continue}P.Helpers.isValueEmpty(a.value)&&(this.hasAllValuesOnLastRunValue=!1);var c=P.Helpers.isValueEmpty(a.value)?"":a.value;p&&(c=encodeURIComponent(c)),l=l.substring(0,m.start)+c+l.substring(m.end+1)}}return l},O.prototype.processValue=function(l,y){var p=new A(l,y);return this.onProcess&&this.onProcess(p),p},Object.defineProperty(O.prototype,"hasAllValuesOnLastRun",{get:function(){return!!this.hasAllValuesOnLastRunValue},enumerable:!1,configurable:!0}),O.prototype.getItems=function(l){for(var y=[],p=l.length,f=-1,e="",m=0;m<p;m++)if(e=l[m],e=="{"&&(f=m),e=="}"){if(f>-1){var s=new D;s.start=f,s.end=m,y.push(s)}f=-1}return y},O.prototype.getName=function(l){if(l)return l.trim()},O}(),V=function(){function O(l){var y=this;this.variableName=l,this.textPreProcessor=new R,this.textPreProcessor.onProcess=function(p){y.getProcessedTextValue(p)}}return O.prototype.processValue=function(l,y){return this.textPreProcessor.processValue(l,y)},Object.defineProperty(O.prototype,"survey",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"panel",{get:function(){return null},enumerable:!1,configurable:!0}),O.prototype.getValues=function(){return this.panel?this.panel.getValue():null},O.prototype.getQuestionByName=function(l){return this.panel?this.panel.getQuestionByValueName(l):null},O.prototype.getParentTextProcessor=function(){return null},O.prototype.onCustomProcessText=function(l){return!1},O.prototype.getQuestionDisplayText=function(l){return l.displayValue},O.prototype.getProcessedTextValue=function(l){if(l&&!this.onCustomProcessText(l)){var y=new C.ProcessValue().getFirstName(l.name);if(l.isExists=y==this.variableName,l.canProcess=l.isExists,!!l.canProcess){l.name=l.name.replace(this.variableName+".","");var y=new C.ProcessValue().getFirstName(l.name),p=this.getQuestionByName(y),f={};if(p)f[y]=l.returnDisplayValue?this.getQuestionDisplayText(p):p.value;else{var e=this.panel?this.getValues():null;e&&(f[y]=e[y])}l.value=new C.ProcessValue().getValue(l.name,f)}}},O.prototype.processText=function(l,y){return this.survey&&this.survey.isDesignMode?l:(l=this.textPreProcessor.process(l,y),l=this.processTextCore(this.getParentTextProcessor(),l,y),this.processTextCore(this.survey,l,y))},O.prototype.processTextEx=function(l,y){l=this.processText(l,y);var p=this.textPreProcessor.hasAllValuesOnLastRun,f={hasAllValuesOnLastRun:!0,text:l};return this.survey&&(f=this.survey.processTextEx(l,y,!1)),f.hasAllValuesOnLastRun=f.hasAllValuesOnLastRun&&p,f},O.prototype.processTextCore=function(l,y,p){return l?l.processText(y,p):y},O}()},"./src/themes.ts":function(q,M,d){"use strict";d.r(M)},"./src/trigger.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"Trigger",function(){return y}),d.d(M,"SurveyTrigger",function(){return p}),d.d(M,"SurveyTriggerVisible",function(){return f}),d.d(M,"SurveyTriggerComplete",function(){return e}),d.d(M,"SurveyTriggerSetValue",function(){return m}),d.d(M,"SurveyTriggerSkip",function(){return s}),d.d(M,"SurveyTriggerRunExpression",function(){return a}),d.d(M,"SurveyTriggerCopyValue",function(){return c});var P=d("./src/helpers.ts"),C=d("./src/base.ts"),D=d("./src/jsonobject.ts"),A=d("./src/conditions.ts"),R=d("./src/expressions/expressions.ts"),V=d("./src/conditionProcessValue.ts"),O=d("./src/settings.ts"),l=function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var v in u)Object.prototype.hasOwnProperty.call(u,v)&&(o[v]=u[v])},r(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");r(t,n);function o(){this.constructor=t}t.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),y=function(r){l(t,r);function t(){var n=r.call(this)||this;return n.idValue=t.idCounter++,n.registerPropertyChangedHandlers(["operator","value","name"],function(){n.oldPropertiesChanged()}),n.registerPropertyChangedHandlers(["expression"],function(){n.onExpressionChanged()}),n}return Object.defineProperty(t,"operators",{get:function(){return t.operatorsValue!=null||(t.operatorsValue={empty:function(n,o){return!n},notempty:function(n,o){return!!n},equal:function(n,o){return n==o},notequal:function(n,o){return n!=o},contains:function(n,o){return n&&n.indexOf&&n.indexOf(o)>-1},notcontains:function(n,o){return!n||!n.indexOf||n.indexOf(o)==-1},greater:function(n,o){return n>o},less:function(n,o){return n<o},greaterorequal:function(n,o){return n>=o},lessorequal:function(n,o){return n<=o}}),t.operatorsValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"triggerbase"},t.prototype.toString=function(){var n=this.getType().replace("trigger",""),o=this.expression?this.expression:this.buildExpression();return o&&(n+=", "+o),n},Object.defineProperty(t.prototype,"isInternal",{get:function(){return this.isGhost===!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"operator",{get:function(){return this.getPropertyValue("operator","equal")},set:function(n){n&&(n=n.toLowerCase(),t.operators[n]&&this.setPropertyValue("operator",n))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.getPropertyValue("value",null)},set:function(n){this.setPropertyValue("value",n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.getPropertyValue("name","")},set:function(n){this.setPropertyValue("name",n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(n){this.setPropertyValue("expression",n)},enumerable:!1,configurable:!0}),t.prototype.canBeExecuted=function(n){return!0},t.prototype.canBeExecutedOnComplete=function(){return!1},t.prototype.checkExpression=function(n,o,u,v,x){x===void 0&&(x=null),this.isExecutingOnNextPage=n,this.canBeExecuted(n)&&(o&&!this.canBeExecutedOnComplete()||this.isCheckRequired(u)&&(this.conditionRunner?this.perform(v,x):this.canSuccessOnEmptyExpression()&&this.triggerResult(!0,v,x)))},t.prototype.canSuccessOnEmptyExpression=function(){return!1},t.prototype.check=function(n){var o=t.operators[this.operator](n,this.value);o?this.onSuccess({},null):this.onFailure()},Object.defineProperty(t.prototype,"requireValidQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.perform=function(n,o){var u=this;this.conditionRunner.onRunComplete=function(v){u.triggerResult(v,n,o)},this.conditionRunner.run(n,o)},t.prototype.triggerResult=function(n,o,u){n?(this.onSuccess(o,u),this.onSuccessExecuted()):this.onFailure()},t.prototype.onSuccess=function(n,o){},t.prototype.onFailure=function(){},t.prototype.onSuccessExecuted=function(){},t.prototype.endLoadingFromJson=function(){r.prototype.endLoadingFromJson.call(this),this.oldPropertiesChanged()},t.prototype.oldPropertiesChanged=function(){this.onExpressionChanged()},t.prototype.onExpressionChanged=function(){this.conditionRunner=null},t.prototype.buildExpression=function(){return!this.name||this.isValueEmpty(this.value)&&this.isRequireValue?"":"{"+this.name+"} "+this.operator+" "+R.OperandMaker.toOperandString(this.value)},t.prototype.isCheckRequired=function(n){return n?(this.createConditionRunner(),this.conditionRunner&&this.conditionRunner.hasFunction()===!0?!0:new V.ProcessValue().isAnyKeyChanged(n,this.getUsedVariables())):!1},t.prototype.getUsedVariables=function(){return this.conditionRunner?this.conditionRunner.getVariables():[]},t.prototype.createConditionRunner=function(){if(!this.conditionRunner){var n=this.expression;n||(n=this.buildExpression()),n&&(this.conditionRunner=new A.ConditionRunner(n))}},Object.defineProperty(t.prototype,"isRequireValue",{get:function(){return this.operator!=="empty"&&this.operator!="notempty"},enumerable:!1,configurable:!0}),t.idCounter=1,t.operatorsValue=null,t}(C.Base),p=function(r){l(t,r);function t(){var n=r.call(this)||this;return n.ownerValue=null,n}return Object.defineProperty(t.prototype,"owner",{get:function(){return this.ownerValue},enumerable:!1,configurable:!0}),t.prototype.setOwner=function(n){this.ownerValue=n},t.prototype.getSurvey=function(n){return n===void 0&&(n=!1),this.owner&&this.owner.getSurvey?this.owner.getSurvey():null},t.prototype.isRealExecution=function(){return!0},t.prototype.onSuccessExecuted=function(){this.owner&&this.isRealExecution()&&this.owner.triggerExecuted(this)},t}(y),f=function(r){l(t,r);function t(){var n=r.call(this)||this;return n.pages=[],n.questions=[],n}return t.prototype.getType=function(){return"visibletrigger"},t.prototype.onSuccess=function(n,o){this.onTrigger(this.onItemSuccess)},t.prototype.onFailure=function(){this.onTrigger(this.onItemFailure)},t.prototype.onTrigger=function(n){if(this.owner)for(var o=this.owner.getObjects(this.pages,this.questions),u=0;u<o.length;u++)n(o[u])},t.prototype.onItemSuccess=function(n){n.visible=!0},t.prototype.onItemFailure=function(n){n.visible=!1},t}(p),e=function(r){l(t,r);function t(){return r.call(this)||this}return t.prototype.getType=function(){return"completetrigger"},Object.defineProperty(t.prototype,"requireValidQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.isRealExecution=function(){return!O.settings.triggers.executeCompleteOnValueChanged===this.isExecutingOnNextPage},t.prototype.onSuccess=function(n,o){this.owner&&(this.isRealExecution()?this.owner.setCompleted(this):this.owner.canBeCompleted(this,!0))},t.prototype.onFailure=function(){this.owner.canBeCompleted(this,!1)},t}(p),m=function(r){l(t,r);function t(){return r.call(this)||this}return t.prototype.getType=function(){return"setvaluetrigger"},t.prototype.canBeExecuted=function(n){return!n&&!!this.setToName},t.prototype.onPropertyValueChanged=function(n,o,u){if(r.prototype.onPropertyValueChanged.call(this,n,o,u),n==="setToName"){var v=this.getSurvey();v&&!v.isLoadingFromJson&&v.isDesignMode&&(this.setValue=void 0)}},Object.defineProperty(t.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(n){this.setPropertyValue("setToName",n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"setValue",{get:function(){return this.getPropertyValue("setValue")},set:function(n){this.setPropertyValue("setValue",n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVariable",{get:function(){return this.getPropertyValue("isVariable")},set:function(n){this.setPropertyValue("isVariable",n)},enumerable:!1,configurable:!0}),t.prototype.onSuccess=function(n,o){!this.setToName||!this.owner||this.owner.setTriggerValue(this.setToName,this.setValue,this.isVariable)},t}(p),s=function(r){l(t,r);function t(){return r.call(this)||this}return t.prototype.getType=function(){return"skiptrigger"},Object.defineProperty(t.prototype,"requireValidQuestion",{get:function(){return this.canBeExecuted(!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gotoName",{get:function(){return this.getPropertyValue("gotoName","")},set:function(n){this.setPropertyValue("gotoName",n)},enumerable:!1,configurable:!0}),t.prototype.canBeExecuted=function(n){return n===!O.settings.triggers.executeSkipOnValueChanged},t.prototype.onSuccess=function(n,o){!this.gotoName||!this.owner||this.owner.focusQuestion(this.gotoName)},t}(p),a=function(r){l(t,r);function t(){return r.call(this)||this}return t.prototype.getType=function(){return"runexpressiontrigger"},Object.defineProperty(t.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(n){this.setPropertyValue("setToName",n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"runExpression",{get:function(){return this.getPropertyValue("runExpression","")},set:function(n){this.setPropertyValue("runExpression",n)},enumerable:!1,configurable:!0}),t.prototype.onSuccess=function(n,o){var u=this;if(!(!this.owner||!this.runExpression)){var v=new A.ExpressionRunner(this.runExpression);v.canRun&&(v.onRunComplete=function(x){u.onCompleteRunExpression(x)},v.run(n,o))}},t.prototype.onCompleteRunExpression=function(n){this.setToName&&n!==void 0&&this.owner.setTriggerValue(this.setToName,P.Helpers.convertValToQuestionVal(n),!1)},t}(p),c=function(r){l(t,r);function t(){return r.call(this)||this}return t.prototype.canBeExecuted=function(n){return!n&&!!this.setToName&&!!this.fromName},Object.defineProperty(t.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(n){this.setPropertyValue("setToName",n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fromName",{get:function(){return this.getPropertyValue("fromName","")},set:function(n){this.setPropertyValue("fromName",n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"copyDisplayValue",{get:function(){return this.getPropertyValue("copyDisplayValue")},set:function(n){this.setPropertyValue("copyDisplayValue",n)},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return"copyvaluetrigger"},t.prototype.onSuccess=function(n,o){!this.setToName||!this.owner||this.owner.copyTriggerValue(this.setToName,this.fromName,this.copyDisplayValue)},t.prototype.canSuccessOnEmptyExpression=function(){return!0},t.prototype.getUsedVariables=function(){var n=r.prototype.getUsedVariables.call(this);return n.length===0&&this.fromName&&n.push(this.fromName),n},t}(p);D.Serializer.addClass("trigger",[{name:"operator",default:"equal",visible:!1},{name:"value",visible:!1},"expression:condition"]),D.Serializer.addClass("surveytrigger",[{name:"name",visible:!1}],null,"trigger"),D.Serializer.addClass("visibletrigger",["pages:pages","questions:questions"],function(){return new f},"surveytrigger"),D.Serializer.addClass("completetrigger",[],function(){return new e},"surveytrigger"),D.Serializer.addClass("setvaluetrigger",[{name:"!setToName:questionvalue"},{name:"setValue:triggervalue",dependsOn:"setToName",visibleIf:function(r){return!!r&&!!r.setToName}},{name:"isVariable:boolean",visible:!1}],function(){return new m},"surveytrigger"),D.Serializer.addClass("copyvaluetrigger",[{name:"!fromName:questionvalue"},{name:"!setToName:questionvalue"},{name:"copyDisplayValue:boolean",visible:!1}],function(){return new c},"surveytrigger"),D.Serializer.addClass("skiptrigger",[{name:"!gotoName:question"}],function(){return new s},"surveytrigger"),D.Serializer.addClass("runexpressiontrigger",[{name:"setToName:questionvalue"},"runExpression:expression"],function(){return new a},"surveytrigger")},"./src/utils/camera.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"Camera",function(){return C});var P=d("./src/entries/core.ts"),C=function(){function D(){this.canFlipValue=void 0}return D.clear=function(){D.cameraList=void 0,D.cameraIndex=-1},D.setCameraList=function(A){var R=function(V){var O=V.label.toLocaleLowerCase();return O.indexOf("user")>-1?"user":O.indexOf("enviroment")>-1?"enviroment":""};D.clear(),Array.isArray(A)&&A.length>0&&(D.cameraIndex=-1,A.sort(function(V,O){if(V===O)return 0;if(V.label!==O.label){var l=R(V),y=R(O);if(l!==y){if(l==="user")return-1;if(y==="user")return 1;if(l==="enviroment")return-1;if(y==="enviroment")return 1}}var p=A.indexOf(V),f=A.indexOf(O);return p<f?-1:1})),D.cameraList=A},D.prototype.hasCamera=function(A){var R=this;if(D.cameraList!==void 0){this.hasCameraCallback(A);return}if(D.mediaDevicesCallback){var V=function(O){R.setVideoInputs(O),R.hasCameraCallback(A)};D.mediaDevicesCallback(V);return}typeof navigator<"u"&&navigator.mediaDevices?navigator.mediaDevices.enumerateDevices().then(function(O){R.setVideoInputs(O),R.hasCameraCallback(A),R.updateCanFlipValue()}).catch(function(O){D.cameraList=null,R.hasCameraCallback(A)}):(D.cameraList=null,this.hasCameraCallback(A))},D.prototype.getMediaConstraints=function(A){var R=D.cameraList;if(!(!Array.isArray(R)||R.length<1)){D.cameraIndex<0&&(D.cameraIndex=0);var V=R[D.cameraIndex],O={};return V&&V.deviceId?O.deviceId={exact:V.deviceId}:O.facingMode=D.cameraFacingMode,A&&(A?.height&&(O.height={ideal:A.height}),A?.width&&(O.width={ideal:A.width})),{video:O,audio:!1}}},D.prototype.startVideo=function(A,R,V,O){var l=this,y,p=(y=P.settings.environment.root)===null||y===void 0?void 0:y.getElementById(A);if(!p){R(void 0);return}p.style.width="100%",p.style.height="auto",p.style.height="100%",p.style.objectFit="contain";var f=this.getMediaConstraints({width:V,height:O});navigator.mediaDevices.getUserMedia(f).then(function(e){var m;p.srcObject=e,!(!((m=D.cameraList[D.cameraIndex])===null||m===void 0)&&m.deviceId)&&e.getTracks()[0].getCapabilities().facingMode&&(D.canSwitchFacingMode=!0,l.updateCanFlipValue()),p.play(),R(e)}).catch(function(e){R(void 0)})},D.prototype.getImageSize=function(A){return{width:A.videoWidth,height:A.videoHeight}},D.prototype.snap=function(A,R){if(typeof document>"u")return!1;var V=document,O=V.getElementById(A);if(!O)return!1;var l=V.createElement("canvas"),y=this.getImageSize(O);l.height=y.height,l.width=y.width;var p=l.getContext("2d");return p.clearRect(0,0,l.width,l.height),p.drawImage(O,0,0,l.width,l.height),l.toBlob(R,"image/png"),!0},D.prototype.updateCanFlipValue=function(){var A=D.cameraList;this.canFlipValue=Array.isArray(A)&&A.length>1||D.canSwitchFacingMode,this.onCanFlipChangedCallback&&this.onCanFlipChangedCallback(this.canFlipValue)},D.prototype.canFlip=function(A){return this.canFlipValue===void 0&&this.updateCanFlipValue(),A&&(this.onCanFlipChangedCallback=A),this.canFlipValue},D.prototype.flip=function(){this.canFlip()&&(D.canSwitchFacingMode?D.cameraFacingMode=D.cameraFacingMode==="user"?"environment":"user":D.cameraIndex>=D.cameraList.length-1?D.cameraIndex=0:D.cameraIndex++)},D.prototype.hasCameraCallback=function(A){A(Array.isArray(D.cameraList))},D.prototype.setVideoInputs=function(A){var R=[];A.forEach(function(V){V.kind==="videoinput"&&R.push(V)}),D.setCameraList(R.length>0?R:null)},D.cameraIndex=-1,D.cameraFacingMode="user",D.canSwitchFacingMode=!1,D}()},"./src/utils/cssClassBuilder.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"CssClassBuilder",function(){return P});var P=function(){function C(){this.classes=[]}return C.prototype.isEmpty=function(){return this.toString()===""},C.prototype.append=function(D,A){return A===void 0&&(A=!0),D&&A&&(typeof D=="string"&&(D=D.trim()),this.classes.push(D)),this},C.prototype.toString=function(){return this.classes.join(" ")},C}()},"./src/utils/devices.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"IsMobile",function(){return A}),d.d(M,"mouseInfo",function(){return R}),d.d(M,"IsTouch",function(){return O}),d.d(M,"_setIsTouch",function(){return l});var P=!1,C=null;typeof navigator<"u"&&typeof window<"u"&&navigator&&window&&(C=navigator.userAgent||navigator.vendor||window.opera),function(y){y&&(navigator.platform==="MacIntel"&&navigator.maxTouchPoints>0||navigator.platform==="iPad"||/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(y)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(y.substring(0,4)))&&(P=!0)}(C);var D=!1,A=P||D,R={get isTouch(){return!this.hasMouse&&this.hasTouchEvent},get hasTouchEvent(){return typeof window<"u"&&("ontouchstart"in window||navigator.maxTouchPoints>0)},hasMouse:!0},V=typeof matchMedia<"u"&&!!matchMedia&&matchMedia("(pointer:fine)")||void 0;R.hasMouse=!!V&&!!V.matches;var O=R.isTouch;function l(y){O=y}},"./src/utils/dragOrClickHelper.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"DragOrClickHelper",function(){return C});var P=d("./src/entries/core.ts"),C=function(){function D(A){var R=this;this.dragHandler=A,this.onPointerUp=function(V){R.clearListeners()},this.tryToStartDrag=function(V){if(R.currentX=V.pageX,R.currentY=V.pageY,!R.isMicroMovement)return R.clearListeners(),R.dragHandler(R.pointerDownEvent,R.currentTarget,R.itemModel),!0}}return D.prototype.onPointerDown=function(A,R){if(P.IsTouch){this.dragHandler(A,A.currentTarget,R);return}this.pointerDownEvent=A,this.currentTarget=A.currentTarget,this.startX=A.pageX,this.startY=A.pageY,document.addEventListener("pointermove",this.tryToStartDrag),this.currentTarget.addEventListener("pointerup",this.onPointerUp),this.itemModel=R},Object.defineProperty(D.prototype,"isMicroMovement",{get:function(){var A=10,R=Math.abs(this.currentX-this.startX),V=Math.abs(this.currentY-this.startY);return R<A&&V<A},enumerable:!1,configurable:!0}),D.prototype.clearListeners=function(){this.pointerDownEvent&&(document.removeEventListener("pointermove",this.tryToStartDrag),this.currentTarget.removeEventListener("pointerup",this.onPointerUp))},D}()},"./src/utils/popup.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"PopupUtils",function(){return P});var P=function(){function C(){}return C.calculatePosition=function(D,A,R,V,O,l,y){y===void 0&&(y="flex");var p=D.left,f=D.top;return y==="flex"&&(O=="center"?p=(D.left+D.right-R)/2:O=="left"?p=D.left-R:p=D.right),V=="middle"?f=(D.top+D.bottom-A)/2:V=="top"?f=D.top-A:f=D.bottom,l&&O!="center"&&V!="middle"&&(V=="top"?f=f+D.height:f=f-D.height),{left:Math.round(p),top:Math.round(f)}},C.getCorrectedVerticalDimensions=function(D,A,R,V){var O;if(V==="top"&&(O={height:A,top:D}),D<0)O={height:A+D,top:0};else if(A+D>R){var l=Math.min(A,R-D-C.bottomIndent);O={height:l,top:D}}return O},C.updateHorizontalDimensions=function(D,A,R,V,O,l){O===void 0&&(O="flex"),l===void 0&&(l={left:0,right:0}),A+=l.left+l.right;var y=void 0,p=D;return V==="center"&&(O==="fixed"?(D+A>R&&(y=R-D),p-=l.left):D<0?(p=l.left,y=Math.min(A,R)):A+D>R&&(p=R-A,p=Math.max(p,l.left),y=Math.min(A,R))),V==="left"&&D<0&&(p=l.left,y=Math.min(A,R)),V==="right"&&A+D>R&&(y=R-D),{width:y-l.left-l.right,left:p}},C.updateVerticalPosition=function(D,A,R,V,O){var l=A-(D.top+(V?D.height:0)),y=A+D.bottom-(V?D.height:0)-O;return l>0&&y<=0&&R=="top"?R="bottom":y>0&&l<=0&&R=="bottom"?R="top":y>0&&l>0&&(R=l<y?"top":"bottom"),R},C.calculatePopupDirection=function(D,A){var R;return A=="center"&&D!="middle"?R=D:A!="center"&&(R=A),R},C.calculatePointerTarget=function(D,A,R,V,O,l,y){l===void 0&&(l=0),y===void 0&&(y=0);var p={};return O!="center"?(p.top=D.top+D.height/2,p.left=D[O]):V!="middle"&&(p.top=D[V],p.left=D.left+D.width/2),p.left=Math.round(p.left-R),p.top=Math.round(p.top-A),O=="left"&&(p.left-=l+y),O==="center"&&(p.left-=l),p},C.bottomIndent=16,C}()},"./src/utils/responsivity-manager.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"ResponsivityManager",function(){return D}),d.d(M,"VerticalResponsivityManager",function(){return A});var P=d("./src/utils/utils.ts"),C=function(){var R=function(V,O){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,y){l.__proto__=y}||function(l,y){for(var p in y)Object.prototype.hasOwnProperty.call(y,p)&&(l[p]=y[p])},R(V,O)};return function(V,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");R(V,O);function l(){this.constructor=V}V.prototype=O===null?Object.create(O):(l.prototype=O.prototype,new l)}}(),D=function(){function R(V,O,l,y,p){var f=this;y===void 0&&(y=null),this.container=V,this.model=O,this.itemsSelector=l,this.dotsItemSize=y,this.delayedUpdateFunction=p,this.resizeObserver=void 0,this.isInitialized=!1,this.minDimensionConst=56,this.separatorSize=17,this.separatorAddConst=1,this.paddingSizeConst=8,this.dotsSizeConst=48,this.recalcMinDimensionConst=!0,this.getComputedStyle=window.getComputedStyle.bind(window),this.model.updateCallback=function(e){e&&(f.isInitialized=!1),setTimeout(function(){f.process()},1)},typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(function(e){window.requestAnimationFrame(function(){f.process()})}),this.resizeObserver.observe(this.container.parentElement))}return R.prototype.getDimensions=function(V){return{scroll:V.scrollWidth,offset:V.offsetWidth}},R.prototype.getAvailableSpace=function(){var V=this.getComputedStyle(this.container),O=this.container.offsetWidth;return V.boxSizing==="border-box"&&(O-=parseFloat(V.paddingLeft)+parseFloat(V.paddingRight)),O},R.prototype.calcItemSize=function(V){return V.offsetWidth},R.prototype.calcMinDimension=function(V){var O=this.minDimensionConst;return V.iconSize&&this.recalcMinDimensionConst&&(O=2*V.iconSize+this.paddingSizeConst),V.canShrink?O+(V.needSeparator?this.separatorSize:0):V.maxDimension},R.prototype.getRenderedVisibleActionsCount=function(){var V=this,O=0;return this.container.querySelectorAll(this.itemsSelector).forEach(function(l){V.calcItemSize(l)>0&&O++}),O},R.prototype.calcItemsSizes=function(){var V=this,O=this.model.actions,l=this.container.querySelectorAll(this.itemsSelector);(l||[]).forEach(function(y,p){var f=O[p];V.calcActionDimensions(f,y)})},R.prototype.calcActionDimensions=function(V,O){V.maxDimension=this.calcItemSize(O),V.minDimension=this.calcMinDimension(V)},Object.defineProperty(R.prototype,"isContainerVisible",{get:function(){return Object(P.isContainerVisible)(this.container)},enumerable:!1,configurable:!0}),R.prototype.process=function(){var V=this;if(this.isContainerVisible&&!this.model.isResponsivenessDisabled){this.isInitialized||this.model.setActionsMode("large");var O=function(){var y,p=V.dotsItemSize;if(!V.dotsItemSize){var f=(y=V.container)===null||y===void 0?void 0:y.querySelector(".sv-dots");p=f&&V.calcItemSize(f)||V.dotsSizeConst}V.model.fit(V.getAvailableSpace(),p)};if(this.isInitialized)O();else{var l=function(){V.calcItemsSizes(),V.isInitialized=!0,O()};this.getRenderedVisibleActionsCount()<this.model.visibleActions.length?this.delayedUpdateFunction?this.delayedUpdateFunction(l):queueMicrotask?queueMicrotask(l):l():l()}}},R.prototype.dispose=function(){this.model.updateCallback=void 0,this.resizeObserver&&this.resizeObserver.disconnect()},R}(),A=function(R){C(V,R);function V(O,l,y,p,f,e){f===void 0&&(f=40);var m=R.call(this,O,l,y,p,e)||this;return m.minDimensionConst=f,m.recalcMinDimensionConst=!1,m}return V.prototype.getDimensions=function(){return{scroll:this.container.scrollHeight,offset:this.container.offsetHeight}},V.prototype.getAvailableSpace=function(){var O=this.getComputedStyle(this.container),l=this.container.offsetHeight;return O.boxSizing==="border-box"&&(l-=parseFloat(O.paddingTop)+parseFloat(O.paddingBottom)),l},V.prototype.calcItemSize=function(O){return O.offsetHeight},V.prototype.calcActionDimensions=function(O,l){O.maxDimension=this.calcItemSize(l),O.minDimension=this.calcItemSize(l)},V}(D)},"./src/utils/utils.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"unwrap",function(){return o}),d.d(M,"getRenderedSize",function(){return u}),d.d(M,"getRenderedStyleSize",function(){return v}),d.d(M,"doKey2ClickBlur",function(){return b}),d.d(M,"doKey2ClickUp",function(){return i}),d.d(M,"doKey2ClickDown",function(){return h}),d.d(M,"sanitizeEditableContent",function(){return B}),d.d(M,"Logger",function(){return H}),d.d(M,"showConfirmDialog",function(){return k}),d.d(M,"mergeValues",function(){return N}),d.d(M,"getElementWidth",function(){return w}),d.d(M,"isContainerVisible",function(){return g}),d.d(M,"classesToSelector",function(){return j}),d.d(M,"compareVersions",function(){return A}),d.d(M,"confirmAction",function(){return R}),d.d(M,"confirmActionAsync",function(){return V}),d.d(M,"detectIEOrEdge",function(){return l}),d.d(M,"detectIEBrowser",function(){return O}),d.d(M,"loadFileFromBase64",function(){return y}),d.d(M,"isMobile",function(){return p}),d.d(M,"isShadowDOM",function(){return f}),d.d(M,"getElement",function(){return e}),d.d(M,"isElementVisible",function(){return m}),d.d(M,"findScrollableParent",function(){return s}),d.d(M,"scrollElementByChildId",function(){return a}),d.d(M,"navigateToUrl",function(){return c}),d.d(M,"wrapUrlForBackgroundImage",function(){return r}),d.d(M,"createSvg",function(){return n}),d.d(M,"getIconNameFromProxy",function(){return t}),d.d(M,"increaseHeightByContent",function(){return E}),d.d(M,"getOriginalEvent",function(){return S}),d.d(M,"preventDefaults",function(){return L}),d.d(M,"findParentByClassNames",function(){return T}),d.d(M,"getFirstVisibleChild",function(){return I});var P=d("./src/localizablestring.ts"),C=d("./src/settings.ts"),D=d("./src/surveyStrings.ts");function A(W,K){for(var z=/(\.0+)+$/,G=W.replace(z,"").split("."),$=K.replace(z,"").split("."),Z=Math.min(G.length,$.length),X=0;X<Z;X++){var ee=parseInt(G[X],10)-parseInt($[X],10);if(ee)return ee}return G.length-$.length}function R(W){return C.settings&&C.settings.confirmActionFunc?C.settings.confirmActionFunc(W):confirm(W)}function V(W,K,z,G){var $=function(Z){Z?K():z&&z()};C.settings&&C.settings.confirmActionAsync&&C.settings.confirmActionAsync(W,$,void 0,G)||$(R(W))}function O(){if(typeof window>"u")return!1;var W=window.navigator.userAgent,K=W.indexOf("MSIE "),z=W.indexOf("Trident/");return K>-1||z>-1}function l(){if(typeof window>"u")return!1;if(typeof l.isIEOrEdge>"u"){var W=window.navigator.userAgent,K=W.indexOf("MSIE "),z=W.indexOf("Trident/"),G=W.indexOf("Edge/");l.isIEOrEdge=G>0||z>0||K>0}return l.isIEOrEdge}function y(W,K){try{for(var z=atob(W.split(",")[1]),G=W.split(",")[0].split(":")[1].split(";")[0],$=new ArrayBuffer(z.length),Z=new Uint8Array($),X=0;X<z.length;X++)Z[X]=z.charCodeAt(X);var ee=new Blob([$],{type:G});typeof window<"u"&&window.navigator&&window.navigator.msSaveBlob&&window.navigator.msSaveOrOpenBlob(ee,K)}catch{}}function p(){return typeof window<"u"&&typeof window.orientation<"u"}var f=function(W){return!!W&&!!("host"in W&&W.host)},e=function(W){var K=C.settings.environment.root;return typeof W=="string"?K.getElementById(W):W};function m(W,K){if(K===void 0&&(K=0),typeof C.settings.environment>"u")return!1;var z=C.settings.environment.root,G=f(z)?z.host.clientHeight:z.documentElement.clientHeight,$=W.getBoundingClientRect(),Z=Math.max(G,window.innerHeight),X=-K,ee=Z+K,ne=$.top,oe=$.bottom,ce=Math.max(X,ne),ye=Math.min(ee,oe);return ce<=ye}function s(W){var K=C.settings.environment.root;return W?W.scrollHeight>W.clientHeight&&(getComputedStyle(W).overflowY==="scroll"||getComputedStyle(W).overflowY==="auto")||W.scrollWidth>W.clientWidth&&(getComputedStyle(W).overflowX==="scroll"||getComputedStyle(W).overflowX==="auto")?W:s(W.parentElement):f(K)?K.host:K.documentElement}function a(W){var K=C.settings.environment;if(K){var z=K.root,G=z.getElementById(W);if(G){var $=s(G);$&&setTimeout(function(){return $.dispatchEvent(new CustomEvent("scroll"))},10)}}}function c(W){!W||typeof window>"u"||!window.location||(window.location.href=W)}function r(W){return W?["url(",W,")"].join(""):""}function t(W){if(!W)return W;var K=C.settings.customIcons[W];return K||W}function n(W,K,z,G,$,Z){if($){W!=="auto"&&($.style.width=(W||K||16)+"px",$.style.height=(W||z||16)+"px");var X=$.childNodes[0],ee=t(G);X.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+ee);var ne=$.getElementsByTagName("title")[0];if(Z)ne||(ne=document.createElementNS("http://www.w3.org/2000/svg","title"),$.appendChild(ne));else{ne&&$.removeChild(ne);return}ne.textContent=Z}}function o(W){return typeof W!="function"?W:W()}function u(W){if(typeof W=="string")if(isNaN(Number(W))){if(W.includes("px"))return parseFloat(W)}else return Number(W);if(typeof W=="number")return W}function v(W){if(u(W)===void 0)return W}var x="sv-focused--by-key";function b(W){var K=W.target;!K||!K.classList||K.classList.remove(x)}function i(W,K){if(!(W.target&&W.target.contentEditable==="true")){var z=W.target;if(z){var G=W.which||W.keyCode;if(G===9){z.classList&&!z.classList.contains(x)&&z.classList.add(x);return}if(K){if(!K.__keyDownReceived)return;K.__keyDownReceived=!1}G===13||G===32?z.click&&z.click():(!K||K.processEsc)&&G===27&&z.blur&&z.blur()}}}function h(W,K){if(K===void 0&&(K={processEsc:!0}),K&&(K.__keyDownReceived=!0),!(W.target&&W.target.contentEditable==="true")){var z=W.which||W.keyCode,G=[13,32];K.processEsc&&G.push(27),G.indexOf(z)!==-1&&W.preventDefault()}}function E(W,K){if(W){K||(K=function(G){return window.getComputedStyle(G)});var z=K(W);W.style.height="auto",W.scrollHeight&&(W.style.height=W.scrollHeight+parseFloat(z.borderTopWidth)+parseFloat(z.borderBottomWidth)+"px")}}function S(W){return W.originalEvent||W}function L(W){W.preventDefault(),W.stopPropagation()}function j(W){var K=/\s*?([\w-]+)\s*?/g;return W.replace(K,".$1")}function w(W){return getComputedStyle?Number.parseFloat(getComputedStyle(W).width):W.offsetWidth}function g(W){return!!(W.offsetWidth||W.offsetHeight||W.getClientRects().length)}function I(W){for(var K,z=0;z<W.children.length;z++)!K&&getComputedStyle(W.children[z]).display!=="none"&&(K=W.children[z]);return K}function T(W,K){if(W)return K.every(function(z){return!z||W.classList.contains(z)})?W:T(W.parentElement,K)}function B(W){if(window.getSelection&&document.createRange&&W.childNodes.length>0){var K=document.getSelection();if(K.rangeCount==0)return;var z=K.getRangeAt(0);z.setStart(z.endContainer,z.endOffset),z.setEndAfter(W.lastChild),K.removeAllRanges(),K.addRange(z);var G=K.toString().replace(/\n/g,"").length;W.innerText=W.innerText.replace(/\n/g,""),z=document.createRange(),z.setStart(W.childNodes[0],W.innerText.length-G),z.collapse(!0),K.removeAllRanges(),K.addRange(z)}}function N(W,K){if(!(!K||!W)&&typeof K=="object")for(var z in W){var G=W[z];!Array.isArray(G)&&G&&typeof G=="object"?((!K[z]||typeof K[z]!="object")&&(K[z]={}),N(G,K[z])):K[z]=G}}var H=function(){function W(){this._result=""}return W.prototype.log=function(K){this._result+="->"+K},Object.defineProperty(W.prototype,"result",{get:function(){return this._result},enumerable:!1,configurable:!0}),W}();function k(W,K,z,G){var $=new P.LocalizableString(void 0),Z=C.settings.showDialog({componentName:"sv-string-viewer",data:{locStr:$,locString:$,model:$},onApply:function(){return K(!0),!0},onCancel:function(){return K(!1),!1},title:W,displayMode:"popup",isFocusedContent:!1,cssClass:"sv-popup--confirm-delete"},document.body),X=Z.footerToolbar,ee=X.getActionById("apply"),ne=X.getActionById("cancel");return ne.title=D.surveyLocalization.getString("cancel",G),ne.innerCss="sv-popup__body-footer-item sv-popup__button sd-btn sd-btn--small",ee.title=z||D.surveyLocalization.getString("ok",G),ee.innerCss="sv-popup__body-footer-item sv-popup__button sv-popup__button--danger sd-btn sd-btn--small sd-btn--danger",Z.width="452px",!0}},"./src/validator.ts":function(q,M,d){"use strict";d.r(M),d.d(M,"ValidatorResult",function(){return O}),d.d(M,"SurveyValidator",function(){return l}),d.d(M,"ValidatorRunner",function(){return y}),d.d(M,"NumericValidator",function(){return p}),d.d(M,"TextValidator",function(){return f}),d.d(M,"AnswerCountValidator",function(){return e}),d.d(M,"RegexValidator",function(){return m}),d.d(M,"EmailValidator",function(){return s}),d.d(M,"ExpressionValidator",function(){return a});var P=d("./src/base.ts"),C=d("./src/error.ts"),D=d("./src/jsonobject.ts"),A=d("./src/conditions.ts"),R=d("./src/helpers.ts"),V=function(){var c=function(r,t){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(n[u]=o[u])},c(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");c(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),O=function(){function c(r,t){t===void 0&&(t=null),this.value=r,this.error=t}return c}(),l=function(c){V(r,c);function r(){var t=c.call(this)||this;return t.createLocalizableString("text",t,!0),t}return r.prototype.getSurvey=function(t){return t===void 0&&(t=!1),this.errorOwner&&this.errorOwner.getSurvey?this.errorOwner.getSurvey():null},Object.defineProperty(r.prototype,"text",{get:function(){return this.getLocalizableStringText("text")},set:function(t){this.setLocalizableStringText("text",t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isValidateAllValues",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"locText",{get:function(){return this.getLocalizableString("text")},enumerable:!1,configurable:!0}),r.prototype.getErrorText=function(t){return this.text?this.text:this.getDefaultErrorText(t)},r.prototype.getDefaultErrorText=function(t){return""},r.prototype.validate=function(t,n,o,u){return n===void 0&&(n=null),o===void 0&&(o=null),u===void 0&&(u=null),null},Object.defineProperty(r.prototype,"isRunning",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isAsync",{get:function(){return!1},enumerable:!1,configurable:!0}),r.prototype.getLocale=function(){return this.errorOwner?this.errorOwner.getLocale():""},r.prototype.getMarkdownHtml=function(t,n){return this.errorOwner?this.errorOwner.getMarkdownHtml(t,n):void 0},r.prototype.getRenderer=function(t){return this.errorOwner?this.errorOwner.getRenderer(t):null},r.prototype.getRendererContext=function(t){return this.errorOwner?this.errorOwner.getRendererContext(t):t},r.prototype.getProcessedText=function(t){return this.errorOwner?this.errorOwner.getProcessedText(t):t},r.prototype.createCustomError=function(t){var n=this,o=new C.CustomError(this.getErrorText(t),this.errorOwner);return o.onUpdateErrorTextCallback=function(u){return u.text=n.getErrorText(t)},o},r.prototype.toString=function(){var t=this.getType().replace("validator","");return this.text&&(t+=", "+this.text),t},r}(P.Base),y=function(){function c(){}return c.prototype.run=function(r){var t=this,n=[],o=null,u=null;this.prepareAsyncValidators();for(var v=[],x=r.getValidators(),b=0;b<x.length;b++){var i=x[b];!o&&i.isValidateAllValues&&(o=r.getDataFilteredValues(),u=r.getDataFilteredProperties()),i.isAsync&&(this.asyncValidators.push(i),i.onAsyncCompleted=function(E){if(E&&E.error&&v.push(E.error),!!t.onAsyncCompleted){for(var S=0;S<t.asyncValidators.length;S++)if(t.asyncValidators[S].isRunning)return;t.onAsyncCompleted(v)}})}x=r.getValidators();for(var b=0;b<x.length;b++){var i=x[b],h=i.validate(r.validatedValue,r.getValidatorTitle(),o,u);h&&h.error&&n.push(h.error)}return this.asyncValidators.length==0&&this.onAsyncCompleted&&this.onAsyncCompleted([]),n},c.prototype.prepareAsyncValidators=function(){if(this.asyncValidators)for(var r=0;r<this.asyncValidators.length;r++)this.asyncValidators[r].onAsyncCompleted=null;this.asyncValidators=[]},c}(),p=function(c){V(r,c);function r(t,n){t===void 0&&(t=null),n===void 0&&(n=null);var o=c.call(this)||this;return o.minValue=t,o.maxValue=n,o}return r.prototype.getType=function(){return"numericvalidator"},r.prototype.validate=function(t,n,o,u){if(n===void 0&&(n=null),o===void 0&&(o=null),u===void 0&&(u=null),this.isValueEmpty(t))return null;if(!R.Helpers.isNumber(t))return new O(null,new C.RequreNumericError(this.text,this.errorOwner));var v=new O(R.Helpers.getNumber(t));return this.minValue!==null&&this.minValue>v.value?(v.error=this.createCustomError(n),v):this.maxValue!==null&&this.maxValue<v.value?(v.error=this.createCustomError(n),v):typeof t=="number"?null:v},r.prototype.getDefaultErrorText=function(t){var n=t||this.getLocalizationString("value");return this.minValue!==null&&this.maxValue!==null?this.getLocalizationFormatString("numericMinMax",n,this.minValue,this.maxValue):this.minValue!==null?this.getLocalizationFormatString("numericMin",n,this.minValue):this.getLocalizationFormatString("numericMax",n,this.maxValue)},Object.defineProperty(r.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(t){this.setPropertyValue("minValue",t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxValue",{get:function(){return this.getPropertyValue("maxValue")},set:function(t){this.setPropertyValue("maxValue",t)},enumerable:!1,configurable:!0}),r}(l),f=function(c){V(r,c);function r(){return c.call(this)||this}return r.prototype.getType=function(){return"textvalidator"},r.prototype.validate=function(t,n,o,u){if(n===void 0&&(n=null),o===void 0&&(o=null),u===void 0&&(u=null),this.isValueEmpty(t))return null;if(!this.allowDigits){var v=/^[A-Za-z\s\.]*$/;if(!v.test(t))return new O(null,this.createCustomError(n))}return this.minLength>0&&t.length<this.minLength?new O(null,this.createCustomError(n)):this.maxLength>0&&t.length>this.maxLength?new O(null,this.createCustomError(n)):null},r.prototype.getDefaultErrorText=function(t){return this.minLength>0&&this.maxLength>0?this.getLocalizationFormatString("textMinMaxLength",this.minLength,this.maxLength):this.minLength>0?this.getLocalizationFormatString("textMinLength",this.minLength):this.getLocalizationFormatString("textMaxLength",this.maxLength)},Object.defineProperty(r.prototype,"minLength",{get:function(){return this.getPropertyValue("minLength")},set:function(t){this.setPropertyValue("minLength",t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxLength",{get:function(){return this.getPropertyValue("maxLength")},set:function(t){this.setPropertyValue("maxLength",t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"allowDigits",{get:function(){return this.getPropertyValue("allowDigits")},set:function(t){this.setPropertyValue("allowDigits",t)},enumerable:!1,configurable:!0}),r}(l),e=function(c){V(r,c);function r(t,n){t===void 0&&(t=null),n===void 0&&(n=null);var o=c.call(this)||this;return o.minCount=t,o.maxCount=n,o}return r.prototype.getType=function(){return"answercountvalidator"},r.prototype.validate=function(t,n,o,u){if(n===void 0&&(n=null),o===void 0&&(o=null),u===void 0&&(u=null),t==null||t.constructor!=Array)return null;var v=t.length;return v==0?null:this.minCount&&v<this.minCount?new O(null,this.createCustomError(this.getLocalizationFormatString("minSelectError",this.minCount))):this.maxCount&&v>this.maxCount?new O(null,this.createCustomError(this.getLocalizationFormatString("maxSelectError",this.maxCount))):null},r.prototype.getDefaultErrorText=function(t){return t},Object.defineProperty(r.prototype,"minCount",{get:function(){return this.getPropertyValue("minCount")},set:function(t){this.setPropertyValue("minCount",t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxCount",{get:function(){return this.getPropertyValue("maxCount")},set:function(t){this.setPropertyValue("maxCount",t)},enumerable:!1,configurable:!0}),r}(l),m=function(c){V(r,c);function r(t){t===void 0&&(t=null);var n=c.call(this)||this;return n.regex=t,n}return r.prototype.getType=function(){return"regexvalidator"},r.prototype.validate=function(t,n,o,u){if(n===void 0&&(n=null),o===void 0&&(o=null),u===void 0&&(u=null),!this.regex||this.isValueEmpty(t))return null;var v=this.createRegExp();if(Array.isArray(t))for(var x=0;x<t.length;x++){var b=this.hasError(v,t[x],n);if(b)return b}return this.hasError(v,t,n)},r.prototype.hasError=function(t,n,o){return t.test(n)?null:new O(n,this.createCustomError(o))},Object.defineProperty(r.prototype,"regex",{get:function(){return this.getPropertyValue("regex")},set:function(t){this.setPropertyValue("regex",t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"insensitive",{get:function(){return this.getPropertyValue("insensitive")},set:function(t){this.setPropertyValue("insensitive",t)},enumerable:!1,configurable:!0}),r.prototype.createRegExp=function(){return new RegExp(this.regex,this.insensitive?"i":"")},r}(l),s=function(c){V(r,c);function r(){var t=c.call(this)||this;return t.re=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()=[\]\.,;:\s@\"]+\.)+[^<>()=[\]\.,;:\s@\"]{2,})$/i,t}return r.prototype.getType=function(){return"emailvalidator"},r.prototype.validate=function(t,n,o,u){return n===void 0&&(n=null),o===void 0&&(o=null),u===void 0&&(u=null),!t||this.re.test(t)?null:new O(t,this.createCustomError(n))},r.prototype.getDefaultErrorText=function(t){return this.getLocalizationString("invalidEmail")},r}(l),a=function(c){V(r,c);function r(t){t===void 0&&(t=null);var n=c.call(this)||this;return n.conditionRunner=null,n.isRunningValue=!1,n.expression=t,n}return r.prototype.getType=function(){return"expressionvalidator"},Object.defineProperty(r.prototype,"isValidateAllValues",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isAsync",{get:function(){return this.ensureConditionRunner()?this.conditionRunner.isAsync:!1},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isRunning",{get:function(){return this.isRunningValue},enumerable:!1,configurable:!0}),r.prototype.validate=function(t,n,o,u){var v=this;if(n===void 0&&(n=null),o===void 0&&(o=null),u===void 0&&(u=null),!this.ensureConditionRunner())return null;this.conditionRunner.onRunComplete=function(b){v.isRunningValue=!1,v.onAsyncCompleted&&v.onAsyncCompleted(v.generateError(b,t,n))},this.isRunningValue=!0;var x=this.conditionRunner.run(o,u);return this.conditionRunner.isAsync?null:(this.isRunningValue=!1,this.generateError(x,t,n))},r.prototype.generateError=function(t,n,o){return t?null:new O(n,this.createCustomError(o))},r.prototype.getDefaultErrorText=function(t){return this.getLocalizationFormatString("invalidExpression",this.expression)},r.prototype.ensureConditionRunner=function(){return this.conditionRunner?(this.conditionRunner.expression=this.expression,!0):this.expression?(this.conditionRunner=new A.ConditionRunner(this.expression),!0):!1},Object.defineProperty(r.prototype,"expression",{get:function(){return this.getPropertyValue("expression")},set:function(t){this.setPropertyValue("expression",t)},enumerable:!1,configurable:!0}),r}(l);D.Serializer.addClass("surveyvalidator",[{name:"text",serializationProperty:"locText"}]),D.Serializer.addClass("numericvalidator",["minValue:number","maxValue:number"],function(){return new p},"surveyvalidator"),D.Serializer.addClass("textvalidator",[{name:"minLength:number",default:0},{name:"maxLength:number",default:0},{name:"allowDigits:boolean",default:!0}],function(){return new f},"surveyvalidator"),D.Serializer.addClass("answercountvalidator",["minCount:number","maxCount:number"],function(){return new e},"surveyvalidator"),D.Serializer.addClass("regexvalidator",["regex",{name:"insensitive:boolean",visible:!1}],function(){return new m},"surveyvalidator"),D.Serializer.addClass("emailvalidator",[],function(){return new s},"surveyvalidator"),D.Serializer.addClass("expressionvalidator",["expression:condition"],function(){return new a},"surveyvalidator")}})})});var qn=_t((gt,on)=>{(function(M,d){typeof gt=="object"&&typeof on=="object"?on.exports=d(Mt(),ht()):typeof define=="function"&&define.amd?define("survey-knockout-ui",["knockout","survey-core"],d):typeof gt=="object"?gt["survey-knockout-ui"]=d(Mt(),ht()):M.SurveyKnockout=d(M.ko,M.Survey)})(gt,function(q,M){return function(d){var P={};function C(D){if(P[D])return P[D].exports;var A=P[D]={i:D,l:!1,exports:{}};return d[D].call(A.exports,A,A.exports,C),A.l=!0,A.exports}return C.m=d,C.c=P,C.d=function(D,A,R){C.o(D,A)||Object.defineProperty(D,A,{enumerable:!0,get:R})},C.r=function(D){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(D,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(D,"__esModule",{value:!0})},C.t=function(D,A){if(A&1&&(D=C(D)),A&8||A&4&&typeof D=="object"&&D&&D.__esModule)return D;var R=Object.create(null);if(C.r(R),Object.defineProperty(R,"default",{enumerable:!0,value:D}),A&2&&typeof D!="string")for(var V in D)C.d(R,V,function(O){return D[O]}.bind(null,V));return R},C.n=function(D){var A=D&&D.__esModule?function(){return D.default}:function(){return D};return C.d(A,"a",A),A},C.o=function(D,A){return Object.prototype.hasOwnProperty.call(D,A)},C.p="",C(C.s="./src/entries/knockout-ui.ts")}({"./node_modules/html-loader/index.js?interpolate!./node_modules/val-loader/index.js!./src/knockout/components/panel/panel.html":function(d,P){d.exports="<!-- ko template: { name: 'survey-panel', data: question, as: 'question', afterRender: question.koPanelAfterRender } --><!-- /ko -->"},"./node_modules/html-loader/index.js?interpolate!./node_modules/val-loader/index.js!./src/knockout/components/popup/popup.html":function(d,P){d.exports=`<div>
  <!-- ko with: popupViewModel -->
  <div class="sv-popup" tabindex="-1"
    data-bind="visible: isVisible, click: function(data, event) { clickOutside(event); return true; }, class: styleClass, event: { keydown: function(data, event) { onKeyDown(event); return true; } }">
    <div class="sv-popup__container"
      data-bind="style: { left: left, top: top, height: height, minWidth: minWidth, width: width }, click: function() { return true; }, clickBubble: false">
      <div class="sv-popup__shadow">
        <!-- ko if: $data.showHeader -->
        <!-- ko template: { name: $data.popupHeaderTemplate, data: $data } -->
        <!-- /ko -->
        <!-- /ko -->
        <div class="sv-popup__body-content">
          <!-- ko if: !!title  -->
          <div class="sv-popup__body-header" data-bind="text: title"></div>
          <!-- /ko -->
          <div class="sv-popup__scrolling-content">
            <div class="sv-popup__content"
              data-bind="component: { name: contentComponentName, params: contentComponentData }"></div>
          </div>
          <!-- ko if: showFooter  -->
          <div class="sv-popup__body-footer">
            <!-- ko component: { name: "sv-action-bar", params: { model: $data.footerToolbar } } -->
            <!-- /ko -->
          </div>
          <!-- /ko -->
        </div>
      </div>
    </div>
  </div>
  <!-- /ko -->
</div>
`},"./node_modules/html-loader/index.js?interpolate!./node_modules/val-loader/index.js!./src/knockout/components/progress/buttons.html":function(d,P){d.exports=`<div data-bind="css: model.getRootCss(container)" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-label="progress">
    <!-- ko if: canShowHeader -->
    <div data-bind="css: survey.css.progressButtonsHeader">
        <div data-bind="css: survey.css.progressButtonsPageTitle, text: model.headerText, attr: { title: model.headerText }"></div>
    </div>
    <!-- /ko -->
    <div data-bind="css: survey.css.progressButtonsContainer">
        <div data-bind="css: getScrollButtonCss(true), click: clickScrollButton.bind($data, $element.nextElementSibling, true)" role="button"></div>
        <div data-bind="css: survey.css.progressButtonsListContainer">
            <ul data-bind="foreach: survey.visiblePages, css: survey.css.progressButtonsList">
                <li data-bind="css: $parent.model.getListElementCss($index()), click: $parent.model.isListElementClickable($index()) ? $parent.model.clickListElement : null, attr: { 'data-page-number' : $parent.model.getItemNumber($data) }">
                    <div data-bind="css: css.progressButtonsConnector"></div>
                    <!-- ko if: $parent.canShowItemTitles -->
                    <div data-bind="css: css.progressButtonsPageTitle, text: renderedNavigationTitle, attr: { title: renderedNavigationTitle }"></div>
                    <div data-bind="css: css.progressButtonsPageDescription, text: locNavigationDescription.koRenderedHtml(), attr: { title: locNavigationDescription.koRenderedHtml() }"></div>
                    <!-- /ko -->
                </li>
            </ul>
        </div>
        <div data-bind="css: getScrollButtonCss(false), click: clickScrollButton.bind($data, $element.previousElementSibling, false)" role="button"></div>
    </div>
    <!-- ko if: canShowFooter -->
    <div data-bind="css: survey.css.progressButtonsFooter">
        <div data-bind="css: survey.css.progressButtonsPageTitle, text: model.footerText, attr: { title: model.footerText }"></div>
    </div>
    <!-- /ko -->
</div>`},"./node_modules/html-loader/index.js?interpolate!./node_modules/val-loader/index.js!./src/knockout/components/progress/progress.html":function(d,P){d.exports=`<div data-bind="css: getProgressCssClasses()">
    <div data-bind="css: model.css.progressBar, style: { width: model.progressValue + '%' }"
        role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-label="progress">
        <span data-bind="text: model.progressText, css: getProgressTextInBarCss(model.css)"></span>
    </div>
    <span data-bind="text: model.progressText, css: getProgressTextUnderBarCss(model.css)"></span>
</div>`},"./node_modules/html-loader/index.js?interpolate!./node_modules/val-loader/index.js!./src/knockout/components/progress/toc.html":function(d,P){d.exports=`<!-- ko with: tocModel -->
<div data-bind="css: containerCss">
    <!-- ko ifnot: isMobile -->
    <sv-list params="model: listModel"></sv-list>
    <!-- /ko -->
    <!-- ko if: isMobile -->
    <div class="" data-bind="click: togglePopup, key2click">
        <sv-svg-icon class="" params="iconName: icon, size: 24"></sv-svg-icon>
        <sv-popup params="model: popupModel"></sv-popup>
    </div>
    <!-- /ko -->
</div>
<!-- /ko -->`},"./node_modules/html-loader/index.js?interpolate!./node_modules/val-loader/index.js!./src/knockout/templates/entry.html":function(d,P,C){d.exports=""+C("./src/knockout/templates/comment.html")+`
`+C("./src/knockout/templates/flowpanel.html")+`
`+C("./src/knockout/templates/header.html")+`
`+C("./src/knockout/templates/index.html")+`
`+C("./src/knockout/templates/page.html")+`
`+C("./src/knockout/templates/panel.html")+`
`+C("./src/knockout/templates/rows.html")+`
`+C("./src/knockout/templates/row.html")+`
`+C("./src/knockout/templates/string.html")+`
`+C("./src/knockout/templates/timerpanel.html")+`
`+C("./src/knockout/templates/question.html")+`
`+C("./src/knockout/templates/questioncontent.html")+`
`+C("./src/knockout/templates/questiontitle.html")+`
`+C("./src/knockout/templates/question-boolean.html")+`
`+C("./src/knockout/templates/question-checkbox.html")+`
`+C("./src/knockout/templates/question-tagbox.html")+`
`+C("./src/knockout/templates/question-ranking.html")+`
`+C("./src/knockout/templates/question-comment.html")+`
`+C("./src/knockout/templates/question-composite.html")+`
`+C("./src/knockout/templates/question-custom.html")+`
`+C("./src/knockout/templates/question-dropdown.html")+`
`+C("./src/knockout/templates/question-empty.html")+`
`+C("./src/knockout/templates/question-errors.html")+`
`+C("./src/knockout/templates/question-expression.html")+`
`+C("./src/knockout/templates/question-file.html")+`
`+C("./src/knockout/templates/question-html.html")+`
`+C("./src/knockout/templates/question-image.html")+`
`+C("./src/knockout/templates/question-imagepicker.html")+`
`+C("./src/knockout/templates/question-matrix.html")+`
`+C("./src/knockout/templates/question-matrixdynamic.html")+`
`+C("./src/knockout/templates/question-matrixdropdown.html")+`
`+C("./src/knockout/templates/question-multipletext.html")+`
`+C("./src/knockout/templates/question-paneldynamic.html")+`
`+C("./src/knockout/templates/question-paneldynamic-navigator.html")+`
`+C("./src/knockout/templates/question-radiogroup.html")+`
`+C("./src/knockout/templates/question-rating.html")+`
`+C("./src/knockout/templates/question-signaturepad.html")+`
`+C("./src/knockout/templates/question-text.html")+`
`+C("./src/knockout/templates/question-buttongroup.html")+`
`+C("./src/knockout/templates/popup-pointer.html")},"./node_modules/html-loader/index.js?interpolate!./node_modules/val-loader/index.js!./src/knockout/templates/window.html":function(d,P){d.exports=`<div data-bind="css: cssRoot, style:{width: renderedWidth, maxWidth: renderedWidth}, event: { scroll: $data.onScroll }">
    <div data-bind="css: cssRootContent">
        <div data-bind="css: cssHeaderRoot, {cssRootCollapsedMod: isCollapsed}">

            <!-- ko if: isCollapsed && !!locTitle -->  
            <div data-bind="css: cssHeaderTitleCollapsed, text: locTitle.koRenderedHtml"></div>
            <!-- /ko -->
    
            <div data-bind="css: cssHeaderButtonsContainer">
                <div data-bind="click:doExpand, css: cssHeaderCollapseButton">
                    <!-- ko if: isExpanded-->  
                    <!-- ko component: { name: 'sv-svg-icon', params: { iconName: 'icon-minimize_16x16', size: '16' } } --><!-- /ko -->
                    <!-- /ko -->
                    
                    <!-- ko if: isCollapsed-->  
                    <!-- ko component: { name: 'sv-svg-icon', params: { iconName: 'icon-restore_16x16', size: '16' } } --><!-- /ko -->
                    <!-- /ko -->
                </div>
                <!-- ko if: allowClose -->      
                <div data-bind="click:doHide, css: cssHeaderCloseButton">
                <!-- ko component: { name: 'sv-svg-icon', params: { iconName: 'icon-close_16x16', size: '16' } } --><!-- /ko -->
                </div>
                <!-- /ko -->
            </div>
        </div>
        <div data-bind="visible:isExpanded, css: cssBody">
            <survey params="survey: survey"></survey>
        </div>
    </div>
</div>`},"./src/entries/core-export.ts":function(d,P,C){"use strict";C.r(P);var D=C("survey-core"),A=C.n(D);C.d(P,"SurveyModel",function(){return D.SurveyModel}),C.d(P,"SurveyWindowModel",function(){return D.SurveyWindowModel}),C.d(P,"settings",function(){return D.settings}),C.d(P,"surveyLocalization",function(){return D.surveyLocalization}),C.d(P,"surveyStrings",function(){return D.surveyStrings})},"./src/entries/knockout-ui-model.ts":function(d,P,C){"use strict";C.r(P);var D=C("./src/knockout/kosurvey.ts");C.d(P,"Survey",function(){return D.Survey}),C.d(P,"Model",function(){return D.Survey});var A=C("./src/knockout/koPopupSurvey.ts");C.d(P,"PopupSurvey",function(){return A.PopupSurvey}),C.d(P,"SurveyWindow",function(){return A.SurveyWindow});var R=C("./src/knockout/kobase.ts");C.d(P,"ImplementorBase",function(){return R.ImplementorBase});var V=C("./src/knockout/kopage.ts");C.d(P,"QuestionRow",function(){return V.QuestionRow}),C.d(P,"Page",function(){return V.Page}),C.d(P,"Panel",function(){return V.Panel});var O=C("./src/knockout/koflowpanel.ts");C.d(P,"FlowPanel",function(){return O.FlowPanel});var l=C("./src/knockout/koquestion.ts");C.d(P,"QuestionImplementor",function(){return l.QuestionImplementor});var y=C("./src/knockout/koquestion_baseselect.ts");C.d(P,"QuestionSelectBaseImplementor",function(){return y.QuestionSelectBaseImplementor}),C.d(P,"QuestionCheckboxBaseImplementor",function(){return y.QuestionCheckboxBaseImplementor});var p=C("./src/knockout/koquestion_checkbox.ts");C.d(P,"QuestionCheckbox",function(){return p.QuestionCheckbox});var f=C("./src/knockout/koquestion_tagbox.ts");C.d(P,"QuestionTagbox",function(){return f.QuestionTagbox});var e=C("./src/knockout/koquestion_ranking.ts");C.d(P,"QuestionRanking",function(){return e.QuestionRanking});var m=C("./src/knockout/koquestion_comment.ts");C.d(P,"QuestionComment",function(){return m.QuestionComment});var s=C("./src/knockout/koquestion_dropdown.ts");C.d(P,"QuestionDropdown",function(){return s.QuestionDropdown});var a=C("./src/knockout/koquestion_file.ts");C.d(P,"QuestionFile",function(){return a.QuestionFile});var c=C("./src/knockout/koquestion_html.ts");C.d(P,"QuestionHtml",function(){return c.QuestionHtml});var r=C("./src/knockout/koquestion_matrix.ts");C.d(P,"QuestionMatrix",function(){return r.QuestionMatrix});var t=C("./src/knockout/koquestion_matrixdropdown.ts");C.d(P,"QuestionMatrixDropdown",function(){return t.QuestionMatrixDropdown});var n=C("./src/knockout/koquestion_matrixdynamic.ts");C.d(P,"QuestionMatrixDynamicImplementor",function(){return n.QuestionMatrixDynamicImplementor}),C.d(P,"QuestionMatrixDynamic",function(){return n.QuestionMatrixDynamic});var o=C("./src/knockout/koquestion_paneldynamic.ts");C.d(P,"QuestionPanelDynamic",function(){return o.QuestionPanelDynamic});var u=C("./src/knockout/koquestion_multipletext.ts");C.d(P,"MultipleTextItem",function(){return u.MultipleTextItem}),C.d(P,"QuestionMultipleText",function(){return u.QuestionMultipleText});var v=C("./src/knockout/koquestion_radiogroup.ts");C.d(P,"QuestionRadiogroup",function(){return v.QuestionRadiogroup});var x=C("./src/knockout/koquestion_rating.ts");C.d(P,"QuestionRating",function(){return x.QuestionRating}),C.d(P,"QuestionRatingImplementor",function(){return x.QuestionRatingImplementor});var b=C("./src/knockout/koquestion_text.ts");C.d(P,"QuestionText",function(){return b.QuestionText});var i=C("./src/knockout/koquestion_boolean.ts");C.d(P,"QuestionBoolean",function(){return i.QuestionBoolean});var h=C("./src/knockout/koquestion_empty.ts");C.d(P,"QuestionEmpty",function(){return h.QuestionEmpty});var E=C("./src/knockout/koquestion_expression.ts");C.d(P,"QuestionExpression",function(){return E.QuestionExpression});var S=C("./src/knockout/koquestion_imagepicker.ts");C.d(P,"QuestionImagePicker",function(){return S.QuestionImagePicker}),C.d(P,"PopupSurveyImplementor",function(){return A.PopupSurveyImplementor});var L=C("./src/knockout/templateText.ts");C.d(P,"SurveyTemplateText",function(){return L.SurveyTemplateText});var j=C("./src/knockout/koquestion_image.ts");C.d(P,"QuestionImage",function(){return j.QuestionImage});var w=C("./src/knockout/koquestion_signaturepad.ts");C.d(P,"QuestionSignaturePad",function(){return w.QuestionSignaturePad});var g=C("./src/knockout/koquestion_custom.ts");C.d(P,"QuestionCustom",function(){return g.QuestionCustom});var I=C("./src/knockout/koquestion_buttongroup.ts");C.d(P,"QuestionButtonGroup",function(){return I.QuestionButtonGroup});var T=C("./src/knockout/components/action-bar/action-bar.ts");C.d(P,"ActionBarItemViewModel",function(){return T.ActionBarItemViewModel}),C.d(P,"ActionBarItemDropdownViewModel",function(){return T.ActionBarItemDropdownViewModel}),C.d(P,"ActionBarSeparatorViewModel",function(){return T.ActionBarSeparatorViewModel}),C.d(P,"ActionContainerImplementor",function(){return T.ActionContainerImplementor});var B=C("./src/knockout/components/boolean-checkbox/boolean-checkbox.ts");C.d(P,"CheckboxViewModel",function(){return B.CheckboxViewModel});var N=C("./src/knockout/components/boolean-radio/boolean-radio.ts");C.d(P,"BooleanRadioItemViewModel",function(){return N.BooleanRadioItemViewModel}),C.d(P,"BooleanRadioViewModel",function(){return N.BooleanRadioViewModel});var H=C("./src/knockout/components/panel/panel.ts");C.d(P,"PanelViewModel",function(){return H.PanelViewModel});var k=C("./src/knockout/components/popup/popup.ts");C.d(P,"PopupViewModel",function(){return k.PopupViewModel}),C.d(P,"showModal",function(){return k.showModal}),C.d(P,"showDialog",function(){return k.showDialog});var W=C("./src/knockout/components/progress/buttons.ts");C.d(P,"ProgressButtonsViewModel",function(){return W.ProgressButtonsViewModel});var K=C("./src/knockout/components/progress/progress.ts");C.d(P,"ProgressViewModel",function(){return K.ProgressViewModel});var z=C("./src/knockout/components/progress/toc.ts"),G=C("./src/knockout/components/components-container/components-container.ts");C.d(P,"ComponentsContainer",function(){return G.ComponentsContainer});var $=C("./src/knockout/components/template-renderer/template-renderer.ts"),Z=C("./src/knockout/components/title/title-element.ts");C.d(P,"TitleElementViewModel",function(){return Z.TitleElementViewModel});var X=C("./src/knockout/components/title/title-content.ts");C.d(P,"TitleContentViewModel",function(){return X.TitleContentViewModel});var ee=C("./src/knockout/components/title/title-actions.ts");C.d(P,"TitleActionViewModel",function(){return ee.TitleActionViewModel});var ne=C("./src/knockout/components/string-editor/string-editor.ts");C.d(P,"StringEditorViewModel",function(){return ne.StringEditorViewModel});var oe=C("./src/knockout/components/string-viewer/string-viewer.ts");C.d(P,"StringViewerViewModel",function(){return oe.StringViewerViewModel});var ce=C("./src/knockout/components/logo-image/logo-image.ts");C.d(P,"LogoImageViewModel",function(){return ce.LogoImageViewModel});var ye=C("./src/knockout/components/skeleton/skeleton.ts");C.d(P,"Skeleton",function(){return ye.Skeleton});var me=C("./src/knockout/components/character-counter/character-counter.ts");C.d(P,"CharacterCounterComponent",function(){return me.CharacterCounterComponent});var Ce=C("./src/knockout/components/rating-dropdown/rating-dropdown.ts");C.d(P,"RatingItemViewComponent",function(){return Ce.RatingItemViewComponent}),C.d(P,"RatingDropdownViewModel",function(){return Ce.RatingDropdownViewModel});var ve=C("./src/knockout/components/rating/rating-item.ts");C.d(P,"RatingItemViewModel",function(){return ve.RatingItemViewModel});var be=C("./src/knockout/components/rating/rating-item-star.ts");C.d(P,"RatingItemStarViewModel",function(){return be.RatingItemStarViewModel});var Pe=C("./src/knockout/components/rating/rating-item-smiley.ts");C.d(P,"RatingItemSmileyViewModel",function(){return Pe.RatingItemSmileyViewModel});var fe=C("./src/knockout/components/dropdown/dropdown.ts");C.d(P,"DropdownViewModel",function(){return fe.DropdownViewModel});var Oe=C("./src/knockout/components/dropdown-select/dropdown-select.ts");C.d(P,"DropdownSelectViewModel",function(){return Oe.DropdownSelectViewModel});var Ve=C("./src/knockout/components/tagbox/tagbox-item.ts");C.d(P,"TagboxViewComponent",function(){return Ve.TagboxViewComponent});var Te=C("./src/knockout/components/tagbox/tagbox.ts");C.d(P,"TagboxViewModel",function(){return Te.TagboxViewModel});var Ie=C("./src/knockout/components/header/index.ts"),Rt=C("./src/knockout/components/file/choose-file.ts"),xe=C("./src/knockout/components/file/file-preview.ts");C.d(P,"SurveyFilePreview",function(){return xe.SurveyFilePreview});var Qe=C("./src/knockout/components/list/list.ts");C.d(P,"ListItemViewComponent",function(){return Qe.ListItemViewComponent}),C.d(P,"ListViewComponent",function(){return Qe.ListViewComponent});var Ye=C("./src/knockout/components/svg-icon/svg-icon.ts");C.d(P,"SvgIconViewModel",function(){return Ye.SvgIconViewModel});var Xe=C("./src/knockout/components/matrix-actions/remove-button/remove-button.ts");C.d(P,"SurveyQuestionMatrixDynamicRemoveButton",function(){return Xe.SurveyQuestionMatrixDynamicRemoveButton});var ze=C("./src/knockout/components/matrix-actions/detail-button/detail-button.ts");C.d(P,"SurveyQuestionMatrixDetailButton",function(){return ze.SurveyQuestionMatrixDetailButton});var _e=C("./src/knockout/components/matrix-actions/drag-drop-icon/drag-drop-icon.ts");C.d(P,"SurveyQuestionMatrixDynamicDragDropIcon",function(){return _e.SurveyQuestionMatrixDynamicDragDropIcon});var et=C("./src/knockout/components/button-group/button-group-item.ts");C.d(P,"ButtonGroupItemViewModel",function(){return et.ButtonGroupItemViewModel});var Ke=C("./src/knockout/components/survey-actions/survey-nav-button.ts");C.d(P,"SurveyNavigationButton",function(){return Ke.SurveyNavigationButton});var qe=C("./src/knockout/components/paneldynamic-actions/paneldynamic-actions.ts");C.d(P,"SurveyQuestionPaneldynamicActioons",function(){return qe.SurveyQuestionPaneldynamicActioons});var Ae=C("./src/knockout/components/brand-info/brand-info.ts");C.d(P,"BrandInfoComponent",function(){return Ae.BrandInfoComponent});var tt=C("./src/knockout/components/notifier/notifier.ts");C.d(P,"NotifierViewModel",function(){return tt.NotifierViewModel});var nt=C("./src/knockout/components/loading-indicator/loading-indicator.ts");C.d(P,"LoadingIndicatorViewModel",function(){return nt.LoadingIndicatorViewModel});var mt=C("./src/knockout/svg-bundle.ts"),Le=C("knockout"),yt=C.n(Le),$e=C("survey-core"),vt=C.n($e);Object(D.registerTemplateEngine)(Le,$e.SurveyModel.platform)},"./src/entries/knockout-ui.ts":function(d,P,C){"use strict";C.r(P);var D=C("./src/entries/knockout-ui-model.ts");C.d(P,"Survey",function(){return D.Survey}),C.d(P,"Model",function(){return D.Model}),C.d(P,"PopupSurvey",function(){return D.PopupSurvey}),C.d(P,"SurveyWindow",function(){return D.SurveyWindow}),C.d(P,"ImplementorBase",function(){return D.ImplementorBase}),C.d(P,"QuestionRow",function(){return D.QuestionRow}),C.d(P,"Page",function(){return D.Page}),C.d(P,"Panel",function(){return D.Panel}),C.d(P,"FlowPanel",function(){return D.FlowPanel}),C.d(P,"QuestionImplementor",function(){return D.QuestionImplementor}),C.d(P,"QuestionSelectBaseImplementor",function(){return D.QuestionSelectBaseImplementor}),C.d(P,"QuestionCheckboxBaseImplementor",function(){return D.QuestionCheckboxBaseImplementor}),C.d(P,"QuestionCheckbox",function(){return D.QuestionCheckbox}),C.d(P,"QuestionTagbox",function(){return D.QuestionTagbox}),C.d(P,"QuestionRanking",function(){return D.QuestionRanking}),C.d(P,"QuestionComment",function(){return D.QuestionComment}),C.d(P,"QuestionDropdown",function(){return D.QuestionDropdown}),C.d(P,"QuestionFile",function(){return D.QuestionFile}),C.d(P,"QuestionHtml",function(){return D.QuestionHtml}),C.d(P,"QuestionMatrix",function(){return D.QuestionMatrix}),C.d(P,"QuestionMatrixDropdown",function(){return D.QuestionMatrixDropdown}),C.d(P,"QuestionMatrixDynamicImplementor",function(){return D.QuestionMatrixDynamicImplementor}),C.d(P,"QuestionMatrixDynamic",function(){return D.QuestionMatrixDynamic}),C.d(P,"QuestionPanelDynamic",function(){return D.QuestionPanelDynamic}),C.d(P,"MultipleTextItem",function(){return D.MultipleTextItem}),C.d(P,"QuestionMultipleText",function(){return D.QuestionMultipleText}),C.d(P,"QuestionRadiogroup",function(){return D.QuestionRadiogroup}),C.d(P,"QuestionRating",function(){return D.QuestionRating}),C.d(P,"QuestionRatingImplementor",function(){return D.QuestionRatingImplementor}),C.d(P,"QuestionText",function(){return D.QuestionText}),C.d(P,"QuestionBoolean",function(){return D.QuestionBoolean}),C.d(P,"QuestionEmpty",function(){return D.QuestionEmpty}),C.d(P,"QuestionExpression",function(){return D.QuestionExpression}),C.d(P,"QuestionImagePicker",function(){return D.QuestionImagePicker}),C.d(P,"PopupSurveyImplementor",function(){return D.PopupSurveyImplementor}),C.d(P,"SurveyTemplateText",function(){return D.SurveyTemplateText}),C.d(P,"QuestionImage",function(){return D.QuestionImage}),C.d(P,"QuestionSignaturePad",function(){return D.QuestionSignaturePad}),C.d(P,"QuestionCustom",function(){return D.QuestionCustom}),C.d(P,"QuestionButtonGroup",function(){return D.QuestionButtonGroup}),C.d(P,"ActionBarItemViewModel",function(){return D.ActionBarItemViewModel}),C.d(P,"ActionBarItemDropdownViewModel",function(){return D.ActionBarItemDropdownViewModel}),C.d(P,"ActionBarSeparatorViewModel",function(){return D.ActionBarSeparatorViewModel}),C.d(P,"ActionContainerImplementor",function(){return D.ActionContainerImplementor}),C.d(P,"CheckboxViewModel",function(){return D.CheckboxViewModel}),C.d(P,"BooleanRadioItemViewModel",function(){return D.BooleanRadioItemViewModel}),C.d(P,"BooleanRadioViewModel",function(){return D.BooleanRadioViewModel}),C.d(P,"PanelViewModel",function(){return D.PanelViewModel}),C.d(P,"PopupViewModel",function(){return D.PopupViewModel}),C.d(P,"showModal",function(){return D.showModal}),C.d(P,"showDialog",function(){return D.showDialog}),C.d(P,"ProgressButtonsViewModel",function(){return D.ProgressButtonsViewModel}),C.d(P,"ProgressViewModel",function(){return D.ProgressViewModel}),C.d(P,"ComponentsContainer",function(){return D.ComponentsContainer}),C.d(P,"TitleElementViewModel",function(){return D.TitleElementViewModel}),C.d(P,"TitleContentViewModel",function(){return D.TitleContentViewModel}),C.d(P,"TitleActionViewModel",function(){return D.TitleActionViewModel}),C.d(P,"StringEditorViewModel",function(){return D.StringEditorViewModel}),C.d(P,"StringViewerViewModel",function(){return D.StringViewerViewModel}),C.d(P,"LogoImageViewModel",function(){return D.LogoImageViewModel}),C.d(P,"Skeleton",function(){return D.Skeleton}),C.d(P,"CharacterCounterComponent",function(){return D.CharacterCounterComponent}),C.d(P,"RatingItemViewComponent",function(){return D.RatingItemViewComponent}),C.d(P,"RatingDropdownViewModel",function(){return D.RatingDropdownViewModel}),C.d(P,"RatingItemViewModel",function(){return D.RatingItemViewModel}),C.d(P,"RatingItemStarViewModel",function(){return D.RatingItemStarViewModel}),C.d(P,"RatingItemSmileyViewModel",function(){return D.RatingItemSmileyViewModel}),C.d(P,"DropdownViewModel",function(){return D.DropdownViewModel}),C.d(P,"DropdownSelectViewModel",function(){return D.DropdownSelectViewModel}),C.d(P,"TagboxViewComponent",function(){return D.TagboxViewComponent}),C.d(P,"TagboxViewModel",function(){return D.TagboxViewModel}),C.d(P,"SurveyFilePreview",function(){return D.SurveyFilePreview}),C.d(P,"ListItemViewComponent",function(){return D.ListItemViewComponent}),C.d(P,"ListViewComponent",function(){return D.ListViewComponent}),C.d(P,"SvgIconViewModel",function(){return D.SvgIconViewModel}),C.d(P,"SurveyQuestionMatrixDynamicRemoveButton",function(){return D.SurveyQuestionMatrixDynamicRemoveButton}),C.d(P,"SurveyQuestionMatrixDetailButton",function(){return D.SurveyQuestionMatrixDetailButton}),C.d(P,"SurveyQuestionMatrixDynamicDragDropIcon",function(){return D.SurveyQuestionMatrixDynamicDragDropIcon}),C.d(P,"ButtonGroupItemViewModel",function(){return D.ButtonGroupItemViewModel}),C.d(P,"SurveyNavigationButton",function(){return D.SurveyNavigationButton}),C.d(P,"SurveyQuestionPaneldynamicActioons",function(){return D.SurveyQuestionPaneldynamicActioons}),C.d(P,"BrandInfoComponent",function(){return D.BrandInfoComponent}),C.d(P,"NotifierViewModel",function(){return D.NotifierViewModel}),C.d(P,"LoadingIndicatorViewModel",function(){return D.LoadingIndicatorViewModel});var A=C("./src/entries/core-export.ts");C.d(P,"SurveyModel",function(){return A.SurveyModel}),C.d(P,"SurveyWindowModel",function(){return A.SurveyWindowModel}),C.d(P,"settings",function(){return A.settings}),C.d(P,"surveyLocalization",function(){return A.surveyLocalization}),C.d(P,"surveyStrings",function(){return A.surveyStrings});var R=C("survey-core"),V=C.n(R);Object(R.checkLibraryVersion)("1.9.128","survey-knockout-ui")},"./src/knockout/components/action-bar/action-bar-item-dropdown.html":function(d,P){d.exports=`<!-- ko with: $data.model.item -->
<button type="button"
  data-bind="click: function(s, args) { $data.action($data, getIsTrusted(args)); }, key2click: { processEsc: false }, css: getActionBarItemCss(), attr: { disabled: $data.enabled !== undefined && !ko.unwrap($data.enabled), title: $data.tooltip || $data.title, 'role': $data.ariaRole }">
  <!-- ko if: $data.iconName -->
  <!-- ko component: { name: 'sv-svg-icon', params: { iconName: iconName, size: iconSize, title: $data.tooltip || $data.title, css: $data.cssClasses.itemIcon } } -->
  <!-- /ko -->
  <!-- /ko -->
  <!-- ko if: $data.hasTitle -->
  <span data-bind="text: title, css: getActionBarItemTitleCss()"></span>
  <!-- /ko -->
</button>
<sv-popup params="{ model: popupModel, getTarget: $parent.getTarget }"></sv-popup>
<!-- /ko -->`},"./src/knockout/components/action-bar/action-bar-item-dropdown.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"ActionBarItemDropdownViewModel",function(){return l});var D=C("knockout"),A=C.n(D),R=C("survey-core"),V=C.n(R),O=C("./src/knockout/components/action-bar/action-bar-item-dropdown.html"),l;D.components.register("sv-action-bar-item-dropdown",{viewModel:{createViewModel:function(y){return{model:new R.ActionDropdownViewModel(y.item),getTarget:R.getActionDropdownButtonTarget}}},template:O})},"./src/knockout/components/action-bar/action-bar-item.html":function(d,P){d.exports=`<!-- ko with: $data.item -->
<button
  type="button"
  data-bind="click: function(s, args) { $data.action($data, getIsTrusted(args)); }, key2click: { processEsc: false }, disable: $data.disabled, css: getActionBarItemCss(), attr: { title: $data.tooltip || $data.title, 'aria-checked': $data.ariaChecked, 'role': $data.ariaRole, 'aria-expanded': typeof $data.ariaExpanded === 'undefined' ? null : ($data.ariaExpanded ? 'true': 'false') }"
>
  <!-- ko if: $data.iconName -->
  <!-- ko component: { name: 'sv-svg-icon', params: { css: $data.cssClasses.itemIcon, iconName: iconName, size: iconSize, title: $data.tooltip || $data.title } } --><!-- /ko -->
  <!-- /ko -->
  <!-- ko if: $data.hasTitle -->
  <span
    data-bind="text: title, css: getActionBarItemTitleCss()"
  ></span>
  <!-- /ko -->
</button>
<!-- /ko -->`},"./src/knockout/components/action-bar/action-bar-item.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"ActionBarItemViewModel",function(){return V});var D=C("knockout"),A=C.n(D),R=C("./src/knockout/components/action-bar/action-bar-item.html"),V;D.components.register("sv-action-bar-item",{viewModel:{createViewModel:function(O){return O}},template:R})},"./src/knockout/components/action-bar/action-bar-separator.html":function(d,P){d.exports='<div class="sv-action-bar-separator" data-bind="css: $data.css"></div>'},"./src/knockout/components/action-bar/action-bar-separator.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"ActionBarSeparatorViewModel",function(){return V});var D=C("knockout"),A=C.n(D),R=C("./src/knockout/components/action-bar/action-bar-separator.html"),V;D.components.register("sv-action-bar-separator",{viewModel:{createViewModel:function(O,l){var y=O.item;return y?{css:y.innerCss}:{}}},template:R})},"./src/knockout/components/action-bar/action-bar.html":function(d,P){d.exports=`<!-- ko if: model.hasActions -->
<div
  data-bind="css: model.getRootCss(), click: handleClick ? function() { return true; } : undefined, clickBubble: handleClick ? false : undefined"
>
  <!-- ko foreach: model.renderedActions -->
  <!-- ko component: { name: 'sv-action', params: { item: $data } } -->
  <!-- /ko -->
  <!--/ko-->
</div>
<!--/ko-->
`},"./src/knockout/components/action-bar/action-bar.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"ActionContainerImplementor",function(){return e});var D=C("knockout"),A=C.n(D),R=C("./src/knockout/kobase.ts"),V=C("./src/knockout/components/action-bar/action.ts"),O=C("./src/knockout/components/action-bar/action-bar-item.ts");C.d(P,"ActionBarItemViewModel",function(){return O.ActionBarItemViewModel});var l=C("./src/knockout/components/action-bar/action-bar-item-dropdown.ts");C.d(P,"ActionBarItemDropdownViewModel",function(){return l.ActionBarItemDropdownViewModel});var y=C("./src/knockout/components/action-bar/action-bar-separator.ts");C.d(P,"ActionBarSeparatorViewModel",function(){return y.ActionBarSeparatorViewModel});var p=function(){var m=function(s,a){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,r){c.__proto__=r}||function(c,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(c[t]=r[t])},m(s,a)};return function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");m(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),f=C("./src/knockout/components/action-bar/action-bar.html"),e=function(m){p(s,m);function s(a,c){c===void 0&&(c=!0);var r=m.call(this,a)||this;return r.model=a,r.handleClick=c,r.itemsSubscription=D.computed(function(){(a.renderedActions||a.items||a.actions).forEach(function(t){t.stateItem?new R.ImplementorBase(t.stateItem):new R.ImplementorBase(t)})}),r}return s.prototype.dispose=function(){m.prototype.dispose.call(this),this.itemsSubscription.dispose(),this.model.resetResponsivityManager()},s}(R.ImplementorBase);D.components.register("sv-action-bar",{viewModel:{createViewModel:function(m,s){var a=m.handleClick!==void 0?m.handleClick:!0,c=m.model,r=s.element.nextElementSibling;return m.model.initResponsivityManager(r),new e(c,a)}},template:f})},"./src/knockout/components/action-bar/action.html":function(d,P){d.exports=`<!-- ko with: $data.item -->\r
<div data-bind="class: $data.getActionRootCss(), attr: { id: $data.id }">\r
    <!-- ko ifnot: $data.isEmpty -->\r
    <div class="sv-action__content">\r
        <!-- ko if: $data.needSeparator -->\r
        <sv-action-bar-separator></sv-action-bar-separator>\r
        <!-- /ko -->\r
        <!-- ko ifnot: $data.template-->\r
        <!-- ko component: { name: $data.component || 'sv-action-bar-item', params: { item: $data } } -->\r
        <!-- /ko -->\r
        <!-- /ko -->\r
        <!-- ko if: $data.template  -->\r
        <!-- ko template: { name: $data.template, data: $data.data || $data } -->\r
        <!-- /ko -->\r
        <!-- /ko -->\r
    </div>\r
    <!-- /ko -->\r
</div>\r
<!-- /ko -->`},"./src/knockout/components/action-bar/action.ts":function(d,P,C){"use strict";C.r(P);var D=C("knockout"),A=C.n(D),R=C("./src/knockout/kobase.ts"),V=C("./src/knockout/components/action-bar/action.html");D.components.register("sv-action",{viewModel:{createViewModel:function(O){var l=O.item;return new R.ImplementorBase(l),O}},template:V})},"./src/knockout/components/boolean-checkbox/boolean-checkbox.html":function(d,P){d.exports=`<div data-bind="css: question.cssClasses.rootCheckbox">
  <div data-bind="css: question.getCheckboxItemCss()">
    <label data-bind="css: question.cssClasses.checkboxLabel">
      <input
        type="checkbox"
        data-bind="value: question.booleanValue, css: question.cssClasses.controlCheckbox, attr: {name: question.name, id: question.inputId, 'aria-required': question.ariaRequired, 'aria-label': question.ariaLabel, 'aria-invalid': question.ariaInvalid, 'aria-describedby': question.ariaDescribedBy}, checked: question.booleanValue, surveyProp: {indeterminate: question.isIndeterminate}, enable: !question.isInputReadOnly"
      />
      <span data-bind="css: question.cssClasses.checkboxMaterialDecorator">
        <!-- ko if: question.svgIcon -->
        <svg data-bind="css:question.cssClasses.checkboxItemDecorator">
          <use data-bind="attr:{'xlink:href':question.svgIcon}" xlink:href=''></use>
        </svg>
        <!-- /ko -->
        <span class="check"></span>
      </span>
      <span
        data-bind="if: question.isLabelRendered, css: question.cssClasses.checkboxControlLabel, attr: {id: question.labelRenderedAriaID}"
      >
        <!-- ko component: { name: 'sv-title-actions', params: {element: question } } --><!-- /ko -->
      </span>
    </label>
    <!-- ko if: question.canRenderLabelDescription -->
    <div data-bind="css: question.cssDescription">
      <!-- ko template: { name: 'survey-string', data: question.locDescription } -->
      <!-- /ko -->
    </div>
    <!-- /ko -->
  </div>
</div>
`},"./src/knockout/components/boolean-checkbox/boolean-checkbox.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"CheckboxViewModel",function(){return l});var D=C("knockout"),A=C.n(D),R=C("survey-core"),V=C.n(R),O=C("./src/knockout/components/boolean-checkbox/boolean-checkbox.html"),l;D.components.register("sv-boolean-checkbox",{viewModel:{createViewModel:function(y,p){return{question:y.question}}},template:O}),R.RendererFactory.Instance.registerRenderer("boolean","checkbox","sv-boolean-checkbox")},"./src/knockout/components/boolean-radio/boolean-radio-item.html":function(d,P){d.exports=`  <div role="presentation" data-bind="class: question.getRadioItemClass(question.cssClasses, $data.value)">
    <label data-bind="css: question.cssClasses.radioLabel">
      <input
        type="radio"
        data-bind="event: { change: handleChange }, attr: { name: question.name, 'aria-describedby': question.ariaDescribedBy, value: ''+$data.value, checked: $data.value === question.booleanValue }, enable: !question.isInputReadOnly, css: question.cssClasses.itemRadioControl"
      />
      <!-- ko if: question.cssClasses.materialRadioDecorator -->
      <span data-bind="css: question.cssClasses.materialRadioDecorator">
        <!-- ko if: question.itemSvgIcon -->
        <svg data-bind="css:question.cssClasses.itemRadioDecorator">
          <use data-bind="attr:{'xlink:href':question.itemSvgIcon}" xlink:href=''></use>
        </svg>
        <!-- /ko -->
      </span>
      <!-- /ko -->
      <span data-bind="css: question.cssClasses.radioControlLabel">
        <!-- ko template: { name: 'survey-string', data: $data.locText } -->
        <!-- /ko -->
      </span>
    </label>
  </div>

`},"./src/knockout/components/boolean-radio/boolean-radio-item.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"BooleanRadioItemViewModel",function(){return V});var D=C("knockout"),A=C.n(D),R=C("./src/knockout/components/boolean-radio/boolean-radio-item.html"),V;D.components.register("sv-boolean-radio-item",{viewModel:{createViewModel:function(O){return O.handleChange=function(){O.question.booleanValue=O.value},O}},template:R})},"./src/knockout/components/boolean-radio/boolean-radio.html":function(d,P){d.exports=`<div data-bind="css: question.cssClasses.rootRadio">
  <fieldset role="presentation" data-bind="css: question.cssClasses.radioFieldset">
    <!-- ko component: { name: 'sv-boolean-radio-item', params: { value: false, locText: question.locLabelFalse, question: question } } --><!-- /ko -->
    <!-- ko component: { name: 'sv-boolean-radio-item', params: { value: true, locText: question.locLabelTrue, question: question } } --><!-- /ko -->  
  </fieldset>
</div>
`},"./src/knockout/components/boolean-radio/boolean-radio.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"BooleanRadioViewModel",function(){return y});var D=C("knockout"),A=C.n(D),R=C("survey-core"),V=C.n(R),O=C("./src/knockout/components/boolean-radio/boolean-radio-item.ts");C.d(P,"BooleanRadioItemViewModel",function(){return O.BooleanRadioItemViewModel});var l=C("./src/knockout/components/boolean-radio/boolean-radio.html"),y;D.components.register("sv-boolean-radio",{viewModel:{createViewModel:function(p,f){return{question:p.question}}},template:l}),R.RendererFactory.Instance.registerRenderer("boolean","radio","sv-boolean-radio")},"./src/knockout/components/brand-info/brand-info.html":function(d,P){d.exports=`<div class="sv-brand-info">
  <a class="sv-brand-info__logo" href="https://surveyjs.io/?utm_source=built-in_links&utm_medium=online_survey_tool&utm_campaign=landing_page"><img src="https://surveyjs.io/Content/Images/poweredby.svg"/></a>
  <div class="sv-brand-info__text">Try and see how easy it is to <a href="https://surveyjs.io/create-survey?utm_source=built-in_links&utm_medium=online_survey_tool&utm_campaign=create_survey">create a survey</a></div>
  <div class="sv-brand-info__terms"><a href="https://surveyjs.io/TermsOfUse">Terms of Use & Privacy Statement</a></div>
</div>
`},"./src/knockout/components/brand-info/brand-info.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"BrandInfoComponent",function(){return V});var D=C("knockout"),A=C.n(D),R=C("./src/knockout/components/brand-info/brand-info.html"),V;D.components.register("sv-brand-info",{viewModel:{createViewModel:function(O,l){return{}}},template:R})},"./src/knockout/components/button-group/button-group-item.html":function(d,P){d.exports=`<label role="radio" data-bind="css: model.css.label, attr: { title: model.caption.koRenderedHtml }">\r
  <input type="radio"\r
    data-bind="attr: { name: model.name, id: model.id, 'aria-required': model.isRequired, 'aria-label': model.caption.koRenderedHtml, role: 'radio', 'aria-invalid': model.hasErrors, 'aria-describedby': model.describeBy}, checkedValue: model.value, checked: model.question.renderedValue, disable: model.readOnly, css: model.css.control" />\r
  <div data-bind="css: model.css.decorator">\r
    <!-- ko if: !!model.iconName-->\r
    <sv-svg-icon data-bind="css: model.css.icon" params="iconName: model.iconName, size: model.iconSize"></sv-svg-icon>\r
    <!-- /ko -->\r
    <!-- ko if: model.showCaption -->\r
    <span data-bind="css: model.css.caption, attr: { title: model.caption.koRenderedHtml }">\r
      <!-- ko template: { name: 'survey-string', data: model.caption } -->\r
      <!-- /ko -->\r
    </span>\r
    <!-- /ko -->\r
  </div>\r
</label>`},"./src/knockout/components/button-group/button-group-item.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"ButtonGroupItemViewModel",function(){return l});var D=C("knockout"),A=C.n(D),R=C("survey-core"),V=C.n(R),O=C("./src/knockout/components/button-group/button-group-item.html"),l=function(){function y(p){this.model=p}return y}();D.components.register("sv-button-group-item",{viewModel:{createViewModel:function(y){var p=new R.ButtonGroupItemModel(y.question,y.item,y.index()),f=new l(p);return f}},template:O})},"./src/knockout/components/character-counter/character-counter.html":function(d,P){d.exports='<div data-bind="text: counter.remainingCharacterCounter, css: remainingCharacterCounter"></div>'},"./src/knockout/components/character-counter/character-counter.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"CharacterCounterComponent",function(){return O});var D=C("knockout"),A=C.n(D),R=C("./src/knockout/kobase.ts"),V=C("./src/knockout/components/character-counter/character-counter.html"),O;D.components.register("sv-character-counter",{viewModel:{createViewModel:function(l,y){var p=l.counter,f=l.remainingCharacterCounter;return new R.ImplementorBase(p),{counter:p,remainingCharacterCounter:f}}},template:V})},"./src/knockout/components/components-container/components-container.html":function(d,P){d.exports=`<!-- ko if: components.length > 0 -->
<!-- ko if: $data.needRenderWrapper -->
<div data-bind="css: css">
  <!-- ko foreach: components -->
  <!-- ko if: $data.component && !$data.template -->
  <!-- ko component: { name: component, params: { survey: $parent.survey, model: $data.data, container: $parent.container } } -->
  <!-- /ko -->
  <!-- /ko -->
  <!-- ko if: $data.template -->
  <!-- ko template: { name: template, data: $data.data } -->
  <!-- /ko -->
  <!-- /ko -->
  <!-- /ko -->
</div>
<!-- /ko -->
<!-- ko ifnot: $data.needRenderWrapper -->
  <!-- ko foreach: components -->
  <!-- ko if: $data.component && !$data.template -->
  <!-- ko component: { name: component, params: { survey: $parent.survey, model: $data.data, container: $parent.container } } -->
  <!-- /ko -->
  <!-- /ko -->
  <!-- ko if: $data.template -->
  <!-- ko template: { name: template, data: $data.data } -->
  <!-- /ko -->
  <!-- /ko -->
  <!-- /ko -->
<!-- /ko -->
<!-- /ko -->`},"./src/knockout/components/components-container/components-container.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"ComponentsContainer",function(){return V});var D=C("knockout"),A=C.n(D),R=C("./src/knockout/components/components-container/components-container.html"),V=function(){function O(l,y,p){p===void 0&&(p=!0),this.survey=l,this.container=y,this.needRenderWrapper=p,this.css="sv-components-column"}return Object.defineProperty(O.prototype,"components",{get:function(){return this.survey.getContainerContent(this.container)},enumerable:!1,configurable:!0}),O}();D.components.register("sv-components-container",{viewModel:{createViewModel:function(O){var l=O.survey;return new V(l,O.container,O.needRenderWrapper)}},template:R})},"./src/knockout/components/dropdown-select/dropdown-select.html":function(d,P){d.exports=`<div data-bind="css: question.renderCssRoot">
  <div data-bind="css: question.cssClasses.selectWrapper">
    <!-- ko ifnot: question.isReadOnly -->
    <select data-bind="options: question.visibleChoices, 
    optionsValue: 'value', 
    optionsText: 'koText', 
    optionsCaption: question.allowClear ? question.locPlaceholder.koRenderedHtml : undefined, 
    optionsAfterRender: question.koDisableOption, 
    attr: {id: question.inputId, autocomplete: question.autocomplete, required: question.isRequired, 'aria-required': question.ariaRequired, 'aria-label': question.ariaLabel, 'aria-invalid': question.ariaInvalid, 'aria-describedby': question.ariaDescribedBy},
    click: click,
    event: { keyup: keyup },
    disable: question.isInputReadOnly, 
    value: question.renderedValue, 
    valueAllowUnset: true, 
    css: question.getControlClass()">
    </select>
    <!-- /ko -->
    <!-- ko if: question.isReadOnly -->
    <div disabled
      data-bind="attr: {id: question.inputId}, text: question.readOnlyText, css: question.getControlClass()">
    </div>
    <!-- /ko -->
    <!-- ko if: question.cssClasses.chevronButtonIconId -->
    <div data-bind="css: question.cssClasses.chevronButton">
      <!-- ko component: { name: 'sv-svg-icon', params: { css: question.cssClasses.chevronButtonSvg, iconName: question.cssClasses.chevronButtonIconId, size: 'auto' } } -->
      <!-- /ko -->
    </div>
    <!-- /ko -->
  </div>
  <!-- ko if: question.isOtherSelected -->
  <div data-bind="css: question.getCommentAreaCss(true), template: { name: 'survey-other', data: {'question': question, 'visible': question.isOtherSelected } }, style: {display: question.isFlowLayout ? 'inline': ''}">
  </div>
  <!-- /ko -->
</div>`},"./src/knockout/components/dropdown-select/dropdown-select.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"DropdownSelectViewModel",function(){return y});var D=C("knockout"),A=C.n(D),R=C("./src/knockout/kobase.ts"),V=C("survey-core"),O=C.n(V),l=C("./src/knockout/components/dropdown-select/dropdown-select.html"),y;D.components.register("sv-dropdown-select",{viewModel:{createViewModel:function(p,f){p.question.choices.forEach(function(s){new R.ImplementorBase(s)});var e=function(s,a){p.question.onKeyUp(a)},m=function(s,a){p.question.onClick(a)};return{question:p.question,click:m,keyup:e}}},template:l}),V.RendererFactory.Instance.registerRenderer("dropdown","select","sv-dropdown-select")},"./src/knockout/components/dropdown/dropdown.html":function(d,P){d.exports=`<div data-bind="css: question.cssClasses.selectWrapper, click: click">
  <!-- ko ifnot: question.isReadOnly -->
  <div data-bind="css: question.getControlClass(),
    event: { keydown: keyhandler, blur: blur },
    attr: { 
      id: question.inputId, 
      required: question.isRequired, 
      tabindex: model.noTabIndex ? undefined : 0,
      disabled: question.isInputReadOnly,
      role: question.ariaRole,
      'aria-required': question.ariaRequired, 
      'aria-label': question.ariaLabel, 
      'aria-invalid': question.ariaInvalid, 
      'aria-describedby': question.ariaDescribedBy,
      'aria-expanded': question.ariaExpanded,
      'aria-controls': model.listElementId,
      'aria-activedescendant': model.ariaActivedescendant,
    },">
    <!-- ko if: model.showHintPrefix -->
    <div data-bind="css: question.cssClasses.hintPrefix">
      <span data-bind="text: model.hintStringPrefix"></span>
    </div>
    <!-- /ko -->
    <div data-bind="css: question.cssClasses.controlValue">
      <!-- ko if: model.showHintString -->
      <div data-bind="css: question.cssClasses.hintSuffix">
      <span style="visibility: hidden" data-bind="text: model.inputStringRendered"></span>
      <span data-bind="text: model.hintStringSuffix"></span>
      </div>
      <!-- /ko -->
      <!-- ko if: question.showInputFieldComponent -->
      <!-- ko component: { name: question.inputFieldComponentName, params: { item: model.getSelectedAction(), question: question } } -->
      <!-- /ko -->
      <!-- /ko -->
      <!-- ko if: question.showSelectedItemLocText -->
      <!-- ko template: { name: 'survey-string', data: question.selectedItemLocText } -->
      <!-- /ko -->
      <!-- /ko -->
      <input type="text" autocomplete="off" data-bind="
      textInput: model.inputStringRendered, 
      css: question.cssClasses.filterStringInput, 
      attr: {
        'aria-expanded': question.ariaExpanded,
        'aria-controls': model.listElementId,
        'aria-activedescendant': model.ariaActivedescendant,
        'aria-label': question.a11y_input_ariaLabel,
        'aria-labelledby': question.a11y_input_ariaLabelledBy,
        placeholder: model.placeholderRendered, 
        readonly: model.filterReadOnly || undefined, 
        role: model.filterStringEnabled ? question.ariaRole : undefined,
        tabindex: model.noTabIndex ? undefined : -1,
        disabled: question.isInputReadOnly,
        id: question.getInputId(), 
        inputmode: model.inputMode
      },
      event: { blur: blur, focus: focus }"></input>
    </div>
    <!-- ko if: (question.allowClear && question.cssClasses.cleanButtonIconId) -->
    <div data-bind="css: question.cssClasses.cleanButton, click: clear, visible: question.showClearButton" aria-hidden="true">
      <!-- ko component: { name: 'sv-svg-icon', params: { css: question.cssClasses.cleanButtonSvg, iconName: question.cssClasses.cleanButtonIconId, size: 'auto', title: question.clearCaption } } -->
      <!-- /ko -->
    </div>
    <!-- /ko -->
  </div>
  <!-- ko component: { name: "sv-popup", params: { model: model.popupModel }} -->
  <!-- /ko -->
  <!-- /ko -->
  <!-- ko if: question.isReadOnly -->
  <div disabled data-bind="css: question.getControlClass(), attr: { id: question.inputId }, ">
    <!-- ko if: question.selectedItemLocText -->
    <!-- ko template: { name: 'survey-string', data: question.selectedItemLocText } -->
    <!-- /ko -->
    <!-- /ko -->
    <div data-bind="text: question.readOnlyText"></div>
  </div>
  <!-- /ko -->
  <!-- ko if: question.cssClasses.chevronButtonIconId -->
  <div data-bind="css: question.cssClasses.chevronButton, event: {pointerdown: chevronPointerDown}" aria-hidden="true">
    <!-- ko component: { name: 'sv-svg-icon', params: { css: question.cssClasses.chevronButtonSvg, iconName: question.cssClasses.chevronButtonIconId, size: 'auto' } } -->
    <!-- /ko -->
  </div>
  <!-- /ko -->
</div>`},"./src/knockout/components/dropdown/dropdown.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"DropdownViewModel",function(){return y});var D=C("knockout"),A=C.n(D),R=C("./src/knockout/kobase.ts"),V=C("survey-core"),O=C.n(V),l=C("./src/knockout/components/dropdown/dropdown.html"),y;D.components.register("sv-dropdown",{viewModel:{createViewModel:function(p,f){var e=p.question,m=function(n,o){var u;(u=e.dropdownListModel)===null||u===void 0||u.onClick(o)},s=function(n,o){var u;(u=e.dropdownListModel)===null||u===void 0||u.chevronPointerDown(o)},a=function(n,o){var u;(u=e.dropdownListModel)===null||u===void 0||u.onClear(o)},c=function(n,o){var u;return(u=e.dropdownListModel)===null||u===void 0||u.keyHandler(o),!0},r=function(n,o){var u;(u=e.dropdownListModel)===null||u===void 0||u.onBlur(o)},t=function(n,o){var u;(u=e.dropdownListModel)===null||u===void 0||u.onFocus(o)};return e.dropdownListModel||(e.dropdownListModel=new V.DropdownListModel(p.question)),new R.ImplementorBase(e.dropdownListModel),{question:e,model:e.dropdownListModel,click:m,clear:a,keyhandler:c,blur:r,focus:t,chevronPointerDown:s}}},template:l})},"./src/knockout/components/file/choose-file.html":function(d,P){d.exports=`<label tabindex="0" data-bind="css: question.koChooseFileCss, key2click, attr: { for: question.inputId, 'aria-label': question.koGetChooseButtonText() }">
  <!-- ko if: question.cssClasses.chooseFileIconId -->
    <!-- ko component: { name: 'sv-svg-icon', params: { title: question.koGetChooseButtonText(), iconName: question.cssClasses.chooseFileIconId, size: 'auto' } } --><!-- /ko -->
  <!-- /ko -->
  <span data-bind="text: question.koGetChooseButtonText()"></span>
</label>`},"./src/knockout/components/file/choose-file.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"SurveyNavigationButton",function(){return V});var D=C("knockout"),A=C.n(D),R=C("./src/knockout/components/file/choose-file.html"),V;D.components.register("sv-file-choose-btn",{viewModel:{createViewModel:function(O,l){return O}},template:R})},"./src/knockout/components/file/file-preview.html":function(d,P){d.exports=`<!-- ko if: question.koHasValue && question.showPreviewContainer -->
<div data-bind="css: question.cssClasses.fileList, foreach: question.koData, visible: question.koHasValue">
  <span data-bind="visible: question.isPreviewVisible($index()), css: question.cssClasses.preview">
    <!-- ko template: { name: 'survey-question-file-sign', data: {question: question, item: $data, fileSignCss: question.cssClasses.fileSign} } --><!-- /ko -->
    <div data-bind="css: question.getImageWrapperCss($data)">
      <!-- ko if: question.canPreviewImage($data) -->
      <img data-bind="attr: { src: $data.content }, style : { height: question.imageHeight, width: question.imageWidth }" alt="File preview">
      <!-- /ko -->
      <!-- ko if: question.defaultImage($data) -->
      <!-- ko component: { name: 'sv-svg-icon', params: { css: question.cssClasses.defaultImage, iconName: question.cssClasses.defaultImageIconId, size: 'auto' } } --><!-- /ko -->
      <!-- /ko -->
      <!-- ko if: $data.name -->
      <!-- ko ifnot: question.isReadOnly -->
      <div data-bind="click: question.doremovefile, css: question.getRemoveButtonCss()">
          <span data-bind="css: question.cssClasses.removeFile, text: question.removeFileCaption"></span>
          <!-- ko if: question.cssClasses.removeFileSvgIconId -->
            <!-- ko component: { name: 'sv-svg-icon', params: { css: question.cssClasses.removeFileSvg, title: question.removeFileCaption, iconName: question.cssClasses.removeFileSvgIconId, size: 'auto' } } --><!-- /ko -->
          <!-- /ko -->
      </div>
      <!-- /ko -->
      <!-- /ko -->
    </div>
    <!-- ko template: { name: 'survey-question-file-sign', data: {question: question, item: $data, fileSignCss: question.cssClasses.fileSignBottom} } --><!-- /ko -->
  </span>
</div>
<!-- /ko -->`},"./src/knockout/components/file/file-preview.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"SurveyFilePreview",function(){return V});var D=C("knockout"),A=C.n(D),R=C("./src/knockout/components/file/file-preview.html"),V;D.components.register("sv-file-preview",{viewModel:{createViewModel:function(O,l){return O}},template:R})},"./src/knockout/components/header/cell.html":function(d,P){d.exports=`<div data-bind="css: css, style: style">
  <div class="sv-header__cell-content" data-bind="style: contentStyle">
    <!-- ko if: showLogo -->
    <div class="sv-header__logo">
    <!-- ko component: { name: survey.getElementWrapperComponentName(survey, 'logo-image'), params: survey.getElementWrapperComponentData(survey, 'logo-image') } -->
    <!-- /ko -->
    </div>
    <!-- /ko -->
    <!-- ko if: showTitle -->
    <div class="sv-header__title" data-bind="style: { maxWidth: textAreaWidth }">
    <!-- ko component: { name: 'survey-element-title', params: { element: survey } } -->
    <!-- /ko -->
    </div>
    <!-- /ko -->
    <!-- ko if: showDescription -->
    <div class="sv-header__description" data-bind="style: { maxWidth: textAreaWidth }">
      <div data-bind="css: survey.css.description">
        <!-- ko template: { name: 'survey-string', data: survey.locDescription } -->
        <!-- /ko -->
      </div>
    </div>
    <!-- /ko -->
  </div>
</div>
`},"./src/knockout/components/header/cell.ts":function(d,P,C){"use strict";C.r(P);var D=C("knockout"),A=C.n(D),R=C("./src/knockout/components/header/cell.html");D.components.register("sv-header-cell",{viewModel:{createViewModel:function(V,O){return V.model}},template:R})},"./src/knockout/components/header/index.html":function(d,P){d.exports=`<!-- ko if: (survey.headerView === 'advanced' && survey.renderedHasHeader) -->
<div data-bind="css: model.headerClasses, style: { height: model.renderedHeight }">
  <!-- ko if: !!model.backgroundImage -->
  <div data-bind="style: model.backgroundImageStyle, css: model.backgroundImageClasses"></div>
  <!-- /ko -->
  <!-- ko ifnot: survey.isMobile -->
  <div data-bind="css: model.contentClasses, style: { maxWidth: model.maxWidth }">
  <!-- ko foreach: model.cells -->
    <!-- ko component: { name: 'sv-header-cell', params: { model: $data } } -->
    <!-- /ko -->
  <!--/ko-->
  </div>
  <!--/ko-->
  <!-- ko if: survey.isMobile -->
    <!-- ko component: { name: 'sv-header-mobile', params: { model: model } } -->
    <!-- /ko -->
  <!--/ko-->
  </div>
<!-- /ko -->`},"./src/knockout/components/header/index.ts":function(d,P,C){"use strict";C.r(P);var D=C("knockout"),A=C.n(D),R=C("./src/knockout/kobase.ts"),V=C("./src/knockout/components/header/cell.ts"),O=C("./src/knockout/components/header/mobile.ts"),l=C("./src/knockout/components/header/index.html");D.components.register("sv-header",{viewModel:{createViewModel:function(y,p){return y.model.survey=y.survey,new R.ImplementorBase(y.model),y}},template:l})},"./src/knockout/components/header/mobile.html":function(d,P){d.exports=`<div class="sv-header--mobile">
  <!-- ko if: survey.hasLogo -->
  <div class="sv-header__logo">
  <!-- ko component: { name: survey.getElementWrapperComponentName(survey, 'logo-image'), params: survey.getElementWrapperComponentData(survey, 'logo-image') } -->
  <!-- /ko -->
  </div>
  <!-- /ko -->
  <!-- ko if: survey.hasTitle -->
  <div class="sv-header__title" data-bind="style: { maxWidth: textAreaWidth }">
  <!-- ko component: { name: 'survey-element-title', params: { element: survey } } -->
  <!-- /ko -->
  </div>
  <!-- /ko -->
  <!-- ko if: survey.renderedHasDescription -->
  <div class="sv-header__description" data-bind="style: { maxWidth: textAreaWidth }">
    <div data-bind="css: survey.css.description">
      <!-- ko template: { name: 'survey-string', data: survey.locDescription } -->
      <!-- /ko -->
    </div>
  </div>
  <!-- /ko -->
</div>
`},"./src/knockout/components/header/mobile.ts":function(d,P,C){"use strict";C.r(P);var D=C("knockout"),A=C.n(D),R=C("./src/knockout/components/header/mobile.html");D.components.register("sv-header-mobile",{viewModel:{createViewModel:function(V,O){return V.model}},template:R})},"./src/knockout/components/list/list-item.html":function(d,P){d.exports=`\r
<li role="option"\r
data-bind="css: $data.model.getItemClass($data.item), attr: { id: $data.item.elementId, 'aria-selected': $data.model.isItemSelected($data.item) ? 'true' : 'false' }, click: itemClick, key2click, visible: $data.model.isItemVisible($data.item), event: { pointerdown: function (model, event) { $data.model.onPointerDown(event, $data.item); } }">  <!-- ko if: $data.item.needSeparator -->\r
  <div data-bind="css: $data.model.cssClasses.itemSeparator"></div>\r
  <!-- /ko -->\r
  <div data-bind="style: { paddingInlineStart: $data.model.getItemIndent($data.item) }, css: $data.model.cssClasses.itemBody, attr: { title: $data.item.locTitle.calculatedText }">\r
  <!-- ko ifnot: $data.item.component -->\r
  <!-- ko if: $data.item.iconName -->\r
  <!-- ko component: { name: "sv-svg-icon", params: { iconName: $data.item.iconName, size: $data.item.iconSize, css: $data.model.cssClasses.itemIcon } }-->\r
  <!-- /ko -->\r
  <!-- /ko -->\r
  <!-- ko template: { name: 'survey-string', data: $data.item.locTitle } --><!-- /ko -->\r
  <!-- /ko -->\r
  <!-- ko if: $data.item.component -->\r
  <!-- ko component: { name: $data.item.component, params: { item: $data.item } } -->\r
  <!-- /ko -->\r
  <!-- /ko -->\r
  </div>\r
</li>`},"./src/knockout/components/list/list-item.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"ListItemViewComponent",function(){return O});var D=C("knockout"),A=C.n(D),R=C("./src/knockout/kobase.ts"),V=C("./src/knockout/components/list/list-item.html"),O;D.components.register("sv-list-item",{viewModel:{createViewModel:function(l,y){return new R.ImplementorBase(l.item),{item:l.item,model:l.model,itemClick:function(p,f){p.model.onItemClick(p.item),f.stopPropagation()}}}},template:V})},"./src/knockout/components/list/list.html":function(d,P){d.exports=`<div data-bind="css: model.cssClasses.root">
  <!-- ko if: $data.model.showFilter -->
  <div data-bind="css: model.cssClasses.filter">
    <div data-bind="css: model.cssClasses.filterIcon">
      <!-- ko component: { name: 'sv-svg-icon', params: { iconName: 'icon-search', size: 'auto' }  } -->
      <!-- /ko -->
    </div>
    <input type="text" 
      data-bind="css: model.cssClasses.filterInput, textInput: model.filterString, attr: { placeholder: model.filterStringPlaceholder, 'aria-label': model.filterStringPlaceholder }, event: { keyup: function (model, event) { $data.model.goToItems(event); } }"></input>
    <!-- ko if: $data.model.showSearchClearButton && !!$data.model.filterString -->
    <button data-bind="event: { click: (_, event) => { model.onClickSearchClearButton(event); } }, css: model.cssClasses.searchClearButtonIcon">
      <!-- ko component: { name: 'sv-svg-icon', params: { iconName: 'icon-searchclear', size: 'auto' }  } -->
      <!-- /ko -->
    </button>
    <!-- /ko -->
  </div>
  <!-- /ko -->
  <div data-bind="css: model.cssClasses.emptyContainer, visible: $data.model.isEmpty">
    <div data-bind="css: model.cssClasses.emptyText, text: model.emptyMessage, attr: { 'aria-label': model.emptyMessage }"></div>
  </div>
  <!-- ko if: $data.model.renderElements -->
  <ul role="listbox"
    data-bind="css: model.getListClass(), visible: !$data.model.isEmpty, attr: { id: model.elementId },
    event: { mousedown: function (data, e) { e.preventDefault(); }, keydown: function(data, e) { $data.model.onKeyDown(event); return true; }, mousemove: function(data, e) { $data.model.onMouseMove(event); return true; } }">
    <!-- ko template: { foreach: model.renderedActions, afterRender: $data.afterItemRender } -->
    <!-- ko component: { name: 'sv-list-item', params: { item: $data, model: $parent.model } } -->
    <!-- /ko -->
    <!-- /ko -->
  </ul>
  <!-- /ko -->
</div>`},"./src/knockout/components/list/list.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"ListViewComponent",function(){return l});var D=C("knockout"),A=C.n(D),R=C("./src/knockout/components/action-bar/action-bar.ts"),V=C("./src/knockout/components/list/list-item.ts");C.d(P,"ListItemViewComponent",function(){return V.ListItemViewComponent});var O=C("./src/knockout/components/list/list.html"),l;D.components.register("sv-list",{viewModel:{createViewModel:function(y,p){var f=y.model,e=new R.ActionContainerImplementor(f);return f.initListContainerHtmlElement(p.element),{model:f,dispose:function(){e.dispose(),f.initListContainerHtmlElement(void 0)},afterItemRender:function(m,s){D.tasks&&D.tasks.runEarly(),f.onLastItemRended(s)}}}},template:O})},"./src/knockout/components/loading-indicator/loading-indicator.html":function(d,P){d.exports=`<div class="sd-loading-indicator">
  <!-- ko component: { name: "sv-svg-icon", params: { iconName: 'icon-loading', size: 'auto' }  } -->
  <!-- /ko -->
</div>`},"./src/knockout/components/loading-indicator/loading-indicator.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"LoadingIndicatorViewModel",function(){return V});var D=C("knockout"),A=C.n(D),R=C("./src/knockout/components/loading-indicator/loading-indicator.html"),V;D.components.register("sv-loading-indicator",{viewModel:{createViewModel:function(O,l){}},template:R})},"./src/knockout/components/logo-image/logo-image.html":function(d,P){d.exports=`<!-- ko with: survey -->
<div data-bind="css: logoClassNames">
  <img data-bind="css: css.logoImage, attr: { src: locLogo.koRenderedHtml, width: renderedLogoWidth, height: renderedLogoHeight, alt: locTitle.renderedHtml }, style: { objectFit: logoFit, width: renderedStyleLogoWidth, height: renderedStyleLogoHeight }">
</div>
<!-- /ko -->`},"./src/knockout/components/logo-image/logo-image.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"LogoImageViewModel",function(){return V});var D=C("knockout"),A=C.n(D),R=C("./src/knockout/components/logo-image/logo-image.html"),V;D.components.register("sv-logo-image",{viewModel:{createViewModel:function(O){return{survey:O}}},template:R})},"./src/knockout/components/matrix-actions/detail-button/detail-button.html":function(d,P){d.exports=`<button
type="button"
data-bind="css:question.getDetailPanelButtonCss(row), click:row.showHideDetailPanelClick, attr:{ 'aria-expanded': question.getIsDetailPanelShowing($data.row) ? 'true': 'false', 'aria-controls': question.getIsDetailPanelShowing($data.row) ? row.detailPanelId: false}"
>
<!-- ko component: { name: 'sv-svg-icon', params: { css: question.getDetailPanelIconCss(row), iconName: question.getDetailPanelIconId(row), size: 'auto' } } -->
<!-- /ko -->
</button>
<!-- ko if: question.detailPanelMode === "popup" && question.getKoPopupIsVisible(row) -->
<sv-popup
params="contentComponentName: 'sv-panel', contentComponentData: { question: row.detailPanel, onItemSelect: function(){} }, isVisible: question.getKoPopupIsVisible(row), isModal: true, onHide: function() { row.hideDetailPanel() }, verticalPosition: 'top', horizontalPosition: 'right'"
></sv-popup>
<!-- /ko -->`},"./src/knockout/components/matrix-actions/detail-button/detail-button.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"SurveyQuestionMatrixDetailButton",function(){return V});var D=C("knockout"),A=C.n(D),R=C("./src/knockout/components/matrix-actions/detail-button/detail-button.html"),V;D.components.register("sv-matrix-detail-button",{viewModel:{createViewModel:function(O,l){return O.item.data}},template:R})},"./src/knockout/components/matrix-actions/drag-drop-icon/drag-drop-icon.html":function(d,P){d.exports=`<!-- ko if: question.iconDragElement -->
<svg data-bind="css: question.cssClasses.dragElementDecorator">
  <use data-bind="attr: { 'xlink:href': question.iconDragElement }" xlink:href=''></use>
</svg>
<!-- /ko -->
<!-- ko ifnot: question.iconDragElement -->
<span data-bind="css: question.cssClasses.iconDrag"></span>
<!-- /ko -->`},"./src/knockout/components/matrix-actions/drag-drop-icon/drag-drop-icon.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"SurveyQuestionMatrixDynamicDragDropIcon",function(){return V});var D=C("knockout"),A=C.n(D),R=C("./src/knockout/components/matrix-actions/drag-drop-icon/drag-drop-icon.html"),V;D.components.register("sv-matrix-drag-drop-icon",{viewModel:{createViewModel:function(O,l){return O.item.data}},template:R})},"./src/knockout/components/matrix-actions/remove-button/remove-button.html":function(d,P){d.exports=`<button
  type="button"
  data-bind="click: question.koRemoveRowClick, disable: question.isInputReadOnly, css: question.getRemoveRowButtonCss()"
>
  <!-- ko template: { name: 'survey-string', data: question.locRemoveRowText } --><!-- /ko -->
  <span data-bind="css: question.cssClasses.iconRemove"></span>
</button>
`},"./src/knockout/components/matrix-actions/remove-button/remove-button.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"SurveyQuestionMatrixDynamicRemoveButton",function(){return V});var D=C("knockout"),A=C.n(D),R=C("./src/knockout/components/matrix-actions/remove-button/remove-button.html"),V;D.components.register("sv-matrix-remove-button",{viewModel:{createViewModel:function(O){return O.item.data}},template:R})},"./src/knockout/components/notifier/notifier.html":function(d,P){d.exports=`<!-- ko if: notifier.isDisplayed -->
<div data-bind="css: notifier.css, style: { visibility: notifier.active ? 'visible' : 'hidden' }" role="alert" aria-live="polite">
  <span data-bind="text: notifier.message"></span>
  <!-- ko component: { name: "sv-action-bar", params: { model: notifier.actionBar } } -->
  <!-- /ko -->
</div>
<!-- /ko -->`},"./src/knockout/components/notifier/notifier.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"NotifierViewModel",function(){return O});var D=C("knockout"),A=C.n(D),R=C("./src/knockout/kobase.ts"),V=C("./src/knockout/components/notifier/notifier.html"),O;D.components.register("sv-notifier",{viewModel:{createViewModel:function(l,y){return new R.ImplementorBase(l.notifier),l}},template:V})},"./src/knockout/components/panel/panel.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"PanelViewModel",function(){return V});var D=C("knockout"),A=C.n(D),R=C("./node_modules/html-loader/index.js?interpolate!./node_modules/val-loader/index.js!./src/knockout/components/panel/panel.html"),V=function(){function O(l,y){this.question=l,this.targetElement=y}return O}();D.components.register("sv-panel",{viewModel:{createViewModel:function(O,l){var y=new V(O.question,l.element.parentElement);return y}},template:R})},"./src/knockout/components/paneldynamic-actions/paneldynamic-actions.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"SurveyQuestionPaneldynamicActioons",function(){return p});var D=C("knockout"),A=C.n(D),R=C("./src/knockout/components/paneldynamic-actions/paneldynamic-add-btn.html"),V=C("./src/knockout/components/paneldynamic-actions/paneldynamic-next-btn.html"),O=C("./src/knockout/components/paneldynamic-actions/paneldynamic-prev-btn.html"),l=C("./src/knockout/components/paneldynamic-actions/paneldynamic-progress-text.html"),y=C("./src/knockout/components/paneldynamic-actions/paneldynamic-remove-btn.html"),p;function f(){return{createViewModel:function(e,m){return!!e.item&&e.item.data||e}}}D.components.register("sv-paneldynamic-add-btn",{viewModel:f(),template:R}),D.components.register("sv-paneldynamic-next-btn",{viewModel:f(),template:V}),D.components.register("sv-paneldynamic-prev-btn",{viewModel:f(),template:O}),D.components.register("sv-paneldynamic-progress-text",{viewModel:f(),template:l}),D.components.register("sv-paneldynamic-remove-btn",{viewModel:f(),template:y})},"./src/knockout/components/paneldynamic-actions/paneldynamic-add-btn.html":function(d,P){d.exports=`<!-- ko if: question.koCanAddPanel -->
<button type="button" data-bind="click: question.koAddPanelClick, css: question.koAddButtonCss, visible: question.koCanAddPanel">
  <span data-bind="css: question.cssClasses.buttonAddText"><!-- ko template: { name: 'survey-string', data: question.locPanelAddText } --><!-- /ko --></span>
</button>
<!-- /ko -->`},"./src/knockout/components/paneldynamic-actions/paneldynamic-next-btn.html":function(d,P){d.exports=`<div data-bind="attr: { title: question.panelNextText }, click: question.koNextPanelClick, css: question.koNextButtonCss">
    <!-- ko component: { name: 'sv-svg-icon', params: { iconName: question.cssClasses.progressBtnIcon, size: 'auto' } } --><!-- /ko -->
</div>`},"./src/knockout/components/paneldynamic-actions/paneldynamic-prev-btn.html":function(d,P){d.exports=`<div data-bind="attr: { title: question.panelPrevText }, click: question.koPrevPanelClick, css: question.koPrevButtonCss">
    <!-- ko component: { name: 'sv-svg-icon', params: { iconName: question.cssClasses.progressBtnIcon, size: 'auto' } } --><!-- /ko -->
</div>`},"./src/knockout/components/paneldynamic-actions/paneldynamic-progress-text.html":function(d,P){d.exports='<div data-bind="text: question.koProgressText, css: question.cssClasses.progressText"></div>'},"./src/knockout/components/paneldynamic-actions/paneldynamic-remove-btn.html":function(d,P){d.exports=`<button type="button" data-bind="click: function() { question.koRemovePanelClick(panel); }, css: question.getPanelRemoveButtonCss()">
  <span data-bind="css: question.cssClasses.buttonRemoveText"><!-- ko template: { name: 'survey-string', data: question.locPanelRemoveText } --><!-- /ko --></span>
  <span data-bind="css: question.cssClasses.iconRemove"></span>
</button>`},"./src/knockout/components/popup/popup.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"PopupViewModel",function(){return y}),C.d(P,"showModal",function(){return p}),C.d(P,"showDialog",function(){return f});var D=C("knockout"),A=C.n(D),R=C("survey-core"),V=C.n(R),O=C("./src/knockout/kobase.ts"),l=C("./node_modules/html-loader/index.js?interpolate!./node_modules/val-loader/index.js!./src/knockout/components/popup/popup.html"),y=function(){function e(m){var s=this;this.popupViewModel=m,this.visibilityChangedHandler=function(a,c){c.isVisible&&(D.tasks.runEarly(),s.popupViewModel.updateOnShowing())},this._popupModelImplementor=new O.ImplementorBase(m.model),this._popupImplementor=new O.ImplementorBase(m),m.model.onVisibilityChanged.add(this.visibilityChangedHandler)}return e.prototype.dispose=function(){this._popupModelImplementor.dispose(),this._popupModelImplementor=void 0,this._popupImplementor.dispose(),this._popupImplementor=void 0,this.popupViewModel.resetComponentElement(),this.popupViewModel.model.onVisibilityChanged.remove(this.visibilityChangedHandler),this.popupViewModel.dispose(),this.visibilityChangedHandler=void 0},e}();function p(e,m,s,a,c,r,t,n){t===void 0&&(t="popup");var o=Object(R.createDialogOptions)(e,m,s,a,void 0,void 0,c,r,t);return f(o,n)}function f(e,m){e.onHide=function(){D.cleanNode(s.container),s.container.remove(),s.dispose(),a.dispose()};var s=Object(R.createPopupModalViewModel)(e,m),a=new y(s);return s.container.innerHTML=l,D.applyBindings(a,s.container),s.model.isVisible=!0,s}R.settings.showModal=p,R.settings.showDialog=f,D.components.register("sv-popup",{viewModel:{createViewModel:function(e,m){var s=m.element.nodeType===Node.COMMENT_NODE?m.element.nextElementSibling:m.element,a=Object(R.createPopupViewModel)(D.unwrap(e.model));return a.setComponentElement(s,e.getTarget?e.getTarget(s):void 0),new y(a)}},template:l})},"./src/knockout/components/progress/buttons.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"ProgressButtonsViewModel",function(){return l});var D=C("knockout"),A=C.n(D),R=C("survey-core"),V=C.n(R),O=C("./node_modules/html-loader/index.js?interpolate!./node_modules/val-loader/index.js!./src/knockout/components/progress/buttons.html"),l=function(){function y(p,f,e){e===void 0&&(e="center"),this.model=p,this.element=f,this.container=e,this.hasScroller=D.observable(!1),this.canShowHeader=D.observable(!1),this.canShowFooter=D.observable(!1),this.canShowItemTitles=D.observable(!0),this.respManager=new R.ProgressButtonsResponsivityManager(p,f,this)}return y.prototype.onResize=function(p){this.canShowItemTitles(p),this.canShowHeader(!this.canShowItemTitles())},y.prototype.onUpdateScroller=function(p){this.hasScroller(p)},y.prototype.onUpdateSettings=function(){this.canShowItemTitles(this.model.showItemTitles),this.canShowFooter(!this.model.showItemTitles)},y.prototype.getScrollButtonCss=function(p){return this.model.getScrollButtonCss(this.hasScroller(),p)},y.prototype.clickScrollButton=function(p,f){p.scrollLeft+=(f?-1:1)*70},y.prototype.dispose=function(){this.respManager.dispose()},y}();D.components.register("sv-progress-buttons",{viewModel:{createViewModel:function(y,p){return new l(y.model,p.element.nextElementSibling,y.container)}},template:O})},"./src/knockout/components/progress/progress.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"ProgressViewModel",function(){return l});var D=C("knockout"),A=C.n(D),R=C("survey-core"),V=C.n(R),O=C("./node_modules/html-loader/index.js?interpolate!./node_modules/val-loader/index.js!./src/knockout/components/progress/progress.html"),l=function(){function p(f,e){e===void 0&&(e="header"),this.model=f,this.container=e}return p.prototype.getProgressTextInBarCss=function(f){return R.SurveyProgressModel.getProgressTextInBarCss(f)},p.prototype.getProgressTextUnderBarCss=function(f){return R.SurveyProgressModel.getProgressTextUnderBarCss(f)},p.prototype.getProgressCssClasses=function(){return this.model.getProgressCssClasses(this.container)},p}();D.components.register("sv-progress-progress",{viewModel:{createViewModel:function(p){return new l(p.model,p.container)}},template:O});var y="<!-- ko component: { name: 'sv-progress-progress', params: $data } --><!-- /ko -->";D.components.register("sv-progress-pages",{viewModel:{createViewModel:function(p){return new l(p.model,p.container)}},template:y}),D.components.register("sv-progress-questions",{viewModel:{createViewModel:function(p){return new l(p.model,p.container)}},template:y}),D.components.register("sv-progress-correctquestions",{viewModel:{createViewModel:function(p){return new l(p.model,p.container)}},template:y}),D.components.register("sv-progress-requiredquestions",{viewModel:{createViewModel:function(p){return new l(p.model,p.container)}},template:y})},"./src/knockout/components/progress/toc.ts":function(d,P,C){"use strict";C.r(P);var D=C("knockout"),A=C.n(D),R=C("./node_modules/html-loader/index.js?interpolate!./node_modules/val-loader/index.js!./src/knockout/components/progress/toc.html");D.components.register("sv-navigation-toc",{viewModel:{createViewModel:function(V,O){return{tocModel:V.model}}},template:R})},"./src/knockout/components/rating-dropdown/rating-dropdown-item.html":function(d,P){d.exports=`<div class="sd-rating-dropdown-item">
  <span class="sd-rating-dropdown-item_text" data-bind="text: item.title"></span>
  <!-- ko if: !!item.description -->
  <div class="sd-rating-dropdown-item_description">
    <!-- ko template: { name: 'survey-string', data: item.description } -->
    <!-- /ko -->
  </div>
  <!-- /ko -->
</div>`},"./src/knockout/components/rating-dropdown/rating-dropdown-item.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"RatingItemViewComponent",function(){return O});var D=C("knockout"),A=C.n(D),R=C("./src/knockout/kobase.ts"),V=C("./src/knockout/components/rating-dropdown/rating-dropdown-item.html"),O;D.components.register("sv-rating-dropdown-item",{viewModel:{createViewModel:function(l,y){return new R.ImplementorBase(l.item),{item:l.item,description:l.item.description}}},template:V})},"./src/knockout/components/rating-dropdown/rating-dropdown.html":function(d,P){d.exports=`<div data-bind="css: question.cssClasses.rootDropdown">
  <!-- ko component: { name: 'sv-dropdown', params: { question: question } } -->
  <!-- /ko -->
</div>
`},"./src/knockout/components/rating-dropdown/rating-dropdown.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"RatingDropdownViewModel",function(){return y});var D=C("knockout"),A=C.n(D),R=C("survey-core"),V=C.n(R),O=C("./src/knockout/components/rating-dropdown/rating-dropdown-item.ts");C.d(P,"RatingItemViewComponent",function(){return O.RatingItemViewComponent});var l=C("./src/knockout/components/rating-dropdown/rating-dropdown.html"),y;D.components.register("sv-rating-dropdown",{viewModel:{createViewModel:function(p,f){return{question:p.question}}},template:l}),R.RendererFactory.Instance.registerRenderer("rating","dropdown","sv-rating-dropdown")},"./src/knockout/components/rating/rating-item-smiley.html":function(d,P){d.exports=`<label data-bind="style: question.getItemStyle(item.itemValue, item.highlight), css: question.getItemClass(item.itemValue, item.highlight), event: { mouseover: function () { question.onItemMouseIn(item); }, mouseleave: function () { question.onItemMouseOut(item);}, mousedown: question.koMouseDown }">
  <input
  type="radio"
  class="sv-visuallyhidden"
  data-bind="attr: { name: question.name, id: question.getInputId(index), value: item.value, 'aria-required': question.ariaRequired, 'aria-label': question.ariaLabel, 'aria-invalid': question.ariaInvalid, 'aria-describedby': question.ariaDescribedBy }, checkedValue: item.value, enable: !question.isInputReadOnly, event: { click: function(data, event) { question.setValueFromClick(event.target.value); return true; } }"
  />
  <!-- ko component: { name: 'sv-svg-icon', params: { iconName: question.getItemSmileyIconName(item.itemValue), size: 'auto', title: item.text } } --><!-- /ko -->
</label>`},"./src/knockout/components/rating/rating-item-smiley.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"RatingItemSmileyViewModel",function(){return O});var D=C("knockout"),A=C.n(D),R=C("./src/knockout/kobase.ts"),V=C("./src/knockout/components/rating/rating-item-smiley.html"),O;D.components.register("sv-rating-item-smiley",{viewModel:{createViewModel:function(l,y){return new R.ImplementorBase(l.item),{question:l.question,item:l.item,index:l.index}}},template:V})},"./src/knockout/components/rating/rating-item-star.html":function(d,P){d.exports=`<label data-bind="css: question.getItemClass(item.itemValue, item.highlight), event: { mouseover: function () { question.onItemMouseIn(item); }, mouseleave: function () { question.onItemMouseOut(item);}, mousedown: question.koMouseDown }">
  <input
  type="radio"
  class="sv-visuallyhidden"
  data-bind="attr: { name: question.name, id: question.getInputId(index), value: item.value, 'aria-required': question.ariaRequired, 'aria-label': question.ariaLabel, 'aria-invalid': question.ariaInvalid, 'aria-describedby': question.ariaDescribedBy }, checkedValue: item.value, enable: !question.isInputReadOnly, event: { click: function(data, event) { question.setValueFromClick(event.target.value); return true; } }"
  />
  <!-- ko component: { name: 'sv-svg-icon', params: { css: 'sv-star', iconName: question.itemStarIcon, size: 'auto', title: item.text } } --><!-- /ko -->
  <!-- ko component: { name: 'sv-svg-icon', params: { css: 'sv-star-2', iconName: question.itemStarIconAlt, size: 'auto', title: item.text } } --><!-- /ko -->
</label>`},"./src/knockout/components/rating/rating-item-star.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"RatingItemStarViewModel",function(){return O});var D=C("knockout"),A=C.n(D),R=C("./src/knockout/kobase.ts"),V=C("./src/knockout/components/rating/rating-item-star.html"),O;D.components.register("sv-rating-item-star",{viewModel:{createViewModel:function(l,y){return new R.ImplementorBase(l.item),{question:l.question,item:l.item,index:l.index}}},template:V})},"./src/knockout/components/rating/rating-item.html":function(d,P){d.exports=`<label data-bind="css: question.getItemClassByText(item.itemValue, item.text),  event: { mousedown: question.koMouseDown }">
  <input
  type="radio"
  class="sv-visuallyhidden"
  data-bind="attr: { name: question.name, id: question.getInputId(index), value: item.value, 'aria-required': question.ariaRequired, 'aria-label': question.ariaLabel, 'aria-invalid': question.ariaInvalid, 'aria-describedby': question.ariaDescribedBy }, checkedValue: item.value, enable: !question.isInputReadOnly, event: { click: function(data, event) { question.setValueFromClick(event.target.value); return true; } }"
  />
  <span data-bind="css: question.cssClasses.itemText">
  <!-- ko template: { name: 'survey-string', data: item.locText } -->
  <!-- /ko -->
  </span>
</label>
`},"./src/knockout/components/rating/rating-item.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"RatingItemViewModel",function(){return O});var D=C("knockout"),A=C.n(D),R=C("./src/knockout/kobase.ts"),V=C("./src/knockout/components/rating/rating-item.html"),O;D.components.register("sv-rating-item",{viewModel:{createViewModel:function(l,y){return new R.ImplementorBase(l.item),{question:l.question,item:l.item,index:l.index}}},template:V})},"./src/knockout/components/skeleton/skeleton.html":function(d,P){d.exports=`<div class="sv-skeleton-element" data-bind="attr: { id: element.id }">
</div>`},"./src/knockout/components/skeleton/skeleton.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"Skeleton",function(){return V});var D=C("knockout"),A=C.n(D),R=C("./src/knockout/components/skeleton/skeleton.html"),V;D.components.register("sv-skeleton",{viewModel:{createViewModel:function(O,l){return{element:O.element}}},template:R})},"./src/knockout/components/string-editor/string-editor.html":function(d,P){d.exports=`<!-- <input class="sv-string-editor" data-bind="value: editValue" /> -->

<!-- ko ifnot: koHasHtml -->
<span class="sv-string-editor" data-bind="text: editValue, event: { blur: onInput, click: onClick, clickBubble: false }" contenteditable="true"></span>
<!-- /ko -->
<!-- ko if: koHasHtml -->
<span class="sv-string-editor" data-bind="html: editValue, event: { blur: onInput, click: onClick, clickBubble: false }" contenteditable="true"></span>
<!-- /ko -->`},"./src/knockout/components/string-editor/string-editor.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"StringEditorViewModel",function(){return l});var D=C("knockout"),A=C.n(D),R=C("survey-core"),V=C.n(R),O=C("./src/knockout/components/string-editor/string-editor.html"),l=function(){function e(m){this.locString=m}return Object.defineProperty(e.prototype,"koHasHtml",{get:function(){return this.locString.koHasHtml()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"editValue",{get:function(){return this.locString.koRenderedHtml()},set:function(m){this.locString.searchElement=void 0,this.locString.text=m},enumerable:!1,configurable:!0}),e.prototype.onInput=function(m,s){m.editValue=s.target.innerText},e.prototype.onClick=function(m,s){s.stopPropagation()},e.prototype.dispose=function(){this.locString.onSearchChanged=void 0},e}();function y(e){for(;e&&e.nodeName!=="SPAN";){var m=e.parentElement.getElementsByClassName("sv-string-editor");e=m.length>0?m[0]:void 0}return e&&e.childNodes.length>0?e:null}function p(e,m){for(;e.childNodes.length>1;)e.removeChild(e.childNodes[1]);e.childNodes[0].textContent=m.renderedHtml}function f(e,m){m.onSearchChanged=function(){if(m.searchElement==null&&(m.searchElement=y(e)),m.searchElement!=null){var s=m.searchElement;if(m.highlightDiv||(m.highlightDiv=document.createElement("span"),m.highlightDiv.style.backgroundColor="lightgray"),m.searchIndex!=null){p(s,m);var a=document.createRange();a.setStart(s.childNodes[0],m.searchIndex),a.setEnd(s.childNodes[0],m.searchIndex+m.searchText.length),a.surroundContents(m.highlightDiv)}else p(s,m),m.searchElement=void 0}}}D.components.register(R.LocalizableString.editableRenderer,{viewModel:{createViewModel:function(e,m){var s=e.locString;return f(m.element,s),new l(s)}},template:O})},"./src/knockout/components/string-viewer/string-viewer.html":function(d,P){d.exports=`<!-- ko ifnot: locString.koHasHtml -->
<span class="sv-string-viewer" data-bind="text: locString.koRenderedHtml"></span>
<!-- /ko -->
<!-- ko if: locString.koHasHtml -->
<span class="sv-string-viewer" data-bind="html: locString.koRenderedHtml"></span>
<!-- /ko -->`},"./src/knockout/components/string-viewer/string-viewer.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"StringViewerViewModel",function(){return V});var D=C("knockout"),A=C.n(D),R=C("./src/knockout/components/string-viewer/string-viewer.html"),V;D.components.register("sv-string-viewer",{viewModel:{createViewModel:function(O,l){return{locString:O.locString}}},template:R})},"./src/knockout/components/survey-actions/survey-nav-button.html":function(d,P){d.exports=`<!-- ko with: $data.item  -->
  <input type="button" data-bind="event: { mousedown: $data.data && $data.data.mouseDown }, value: $data.title, click: $data.action, visible: $data.visible, css: $data.innerCss, disable: $data.disabled, attr: { title: $data.getTooltip() }"/>
<!-- /ko -->`},"./src/knockout/components/survey-actions/survey-nav-button.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"SurveyNavigationButton",function(){return V});var D=C("knockout"),A=C.n(D),R=C("./src/knockout/components/survey-actions/survey-nav-button.html"),V;D.components.register("sv-nav-btn",{viewModel:{createViewModel:function(O,l){return O}},template:R})},"./src/knockout/components/svg-icon/svg-icon.html":function(d,P){d.exports=`<!-- ko if: hasIcon -->
<svg class="sv-svg-icon" data-bind="css: css" role="img"><use></use></svg>
<!-- /ko -->
`},"./src/knockout/components/svg-icon/svg-icon.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"SvgIconViewModel",function(){return l});var D=C("knockout"),A=C.n(D),R=C("survey-core"),V=C.n(R),O=C("./src/knockout/components/svg-icon/svg-icon.html"),l;D.components.register("sv-svg-icon",{viewModel:{createViewModel:function(y,p){return D.computed(function(){var f=D.unwrap(y.iconName),e=p.element.querySelector&&p.element.querySelector("svg")||p.element.nextElementSibling;f&&Object(R.createSvg)(D.unwrap(y.size),D.unwrap(y.width),D.unwrap(y.height),f,e,D.unwrap(y.title))}),{hasIcon:y.iconName,css:y.css,title:y.title}}},template:O})},"./src/knockout/components/tagbox/tagbox-item.html":function(d,P){d.exports=`<div class="sv-tagbox__item">
  <div class="sv-tagbox__item-text">
    <!-- ko template: { name: 'survey-string', data: item.locText } -->
    <!-- /ko -->
  </div>
  <div data-bind="css: question.cssClasses.cleanItemButton, click: removeItem">
    <sv-svg-icon params="iconName: question.cssClasses.cleanItemButtonIconId, css: question.cssClasses.cleanItemButtonSvg, size:'auto' "></sv-svg-icon>
  </div>
</div>`},"./src/knockout/components/tagbox/tagbox-item.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"TagboxViewComponent",function(){return O});var D=C("knockout"),A=C.n(D),R=C("./src/knockout/kobase.ts"),V=C("./src/knockout/components/tagbox/tagbox-item.html"),O;D.components.register("sv-tagbox-item",{viewModel:{createViewModel:function(l,y){var p=l.item;return new R.ImplementorBase(p),{item:p,question:l.question,removeItem:function(f,e){f.question.dropdownListModel.deselectItem(f.item.value),e.stopPropagation()}}}},template:V})},"./src/knockout/components/tagbox/tagbox.html":function(d,P){d.exports=`<div data-bind="css: question.cssClasses.selectWrapper, click: click">
  <!-- ko ifnot: question.isReadOnly -->
  <div data-bind="css: question.getControlClass(),
    event: { keydown: keyhandler, blur: blur },
    attr: { 
      id: question.inputId, 
      required: question.isRequired, 
      tabindex: model.noTabIndex ? undefined : 0,
      disabled: question.isInputReadOnly,
      role: question.ariaRole,
      'aria-required': question.ariaRequired, 
      'aria-label': question.ariaLabel, 
      'aria-invalid': question.ariaInvalid, 
      'aria-describedby': question.ariaDescribedBy,
      'aria-expanded': question.ariaExpanded,
      'aria-controls': model.listElementId,
      'aria-activedescendant': model.ariaActivedescendant, 
    },">
    <div data-bind="css: question.cssClasses.controlValue">
      <!-- ko foreach: question.selectedChoices -->
      <!-- ko component: { name: 'sv-tagbox-item', params: { item: $data, question: question } } -->
      <!-- /ko -->
      <!-- /ko -->
      <div data-bind="css: question.cssClasses.hint">
        <!-- ko if: model.showHintPrefix -->
        <div data-bind="css: question.cssClasses.hintPrefix">
          <span data-bind="text: model.hintStringPrefix"></span>
        </div>
        <!-- /ko -->
        <div data-bind="css: question.cssClasses.hintSuffixWrapper">
          <!-- ko if: model.showHintString -->
          <div data-bind="css: question.cssClasses.hintSuffix">
            <span style="visibility: hidden" data-bind="text: model.inputStringRendered"></span>
            <span data-bind="text: model.hintStringSuffix"></span>
            </div>
          <!-- /ko -->
          <input type="text" autocomplete="off" data-bind="textInput: model.inputStringRendered, 
          css: question.cssClasses.filterStringInput, 
          attr: { 
            inputmode: model.inputMode,
            size: !model.inputStringRendered ? 1 : null, 
            id: question.getInputId(), 
            role: model.filterStringEnabled ? question.ariaRole : undefined,
            'aria-expanded': question.ariaExpanded,
            'aria-controls': model.listElementId,
            'aria-activedescendant': model.ariaActivedescendant,
            'aria-label': question.a11y_input_ariaLabel,
            'aria-labelledby': question.a11y_input_ariaLabelledBy,
            placeholder: model.filterStringPlaceholder, 
            disabled: question.isInputReadOnly,
            readonly: model.filterReadOnly
          },
          event: { keydown: inputKeyHandler, blur: blur, focus: focus }"></input>
        </div>
      </div>
    </div>
    <!-- ko if: (question.allowClear && question.cssClasses.cleanButtonIconId) -->
    <div data-bind="css: question.cssClasses.cleanButton, click: clear, visible: question.showClearButton" aria-hidden="true">
      <!-- ko component: { name: 'sv-svg-icon', params: { css: question.cssClasses.cleanButtonSvg, iconName: question.cssClasses.cleanButtonIconId, size: 'auto', title: question.clearCaption } } -->
      <!-- /ko -->
    </div>
    <!-- /ko -->
  </div>
  <!-- ko component: { name: "sv-popup", params: { model: model.popupModel }} -->
  <!-- /ko -->
  <!-- /ko -->
  <!-- ko if: question.isReadOnly -->
  <div disabled data-bind="css: question.getControlClass(), attr: { id: question.inputId }, ">
    <!-- ko if: question.locReadOnlyText -->
    <!-- ko template: { name: 'survey-string', data: question.locReadOnlyText } -->
    <!-- /ko -->
    <!-- /ko -->
  </div>
  <!-- /ko -->
  <!-- ko if: question.cssClasses.chevronButtonIconId -->
  <div data-bind="css: question.cssClasses.chevronButton, event: {pointerdown: chevronPointerDown}" aria-hidden="true">
    <!-- ko component: { name: 'sv-svg-icon', params: { css: question.cssClasses.chevronButtonSvg, iconName: question.cssClasses.chevronButtonIconId, size: 'auto' } } -->
    <!-- /ko -->
  </div>
  <!-- /ko -->
</div>`},"./src/knockout/components/tagbox/tagbox.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"TagboxViewModel",function(){return y});var D=C("knockout"),A=C.n(D),R=C("./src/knockout/kobase.ts"),V=C("survey-core"),O=C.n(V),l=C("./src/knockout/components/tagbox/tagbox.html"),y;D.components.register("sv-tagbox",{viewModel:{createViewModel:function(p,f){var e=p.question,m=function(o,u){var v;(v=e.dropdownListModel)===null||v===void 0||v.onClick(u)},s=function(o,u){var v;(v=e.dropdownListModel)===null||v===void 0||v.chevronPointerDown(u)},a=function(o,u){var v;(v=e.dropdownListModel)===null||v===void 0||v.onClear(u)},c=function(o,u){var v;return(v=e.dropdownListModel)===null||v===void 0||v.keyHandler(u),!0},r=function(o,u){var v;(v=e.dropdownListModel)===null||v===void 0||v.onBlur(u)},t=function(o,u){var v;(v=e.dropdownListModel)===null||v===void 0||v.onFocus(u)},n=function(o,u){var v;return(v=e.dropdownListModel)===null||v===void 0||v.inputKeyHandler(u),!0};return e.dropdownListModel||(e.dropdownListModel=new V.DropdownMultiSelectListModel(e)),new R.ImplementorBase(e.dropdownListModel),{question:e,model:e.dropdownListModel,click:m,clear:a,keyhandler:c,blur:r,focus:t,inputKeyHandler:n,chevronPointerDown:s}}},template:l})},"./src/knockout/components/template-renderer/template-renderer.html":function(d,P){d.exports=`<!-- ko if: templateData.name -->
  <!-- ko template: { name: templateData.name, data: templateData.data, afterRender: templateData.afterRender } -->
  <!-- /ko -->
<!-- /ko -->
<!-- ko ifnot: templateData.name -->
  <!-- ko template: { nodes: templateData.nodes || $componentTemplateNodes, data: templateData.data, afterRender: templateData.afterRender } -->
  <!-- /ko -->
<!-- /ko -->
`},"./src/knockout/components/template-renderer/template-renderer.ts":function(d,P,C){"use strict";C.r(P);var D=C("knockout"),A=C.n(D),R=C("survey-core"),V=C.n(R),O=C("./src/knockout/components/template-renderer/template-renderer.html");D.components.register(R.SurveyModel.TemplateRendererComponentName,{viewModel:{createViewModel:function(l){return l}},template:O})},"./src/knockout/components/title/title-actions.html":function(d,P){d.exports=`<!-- ko ifnot: element.hasTitleActions -->
  <!-- ko component: { name: 'survey-element-title-content', params: {element: element } } --><!-- /ko -->
<!-- /ko -->
<!-- ko if: element.hasTitleActions -->
<div class="sv-title-actions">
  <span class="sv-title-actions__title">
    <!-- ko component: { name: 'survey-element-title-content', params: {element: element } } --><!-- /ko -->
  </span>
  <!-- ko component: { name: 'sv-action-bar', params: { model: toolbar } } -->
  <!-- /ko -->
</div>
<!-- /ko -->`},"./src/knockout/components/title/title-actions.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"TitleActionViewModel",function(){return l});var D=C("knockout"),A=C.n(D),R=C("survey-core"),V=C.n(R),O=C("./src/knockout/components/title/title-actions.html"),l;D.components.register("sv-title-actions",{viewModel:{createViewModel:function(y,p){var f=y.element;return{element:f,toolbar:f.getTitleToolbar()}}},template:O}),R.RendererFactory.Instance.registerRenderer("element","title-actions","sv-title-actions")},"./src/knockout/components/title/title-content.html":function(d,P){d.exports=`<!-- ko if: element.isTitleRenderedAsString -->
  <!-- ko template: { name: 'survey-string', data: element.locTitle } --><!-- /ko -->
<!-- /ko -->
<!-- ko ifnot: element.isTitleRenderedAsString -->
  <!-- ko if: element.isRequireTextOnStart -->
  <span
    data-bind="css: element.cssClasses.requiredText || (element.cssClasses.panel && element.cssClasses.panel.requiredText), text: element.requiredText, attr: { 'aria-hidden': true }"
  ></span>
  <!-- /ko -->
  <!-- ko if: element.no -->
  <span
    style="position: static;"
    data-bind="css: element.cssClasses.number || (element.cssClasses.panel && element.cssClasses.panel.number), text: element.no, attr: { 'aria-hidden': true }"
  ></span>
  <span>&nbsp</span>
  <!-- /ko -->
  <!-- ko if: element.isRequireTextBeforeTitle -->
  <span
    data-bind="css: element.cssClasses.requiredText || (element.cssClasses.panel && element.cssClasses.panel.requiredText), text: element.requiredText, attr: { 'aria-hidden': true }"
  ></span>
  <span>&nbsp</span>
  <!-- /ko -->
  <!-- ko template: { name: 'survey-string', data: element.locTitle } --><!-- /ko -->
  <!-- ko if: element.isRequireTextAfterTitle -->
  <span>&nbsp</span>
  <span
    data-bind="css: element.cssClasses.requiredText || (element.cssClasses.panel && element.cssClasses.panel.requiredText), text: element.requiredText, attr: { 'aria-hidden': true }"
  ></span>
  <!-- /ko -->
<!-- /ko -->`},"./src/knockout/components/title/title-content.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"TitleContentViewModel",function(){return V});var D=C("knockout"),A=C.n(D),R=C("./src/knockout/components/title/title-content.html"),V;D.components.register("survey-element-title-content",{viewModel:{createViewModel:function(O,l){var y=O.element;return{element:y}}},template:R})},"./src/knockout/components/title/title-element.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"TitleElementViewModel",function(){return R});var D=C("knockout"),A=C.n(D),R;D.components.register("survey-element-title",{viewModel:{createViewModel:function(V,O){var l=V.element,y=O.element,p=document.createElement(l.titleTagName),f=l.titleAriaLabel?"'aria-label': element.titleAriaLabel,":"",e="css: element.cssTitle, attr: { "+f+" id: element.ariaTitleId, tabindex: element.titleTabIndex, 'aria-expanded': element.titleAriaExpanded, role: element.titleAriaRole }";l.hasTitleEvents&&(e+=", key2click"),p.setAttribute("data-bind",e),p.innerHTML="<!-- ko component: { name: 'sv-title-actions', params: {element: element } } --><!-- /ko -->";var m=y.nextSibling;return y.parentNode.insertBefore(document.createComment(" ko if: element.hasTitle "),m),y.parentNode.insertBefore(p,m),y.parentNode.insertBefore(document.createComment(" /ko "),m),y.parentNode.removeChild(m),{element:l}}},template:"<span></span>"})},"./src/knockout/koPopupSurvey.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"PopupSurveyImplementor",function(){return p}),C.d(P,"PopupSurvey",function(){return f}),C.d(P,"SurveyWindow",function(){return e});var D=C("knockout"),A=C.n(D),R=C("survey-core"),V=C.n(R),O=C("./src/knockout/kobase.ts"),l=function(){var m=function(s,a){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,r){c.__proto__=r}||function(c,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(c[t]=r[t])},m(s,a)};return function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");m(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),y=C("./node_modules/html-loader/index.js?interpolate!./node_modules/val-loader/index.js!./src/knockout/templates/window.html"),p=function(m){l(s,m);function s(a){var c=m.call(this,a)||this;return c.window=a,c.window.showingChangedCallback=function(){c.doShowingChanged()},c.window.doExpand=function(){c.window.changeExpandCollapse()},c.window.doHide=function(){c.window.hide()},c}return s.prototype.doShowingChanged=function(){var a=this.window.windowElement,c=R.settings.environment.rootElement;this.window.isShowing?(a.innerHTML=this.template,D.cleanNode(a),D.applyBindings(this.window,a),c.appendChild(a)):(c.removeChild(a),a.innerHTML="")},Object.defineProperty(s.prototype,"template",{get:function(){return this.window.templateValue?this.window.templateValue:y},enumerable:!1,configurable:!0}),s}(O.ImplementorBase);R.PopupSurveyModel.prototype.onCreating=function(){this.implementor=new p(this)};var f=function(m){l(s,m);function s(a,c){return c===void 0&&(c=null),m.call(this,a,c)||this}return s}(R.PopupSurveyModel),e=function(m){l(s,m);function s(){return m!==null&&m.apply(this,arguments)||this}return s}(f)},"./src/knockout/kobase.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"ImplementorBase",function(){return R});var D=C("knockout"),A=C.n(D),R=function(){function V(O){this.element=O,this.implementedMark="__surveyImplementedKo",!O[this.implementedMark]&&(O.iteratePropertiesHash(function(l,y){V.doIterateProperties(O,l,y)}),O.createArrayCoreHandler=function(l,y){var p=D.observableArray();return p().onArrayChanged=function(){O.isLoadingFromJson||O.isDisposed||p.notifySubscribers()},l[y]=p,p()},O.getPropertyValueCoreHandler=function(l,y){return l[y]===void 0&&(l[y]=D.observable()),typeof l[y]=="function"?l[y]():l[y]},O.setPropertyValueCoreHandler=function(l,y,p){l[y]!==void 0?l[y](p):l[y]=D.observable(p)},O[this.implementedMark]=!0)}return V.doIterateProperties=function(O,l,y){var p=l[y];p!=="function"&&(Array.isArray(p)?(l[y]=D.observableArray(p),p.onArrayChanged=function(){O.isLoadingFromJson||O.isDisposed||l[y].notifySubscribers()}):l[y]=D.observable(p))},V.prototype.dispose=function(){this.element.iteratePropertiesHash(function(O,l){O[l]=D.unwrap(O[l]),Array.isArray(O[l])&&(O[l].onArrayChanged=void 0)}),this.element.createArrayCoreHandler=void 0,this.element.getPropertyValueCoreHandler=void 0,this.element.setPropertyValueCoreHandler=void 0,delete this.element[this.implementedMark]},V}()},"./src/knockout/koflowpanel.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"FlowPanel",function(){return y});var D=C("knockout"),A=C.n(D),R=C("survey-core"),V=C.n(R),O=C("./src/knockout/kobase.ts"),l=function(){var p=function(f,e){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,s){m.__proto__=s}||function(m,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(m[a]=s[a])},p(f,e)};return function(f,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");p(f,e);function m(){this.constructor=f}f.prototype=e===null?Object.create(e):(m.prototype=e.prototype,new m)}}(),y=function(p){l(f,p);function f(e){e===void 0&&(e="");var m=p.call(this,e)||this;m.koElementType=D.observable("survey-flowpanel"),new O.ImplementorBase(m),m.onCreating();var s=m;return m.koElementAfterRender=function(a,c){return s.elementAfterRender(a,c)},m}return f.prototype.onCreating=function(){},f.prototype.getHtmlForQuestion=function(e){return'<span question="true" contenteditable="false" id="flowpanel_'+e.name+'"><!-- ko template: { name: "survey-flowpanel-question", data: "'+e.name+'"} --><!-- /ko --></span>'},f.prototype.elementAfterRender=function(e,m){if(this.survey){var s=R.SurveyElement.GetFirstNonTextElement(e);s&&this.survey.afterRenderQuestion(m,s)}},f}(R.FlowPanelModel);R.Serializer.overrideClassCreator("flowpanel",function(){return new y}),D.components.register("f-panel",{viewModel:{createViewModel:function(p,f){var e=this,m=D.unwrap(p.question);e.element=f.element,e.element.innerHTML=m.html,e.isOnFocus=!1,e.wasChanged=!1,e.isContentUpdating=!1,m.contentChangedCallback=function(){e.isContentUpdating||(D.cleanNode(e.element),e.element.innerHTML=m.html,D.applyBindings({question:m},e.element),D.tasks&&D.tasks.runEarly())},e.element.onfocus=function(){e.isOnFocus=!0},e.element.onblur=function(){e.wasChanged&&e.updateContent(),e.isOnFocus=!1,e.wasChanged=!1},e.element.ondragend=function(r){var t=/{(.*?(element:)[^$].*?)}/g,n=e.element.innerHTML,o=t.exec(n);if(o!==null){var u=m.getQuestionFromText(o[0]);u&&(m.content=e.getContent(u.name))}},e.updateContent=function(){e.isContentUpdating=!0,m.content=e.getContent(),e.isContentUpdating=!1},m.getContent=e.getContent=function(r){var t=document.createElement("DIV");t.innerHTML=e.element.innerHTML;for(var n=t.querySelectorAll('span[question="true"]'),o=0;o<n.length;o++){var u=n[o].id.replace("flowpanel_",""),v="";if(u!==r){var x=m.getQuestionByName(u);v=x?m.getElementContentText(x):""}n[o].outerHTML=v}return t.innerHTML};var s={characterData:!0,attributes:!0,childList:!0,subtree:!0},a=function(r,t){e.isOnFocus&&(e.wasChanged=!0)},c=new MutationObserver(a);return c.observe(e.element,s),{question:m}}},template:"<div></div>"})},"./src/knockout/kopage.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"QuestionRow",function(){return y}),C.d(P,"PanelImplementorBase",function(){return p}),C.d(P,"Panel",function(){return f}),C.d(P,"Page",function(){return e});var D=C("knockout"),A=C.n(D),R=C("survey-core"),V=C.n(R),O=C("./src/knockout/kobase.ts"),l=function(){var m=function(s,a){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,r){c.__proto__=r}||function(c,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(c[t]=r[t])},m(s,a)};return function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");m(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),y=function(m){l(s,m);function s(a){var c=m.call(this,a)||this;c.panel=a,new O.ImplementorBase(c);var r=c;return c.koElementAfterRender=function(t,n){return r.elementAfterRender(t,n)},c}return s.prototype.getElementType=function(a){return a.isPanel?"survey-panel":"survey-question"},s.prototype.koAfterRender=function(a,c){for(var r=0;r<a.length;r++){var t=a[r],n=t.nodeName;n=="#text"&&(t.data="")}},s.prototype.elementAfterRender=function(a,c){var r=this;!this.panel||!this.panel.survey||setTimeout(function(){D.tasks&&D.tasks.runEarly();var t=R.SurveyElement.GetFirstNonTextElement(a);if(t){var n=c;n.isDisposed||(n.isPanel&&r.panel.survey?r.panel.survey.afterRenderPanel(c,t):n.afterRender(t))}},0)},s.prototype.rowAfterRender=function(a,c){if(!c.isNeedRender){var r=a[0].parentElement,t=setTimeout(function(){return c.startLazyRendering(r)},1);D.utils.domNodeDisposal.addDisposeCallback(r,function(){clearTimeout(t),c.stopLazyRendering(),c.isNeedRender=!c.isLazyRendering()})}},s.prototype.dispose=function(){m.prototype.dispose.call(this),this.koElementAfterRender=void 0},s}(R.QuestionRowModel),p=function(m){l(s,m);function s(a){var c=m.call(this,a)||this;return c.panel=a,c}return s}(O.ImplementorBase),f=function(m){l(s,m);function s(a){a===void 0&&(a="");var c=m.call(this,a)||this;c.onCreating();var r=c;return c.koElementType=D.observable("survey-panel"),c}return s.prototype.onBaseCreating=function(){m.prototype.onBaseCreating.call(this),this._implementor=new p(this)},s.prototype.createRow=function(){return new y(this)},s.prototype.onCreating=function(){},s.prototype.onNumChanged=function(a){this.locTitle.strChanged()},s.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,m.prototype.dispose.call(this)},s}(R.PanelModel),e=function(m){l(s,m);function s(a){a===void 0&&(a="");var c=m.call(this,a)||this;return c.onCreating(),c}return s.prototype.onBaseCreating=function(){m.prototype.onBaseCreating.call(this),this._implementor=new O.ImplementorBase(this)},s.prototype.createRow=function(){return new y(this)},s.prototype.onCreating=function(){},s.prototype.onNumChanged=function(a){this.locTitle.strChanged()},s.prototype.dispose=function(){m.prototype.dispose.call(this),this._implementor.dispose(),this._implementor=void 0},s}(R.PageModel);R.Serializer.overrideClassCreator("panel",function(){return new f}),R.Serializer.overrideClassCreator("page",function(){return new e}),R.ElementFactory.Instance.registerElement("panel",function(m){return new f(m)})},"./src/knockout/koquestion.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"QuestionImplementor",function(){return y});var D=C("knockout"),A=C.n(D),R=C("survey-core"),V=C.n(R),O=C("./src/knockout/kobase.ts"),l=function(){var p=function(f,e){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,s){m.__proto__=s}||function(m,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(m[a]=s[a])},p(f,e)};return function(f,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");p(f,e);function m(){this.constructor=f}f.prototype=e===null?Object.create(e):(m.prototype=e.prototype,new m)}}(),y=function(p){l(f,p);function f(e){var m=p.call(this,e)||this;m.question=e,m._koValue=D.observableArray(),m.disposedObjects=[],m.callBackFunctions=[];var s=!1;return m._koValue.subscribe(function(a){s||m.setKoValue(a)}),Object.defineProperty(m.question,"koValue",{get:function(){if(!R.Helpers.isTwoValueEquals(m._koValue(),m.getKoValue(),!1,!0,!1))try{s=!0,m._koValue(m.getKoValue())}finally{s=!1}return m._koValue},enumerable:!0,configurable:!0}),e.surveyLoadCallback=function(){m.onSurveyLoad()},m.setObservaleObj("koTemplateName",D.pureComputed(function(){return m.getTemplateName()})),m.setObservaleObj("koElementType",D.observable("survey-question")),m.koDummy=D.observable(0),m.setCallbackFunc("koQuestionAfterRender",function(a,c){m.koQuestionAfterRender(a,c)}),m.setCallbackFunc("koMouseDown",function(){return m.question.onMouseDown(),!0}),m}return f.prototype.setObservaleObj=function(e,m,s){return s===void 0&&(s=!0),this.disposedObjects.push(e),s&&(this.question[e]=m),m},f.prototype.setCallbackFunc=function(e,m){this.callBackFunctions.push(e),this.question[e]=m},f.prototype.getKoValue=function(){return this.question.value},f.prototype.setKoValue=function(e){this.question.value=e},f.prototype.onSurveyLoad=function(){},f.prototype.getQuestionTemplate=function(){return this.question.getTemplate()},f.prototype.getTemplateName=function(){return this.question&&this.question.customWidget&&!this.question.customWidget.widgetJson.isDefaultRender?"survey-widget-"+this.question.customWidget.name:"survey-question-"+this.getQuestionTemplate()},f.prototype.getNo=function(){return this.question.visibleIndex>-1?this.question.visibleIndex+1+". ":""},f.prototype.updateKoDummy=function(){this.question.isDisposed||(this.koDummy(this.koDummy()+1),this.question.locTitle.strChanged())},f.prototype.koQuestionAfterRender=function(e,m){var s=this;setTimeout(function(){D.tasks&&D.tasks.runEarly();var a=R.SurveyElement.GetFirstNonTextElement(e,!0);a&&(s.question.afterRenderQuestionElement(a),s.question&&s.question.customWidget&&s.question.customWidget.afterRender(s.question,a),D.utils.domNodeDisposal.addDisposeCallback(a,function(){if(s.question.beforeDestroyQuestionElement(a),s.question&&s.question.customWidget)try{s.question.customWidget.willUnmount(s.question,a)}catch{console.warn("Custom widget will unmount failed")}}))},0)},f.prototype.dispose=function(){p.prototype.dispose.call(this);for(var e=0;e<this.disposedObjects.length;e++){var m=this.disposedObjects[e],s=this[m]||this.question[m];s&&(this[m]&&(this[m]=void 0),this.question[m]&&(this.question[m]=void 0),s.dispose&&s.dispose())}this.disposedObjects=[];for(var a=0;a<this.callBackFunctions.length;a++)this.question[this.callBackFunctions[a]]=void 0;this.callBackFunctions=[],this.question.unregisterPropertyChangedHandlers(["visibleIndex"])},f}(O.ImplementorBase)},"./src/knockout/koquestion_baseselect.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"QuestionSelectBaseImplementor",function(){return R}),C.d(P,"QuestionCheckboxBaseImplementor",function(){return V});var D=C("./src/knockout/koquestion.ts"),A=function(){var O=function(l,y){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var e in f)Object.prototype.hasOwnProperty.call(f,e)&&(p[e]=f[e])},O(l,y)};return function(l,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");O(l,y);function p(){this.constructor=l}l.prototype=y===null?Object.create(y):(p.prototype=y.prototype,new p)}}(),R=function(O){A(l,O);function l(y){var p=O.call(this,y)||this;return p.onCreated(),p}return l.prototype.onCreated=function(){},Object.defineProperty(l.prototype,"isOtherSelected",{get:function(){return this.question.isOtherSelected},enumerable:!1,configurable:!0}),l}(D.QuestionImplementor),V=function(O){A(l,O);function l(y){var p=O.call(this,y)||this;return p.setCallbackFunc("koAfterRender",p.koAfterRender),p}return l.prototype.koAfterRender=function(y,p){var f=y[0];f.nodeName=="#text"&&(f.data=""),f=y[y.length-1],f.nodeName=="#text"&&(f.data="")},l}(R)},"./src/knockout/koquestion_boolean.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"QuestionBoolean",function(){return O});var D=C("survey-core"),A=C.n(D),R=C("./src/knockout/koquestion.ts"),V=function(){var l=function(y,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var m in e)Object.prototype.hasOwnProperty.call(e,m)&&(f[m]=e[m])},l(y,p)};return function(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");l(y,p);function f(){this.constructor=y}y.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}(),O=function(l){V(y,l);function y(p){return l.call(this,p)||this}return y.prototype.onBaseCreating=function(){l.prototype.onBaseCreating.call(this),this._implementor=new R.QuestionImplementor(this)},y.prototype.onSwitchClick=function(p,f){return l.prototype.onSwitchClickModel.call(this,Object(D.getOriginalEvent)(f))},y.prototype.onTrueLabelClick=function(p,f){return this.onLabelClick(f,!0)},y.prototype.onFalseLabelClick=function(p,f){return this.onLabelClick(f,!1)},y.prototype.onKeyDown=function(p,f){return this.onKeyDownCore(f)},y.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,l.prototype.dispose.call(this)},y}(D.QuestionBooleanModel);D.Serializer.overrideClassCreator("boolean",function(){return new O("")}),D.QuestionFactory.Instance.registerQuestion("boolean",function(l){return new O(l)})},"./src/knockout/koquestion_buttongroup.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"QuestionButtonGroup",function(){return O});var D=C("survey-core"),A=C.n(D),R=C("./src/knockout/koquestion_baseselect.ts"),V=function(){var l=function(y,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var m in e)Object.prototype.hasOwnProperty.call(e,m)&&(f[m]=e[m])},l(y,p)};return function(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");l(y,p);function f(){this.constructor=y}y.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}(),O=function(l){V(y,l);function y(p){return l.call(this,p)||this}return y.prototype.onBaseCreating=function(){l.prototype.onBaseCreating.call(this),this._implementor=new R.QuestionCheckboxBaseImplementor(this)},y.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,l.prototype.dispose.call(this)},y}(D.QuestionButtonGroupModel)},"./src/knockout/koquestion_checkbox.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"QuestionCheckboxImplementor",function(){return l}),C.d(P,"QuestionCheckbox",function(){return y});var D=C("./src/knockout/koquestion_baseselect.ts"),A=C("survey-core"),R=C.n(A),V=C("./src/knockout/kobase.ts"),O=function(){var p=function(f,e){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,s){m.__proto__=s}||function(m,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(m[a]=s[a])},p(f,e)};return function(f,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");p(f,e);function m(){this.constructor=f}f.prototype=e===null?Object.create(e):(m.prototype=e.prototype,new m)}}(),l=function(p){O(f,p);function f(e){return p.call(this,e)||this}return f.prototype.getKoValue=function(){return this.question.renderedValue},f.prototype.setKoValue=function(e){this.question.renderedValue=e},f}(D.QuestionCheckboxBaseImplementor),y=function(p){O(f,p);function f(e){var m=p.call(this,e)||this;return m._selectAllItemImpl=void 0,m._otherItemImpl=void 0,m._selectAllItemImpl=new V.ImplementorBase(m.selectAllItem),m._otherItemImpl=new V.ImplementorBase(m.otherItem),m}return f.prototype.onBaseCreating=function(){p.prototype.onBaseCreating.call(this),this._implementor=new l(this)},f.prototype.dispose=function(){this._selectAllItemImpl&&(this._selectAllItemImpl.dispose(),this._selectAllItemImpl=void 0),this._otherItemImpl&&(this._otherItemImpl.dispose(),this._otherItemImpl=void 0),this._implementor.dispose(),this._implementor=void 0,p.prototype.dispose.call(this)},f}(A.QuestionCheckboxModel);A.Serializer.overrideClassCreator("checkbox",function(){return new y("")}),A.QuestionFactory.Instance.registerQuestion("checkbox",function(p){var f=new y(p);return f.choices=A.QuestionFactory.DefaultChoices,f})},"./src/knockout/koquestion_comment.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"QuestionComment",function(){return O});var D=C("survey-core"),A=C.n(D),R=C("./src/knockout/koquestion.ts"),V=function(){var l=function(y,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var m in e)Object.prototype.hasOwnProperty.call(e,m)&&(f[m]=e[m])},l(y,p)};return function(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");l(y,p);function f(){this.constructor=y}y.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}(),O=function(l){V(y,l);function y(p){return l.call(this,p)||this}return y.prototype.onBaseCreating=function(){l.prototype.onBaseCreating.call(this),this._implementor=new R.QuestionImplementor(this)},y.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,l.prototype.dispose.call(this)},y}(D.QuestionCommentModel);D.Serializer.overrideClassCreator("comment",function(){return new O("")}),D.QuestionFactory.Instance.registerQuestion("comment",function(l){return new O(l)})},"./src/knockout/koquestion_custom.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"QuestionCustom",function(){return O}),C.d(P,"QuestionComposite",function(){return l});var D=C("survey-core"),A=C.n(D),R=C("./src/knockout/koquestion.ts"),V=function(){var y=function(p,f){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,m){e.__proto__=m}||function(e,m){for(var s in m)Object.prototype.hasOwnProperty.call(m,s)&&(e[s]=m[s])},y(p,f)};return function(p,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");y(p,f);function e(){this.constructor=p}p.prototype=f===null?Object.create(f):(e.prototype=f.prototype,new e)}}(),O=function(y){V(p,y);function p(f,e){return y.call(this,f,e)||this}return p.prototype.onBaseCreating=function(){y.prototype.onBaseCreating.call(this),this._implementor=new R.QuestionImplementor(this)},p.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,y.prototype.dispose.call(this)},p}(D.QuestionCustomModel),l=function(y){V(p,y);function p(f,e){return y.call(this,f,e)||this}return p.prototype.onBaseCreating=function(){y.prototype.onBaseCreating.call(this),this._implementor=new R.QuestionImplementor(this)},p.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,y.prototype.dispose.call(this)},p}(D.QuestionCompositeModel);D.ComponentCollection.Instance.onCreateCustom=function(y,p){return new O(y,p)},D.ComponentCollection.Instance.onCreateComposite=function(y,p){return new l(y,p)}},"./src/knockout/koquestion_dropdown.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"QuestionDropdown",function(){return p});var D=C("knockout"),A=C.n(D),R=C("survey-core"),V=C.n(R),O=C("./src/knockout/koquestion_baseselect.ts"),l=function(){var f=function(e,m){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(s[c]=a[c])},f(e,m)};return function(e,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");f(e,m);function s(){this.constructor=e}e.prototype=m===null?Object.create(m):(s.prototype=m.prototype,new s)}}(),y=function(f){l(e,f);function e(m){return f.call(this,m)||this}return e}(O.QuestionSelectBaseImplementor),p=function(f){l(e,f);function e(m){var s=f.call(this,m)||this;return s.koDisableOption=function(a,c){c&&D.applyBindingsToNode(a,{disable:D.computed(function(){return!c.isEnabled})},c)},s}return e.prototype.onBaseCreating=function(){f.prototype.onBaseCreating.call(this),this._implementor=new y(this)},e.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,f.prototype.dispose.call(this)},e}(R.QuestionDropdownModel);R.Serializer.overrideClassCreator("dropdown",function(){return new p("")}),R.QuestionFactory.Instance.registerQuestion("dropdown",function(f){var e=new p(f);return e.choices=R.QuestionFactory.DefaultChoices,e})},"./src/knockout/koquestion_empty.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"QuestionEmpty",function(){return O});var D=C("survey-core"),A=C.n(D),R=C("./src/knockout/koquestion.ts"),V=function(){var l=function(y,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var m in e)Object.prototype.hasOwnProperty.call(e,m)&&(f[m]=e[m])},l(y,p)};return function(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");l(y,p);function f(){this.constructor=y}y.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}(),O=function(l){V(y,l);function y(p){return l.call(this,p)||this}return y.prototype.onBaseCreating=function(){l.prototype.onBaseCreating.call(this),this._implementor=new R.QuestionImplementor(this)},y.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,l.prototype.dispose.call(this)},y}(D.QuestionEmptyModel);D.Serializer.overrideClassCreator("empty",function(){return new O("")})},"./src/knockout/koquestion_expression.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"QuestionExpression",function(){return O});var D=C("survey-core"),A=C.n(D),R=C("./src/knockout/koquestion.ts"),V=function(){var l=function(y,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var m in e)Object.prototype.hasOwnProperty.call(e,m)&&(f[m]=e[m])},l(y,p)};return function(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");l(y,p);function f(){this.constructor=y}y.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}(),O=function(l){V(y,l);function y(p){return l.call(this,p)||this}return y.prototype.onBaseCreating=function(){l.prototype.onBaseCreating.call(this),this._implementor=new R.QuestionImplementor(this)},y.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,l.prototype.dispose.call(this)},y}(D.QuestionExpressionModel);D.Serializer.overrideClassCreator("expression",function(){return new O("")}),D.QuestionFactory.Instance.registerQuestion("expression",function(l){return new O(l)})},"./src/knockout/koquestion_file.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"QuestionFile",function(){return p});var D=C("knockout"),A=C.n(D),R=C("survey-core"),V=C.n(R),O=C("./src/knockout/koquestion.ts"),l=function(){var f=function(e,m){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(s[c]=a[c])},f(e,m)};return function(e,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");f(e,m);function s(){this.constructor=e}e.prototype=m===null?Object.create(m):(s.prototype=m.prototype,new s)}}(),y=function(f){l(e,f);function e(m){var s=f.call(this,m)||this;return s.koRecalc=D.observable(0),s.setObservaleObj("koState",D.observable("empty")),s.setObservaleObj("koHasValue",D.computed(function(){return s.question.koState()==="loaded"})),s.setObservaleObj("koData",D.computed(function(){return s.question.koHasValue()?s.question.previewValue:[]})),s.setObservaleObj("ko",D.observable()),s.setObservaleObj("koInputTitle",D.computed(function(){return s.koRecalc(),s.question.inputTitle})),s.setObservaleObj("koChooseFileCss",D.pureComputed(function(){return s.question.getChooseFileCss()})),s.setCallbackFunc("koGetChooseButtonText",function(){return s.question.koState(),s.question.chooseButtonText}),s.setCallbackFunc("ondrop",function(a,c){s.question.onDrop(Object(R.getOriginalEvent)(c))}),s.setCallbackFunc("ondragover",function(a,c){s.question.onDragOver(Object(R.getOriginalEvent)(c))}),s.setCallbackFunc("ondragenter",function(a,c){s.question.onDragEnter(Object(R.getOriginalEvent)(c))}),s.setCallbackFunc("ondragleave",function(a,c){s.question.onDragLeave(Object(R.getOriginalEvent)(c))}),s.setCallbackFunc("dochange",function(a,c){s.question.doChange(Object(R.getOriginalEvent)(c))}),s.setCallbackFunc("doclean",function(a,c){s.question.doClean(Object(R.getOriginalEvent)(c))}),s.setCallbackFunc("doremovefile",function(a,c){s.question.doRemoveFile(a)}),s.setCallbackFunc("dodownload",function(a,c){return s.question.doDownloadFile(Object(R.getOriginalEvent)(c),a),!0}),s}return e}(O.QuestionImplementor),p=function(f){l(e,f);function e(m){var s=f.call(this,m)||this;return s.updateState=function(a,c){s.koState(c.state),s._implementor.koRecalc(s._implementor.koRecalc()+1)},s.onUploadStateChanged.add(s.updateState),s.updateState(s,{state:s.currentState}),s}return e.prototype.onBaseCreating=function(){f.prototype.onBaseCreating.call(this),this._implementor=new y(this)},e.prototype.dispose=function(){this.onUploadStateChanged.remove(this.updateState),this._implementor.dispose(),this._implementor=void 0,f.prototype.dispose.call(this)},e}(R.QuestionFileModel);R.Serializer.overrideClassCreator("file",function(){return new p("")}),R.QuestionFactory.Instance.registerQuestion("file",function(f){return new p(f)})},"./src/knockout/koquestion_html.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"QuestionHtml",function(){return O});var D=C("survey-core"),A=C.n(D),R=C("./src/knockout/koquestion.ts"),V=function(){var l=function(y,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var m in e)Object.prototype.hasOwnProperty.call(e,m)&&(f[m]=e[m])},l(y,p)};return function(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");l(y,p);function f(){this.constructor=y}y.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}(),O=function(l){V(y,l);function y(p){return l.call(this,p)||this}return y.prototype.onBaseCreating=function(){l.prototype.onBaseCreating.call(this),this._implementor=new R.QuestionImplementor(this)},y.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,l.prototype.dispose.call(this)},y}(D.QuestionHtmlModel);D.Serializer.overrideClassCreator("html",function(){return new O("")}),D.QuestionFactory.Instance.registerQuestion("html",function(l){return new O(l)})},"./src/knockout/koquestion_image.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"QuestionImage",function(){return O});var D=C("survey-core"),A=C.n(D),R=C("./src/knockout/koquestion.ts"),V=function(){var l=function(y,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var m in e)Object.prototype.hasOwnProperty.call(e,m)&&(f[m]=e[m])},l(y,p)};return function(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");l(y,p);function f(){this.constructor=y}y.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}(),O=function(l){V(y,l);function y(p){return l.call(this,p)||this}return y.prototype.onBaseCreating=function(){l.prototype.onBaseCreating.call(this),this._implementor=new R.QuestionImplementor(this)},y.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,l.prototype.dispose.call(this)},y}(D.QuestionImageModel);D.Serializer.overrideClassCreator("image",function(){return new O("")}),D.QuestionFactory.Instance.registerQuestion("image",function(l){return new O(l)})},"./src/knockout/koquestion_imagepicker.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"QuestionImagePicker",function(){return p});var D=C("knockout"),A=C.n(D),R=C("survey-core"),V=C.n(R),O=C("./src/knockout/koquestion_baseselect.ts"),l=function(){var f=function(e,m){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(s[c]=a[c])},f(e,m)};return function(e,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");f(e,m);function s(){this.constructor=e}e.prototype=m===null?Object.create(m):(s.prototype=m.prototype,new s)}}(),y=function(f){l(e,f);function e(m){var s=f.call(this,m)||this;return s.question=m,s.koRecalc=D.observable(0),s.setCallbackFunc("koGetItemClass",function(a){return s.koRecalc(),m.getItemClass(a)}),s.question.registerFunctionOnPropertyValueChanged("value",function(){s.question.multiSelect&&s.question.isDesignMode&&s.koRecalc(s.koRecalc()+1)},"__koOnValueChangeTrigger"),s}return e.prototype.getKoValue=function(){return this.question.renderedValue},e.prototype.dispose=function(){this.question.unRegisterFunctionOnPropertyValueChanged("value","__koOnValueChangeTrigger"),f.prototype.dispose.call(this)},e}(O.QuestionCheckboxBaseImplementor),p=function(f){l(e,f);function e(m){return f.call(this,m)||this}return e.prototype.onBaseCreating=function(){f.prototype.onBaseCreating.call(this),this._implementor=new y(this)},e.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,f.prototype.dispose.call(this)},e}(R.QuestionImagePickerModel);R.Serializer.overrideClassCreator("imagepicker",function(){return new p("")}),R.QuestionFactory.Instance.registerQuestion("imagepicker",function(f){var e=new p(f);return e})},"./src/knockout/koquestion_matrix.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"QuestionMatrix",function(){return p});var D=C("knockout"),A=C.n(D),R=C("survey-core"),V=C.n(R),O=C("./src/knockout/koquestion.ts"),l=C("./src/knockout/kobase.ts"),y=function(){var f=function(e,m){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(s[c]=a[c])},f(e,m)};return function(e,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");f(e,m);function s(){this.constructor=e}e.prototype=m===null?Object.create(m):(s.prototype=m.prototype,new s)}}(),p=function(f){y(e,f);function e(m){var s=f.call(this,m)||this;return s.koVisibleRows=D.observableArray(),s.koVisibleColumns=D.observableArray(),s.koVisibleRows(s.visibleRows),s.koVisibleColumns(s.visibleColumns),s}return e.prototype.onBaseCreating=function(){f.prototype.onBaseCreating.call(this),this._implementor=new O.QuestionImplementor(this)},e.prototype.onColumnsChanged=function(){f.prototype.onColumnsChanged.call(this),this.koVisibleColumns(this.visibleColumns)},e.prototype.onRowsChanged=function(){f.prototype.onRowsChanged.call(this),this.koVisibleRows(this.visibleRows)},e.prototype.onSurveyLoad=function(){f.prototype.onSurveyLoad.call(this),this.onRowsChanged()},e.prototype.onMatrixRowCreated=function(m){new l.ImplementorBase(m)},e.prototype.getVisibleRows=function(){var m=f.prototype.getVisibleRows.call(this);return this.koVisibleRows(m),m},e.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,this.koVisibleRows=void 0,this.koVisibleColumns=void 0,f.prototype.dispose.call(this)},e}(R.QuestionMatrixModel);R.Serializer.overrideClassCreator("matrix",function(){return new p("")}),R.QuestionFactory.Instance.registerQuestion("matrix",function(f){var e=new p(f);return e.rows=R.QuestionFactory.DefaultRows,e.columns=R.QuestionFactory.DefaultColums,e})},"./src/knockout/koquestion_matrixdropdown.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"QuestionMatrixBaseImplementor",function(){return p}),C.d(P,"QuestionMatrixDropdown",function(){return f}),C.d(P,"KoQuestionMatrixDropdownRenderedTable",function(){return e});var D=C("knockout"),A=C.n(D),R=C("survey-core"),V=C.n(R),O=C("./src/knockout/koquestion.ts"),l=C("./src/knockout/kobase.ts"),y=function(){var m=function(s,a){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,r){c.__proto__=r}||function(c,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(c[t]=r[t])},m(s,a)};return function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");m(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),p=function(m){y(s,m);function s(a){var c=m.call(this,a)||this;return c.koRecalc=D.observable(0),c.matrix.onRenderedTableCreatedCallback=function(r){c._tableImplementor&&c._tableImplementor.dispose(),c._tableImplementor=new l.ImplementorBase(r)},c.matrix.onRenderedTableResetCallback=function(){c.question.isDisposed||c.koRecalc(c.koRecalc()+1)},c.matrix.onAddColumn=function(r){new l.ImplementorBase(r)},c.setObservaleObj("koTable",D.pureComputed(function(){return c.koRecalc(),c.matrix.renderedTable})),c.setCallbackFunc("koCellAfterRender",function(r,t){return c.cellAfterRender(r,t)}),c.setCallbackFunc("koCellQuestionAfterRender",function(r,t){return c.cellQuestionAfterRender(r,t)}),c.setCallbackFunc("koAddRowClick",function(){c.addRow()}),c.setCallbackFunc("koRemoveRowClick",function(r){c.removeRow(r.row)}),c.setCallbackFunc("koPanelAfterRender",function(r,t){c.panelAfterRender(r,t)}),c}return Object.defineProperty(s.prototype,"matrix",{get:function(){return this.question},enumerable:!1,configurable:!0}),s.prototype.cellAfterRender=function(a,c){var r=this;this.question.survey&&setTimeout(function(){D.tasks&&D.tasks.runEarly();var t=R.SurveyElement.GetFirstNonTextElement(a);if(t){var n=c;if(!(!n||!r.question||!r.question.survey||r.question.isDisposed)){var o={cell:n.cell,cellQuestion:n.question,htmlElement:t,row:n.row,column:n.cell?n.cell.column:null};r.question.survey.matrixAfterCellRender(r.question,o),n.question&&n.question.afterRenderCore(t)}}},0)},s.prototype.cellQuestionAfterRender=function(a,c){!this.question||!this.question.survey||setTimeout(function(){D.tasks&&D.tasks.runEarly();var r=R.SurveyElement.GetFirstNonTextElement(a);if(r){var t=c;if(t){var n=t.question;!n||!n.survey||n.isDisposed||(n.customWidget&&(n.customWidget.afterRender(t.question,r),D.utils.domNodeDisposal.addDisposeCallback(r,function(){n.customWidget.willUnmount(t.question,r)})),D.utils.domNodeDisposal.addDisposeCallback(r,function(){n.beforeDestroyQuestionElement(r)}),n.afterRenderQuestionElement(r))}}},0)},s.prototype.isAddRowTop=function(){return!1},s.prototype.isAddRowBottom=function(){return!1},s.prototype.addRow=function(){},s.prototype.removeRow=function(a){},s.prototype.panelAfterRender=function(a,c){if(!(!this.question||!this.question.survey)){var r=R.SurveyElement.GetFirstNonTextElement(a);this.question.survey.afterRenderPanel(c,r)}},s.prototype.dispose=function(){this._tableImplementor&&this._tableImplementor.dispose(),this.matrix.onRenderedTableCreatedCallback=void 0,this.matrix.onRenderedTableResetCallback=void 0,this.matrix.onAddColumn=void 0,m.prototype.dispose.call(this)},s}(O.QuestionImplementor),f=function(m){y(s,m);function s(a){return m.call(this,a)||this}return s.prototype.createRenderedTable=function(){return new e(this)},s.prototype.onBaseCreating=function(){m.prototype.onBaseCreating.call(this),this._implementor=new p(this)},s.prototype.dispose=function(){m.prototype.dispose.call(this),this._implementor.dispose(),this._implementor=void 0},s}(R.QuestionMatrixDropdownModel),e=function(m){y(s,m);function s(){return m!==null&&m.apply(this,arguments)||this}return s.prototype.createRenderedRow=function(a,c){c===void 0&&(c=!1);var r=new R.QuestionMatrixDropdownRenderedRow(a,c);return new l.ImplementorBase(r),r},s.prototype.createErrorRenderedRow=function(a){var c=m.prototype.createErrorRenderedRow.call(this,a);return new l.ImplementorBase(c),c},s}(R.QuestionMatrixDropdownRenderedTable);R.Serializer.overrideClassCreator("matrixdropdown",function(){return new f("")}),R.QuestionFactory.Instance.registerQuestion("matrixdropdown",function(m){var s=new f(m);return s.choices=[1,2,3,4,5],s.rows=R.QuestionFactory.DefaultRows,R.QuestionMatrixDropdownModelBase.addDefaultColumns(s),s})},"./src/knockout/koquestion_matrixdynamic.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"QuestionMatrixDynamicImplementor",function(){return y}),C.d(P,"QuestionMatrixDynamic",function(){return p});var D=C("knockout"),A=C.n(D),R=C("survey-core"),V=C.n(R),O=C("./src/knockout/koquestion_matrixdropdown.ts"),l=function(){var f=function(e,m){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(s[c]=a[c])},f(e,m)};return function(e,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");f(e,m);function s(){this.constructor=e}e.prototype=m===null?Object.create(m):(s.prototype=m.prototype,new s)}}(),y=function(f){l(e,f);function e(m){var s=f.call(this,m)||this;return s.question.getKoPopupIsVisible=s.getKoPopupIsVisible,s}return e.prototype.addRow=function(){this.question.addRowUI()},e.prototype.removeRow=function(m){this.question.removeRowUI(m)},e.prototype.getKoPopupIsVisible=function(m){return D.observable(m.isDetailPanelShowing)},e.prototype.dispose=function(){f.prototype.dispose.call(this),this.question.getKoPopupIsVisible=void 0},e}(O.QuestionMatrixBaseImplementor),p=function(f){l(e,f);function e(m){return f.call(this,m)||this}return e.prototype.createRenderedTable=function(){return new O.KoQuestionMatrixDropdownRenderedTable(this)},e.prototype.onBaseCreating=function(){f.prototype.onBaseCreating.call(this),this._implementor=new y(this)},e.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,f.prototype.dispose.call(this)},e}(R.QuestionMatrixDynamicModel);R.Serializer.overrideClassCreator("matrixdynamic",function(){return new p("")}),R.QuestionFactory.Instance.registerQuestion("matrixdynamic",function(f){var e=new p(f);return e.choices=[1,2,3,4,5],e.rowCount=2,R.QuestionMatrixDropdownModelBase.addDefaultColumns(e),e})},"./src/knockout/koquestion_multipletext.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"koMultipleTextEditorModel",function(){return f}),C.d(P,"MultipleTextItem",function(){return e}),C.d(P,"QuestionMultipleTextImplementor",function(){return m}),C.d(P,"QuestionMultipleText",function(){return s});var D=C("knockout"),A=C.n(D),R=C("survey-core"),V=C.n(R),O=C("./src/knockout/koquestion.ts"),l=C("./src/knockout/koquestion_text.ts"),y=C("./src/knockout/kobase.ts"),p=function(){var a=function(c,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])},a(c,r)};return function(c,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");a(c,r);function t(){this.constructor=c}c.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}}(),f=function(a){p(c,a);function c(r){return a.call(this,r)||this}return c.prototype.onBaseCreating=function(){a.prototype.onBaseCreating.call(this),this._implementor=new l.QuestionTextImplementor(this)},c.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,a.prototype.dispose.call(this)},c}(R.MultipleTextEditorModel),e=function(a){p(c,a);function c(r,t){return r===void 0&&(r=null),t===void 0&&(t=null),a.call(this,r,t)||this}return c.prototype.createEditor=function(r){return new f(r)},c}(R.MultipleTextItemModel),m=function(a){p(c,a);function c(r){var t=a.call(this,r)||this;return t.koRecalc=D.observable(0),t.setObservaleObj("koItemCss",D.pureComputed(function(){return t.koRecalc(),t.question.getItemCss()})),t.setObservaleObj("koItemTitleCss",D.pureComputed(function(){return t.koRecalc(),t.question.getItemTitleCss()})),t}return c}(O.QuestionImplementor),s=function(a){p(c,a);function c(r){return a.call(this,r)||this}return c.prototype.onBaseCreating=function(){a.prototype.onBaseCreating.call(this),this._implementor=new m(this)},c.prototype.onRowCreated=function(r){return new y.ImplementorBase(r),r},c.prototype.createTextItem=function(r,t){return new e(r,t)},c.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,this.koRows=void 0,a.prototype.dispose.call(this)},c}(R.QuestionMultipleTextModel);R.Serializer.overrideClassCreator("multipletextitem",function(){return new e("")}),R.Serializer.overrideClassCreator("multipletext",function(){return new s("")}),R.QuestionFactory.Instance.registerQuestion("multipletext",function(a){var c=new s(a);return R.QuestionMultipleTextModel.addDefaultItems(c),c})},"./src/knockout/koquestion_paneldynamic.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"QuestionPanelDynamicImplementor",function(){return y}),C.d(P,"QuestionPanelDynamic",function(){return p});var D=C("knockout"),A=C.n(D),R=C("survey-core"),V=C.n(R),O=C("./src/knockout/koquestion.ts"),l=function(){var f=function(e,m){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(s[c]=a[c])},f(e,m)};return function(e,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");f(e,m);function s(){this.constructor=e}e.prototype=m===null?Object.create(m):(s.prototype=m.prototype,new s)}}(),y=function(f){l(e,f);function e(m){var s=f.call(this,m)||this;s.koRecalc=D.observable(0),s.setCallbackFunc("koAddPanelClick",function(){s.addPanel()}),s.setCallbackFunc("koRemovePanelClick",function(c){s.removePanel(c)}),s.setCallbackFunc("koPrevPanelClick",function(){s.question.goToPrevPanel()}),s.setCallbackFunc("koNextPanelClick",function(){s.question.goToNextPanel()}),s.setObservaleObj("koCanAddPanel",D.pureComputed(function(){return s.koRecalc(),s.question.canAddPanel})),s.setObservaleObj("koCanRemovePanel",D.pureComputed(function(){return s.koRecalc(),s.question.canRemovePanel})),s.setObservaleObj("koIsPrevButton",D.pureComputed(function(){return s.koRecalc(),s.question.isPrevButtonVisible})),s.setObservaleObj("koIsNextButton",D.pureComputed(function(){return s.koRecalc(),s.question.isNextButtonVisible})),s.setObservaleObj("koIsRange",D.pureComputed(function(){return s.koRecalc(),s.question.isRangeShowing})),s.setObservaleObj("koPanel",D.pureComputed(function(){return s.koRecalc(),s.question.currentPanel})),s.setObservaleObj("koIsList",D.pureComputed(function(){return s.koRecalc(),s.question.isRenderModeList})),s.setObservaleObj("koIsProgressTop",D.pureComputed(function(){return s.koRecalc(),s.question.isProgressTopShowing})),s.setObservaleObj("koIsProgressBottom",D.pureComputed(function(){return s.koRecalc(),s.question.isProgressBottomShowing}));var a=D.observable(s.question.currentIndex);return a.subscribe(function(c){s.question.currentIndex=c}),s.setObservaleObj("koRangeValue",a),s.setObservaleObj("koRangeMax",D.pureComputed(function(){return s.koRecalc(),s.question.visiblePanelCount-1})),s.setObservaleObj("koAddButtonCss",D.pureComputed(function(){return s.koRecalc(),s.question.getAddButtonCss()})),s.setObservaleObj("koPrevButtonCss",D.pureComputed(function(){return s.koRecalc(),s.question.getPrevButtonCss()})),s.setObservaleObj("koNextButtonCss",D.pureComputed(function(){return s.koRecalc(),s.question.getNextButtonCss()})),s.setObservaleObj("koProgressText",D.pureComputed(function(){return s.koRecalc(),s.question.progressText})),s.setObservaleObj("koProgress",D.pureComputed(function(){return s.koRecalc(),s.question.progress})),s.setCallbackFunc("koPanelAfterRender",function(c,r){s.panelAfterRender(c,r)}),s.question.panelCountChangedCallback=function(){s.onPanelCountChanged()},s.question.renderModeChangedCallback=function(){s.onRenderModeChanged()},s.question.currentIndexChangedCallback=function(){s.onCurrentIndexChanged()},s}return e.prototype.onPanelCountChanged=function(){this.onCurrentIndexChanged()},e.prototype.onRenderModeChanged=function(){this.onCurrentIndexChanged()},e.prototype.onCurrentIndexChanged=function(){this.question.isDisposed||(this.koRecalc(this.koRecalc()+1),this.question.koRangeValue(this.question.currentIndex))},e.prototype.addPanel=function(){this.question.addPanelUI()},e.prototype.removePanel=function(m){this.question.isRenderModeList||(m=this.question.currentPanel),this.question.removePanelUI(m)},e.prototype.panelAfterRender=function(m,s){if(!(!this.question||!this.question.survey)){var a=R.SurveyElement.GetFirstNonTextElement(m);this.question.survey.afterRenderPanel(s,a)}},e.prototype.dispose=function(){this.question.panelCountChangedCallback=void 0,this.question.renderModeChangedCallback=void 0,this.question.currentIndexChangedCallback=void 0,f.prototype.dispose.call(this)},e}(O.QuestionImplementor),p=function(f){l(e,f);function e(m){return f.call(this,m)||this}return e.prototype.onBaseCreating=function(){f.prototype.onBaseCreating.call(this),this._implementor=new y(this)},e.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,f.prototype.dispose.call(this)},e}(R.QuestionPanelDynamicModel);R.Serializer.overrideClassCreator("paneldynamic",function(){return new p("")}),R.QuestionFactory.Instance.registerQuestion("paneldynamic",function(f){return new p(f)})},"./src/knockout/koquestion_radiogroup.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"QuestionRadiogroup",function(){return O});var D=C("survey-core"),A=C.n(D),R=C("./src/knockout/koquestion_baseselect.ts"),V=function(){var l=function(y,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var m in e)Object.prototype.hasOwnProperty.call(e,m)&&(f[m]=e[m])},l(y,p)};return function(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");l(y,p);function f(){this.constructor=y}y.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}(),O=function(l){V(y,l);function y(p){return l.call(this,p)||this}return y.prototype.onBaseCreating=function(){l.prototype.onBaseCreating.call(this),this._implementor=new R.QuestionCheckboxBaseImplementor(this)},y.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,l.prototype.dispose.call(this)},y}(D.QuestionRadiogroupModel);D.Serializer.overrideClassCreator("radiogroup",function(){return new O("")}),D.QuestionFactory.Instance.registerQuestion("radiogroup",function(l){var y=new O(l);return y.choices=D.QuestionFactory.DefaultChoices,y})},"./src/knockout/koquestion_ranking.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"QuestionRanking",function(){return O});var D=C("survey-core"),A=C.n(D),R=C("./src/knockout/koquestion.ts"),V=function(){var l=function(y,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var m in e)Object.prototype.hasOwnProperty.call(e,m)&&(f[m]=e[m])},l(y,p)};return function(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");l(y,p);function f(){this.constructor=y}y.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}(),O=function(l){V(y,l);function y(){var p=l!==null&&l.apply(this,arguments)||this;return p.koHandleKeydown=function(f,e){return p.handleKeydown(e,f),!0},p.koHandlePointerDown=function(f,e){return p.survey.isDesignMode||e.preventDefault(),p.handlePointerDown(e,f,e.currentTarget),!0},p}return y.prototype.onBaseCreating=function(){l.prototype.onBaseCreating.call(this),this._implementor=new R.QuestionImplementor(this)},y.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,l.prototype.dispose.call(this)},y}(D.QuestionRankingModel);D.Serializer.overrideClassCreator("ranking",function(){return new O("")}),D.QuestionFactory.Instance.registerQuestion("ranking",function(l){var y=new O(l);return y.choices=D.QuestionFactory.DefaultChoices,y})},"./src/knockout/koquestion_rating.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"QuestionRatingImplementor",function(){return O}),C.d(P,"QuestionRating",function(){return l});var D=C("./src/knockout/koquestion.ts"),A=C("survey-core"),R=C.n(A),V=function(){var y=function(p,f){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,m){e.__proto__=m}||function(e,m){for(var s in m)Object.prototype.hasOwnProperty.call(m,s)&&(e[s]=m[s])},y(p,f)};return function(p,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");y(p,f);function e(){this.constructor=p}p.prototype=f===null?Object.create(f):(e.prototype=f.prototype,new e)}}(),O=function(y){V(p,y);function p(f){var e=y.call(this,f)||this;return e.onCreated(),e}return p.prototype.onCreated=function(){},p}(D.QuestionImplementor),l=function(y){V(p,y);function p(f){return y.call(this,f)||this}return p.prototype.onBaseCreating=function(){y.prototype.onBaseCreating.call(this),this._implementor=new O(this)},p.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,y.prototype.dispose.call(this)},p}(A.QuestionRatingModel);A.Serializer.overrideClassCreator("rating",function(){return new l("")}),A.QuestionFactory.Instance.registerQuestion("rating",function(y){return new l(y)})},"./src/knockout/koquestion_signaturepad.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"QuestionSignaturePad",function(){return O});var D=C("survey-core"),A=C.n(D),R=C("./src/knockout/koquestion.ts"),V=function(){var l=function(y,p){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var m in e)Object.prototype.hasOwnProperty.call(e,m)&&(f[m]=e[m])},l(y,p)};return function(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");l(y,p);function f(){this.constructor=y}y.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}(),O=function(l){V(y,l);function y(p){return l.call(this,p)||this}return y.prototype.koOnBlur=function(p,f){return this.onBlur(f)},y.prototype.onBaseCreating=function(){l.prototype.onBaseCreating.call(this),this._implementor=new R.QuestionImplementor(this)},y.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,l.prototype.dispose.call(this)},y}(D.QuestionSignaturePadModel);D.Serializer.overrideClassCreator("signaturepad",function(){return new O("")}),D.QuestionFactory.Instance.registerQuestion("signaturepad",function(l){return new O(l)})},"./src/knockout/koquestion_tagbox.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"QuestionTagbox",function(){return y});var D=C("knockout"),A=C.n(D),R=C("survey-core"),V=C.n(R),O=C("./src/knockout/koquestion_baseselect.ts"),l=function(){var p=function(f,e){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,s){m.__proto__=s}||function(m,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(m[a]=s[a])},p(f,e)};return function(f,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");p(f,e);function m(){this.constructor=f}f.prototype=e===null?Object.create(e):(m.prototype=e.prototype,new m)}}(),y=function(p){l(f,p);function f(e){var m=p.call(this,e)||this;return m.isAllSelectedUpdating=!1,m.koAllSelected=D.observable(m.isAllSelected),m.koAllSelected.subscribe(function(s){m.isAllSelectedUpdating||(s?m.selectAll():m.clearValue())}),m}return f.prototype.onBaseCreating=function(){p.prototype.onBaseCreating.call(this),this._implementor=new O.QuestionCheckboxBaseImplementor(this)},f.prototype.onSurveyValueChanged=function(e){p.prototype.onSurveyValueChanged.call(this,e),this.updateAllSelected()},f.prototype.onVisibleChoicesChanged=function(){p.prototype.onVisibleChoicesChanged.call(this),this.updateAllSelected()},f.prototype.updateAllSelected=function(){this.isAllSelectedUpdating=!0,this.koAllSelected(this.isAllSelected),this.isAllSelectedUpdating=!1},f.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,this.koAllSelected=void 0,p.prototype.dispose.call(this)},f}(R.QuestionTagboxModel);R.Serializer.overrideClassCreator("tagbox",function(){return new y("")}),R.QuestionFactory.Instance.registerQuestion("tagbox",function(p){var f=new y(p);return f.choices=R.QuestionFactory.DefaultChoices,f})},"./src/knockout/koquestion_text.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"QuestionTextImplementor",function(){return y}),C.d(P,"QuestionText",function(){return p});var D=C("knockout"),A=C.n(D),R=C("survey-core"),V=C.n(R),O=C("./src/knockout/koquestion.ts"),l=function(){var f=function(e,m){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(s[c]=a[c])},f(e,m)};return function(e,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");f(e,m);function s(){this.constructor=e}e.prototype=m===null?Object.create(m):(s.prototype=m.prototype,new s)}}(),y=function(f){l(e,f);function e(m){var s=f.call(this,m)||this;return s.setCallbackFunc("koOnFocus",function(a,c){return s.question.onFocus(c),!0}),s.setCallbackFunc("koOnBlur",function(a,c){return s.question.onBlur(c),!0}),s.setCallbackFunc("koOnKeyDown",function(a,c){return s.question.onKeyDown(c),!0}),s.setCallbackFunc("koOnKeyUp",function(a,c){return s.question.onKeyUp(c),!0}),s.setCallbackFunc("koOnChange",function(a,c){return s.question.onChange(c),!0}),s.setCallbackFunc("koOnCompositeUpdate",function(a,c){return s.question.onCompositionUpdate(c),!0}),s.setObservaleObj("koReadOnlyValue",D.computed(function(){return s.question.value})),s}return e}(O.QuestionImplementor),p=function(f){l(e,f);function e(m){return f.call(this,m)||this}return e.prototype.onBaseCreating=function(){f.prototype.onBaseCreating.call(this),this._implementor=new y(this)},e.prototype.dispose=function(){this._implementor.dispose(),this._implementor=void 0,f.prototype.dispose.call(this)},e}(R.QuestionTextModel);R.Serializer.overrideClassCreator("text",function(){return new p("")}),R.QuestionFactory.Instance.registerQuestion("text",function(f){return new p(f)})},"./src/knockout/kosurvey.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"SurveyImplementor",function(){return f}),C.d(P,"Survey",function(){return e}),C.d(P,"registerTemplateEngine",function(){return s});var D=C("knockout"),A=C.n(D),R=C("survey-core"),V=C.n(R),O=C("./src/knockout/templateText.ts"),l=C("./src/knockout/kobase.ts"),y=function(){var a=function(c,r){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])},a(c,r)};return function(c,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");a(c,r);function t(){this.constructor=c}c.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}}(),p=function(){return p=Object.assign||function(a){for(var c,r=1,t=arguments.length;r<t;r++){c=arguments[r];for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&(a[n]=c[n])}return a},p.apply(this,arguments)};R.CustomWidgetCollection.Instance.onCustomWidgetAdded.add(function(a){a.widgetJson.isDefaultRender||(a.htmlTemplate||(a.htmlTemplate="<div>'htmlTemplate' attribute is missed.</div>"),new O.SurveyTemplateText().replaceText(a.htmlTemplate,"widget",a.name))});var f=function(a){y(c,a);function c(r){var t=a.call(this,r)||this;return t.survey=r,t.survey.valueHashGetDataCallback=function(n,o){return n[o]===void 0&&(n[o]=D.observable()),D.unwrap(n[o])},t.survey.valueHashSetDataCallback=function(n,o,u){D.isWriteableObservable(n[o])?n[o](u):n[o]=D.observable(u)},t.survey.valueHashDeleteDataCallback=function(n,o){D.isWriteableObservable(n[o])?n[o](void 0):delete n[o]},t.survey.koTitleTemplate=D.observable("survey-header"),t.survey.koAfterRenderPage=function(n,o){var u=R.SurveyElement.GetFirstNonTextElement(n);u&&setTimeout(function(){D.tasks&&D.tasks.runEarly(),t.survey.afterRenderPage(u)},0)},t.survey.koAfterRenderHeader=function(n,o){var u=R.SurveyElement.GetFirstNonTextElement(n);u&&t.survey.afterRenderHeader(u)},t.survey.disposeCallback=function(){t.dispose()},new l.ImplementorBase(t.survey.timerModel),t}return c.prototype.render=function(r){if(r===void 0&&(r=null),typeof D>"u")throw new Error("knockoutjs library is not loaded.");var t=this.survey.activePage;t&&t.updateCustomWidgets(),this.survey.updateElementCss(!1),r&&typeof r=="string"&&(r=Object(R.getElement)(r)),r&&(this.renderedElement=r),this.survey.startTimerFromUI(),this.applyBinding()},c.prototype.applyBinding=function(){this.renderedElement&&(D.cleanNode(this.renderedElement),D.renderTemplate("survey-content",this.survey,{},this.renderedElement))},c.prototype.koEventAfterRender=function(r,t){t.afterRenderSurvey(r)},c.prototype.dispose=function(){a.prototype.dispose.call(this),this.renderedElement&&(D.cleanNode(this.renderedElement),this.renderedElement.innerHTML="",this.renderedElement=void 0),this.survey.koAfterRenderPage=void 0,this.survey.koAfterRenderHeader=void 0,this.survey.iteratePropertiesHash(function(r,t){delete r[t]})},c}(l.ImplementorBase),e=function(a){y(c,a);function c(r,t){r===void 0&&(r=null),t===void 0&&(t=null);var n=a.call(this,r,t)||this;return n.implementor=new f(n),n}return c.prototype.render=function(r){r===void 0&&(r=null),this.implementor.render(r)},c.prototype.fromJSON=function(r,t){r&&(a.prototype.fromJSON.call(this,r,t),this.locStrsChanged())},c.prototype.getHtmlTemplate=function(){return O.koTemplate},c.prototype.makeReactive=function(r){new l.ImplementorBase(r)},c.prototype.dispose=function(){a.prototype.dispose.call(this),this.implementor&&(this.implementor.dispose(),this.implementor=void 0)},c}(R.SurveyModel);function m(a){a.implementor||(a.implementor=new f(a),a.render=function(c){c===void 0&&(c=null),a.implementor.render(c)},a.getHtmlTemplate=function(){return O.koTemplate},a.makeReactive=function(c){new l.ImplementorBase(c)})}R.LocalizableString.prototype.onCreating=function(){var a=this;this.koHasHtml=D.observable(this.hasHtml),this.koRenderedHtml=D.observable(this.renderedHtml),this.onStringChanged.add(function(){var c=a.hasHtml;a.koHasHtml(c),a.koRenderedHtml(c?a.getHtmlValue():a.calculatedText)})},R.ItemValue.prototype.onCreating=function(){var a=this;new l.ImplementorBase(this),this.koText=D.pureComputed(function(){return a.locText.koRenderedHtml()})},D.components.register("survey",{viewModel:{createViewModel:function(a,c){var r=D.unwrap(a.survey)||D.unwrap(a.model);return m(r),setTimeout(function(){var t=document.createElement("div");t.style.width="100%",t.style.height="100%",c.element.appendChild(t),r.render(t)},1),a.survey}},template:O.koTemplate}),D.bindingHandlers.surveyProp={update:function(a,c,r){var t=D.utils.unwrapObservable(c())||{};for(var n in t)if(typeof n=="string"){var o=D.utils.unwrapObservable(t[n]);a[n]=o}}},R.SurveyModel.platform="knockout";var s=function(a,c){a.surveyTemplateEngine=function(){},a.surveyTemplateEngine.prototype=new a.nativeTemplateEngine,a.surveyTemplateEngine.prototype.makeTemplateSource=function(t,n){if(typeof t=="string"){n=n||document;var o=n.getElementById("survey-content-"+c);if(!o){var u=R.settings.environment.rootElement;o=document.createElement("div"),o.id="survey-content-"+R.SurveyModel.platform,o.style.display="none",o.innerHTML=O.koTemplate,u.appendChild(o)}for(var v,x=0;x<o.children.length;x++)if(o.children[x].id===t){v=o.children[x];break}return v||(v=n.getElementById(t)),v?new a.templateSources.domElement(v):new a.nativeTemplateEngine().makeTemplateSource(t,n)}else{if(t.nodeType===1||t.nodeType===8)return new a.templateSources.anonymousTemplate(t);throw new Error("Unknown template type: "+t)}};var r=new a.surveyTemplateEngine;a.setTemplateEngine(r)};D.bindingHandlers.elementStyle={update:function(a,c,r){if(a&&a.style.length)for(var t=a.style.length-1;t>=0;t--){var n=a.style[t];n&&n.indexOf("--sjs-")===0&&a.style.removeProperty(n)}var o=D.utils.unwrapObservable(c())||{};Object.keys(o).forEach(function(u){u.indexOf("--")===0?a.style.setProperty(u,o[u]):a.style[u]=o[u]})}},D.bindingHandlers.key2click={init:function(a,c,r,t){var n=p({},c())||{processEsc:!0,disableTabStop:!1};if(t&&t.disableTabStop||n&&n.disableTabStop){a.tabIndex=-1;return}a.tabIndex=0,a.onkeyup=function(o){return o.preventDefault(),o.stopPropagation(),Object(R.doKey2ClickUp)(o,n),!1},a.onkeydown=function(o){return Object(R.doKey2ClickDown)(o,n)},a.onblur=function(o){return Object(R.doKey2ClickBlur)(o)}}}},"./src/knockout/svg-bundle.ts":function(d,P,C){"use strict";C.r(P);var D=C("knockout"),A=C.n(D),R=C("survey-core"),V=C.n(R);D.components.register("sv-svg-bundle",{viewModel:{createViewModel:function(O,l){var y=l.element.querySelector&&l.element.querySelector("svg")||l.element.nextElementSibling;return y.innerHTML=R.SvgRegistry.iconsRenderedHtml(),O}},template:`<svg id='sv-icon-holder-global-container' style="display:none"></svg>`})},"./src/knockout/templateText.ts":function(d,P,C){"use strict";C.r(P),C.d(P,"koTemplate",function(){return D}),C.d(P,"SurveyTemplateText",function(){return A});var D=C("./node_modules/html-loader/index.js?interpolate!./node_modules/val-loader/index.js!./src/knockout/templates/entry.html"),A=function(){function R(){}return R.prototype.addText=function(V,O,l){O=this.getId(O,l),this.text=this.text+'<script type="text/html" '+O+">"+V+"</script>"},R.prototype.replaceText=function(V,O,l){l===void 0&&(l=null);var y=this.getId(O,l),p=this.text.indexOf(y);if(p<0){this.addText(V,O,l);return}if(p=this.text.indexOf(">",p),!(p<0)){var f=p+1,e="</script>";p=this.text.indexOf(e,f),!(p<0)&&(this.text=this.text.substring(0,f)+V+this.text.substring(p))}},R.prototype.getId=function(V,O){var l='id="survey-'+V;return O&&(l+="-"+O),l+'"'},Object.defineProperty(R.prototype,"text",{get:function(){return D},set:function(V){D=V},enumerable:!1,configurable:!0}),R}()},"./src/knockout/templates/comment.html":function(d,P){d.exports=`<script type="text/html" id="survey-comment">
  <!--ko if: !question.isReadOnlyRenderDiv() -->
<textarea data-bind="attr: { id: question.commentId, maxLength: question.getOthersMaxLength(), 'aria-required': question.ariaRequired || question.a11y_input_ariaRequired, 'aria-label': question.ariaLabel || question.a11y_input_ariaLabel, placeholder: question.renderedCommentPlaceholder }, 
        event: { input: function(s, e) { $data.question.onCommentInput(e); } }, 
        value: $data.question.comment, 
        visible: $data.visible,
        disable: $data.question.isInputReadOnly,
        style: { resize: question.resizeStyle },
        css: $data.question.cssClasses.other"></textarea>
<!--/ko-->

<!--ko if: question.isReadOnlyRenderDiv() -->
<div data-bind="text: question.comment"></div>
<!--/ko-->
</script>
<script type="text/html" id="survey-other">
  <!--ko if: !question.isReadOnlyRenderDiv() -->
<textarea data-bind="attr: { id: question.otherId, maxLength: question.getOthersMaxLength(), 'aria-required': question.ariaRequired || question.a11y_input_ariaRequired, 'aria-label': question.ariaLabel || question.a11y_input_ariaLabel, placeholder: question.otherPlaceholder }, 
        event: { input: function(s, e) { $data.question.onOtherValueInput(e); } }, 
        value: $data.question.otherValue, 
        visible: $data.visible,
        disable: $data.question.isInputReadOnly,
        style: { resize: question.resizeStyle },
        css: $data.question.cssClasses.other"></textarea>
<!--/ko-->

<!--ko if: question.isReadOnlyRenderDiv() -->
<div data-bind="text: question.otherValue"></div>
<!--/ko-->
</script>`},"./src/knockout/templates/flowpanel.html":function(d,P){d.exports=`<script type="text/html" id="survey-flowpanel">
  <div data-bind="style: { flexBasis: renderWidth, flexGrow: 1, flexShrink: 1, width: renderWidth, minWidth: $data.minWidth, maxWidth: $data.maxWidth }, attr: { id: id }, css: cssClasses.panel.container">
      <h4 data-bind="visible: (processedTitle.length > 0), css: question.cssTitle">
          <!-- ko template: { name: 'survey-string', data: locTitle } -->
          <!-- /ko -->
      </h4>
      <div data-bind="css: cssClasses.panel.description">
          <!-- ko template: { name: 'survey-string', data: locDescription } -->
          <!-- /ko -->
      </div>
      <div data-bind="style: { paddingLeft: innerPaddingLeft }"></div>
      <f-panel params="question: question" data-bind="attr: { contenteditable : question.isDesignMode, placeHolder: question.placeHolder }"></f-panel>
  </div>
</script>
<script type="text/html" id="survey-flowpanel-question">
  <!-- ko with: $parent.question.getQuestionByName($data) -->
    <!-- ko template: { name: koElementType(), data: $data, as: 'question', afterRender: parent.koElementAfterRender } --><!-- /ko -->
  <!-- /ko -->
</script>
`},"./src/knockout/templates/header.html":function(d,P){d.exports=`<script type="text/html" id="survey-header">
  <!-- ko if: renderedHasHeader -->
<div data-bind="css: css.header">
  <!-- ko if: isLogoBefore -->
  <!-- ko component: { name: getElementWrapperComponentName($data, 'logo-image'), params: getElementWrapperComponentData($data, 'logo-image') } -->
  <!-- /ko -->
  <!-- /ko -->

  <!-- ko if: renderedHasTitle -->
  <div data-bind="css: css.headerText, style: { maxWidth: titleMaxWidth }">
    <!-- ko component: { name: 'survey-element-title', params: {element: $data } } -->
    <!-- /ko -->
    <!-- ko if: renderedHasDescription -->
    <div data-bind="css: css.description">
      <!-- ko template: { name: 'survey-string', data: locDescription } -->
      <!-- /ko -->
    </div>
    <!-- /ko -->
  </div>
  <!-- /ko -->

  <!-- ko if: isLogoAfter -->
  <!-- ko component: { name: getElementWrapperComponentName($data, 'logo-image'), params: getElementWrapperComponentData($data, 'logo-image') } -->
  <!-- /ko -->
  <!-- /ko -->
  <div data-bind="css: css.headerClose"></div>
</div>
<!-- /ko -->
</script>`},"./src/knockout/templates/index.html":function(d,P){d.exports=`<script type="text/html" id="survey-content">
    <!-- ko template: { name: "survey-content-template", afterRender: $data.implementor.koEventAfterRender } -->
    <!-- /ko -->
</script>

<script type="text/html" id="survey-content-template">
  <div data-bind="css: rootCss, elementStyle: themeVariables">
    <!-- ko if: needRenderIcons -->
      <!-- ko component: { name: 'sv-svg-bundle'} -->
      <!-- /ko -->
    <!-- /ko -->
    <div data-bind="css: wrapperFormCss">
      <!-- ko if: !!renderBackgroundImage -->
      <div data-bind="css: css.rootBackgroundImage, elementStyle: backgroundImageStyle"></div>
      <!-- /ko -->
      <form onsubmit="return false;">
          <div class="sv_custom_header" data-bind="visible: !hasLogo"></div>
          <div data-bind="css: containerCss">
              <!-- ko if: headerView === 'basic' -->
              <!-- ko template: { name: koTitleTemplate, afterRender: koAfterRenderHeader } -->
              <!-- /ko -->
              <!-- /ko -->
              <!-- ko component: { name: "sv-components-container", params: { survey: $data, container: "header", needRenderWrapper: false } } --><!-- /ko -->
              <!-- ko if: isShowingPage -->
              <div data-bind="css: $data.bodyContainerCss">
                  <!-- ko component: { name: "sv-components-container", params: { survey: $data, container: "left" } } --><!-- /ko -->
                  <div class="sv-components-column sv-components-column--expandable">
                    <!-- ko component: { name: "sv-components-container", params: { survey: $data, container: "center" } } --><!-- /ko -->
                    <div data-bind="css: bodyCss, style:{maxWidth: renderedWidth}, attr: { id: activePage ? activePage.id : '' }">
                          <!-- ko component: { name: "sv-components-container", params: { survey: $data, container: "contentTop" } } --><!-- /ko -->
                          <!-- ko if: activePage -->
                          <!-- ko template: { name: 'survey-page', data: activePage, afterRender: koAfterRenderPage } -->
                          <!-- /ko -->
                          <!-- ko if: activePage.rows.length == 0 && $data.emptyPageTemplate -->
                          <!-- ko template: { name: emptyPageTemplate, data: $data.emptyPageTemplateData || $data } -->
                          <!-- /ko -->
                          <!-- /ko -->
                          <!-- /ko -->
                          <!-- ko component: { name: "sv-components-container", params: { survey: $data, container: "contentBottom" } } --><!-- /ko -->
                    </div>
                  </div>
                  <!-- ko component: { name: "sv-components-container", params: { survey: $data, container: "right" } } --><!-- /ko -->
              </div>
              <!-- /ko -->
              <!-- ko component: { name: "sv-components-container", params: { survey: $data, container: "footer", needRenderWrapper: false } } --><!-- /ko -->
              <!-- ko if: state == "completed" && showCompletedPage -->
              <div data-bind="html: processedCompletedHtml, css: completedCss"></div>
              <!-- ko component: { name: "sv-components-container", params: { survey: $data, container: "completePage", needRenderWrapper: false } } --><!-- /ko -->
              <!-- /ko -->
              <!-- ko if: state == "completedbefore" -->
              <div data-bind="html: locCompletedBeforeHtml.koRenderedHtml, css: completedBeforeCss"></div>
              <!-- /ko -->
              <!-- ko if: state == "loading" -->
              <div data-bind="html: locLoadingHtml.koRenderedHtml, css: loadingBodyCss"></div>
              <!-- /ko -->
              <!-- ko if: state == "empty" -->
              <div data-bind="text:emptySurveyText, css: css.bodyEmpty"></div>
              <!-- /ko -->
          </div>
      </form>
      <!-- ko if: showBrandInfo -->
      <sv-brand-info></sv-brand-info>
      <!-- /ko -->
      <!-- ko component: { name: 'sv-notifier', params: { notifier: notifier } } -->
      <!-- /ko -->
    </div>
  </div>
</script>`},"./src/knockout/templates/page.html":function(d,P){d.exports=`<script type="text/html" id="survey-page">
  <div data-bind="css: cssRoot">
    <!-- ko component: { name: 'survey-element-title', params: {element: $data } } --><!-- /ko -->
    <!-- ko if: _showDescription-->
    <div
      data-bind="visible: data.showPageTitles, css: cssClasses.page.description"
    >
      <!-- ko template: { name: 'survey-string', data: locDescription } -->
      <!-- /ko -->
    </div>
    <!-- /ko -->
    <!-- ko template: { name: 'survey-question-errors', data: $data, as: 'question' } -->
    <!-- /ko -->
    <!-- ko template: { name: 'survey-rows', data: $data} -->
    <!-- /ko -->
  </div>
</script>
`},"./src/knockout/templates/panel.html":function(d,P){d.exports=`<script type="text/html" id="survey-panel">
  <!-- ko if: $data.isVisible -->
  <div
    data-bind="attr: { id: id }, css: $data.getContainerCss(), event: {focusin: focusIn}"
  >
    <!-- ko if: showErrorsAbovePanel-->
      <!-- ko template: { name: 'survey-question-errors', data: $data } -->
      <!-- /ko -->
    <!-- /ko -->
    <!-- ko if: hasDescription || hasTitle  -->
        <!--ko template: { name: 'survey-question-title', data: $data  } --><!-- /ko -->
    <!-- /ko -->
    <!-- ko ifnot: showErrorsAbovePanel-->
      <!-- ko template: { name: 'survey-question-errors', data: $data } -->
      <!-- /ko -->
    <!-- /ko -->
    <!-- ko if: state != "collapsed" || isDesignMode -->
    <div
      data-bind="style: { paddingLeft: innerPaddingLeft }, css: cssClasses.panel.content, attr: {id:contentId}"
    >
      <!-- ko template: { name: 'survey-rows', data: $data} -->
      <!-- /ko -->
      <!-- ko component: { name: 'sv-action-bar', params: { model: getFooterToolbar() } } -->
      <!-- /ko -->
    </div>
    <!-- /ko -->
  </div>
  <!-- /ko -->
</script>
`},"./src/knockout/templates/popup-pointer.html":function(d,P){d.exports=`<script type="text/html" id="popup-pointer">
  <span class="sv-popup__pointer" data-bind="style: { left: pointerTarget.left, top: pointerTarget.top }"></span>
</script>`},"./src/knockout/templates/question-boolean.html":function(d,P){d.exports=`<script type="text/html" id="survey-question-boolean">
  <div data-bind="css: question.cssClasses.root, event: { keydown: question.onKeyDown}">
    <label data-bind="css: question.getItemCss()">
      <input
        type="checkbox"
        data-bind="value: question.booleanValue, css: question.cssClasses.control, attr: {name: question.name, id: question.inputId, 'role': question.a11y_input_ariaRole, 'aria-required': question.a11y_input_ariaRequired, 'aria-labelledby': question.a11y_input_ariaLabelledBy, 'aria-invalid': question.a11y_input_ariaInvalid, 'aria-describedby': question.a11y_input_ariaDescribedBy, 'aria-label': question.a11y_input_ariaLabel}, checked: question.booleanValue, surveyProp: {indeterminate: question.isIndeterminate}, enable: !question.isInputReadOnly"
      />
      <div data-bind="css: question.cssClasses.sliderGhost, click: onFalseLabelClick">
        <span data-bind="css: question.getLabelCss(false)">
          <!-- ko template: { name: 'survey-string', data: locLabelFalse } --><!-- /ko -->
        </span>
      </div>
      <div data-bind="css: question.cssClasses.switch, click: onSwitchClick">
        <span data-bind="css: question.cssClasses.slider">
            <!-- ko if: question.cssClasses.sliderText && question.isDeterminated -->
            <span data-bind="css: question.cssClasses.sliderText">
              <!-- ko template: { name: 'survey-string', data: question.getCheckedLabel() } --><!-- /ko -->
            </span>
            <!-- /ko -->
        </span>
      </div>
      <div data-bind="css: question.cssClasses.sliderGhost, click: onTrueLabelClick">
        <span data-bind="css: question.getLabelCss(true)">
          <!-- ko template: { name: 'survey-string', data: locLabelTrue } --><!-- /ko -->
        </span>
      </div>
    </label>
  </div>
</script>`},"./src/knockout/templates/question-buttongroup.html":function(d,P){d.exports=`<script type="text/html" id="survey-question-buttongroup">
  <div role="group" data-bind="css: question.cssClasses.root">
      <!-- ko foreach: question.visibleChoices -->
        <!-- ko component: { name: 'sv-button-group-item', params: { question: question, item: $data, index: $index } } -->
        <!-- /ko -->
      <!-- /ko -->
    </div>
</script>
`},"./src/knockout/templates/question-checkbox.html":function(d,P){d.exports=`<script type="text/html" id="survey-question-checkbox">
  <fieldset data-bind="css: question.getSelectBaseRootCss(), attr: { 'role': question.a11y_input_ariaRole, 'aria-required': question.a11y_input_ariaRequired, 'aria-labelledby': question.a11y_input_ariaLabelledBy, 'aria-invalid': question.a11y_input_ariaInvalid, 'aria-describedby': question.a11y_input_ariaDescribedBy, 'aria-label': question.a11y_input_ariaLabel }">
      <legend data-bind="text: question.locTitle.renderedHtml" class="sv-hidden"></legend>
      <!-- ko if: question.hasHeadItems  -->
        <!-- ko foreach: { data: question.headItems, as: 'item', afterRender: question.koAfterRender }  -->
          <!-- ko component: { name: question.getItemValueWrapperComponentName(item), params: { componentData:  question.getItemValueWrapperComponentData(item), templateData: { name: question.itemComponent, data: item } } } -->
          <!-- /ko -->
        <!-- /ko -->
      <!-- /ko -->
      <!-- ko ifnot: question.hasColumns  -->
        <!-- ko if: question.blockedRow -->
        <div data-bind="css: question.cssClasses.rootRow">
          <!-- ko foreach: { data: question.dataChoices, as: 'item', afterRender: question.koAfterRender }  -->
          <!-- ko component: { name: question.getItemValueWrapperComponentName(item), params: { componentData:  question.getItemValueWrapperComponentData(item), templateData: { name: question.itemComponent, data: item } } } -->
          <!-- /ko -->
          <!-- /ko -->
        </div>
        <!-- /ko -->
        <!-- ko ifnot: question.blockedRow -->
        <!-- ko foreach: { data: question.bodyItems, as: 'item', afterRender: question.koAfterRender }  -->
          <!-- ko component: { name: question.getItemValueWrapperComponentName(item), params: { componentData:  question.getItemValueWrapperComponentData(item), templateData: { name: question.itemComponent, data: item } } } -->
          <!-- /ko -->
        <!-- /ko -->
        <!-- /ko -->
      <!-- /ko -->
      <!-- ko if: question.hasColumns  -->
        <div data-bind="css: question.cssClasses.rootMultiColumn">
        <!-- ko foreach: question.columns -->
            <div data-bind="css: question.getColumnClass()" role="presentation">
            <!-- ko foreach: { data: $data, as: 'item', afterRender: question.koAfterRender }  -->
              <!-- ko component: { name: question.getItemValueWrapperComponentName(item), params: { componentData:  question.getItemValueWrapperComponentData(item), templateData: { name: question.itemComponent, data: item } } } -->
              <!-- /ko -->
            <!-- /ko -->
            </div>
        <!-- /ko -->
        </div>
      <!-- /ko -->
      <!-- ko if: question.hasFootItems  -->
        <!-- ko foreach: { data: question.footItems, as: 'item', afterRender: question.koAfterRender }  -->
          <!-- ko component: { name: question.getItemValueWrapperComponentName(item), params: { componentData:  question.getItemValueWrapperComponentData(item), templateData: { name: question.itemComponent, data: item } } } -->
          <!-- /ko -->
        <!-- /ko -->
      <!-- /ko -->
      <!-- ko if: question.hasOther && question.isOtherSelected -->
      <div data-bind="css: question.getCommentAreaCss(true), template: { name: 'survey-other', data: {'question': question, 'visible': question.isOtherSelected } }"></div>
      <!-- /ko -->
    </fieldset>
</script>
<script type="text/html" id="survey-checkbox-item">
  <div role="presentation" data-bind="css: question.getItemClass($data)">
      <label data-bind="css: question.getLabelClass($data)">
          <input type="checkbox" role="option" data-bind="attr: {name: question.name + id, id: question.getItemId($data)}, value: $data.value, checked: question.isItemSelected($data), event: { change: (i, e) => { question.clickItemHandler($data, e.target.checked); } }, enable: question.getItemEnabled($data), css: question.cssClasses.itemControl"/>
          <!-- ko if: question.cssClasses.materialDecorator -->
          <span data-bind="css: question.cssClasses.materialDecorator">
            <!-- ko if: question.itemSvgIcon -->
            <svg data-bind="css:question.cssClasses.itemDecorator">
              <use data-bind="attr:{'xlink:href':question.itemSvgIcon}" xlink:href=''></use>
            </svg>
            <!-- /ko -->
          </span>
          <!-- /ko -->
          <!-- ko if: !$data.hideCaption -->
          <span data-bind="css: question.cssClasses.controlLabel">
          <!-- ko template: { name: 'survey-string', data: $data.locText } -->
          <!-- /ko -->
          </span>
          <!-- /ko -->
      </label>
  </div>
</script>
`},"./src/knockout/templates/question-comment.html":function(d,P){d.exports=`<script type="text/html" id="survey-question-comment">
<!--ko if: !question.isReadOnlyRenderDiv() -->
<textarea data-bind="attr: {'readonly': question.renderedInputReadOnly, 'disabled': question.renderedInputDisabled, maxLength: question.getMaxLength(), cols: question.cols, rows: question.rows, id: question.inputId, placeholder: question.renderedPlaceholder, 'aria-required': question.a11y_input_ariaRequired, 'aria-label': question.a11y_input_ariaLabel, 'aria-labelledby': question.a11y_input_ariaLabelledBy, 'aria-invalid': question.a11y_input_ariaInvalid, 'aria-describedby': question.a11y_input_ariaDescribedBy}, 
  event: { input: function(s, e) { question.onInput(e); }, keydown: function(s, e) { question.onKeyDown(e); return true; } }, 
  value: question.value, 
  style: { resize: question.resizeStyle },
  css: question.className"></textarea>
  <!--ko if: question.getMaxLength() -->
  <!-- ko component: { name: 'sv-character-counter', params: { counter: question.characterCounter, remainingCharacterCounter: question.cssClasses.remainingCharacterCounter } } -->
  <!-- /ko -->
  <!--/ko-->
<!--/ko-->

<!--ko if: question.isReadOnlyRenderDiv() -->
<div data-bind="text: question.value"></div>
<!--/ko-->
</script>`},"./src/knockout/templates/question-composite.html":function(d,P){d.exports=`<script type="text/html" id="survey-question-composite">
  <!-- ko template: { name: 'survey-panel', data: question.contentPanel, as: 'question', afterRender: question.contentPanel.koPanelAfterRender } -->
  <!-- /ko -->
</script>
`},"./src/knockout/templates/question-custom.html":function(d,P){d.exports=`<script type="text/html" id="survey-question-custom">
    <!-- ko if: question.contentQuestion.isDefaultRendering() -->
      <!-- ko template: { name: question.contentQuestion.koTemplateName(), data: question.contentQuestion, as: 'question', afterRender: question.contentQuestion.koQuestionAfterRender } -->
      <!-- /ko -->
    <!-- /ko -->
    <!-- ko ifnot: question.contentQuestion.isDefaultRendering() -->
      <!-- ko component: { name: question.contentQuestion.getComponentName(), params: { question: question.contentQuestion } } -->
      <!-- /ko -->
    <!-- /ko -->
</script>
`},"./src/knockout/templates/question-dropdown.html":function(d,P){d.exports=`<script type="text/html" id="survey-question-dropdown">
  <div data-bind="css: question.renderCssRoot">
    <!-- ko component: { name: 'sv-dropdown', params: { question: question } } -->
    <!-- /ko -->
  <!-- ko if: question.isOtherSelected -->
  <div data-bind="css: question.getCommentAreaCss(true), template: { name: 'survey-other', data: {'question': question, 'visible': question.isOtherSelected } }, style: {display: question.isFlowLayout ? 'inline': ''}">
  </div>
  <!-- /ko -->
  </div>
</script>
`},"./src/knockout/templates/question-empty.html":function(d,P){d.exports=`<script type="text/html" id="survey-question-empty">
    <div></div>
</script>
`},"./src/knockout/templates/question-errors.html":function(d,P){d.exports=`<script type="text/html" id="survey-question-errors">
        <!-- ko if: hasVisibleErrors -->
            <div role="alert" aria-live="polite" data-bind="visible: hasVisibleErrors, foreach: { data: errors, as: 'error' }, css: cssError, attr: { id: question.id + '_errors' }">
            <!-- ko if: error.visible -->
            <div>   
                <span aria-hidden="true" data-bind="css: question.cssClasses.error.icon"></span>
                <span data-bind="css: question.cssClasses.error.item">
                    <!-- ko template: { name: 'survey-string', data: error.locText } --><!-- /ko -->
                </span>
            </div>
            <!-- /ko -->
        </div>
        <!-- /ko -->
</script>`},"./src/knockout/templates/question-expression.html":function(d,P){d.exports=`<script type="text/html" id="survey-question-expression">
  <div data-bind="text:question.formatedValue, css: question.cssClasses.root"></div>
</script>
`},"./src/knockout/templates/question-file.html":function(d,P){d.exports=`<script type="text/html" id="survey-question-file">
  <div data-bind="css: question.fileRootCss">
        <!-- ko ifnot: question.isInputReadOnly -->
          <!-- ko if: question.hasFileUI -->
          <input type="file" tabindex="-1" data-bind="css: question.cssClasses.fileInput, attr: { id: question.inputId, 'aria-required': question.ariaRequired, 'aria-label': question.ariaLabel, 'aria-invalid': question.ariaInvalid, 'aria-describedby': question.ariaDescribedBy, multiple: question.allowMultiple ? 'multiple' : undefined, title: koInputTitle, accept: question.acceptedTypes, capture: question.renderCapture }, event: { change: question.dochange }">
          <!-- /ko -->
        <!-- /ko -->
        <!-- ko if: question.isReadOnly -->
        <input type="file" disabled data-bind="css: question.getReadOnlyFileCss(), attr: { id: question.inputId, placeholder: question.title, multiple: question.allowMultiple ? 'multiple' : undefined }" style="color: transparent;"/>
        <!-- /ko -->
        <div data-bind="css: question.cssClasses.dragArea, event: { dragenter: question.ondragenter, dragover: question.ondragover, drop: question.ondrop, dragleave: question.ondragleave }">     
          <!-- ko if: question.showFileDecorator -->
          <div data-bind="css: question.getFileDecoratorCss()">
            <span data-bind="css: question.cssClasses.dragAreaPlaceholder">
              <!-- ko template: { name: 'survey-string', data: question.locRenderedPlaceholder } -->
              <!-- /ko -->
            </span>
            <div data-bind="css: question.cssClasses.wrapper">
              <!-- ko if: question.showChooseButton -->
                <!-- ko component: { name: 'sv-file-choose-btn' } -->
                <!-- /ko -->
              <!-- /ko -->
              <!-- ko if: question.actionsContainerVisible -->
              <!-- ko component: { name: 'sv-action-bar', params: { model: question.actionsContainer } } -->
              <!-- /ko -->
              <!-- /ko -->
              <!-- ko if: !question.koHasValue() -->
              <span data-bind="css: question.cssClasses.noFileChosen, text: question.noFileChosenCaption"></span>
              <!-- /ko -->
            </div>
          </div>
          <!-- /ko -->
          <!-- ko if: question.showLoadingIndicator -->
          <div data-bind="css: question.cssClasses.loadingIndicator">
            <!-- ko component: { name: "sv-loading-indicator" } -->
            <!-- /ko -->
          </div>
          <!-- /ko -->
          <!-- ko if: question.isPlayingVideo -->
          <!-- ko template: { name: 'survey-question-file-video', data: { question: question } } --><!-- /ko -->          
          <!-- /ko -->
          <!-- ko template: { name: 'survey-question-file-clean-button', data: {question: question, showRemoveButton: question.showRemoveButton} } --><!-- /ko -->
          <!-- ko if: question.allowShowPreview -->
          <!-- ko component: { name: 'sv-file-preview', data: { question: question } } --><!-- /ko -->          
          <!-- /ko -->
          <!-- ko template: { name: 'survey-question-file-clean-button', data: {question: question, showRemoveButton: question.showRemoveButtonBottom} } --><!-- /ko -->
          <!-- ko if: question.fileNavigatorVisible -->
          <!-- ko component: { name: 'sv-action-bar', params: { model: question.fileNavigator } } -->
          <!-- /ko -->
          <!-- /ko -->
        </div>
  </div>
</script>
<script type="text/html" id="survey-question-file-clean-button">
  <!-- ko if: question.koHasValue() && !question.isReadOnly && $data.showRemoveButton-->
  <button type="button" data-bind="css: showRemoveButton, enabled: !question.isInputReadOnly, click: question.doclean">
      <span data-bind="text: question.clearButtonCaption"></span>
  </button>
  <!-- /ko -->
</script>
<script type="text/html" id="survey-question-file-video">
  <div data-bind="css: question.cssClasses.videoContainer">
    <!-- ko component: { name: 'sv-action', params: { item: question.changeCameraAction } } --><!-- /ko -->
    <!-- ko component: { name: 'sv-action', params: { item: question.closeCameraAction } } --><!-- /ko -->
    <video autoplay playsinline data-bind="attr: { id: question.videoId },  css: question.cssClasses.video"></video>
    <!-- ko component: { name: 'sv-action', params: { item: question.takePictureAction } } --><!-- /ko -->
  </div>
</script>
<script type="text/html" id="survey-question-file-sign">
  <!-- ko if: item.name && fileSignCss -->
  <div data-bind="css: fileSignCss">
    <a data-bind="style: { width: question.imageWidth }, click: question.dodownload, text: item.name, attr: { href: item.content, title: item.name, download: item.name }"></a>
  </div>
  <!-- /ko -->
</script>`},"./src/knockout/templates/question-html.html":function(d,P){d.exports=`<script type="text/html" id="survey-question-html">
  <div data-bind="html: question.locHtml.koRenderedHtml, css: question.cssClasses.root"></div>
</script>
`},"./src/knockout/templates/question-image.html":function(d,P){d.exports=`<script type="text/html" id="survey-question-image">
  <div data-bind="css: question.cssClasses.root">
    <!-- ko if: question.renderedMode === "image" -->
    <img data-bind="event: { load: question.onLoadHandler, error: question.onErrorHandler }, css: question.getImageCss(), attr: { src: $data.locImageLink.koRenderedHtml() || null, width: question.renderedWidth, height: question.renderedHeight, alt: question.altText || question.title }, style: { objectFit: question.imageFit,  width: question.renderedStyleWidth, height: question.renderedStyleHeight }, visible: $data.locImageLink.koRenderedHtml() && !question.contentNotLoaded"/>
    <!-- /ko -->
    <!-- ko if: question.renderedMode === "video" -->
    <video controls data-bind="event: { load: question.onLoadHandler, error: question.onErrorHandler }, css: question.getImageCss(), attr: { src: $data.locImageLink.koRenderedHtml(), width: question.renderedWidth, height: question.renderedHeight }, style: { objectFit: question.imageFit,  width: question.renderedStyleWidth, height: question.renderedStyleHeight }, visible: $data.locImageLink.koRenderedHtml() && !question.contentNotLoaded"></video>
    <!-- /ko -->
    <!-- ko if: question.renderedMode === "youtube" -->
    <iframe data-bind=" css: question.getImageCss(), attr: { src: $data.locImageLink.koRenderedHtml(), width: question.renderedWidth, height: question.renderedHeight }, style: { objectFit: question.imageFit,  width: question.renderedStyleWidth, height: question.renderedStyleHeight }"></iframe>
    <!-- /ko -->
    <!-- ko if: !$data.locImageLink.koRenderedHtml() || question.contentNotLoaded  -->
    <div data-bind="css: question.cssClasses.noImage">
      <!-- ko component: { name: 'sv-svg-icon', params: { iconName: question.cssClasses.noImageSvgIconId, size: 48 } } --><!-- /ko -->
    </div>
    <!-- /ko -->
  </div>
</script>
`},"./src/knockout/templates/question-imagepicker.html":function(d,P){d.exports=`<script type="text/html" id="survey-question-imagepicker">
    <fieldset data-bind="css: question.getSelectBaseRootCss()">
        <legend class="sv-hidden" data-bind="text: question.locTitle.renderedHtml"></legend>
        <!-- ko ifnot: question.hasColumns -->
        <!-- ko foreach: { data: question.visibleChoices, as: 'item', afterRender: question.koAfterRender}  -->
        <!-- ko component: { name: question.getItemValueWrapperComponentName(item), params: { componentData:  question.getItemValueWrapperComponentData(item), templateData: { name: 'survey-imagepicker-item', data: item } } } -->
        <!-- /ko -->
        <!-- /ko -->
        <!-- /ko -->
        <!-- ko if: question.hasColumns -->
        <!-- ko foreach: question.columns -->
        <div data-bind="css: question.getColumnClass()" role="presentation">
            <!-- ko foreach: { data: $data, as: 'item', afterRender: question.koAfterRender }  -->
            <!-- ko component: { name: question.getItemValueWrapperComponentName(item), params: { componentData:  question.getItemValueWrapperComponentData(item), templateData: { name: 'survey-imagepicker-item', data: item } } } -->
            <!-- /ko -->
            <!-- /ko -->
        </div>
        <!-- /ko -->
        <!-- /ko -->
    </fieldset>
</script>
<script type="text/html" id="survey-imagepicker-item">
    <div data-bind="css: question.koGetItemClass(item)">
        <label data-bind="css: question.cssClasses.label">
            <input data-bind="attr: {type: question.inputType, name: question.questionName, value: item.value, id: question.getItemId(item), 'aria-required': question.ariaRequired, 'aria-label': question.ariaLabel, 'aria-invalid': question.ariaInvalid, 'aria-describedby': question.ariaDescribedBy}, checked: question.koValue, enable: question.getItemEnabled(item), css: question.cssClasses.itemControl"
            />
            <div data-bind="css: question.cssClasses.itemDecorator">
                <div data-bind="css: question.cssClasses.imageContainer">
                  <!-- ko if: question.cssClasses.checkedItemDecorator -->
                  <span data-bind="css: question.cssClasses.checkedItemDecorator">
                    <!-- ko if: question.cssClasses.checkedItemSvgIconId -->
                    <!-- ko component: { name: 'sv-svg-icon', params: { css: question.cssClasses.checkedItemSvgIcon, iconName: question.cssClasses.checkedItemSvgIconId, size: 'auto' } } -->
                    <!-- /ko -->
                    <!-- /ko -->
                   </span>
                  <!-- /ko -->
                  <!-- ko if: ($data.locImageLink.koRenderedHtml() && !$data.contentNotLoaded && question.contentMode === "image") -->
                  <img data-bind="css: question.cssClasses.image, attr: { src: $data.locImageLink.koRenderedHtml, width: question.renderedImageWidth, height: question.renderedImageHeight, alt: item.locText.koRenderedHtml }, style: { objectFit: question.imageFit }, event: { load: question.onContentLoaded, error: $data.onErrorHandler }"/>
                  <!-- /ko -->
                  <!-- ko if: ($data.locImageLink.koRenderedHtml() && !$data.contentNotLoaded && question.contentMode === "video") -->
                  <video controls data-bind="css: question.cssClasses.image, attr: { src: $data.locImageLink.koRenderedHtml, width: question.renderedImageWidth, height: question.renderedImageHeight }, style: { objectFit: question.imageFit }, event: { loadedmetadata: question.onContentLoaded, error: $data.onErrorHandler }"></video>
                  <!-- /ko -->
                  <!-- ko if: (!$data.locImageLink.koRenderedHtml() || $data.contentNotLoaded) -->
                  <div data-bind="css: question.cssClasses.itemNoImage, style: { width: question.renderedImageWidth, height: question.renderedImageHeight, objectFit: question.imageFit}">
                    <!-- ko component: { name: 'sv-svg-icon', params: { css: question.cssClasses.itemNoImageSvgIcon, iconName: question.cssClasses.itemNoImageSvgIconId, size: 48 } } --><!-- /ko -->
                  </div>
                  <!-- /ko -->
                  
                </div>
                <!-- ko if: question.showLabel -->
                <span data-bind="css: question.cssClasses.itemText">
                  <!-- ko template: { name: 'survey-string', data: item.locText } -->
                  <!-- /ko -->
                </span>
                <!-- /ko -->
            </div>
        </label>
    </div>
</script>`},"./src/knockout/templates/question-matrix.html":function(d,P){d.exports=`<script type="text/html" id="survey-question-matrix">
  <div data-bind="css: question.cssClasses.tableWrapper">
    <fieldset>
      <legend class="sv-hidden"
        data-bind="text: question.locTitle.renderedHtml"
      ></legend>
      <table data-bind="css: question.getTableCss()">
        <!-- ko if: question.showHeader -->
        <thead>
          <tr>
            <!-- ko if: question.hasRows -->
            <td data-bind="visible: question.hasRows"></td>
            <!-- /ko -->
            <!-- ko foreach: question.koVisibleColumns -->
            <th data-bind="css: question.cssClasses.headerCell, style: { minWidth: question.columnMinWidth, width: question.columnMinWidth }">
              <!-- ko component: { name: question.getColumnHeaderWrapperComponentName($data), params: { componentData:  question.getColumnHeaderWrapperComponentData($data), templateData: { data: $data } } } -->
                <!-- ko template: { name: 'survey-string', data: $data.locText } --><!-- /ko -->
              <!-- /ko -->
            </th>
            <!-- /ko -->
          </tr>
        </thead>
        <!-- /ko -->
        <tbody>
          <!-- ko foreach: { data: question.koVisibleRows, as: 'row' } -->
          <tr data-bind="css: row.rowClasses">
            <td
              data-bind="visible: question.hasRows, css: row.rowTextClasses, style: {  minWidth: question.rowTitleWidth, width: question.rowTitleWidth }"
            >
              <!-- ko component: { name: question.getRowHeaderWrapperComponentName($data), params: { componentData:  question.getRowHeaderWrapperComponentData($data), templateData: { data: $data } } } -->
                <!-- ko template: { name: 'survey-string', data: row.locText } -->
                <!-- /ko -->
              <!-- /ko -->
            </td>
            <!-- ko foreach: question.koVisibleColumns -->
            <!-- ko if: question.hasCellText -->
            <td
              data-bind="css: question.getItemClass(row, $data), click: function() { row.cellClick($data); }"
            >
              <!-- ko template: { name: 'survey-string', data: question.getCellDisplayLocText(row.name, $data) } -->
              <!-- /ko -->
            </td>
            <!-- /ko -->
            <!-- ko if: !question.hasCellText -->
            <td
              data-bind="attr: { 'data-responsive-title': $data.locText.renderedHtml }, css: question.cssClasses.cell"
            >
            <!-- ko component: { name: "sv-template-renderer", params: { templateData: { name: question.cellComponent, data: { question: question, row: $parent, column: $data } } } } -->
            <!-- /ko -->
            </td>
            <!-- /ko -->
            <!-- /ko -->
          </tr>
          <!-- /ko -->
        </tbody>
      </table>
    </fieldset>
  </div>
</script>
<script type="text/html" id="survey-text">
  <span data-bind="text:$data.renderedHtml"></span>
</script>
<script type="text/html" id="survey-matrix-cell">
  <label data-bind="css: question.getItemClass(row, column), event: { mousedown: question.koMouseDown }" >
    <input
      type="radio"
      data-bind="css: question.cssClasses.itemValue, attr: { name: row.fullName, 'aria-required': question.a11y_input_ariaRequired, 'aria-label': question.getCellAriaLabel(row.locText.renderedHtml, column.locText.renderedHtml), 'aria-invalid': question.a11y_input_ariaInvalid, 'aria-describedby': question.a11y_input_ariaDescribedBy, id: question.inputId + '_' + row.name + '_' + $index() }, checkedValue: column.value, checked: row.value, enable: !row.isReadOnly"
    />
    <span data-bind="css: question.cssClasses.materialDecorator">
        <!-- ko if: question.itemSvgIcon -->
          <svg data-bind="css:question.cssClasses.itemDecorator">
            <use data-bind="attr:{'xlink:href':question.itemSvgIcon}" xlink:href=''></use>
          </svg>  
        <!-- /ko -->
    </span>
    <!-- ko if: question.isMobile -->
    <span data-bind="css: question.cssClasses.cellResponsiveTitle">
      <!-- ko template: { name: 'survey-string', data: column.locText } --><!-- /ko -->
    </span>
    <!-- /ko -->
  </label>
</script>
`},"./src/knockout/templates/question-matrixdropdown.html":function(d,P){d.exports=`<script type="text/html" id="survey-question-matrixdropdown">
  <!-- ko template: { name: 'survey-matrixtable' } --><!--/ko-->
</script>`},"./src/knockout/templates/question-matrixdynamic.html":function(d,P){d.exports=`<script type="text/html" id="survey-question-matrixdynamic">
    <div>
      <!-- ko if: question.koTable().showAddRowOnTop -->
      <div
        data-bind="css: question.cssClasses.footer"
      >
        <button
          type="button"
          data-bind="click: question.isDesignMode ? undefined : question.koAddRowClick, css: question.getAddRowButtonCss(), disable: question.isInputReadOnly"
        >
          <!-- ko template: { name: 'survey-string', data: question.locAddRowText } --><!-- /ko -->
          <span data-bind="css: question.cssClasses.iconAdd"></span>
        </button>
      </div>
      <!-- /ko -->
      <!-- ko template: { name: 'survey-matrixtable' } -->
      <!--/ko-->
      <!-- ko ifnot: question.koTable().showTable -->
      <div data-bind="css: question.cssClasses.emptyRowsSection">
        <div data-bind="css: question.cssClasses.emptyRowsText">
          <!-- ko template: { name: 'survey-string', data: question.locEmptyRowsText } --><!-- /ko -->
        </div>
        <!-- ko if: question.koTable().showAddRow -->  
        <button
          type="button"
          data-bind="click:question.koAddRowClick, css: question.getAddRowButtonCss(true), disable: question.isInputReadOnly"
        >
          <!-- ko template: { name: 'survey-string', data: question.locAddRowText } --><!-- /ko -->
          <span data-bind="css: question.cssClasses.iconAdd"></span>
        </button>
        <!-- /ko -->
      </div>
      <!-- /ko -->
      <!-- ko if: question.koTable().showAddRowOnBottom -->
      <div
        data-bind="css: question.cssClasses.footer"
      >
        <button
          type="button"
          data-bind="click: question.koAddRowClick, css: question.getAddRowButtonCss(), disable: question.isInputReadOnly"
        >
          <!-- ko template: { name: 'survey-string', data: question.locAddRowText } --><!-- /ko -->
          <span data-bind="css: question.cssClasses.iconAdd"></span>
        </button>
      </div>
      <!-- /ko -->
  </div>
</script>
<script type="text/html" id="survey-matrixdropdown-cell">
  <td
    data-bind="css: $data.className, style: { minWidth: $data.minWidth, width: $data.width }, attr: { 'data-responsive-title': headers, title: $data.getTitle(), colspan: $data.colSpans }, event: {focusin: $data.focusIn }"
  >
    <!-- ko if: $data.matrix -->
    <div data-bind="visible: question.isVisible, css: $parentContext.question.cssClasses.cellQuestionWrapper">
      <!-- ko if: $data.isOtherChoice -->
        <div data-bind="css: question.getCommentAreaCss(true), template: { name: 'survey-other', data: {'question': question, 'visible': true } }"></div>
      <!-- /ko -->
      <!-- ko if: $data.isCheckbox -->
        <!-- ko let: { question: $data.matrix.getCellTemplateData($data) } -->
          <!-- ko component: { name: $data.matrix.getCellWrapperComponentName($data), params: { componentData:  $data.matrix.getCellWrapperComponentData($data), templateData: { name:  'survey-checkbox-item', data: item } } } -->
          <!-- /ko -->
        <!-- /ko -->
      <!-- /ko -->
      <!-- ko if: $data.isRadio -->
        <!-- ko let: { question: $data.matrix.getCellTemplateData($data) } -->
          <!-- ko component: { name: $data.matrix.getCellWrapperComponentName($data), params: { componentData:  $data.matrix.getCellWrapperComponentData($data), templateData: { name:  'survey-radiogroup-item', data: item } } } -->
          <!-- /ko -->  
        <!-- /ko -->   
      <!-- /ko -->
      <!-- ko ifnot: $data.isChoice -->
      <!-- ko if: question.isDefaultRendering() -->
        <!-- ko let: { question: $data.matrix.getCellTemplateData($data) } -->
        <!-- ko component: { name: $data.matrix.getCellWrapperComponentName($data), params: { componentData:  $data.matrix.getCellWrapperComponentData($data), templateData: { name: question.koTemplateName(), data: question, afterRender: function(el) { $data.matrix.koCellQuestionAfterRender(el, $data); } } } } -->
        <!-- /ko -->
        <!-- /ko -->
      <!-- /ko -->
      <!-- ko ifnot: question.isDefaultRendering() -->
        <!-- ko component: { name: question.getComponentName(), params: { question: question } } -->
        <!-- /ko -->
      <!-- /ko -->
      <!-- /ko -->
    </div>
    <!-- /ko -->
    <!-- ko ifnot: $data.matrix -->
    <!-- ko if: $data.locTitle -->
    <!-- ko template: { name: 'survey-string', data: $data.locTitle } --><!-- /ko -->
    <!-- /ko -->
    <!-- /ko -->
  </td>
</script>
<script type="text/html" id="survey-matrixtable">
<div
  data-bind="visible: question.koTable().showTable, css: question.cssClasses.tableWrapper, style: { overflowX: question.showHorizontalScroll ? 'scroll': '' }"
>
  <table data-bind="css: question.getTableCss()">
    <!-- ko if: question.koTable().showHeader -->
    <thead>
      <tr>
        <!-- ko foreach: question.koTable().headerRow.cells -->
          <!-- ko if: $data.hasTitle -->
            <th
              data-bind="style: { minWidth: $data.minWidth, width: $data.width }, css: $data.className"
            >
              <!-- ko component: { name: question.getColumnHeaderWrapperComponentName($data), params: { componentData:  question.getColumnHeaderWrapperComponentData($data), templateData: { data: $data } } } -->
                <!-- ko template: { name: 'survey-string', data: $data.locTitle } --><!-- /ko -->
                <!-- ko if: $data.column && $data.column.isRenderedRequired -->
                <span>&nbsp</span>
                <span data-bind="css: question.cssClasses.cellRequiredText, text: $data.column.requiredText"></span>
                <!-- /ko -->
              <!-- /ko -->
            </th>
          <!-- /ko -->
          <!-- ko ifnot: $data.hasTitle -->
            <td data-bind="style: { minWidth: $data.minWidth, width: $data.width }, css: $data.className"></td>
          <!-- /ko -->
        <!-- /ko -->
      </tr>
    </thead>
    <!-- /ko -->
    <tbody>
      <!-- ko foreach: question.koTable().rows -->
      <!-- ko ifnot: ($parent.detailPanelMode === "popup" && $data.isDetailRow) || !$data.visible-->
      <tr data-bind="css: $data.className, attr: attributes, event: { pointerdown: function (model, event) { question.onPointerDown(event, row); return true;} }">
        <!-- ko foreach: $data.cells -->
        <!-- ko if: $data.isDragHandlerCell -->
        <td data-bind="css:$data.className, attr: {colspan: $data.colSpans}">
          <!-- ko component: { name: 'sv-matrix-drag-drop-icon', params: { item: { data: { row: row, question: question } } }} -->
          <!-- /ko -->
        </td>
        <!-- /ko -->
        <!-- ko if: $data.isActionsCell -->
        <td data-bind="css: $data.className, attr: { colspan: $data.colSpans, 'data-responsive-title': headers, title: $data.getTitle() }">
          <!-- ko component: { name: 'sv-action-bar', params: { model: $data.item.getData(), handleClick: false } } -->
          <!-- /ko -->
        </td>
        <!-- /ko -->
        <!-- ko if: $data.isEmpty -->
        <td data-bind="css: $data.className, attr: { colspan: $data.colSpans, 'data-responsive-title': headers, title: $data.getTitle() }"></td>
        <!-- /ko -->
        <!-- ko if: $data.hasPanel -->
        <td data-bind="css: $data.className, attr: { colspan: $data.colSpans }">
          <!-- ko component: { name: $data.panel.survey.getElementWrapperComponentName($data.panel), 
            params: { componentData:  $data.panel.survey.getElementWrapperComponentData($data.panel), 
            templateData: { name: $data.panel.koElementType, data: $data.panel, afterRender: question.koPanelAfterRender } } } 
          -->
          <!-- /ko -->
        </td>
        <!-- /ko -->
        <!-- ko if: $data.isErrorsCell -->
        <td data-bind="css: $data.className, attr: { colspan: $data.colSpans, 'data-responsive-title': headers, title: $data.getTitle() }">
            <!-- ko template: { name: 'survey-question-errors', data: $data.question, as: 'question' } -->
            <!-- /ko -->
        </td>
        <!-- /ko -->
        <!-- ko if: $data.hasQuestion -->
        <!-- ko template: { name: 'survey-matrixdropdown-cell', afterRender: function(els) { $data.matrix.koCellAfterRender(els, $data); } } --><!-- /ko -->
        <!-- /ko -->
        <!-- ko if: $data.hasTitle -->
        <td
          data-bind="css: $data.className, style: { minWidth: $data.minWidth, width: $data.width }, attr: { colspan: $data.colSpans, 'data-responsive-title': headers, title: $data.getTitle() }"
        >
          <!-- ko component: { name: question.getRowHeaderWrapperComponentName($data), params: { componentData:  question.getRowHeaderWrapperComponentData($data), templateData: { data: $data } } } -->
          <!-- ko template: { name: 'survey-string', data: $data.locTitle } --><!-- /ko -->
          <!-- ko if: $data.requiredText -->
          <span data-bind="css: question.cssClasses.cellRequiredText, text: $data.requiredText"></span>
          <!-- /ko -->
          <!-- /ko -->
        </td>
        <!-- /ko -->
        <!-- /ko -->
      </tr>

      <!-- /ko -->
      <!-- /ko -->
    </tbody>
    <!-- ko if:question.koTable().hasFooter -->
    <tfoot>
      <tr>
        <!-- ko foreach: question.koTable().footerRow.cells -->
            <!-- ko template: { name: 'survey-matrixdropdown-cell', afterRender: function(els) { $data.matrix && $data.matrix.koCellAfterRender(els, $data); } } --><!-- /ko -->
        <!-- /ko -->
      </tr>
    </tfoot>
    <!-- /ko -->
  </table>
</div>
</script>`},"./src/knockout/templates/question-multipletext.html":function(d,P){d.exports=`<script type="text/html" id="survey-question-multipletext">
  <table data-bind="css: question.getQuestionRootCss()">
    <tbody data-bind="foreach: { data:  question.getRows(), as: 'row' }">
      <!-- ko if: row.isVisible -->
      <tr data-bind="foreach: { data: row.cells, as: 'cell' }, css: question.cssClasses.row">
        <td data-bind="css: cell.className">  
          <!-- ko ifnot: cell.isErrorsCell -->
          <label data-bind="css: question.getItemLabelCss(item)">
              <span data-bind="css: question.koItemTitleCss, style: {  minWidth: question.itemTitleWidth, width: question.itemTitleWidth }">
                <!-- ko component: { name: 'survey-element-title-content', params: {element: cell.item.editor} } --><!-- /ko -->
              </span>
              <div data-bind="css: question.koItemCss, event: {focusin: cell.item.focusIn }">
                <!-- ko template: { name: item.editor.koTemplateName(), data: cell.item.editor, as: 'question', afterRender: cell.item.editor.koQuestionAfterRender } -->
                <!-- /ko -->
              </div>
          </label>
          <!-- /ko -->
          <!-- ko if: cell.isErrorsCell -->
            <!-- ko template: { name: 'survey-question-errors', data: cell.item.editor, as: 'question' } -->
            <!-- /ko -->
          <!-- /ko -->
        </td>
      </tr>
      <!-- /ko -->
    </tbody>
  </table>
</script>
`},"./src/knockout/templates/question-paneldynamic-navigator.html":function(d,P){d.exports=`<script type="text/html" id="survey-question-paneldynamic-navigator">
  <div style="clear: both;">
        <div data-bind="css: question.cssClasses.progressContainer">
          <!-- ko component: { name: 'sv-paneldynamic-prev-btn', params: { question: question }} --><!-- /ko -->
          <!-- ko if: question.koIsRange -->
            <!-- ko template: { name: 'survey-question-paneldynamic-progress', data: question, as: 'question'} --><!-- /ko -->
          <!-- /ko -->
          <!-- ko component: { name: 'sv-paneldynamic-next-btn', params: { question: question }} --><!-- /ko -->
        </div>
          <!-- ko component: { name: 'sv-paneldynamic-add-btn', params: { question: question }} --><!-- /ko -->
        <div data-bind="text: question.koProgressText, css: question.cssClasses.progressText"></div>
      </div>
</script>
<script type="text/html" id="survey-question-paneldynamic-progress">
  <div data-bind="css: question.cssClasses.progress">
    <div
      data-bind="css: question.cssClasses.progressBar, style: { width: question.koProgress }"
      role="progressbar"
    ></div>
  </div>
</script>`},"./src/knockout/templates/question-paneldynamic.html":function(d,P){d.exports=`<script type="text/html" id="survey-question-paneldynamic">
  <div data-bind="css: question.cssClasses.root">
    <!-- ko if: question.getShowNoEntriesPlaceholder() -->
      <div data-bind="css: question.cssClasses.noEntriesPlaceholder">
        <span>
          <!-- ko template: { name: 'survey-string', data: locNoEntriesText } --><!-- /ko -->
        </span>
          <!-- ko component: { name: 'sv-paneldynamic-add-btn', params: { question: question }} -->
          <!-- /ko -->
        </div>
    <!-- /ko -->
    <!-- ko if: question.koIsList() -->
      <!-- ko foreach: { data: question.panels } -->
        <div data-bind="css: question.getPanelWrapperCss()">
          <!-- ko let: { question: $data } -->
            <!-- ko component: { name: survey.getElementWrapperComponentName(question), params: { componentData:  survey.getElementWrapperComponentData(question), templateData: { name: question.koElementType, data: question, afterRender: $parent.koPanelAfterRender } } } -->
            <!-- /ko -->
          <!-- /ko -->
          <!-- ko if: question.panelRemoveButtonLocation === 'right' && question.koCanRemovePanel() && $data.state != 'collapsed'-->
            <!-- ko component: { name: 'sv-paneldynamic-remove-btn', params: { question: question, panel: $data } } -->
            <!-- /ko -->
          <!-- /ko -->
          
        </div>
        <!-- ko if: question.showSeparator($index()) -->
        <hr data-bind="css: question.cssClasses.separator"/>
        <!-- /ko -->
      <!-- /ko -->
      <!-- ko if: question.showLegacyNavigation -->
        <!-- ko component: { name: 'sv-paneldynamic-add-btn', params: { question: question }} --><!-- /ko -->
      <!-- /ko -->
    <!-- /ko -->
    <!-- ko ifnot: question.koIsList()  -->
      <!-- ko if: question.koIsProgressTop-->
        <!-- ko if: !question.showLegacyNavigation && question.koIsRange -->
          <!-- ko template: { name: 'survey-question-paneldynamic-progress', data: question, as: 'question'} -->
          <!-- /ko -->
        <!-- /ko -->
        <!-- ko if: question.showLegacyNavigation -->
        <div data-bind="css: question.cssClasses.progressTop">
          <!-- ko template: { name: 'survey-question-paneldynamic-navigator', data: question, as: 'question'} -->
          <!-- /ko -->
        </div>
        <!-- /ko -->
      <!-- /ko -->
      <!-- ko if: question.koPanel() -->
      <div data-bind="css: question.getPanelWrapperCss()">
        <!-- ko let: { question: question.koPanel() } -->
          <!-- ko component: { name: question.survey.getElementWrapperComponentName(question), params: { componentData:  question.survey.getElementWrapperComponentData(question), templateData: { name: question.koElementType, data: question, afterRender: $parent.koPanelAfterRender } } } -->
          <!-- /ko -->
        <!-- /ko -->
        <!-- ko if: question.panelRemoveButtonLocation === 'right'-->
          <!-- ko template: { name: 'survey-question-paneldynamic-remove-btn', data: { question: question, panel: question.koPanel() }, as: 'question'} -->
          <!-- /ko -->
        <!-- /ko-->
      </div>
      <!-- /ko -->
      <!-- ko if: question.showLegacyNavigation && question.koIsProgressBottom--> 
      <div data-bind="css: question.cssClasses.progressBottom">
        <!-- ko template: { name: 'survey-question-paneldynamic-navigator', data: question, as: 'question'} -->
        <!-- /ko -->
      </div>
      <!-- /ko -->
    <!-- /ko -->
    <!-- ko if: question.showNavigation -->
    <div data-bind="css: question.cssClasses.footer">
      <hr data-bind="css: question.cssClasses.separator"/>
      <!-- ko if: question.koIsRange() && question.koIsProgressBottom -->
         <!-- ko template: { name: 'survey-question-paneldynamic-progress', data: question, as: 'question'} -->
         <!-- /ko -->
      <!-- /ko -->
      <!-- ko if: question.footerToolbar.visibleActions.length -->
      <div data-bind="css: question.cssClasses.footerButtonsContainer">
        <!-- ko component: { name: "sv-action-bar", params: { model: question.footerToolbar } } -->
        <!-- /ko -->
      </div>
      <!-- /ko -->
    </div>
    <!-- /ko -->
  </div>
</script>`},"./src/knockout/templates/question-radiogroup.html":function(d,P){d.exports=`<script type="text/html" id="survey-question-radiogroup">

  <fieldset data-bind="css: question.getSelectBaseRootCss(), attr: { 'role': question.a11y_input_ariaRole, 'aria-required': question.a11y_input_ariaRequired, 'aria-labelledby': question.a11y_input_ariaLabelledBy, 'aria-invalid': question.a11y_input_ariaInvalid, 'aria-describedby': question.a11y_input_ariaDescribedBy, 'aria-label': question.a11y_input_ariaLabel }">
    <!-- ko ifnot: question.hasColumns -->
      <!-- ko if: question.blockedRow -->
      <div data-bind="css: question.cssClasses.rootRow">
        <!-- ko foreach: { data: question.dataChoices, as: 'item', afterRender: question.koAfterRender }  -->
        <!-- ko component: { name: question.getItemValueWrapperComponentName(item), params: { componentData:  question.getItemValueWrapperComponentData(item), templateData: { name: question.itemComponent, data: item } } } -->
        <!-- /ko -->
        <!-- /ko -->
      </div>
      <!-- /ko -->
      <!-- ko ifnot: question.blockedRow -->
      <!-- ko foreach: { data: question.bodyItems, as: 'item', afterRender: question.koAfterRender }  -->
        <!-- ko component: { name: question.getItemValueWrapperComponentName(item), params: { componentData:  question.getItemValueWrapperComponentData(item), templateData: { name: question.itemComponent, data: item } } } -->
        <!-- /ko -->
      <!-- /ko -->
      <!-- /ko -->
    <!-- /ko -->
    <!-- ko if: question.hasColumns -->
      <div data-bind="css: question.cssClasses.rootMultiColumn">

        <!-- ko foreach: question.columns -->
        <div data-bind="css: question.getColumnClass()" role="presentation">
          <!-- ko foreach: { data: $data, as: 'item', afterRender: question.koAfterRender } -->
            <!-- ko component: { name: question.getItemValueWrapperComponentName(item), params: { componentData:  question.getItemValueWrapperComponentData(item), templateData: { name: question.itemComponent, data: item } } } -->
            <!-- /ko -->
          <!-- /ko -->
        </div>
        <!-- /ko -->
      </div>
    <!-- /ko -->
    <!-- ko if: question.hasFootItems  -->
      <!-- ko foreach: { data: question.footItems, as: 'item', afterRender: question.koAfterRender }  -->
        <!-- ko component: { name: question.getItemValueWrapperComponentName(item), params: { componentData:  question.getItemValueWrapperComponentData(item), templateData: { name: question.itemComponent, data: item } } } -->
        <!-- /ko -->
      <!-- /ko -->
    <!-- /ko -->

    <!-- ko if: question.hasOther && question.isOtherSelected -->
      <div data-bind="css: question.getCommentAreaCss(true), template: { name: 'survey-other', data: {'question': question, 'visible': question.isOtherSelected } }"></div>
    <!-- /ko -->
    <!-- ko if: question.showClearButtonInContent -->
    <div>
      <input
        type="button"
        data-bind="click:question.clearValue, css: question.cssClasses.clearButton, value: question.clearButtonCaption"
      />
    </div>
    <!-- /ko -->
  </fieldset>
</script>
<script type="text/html" id="survey-radiogroup-item">
  <div role="presentation" data-bind="css: question.getItemClass($data)">
    <label data-bind="css: question.getLabelClass($data), event: { mousedown: question.koMouseDown }">
      <input
        type="radio"
        data-bind="attr: { name: question.questionName, id: question.getItemId($data), 'aria-describedby': question.ariaDescribedBy }, checkedValue: $data.value, checked: question.renderedValue, enable: question.getItemEnabled($data), css: question.cssClasses.itemControl"
      />
      <!-- ko if: question.cssClasses.materialDecorator -->
      <span data-bind="css: question.cssClasses.materialDecorator">
        <!-- ko if: question.itemSvgIcon -->
        <svg data-bind="css:question.cssClasses.itemDecorator">
          <use data-bind="attr:{'xlink:href':question.itemSvgIcon}" xlink:href=''></use>
        </svg>
        <!-- /ko -->
      </span>
      <!-- /ko -->
      <!-- ko if: !$data.hideCaption -->
      <span data-bind="css: question.getControlLabelClass($data)">
        <!-- ko template: { name: 'survey-string', data: $data.locText } -->
        <!-- /ko -->
      </span>
      <!-- /ko -->
    </label>
  </div>
</script>
`},"./src/knockout/templates/question-ranking.html":function(d,P){d.exports=`<script type="text/html" id="survey-question-ranking">
   <!-- ko ifnot: question.selectToRankEnabled -->
  <div data-bind="css: question.rootClass">
    <!-- ko foreach: { data: question.rankingChoices, as: 'item', afterRender: question.koAfterRender } -->
      <!-- ko component: { name: question.getItemValueWrapperComponentName(item), params: { number: question.getNumberByIndex($index()), componentData:  question.getItemValueWrapperComponentData(item), templateData: { name: 'survey-ranking-item', data: item } } } -->
      <!-- /ko -->
    <!-- /ko -->
  </div>
  <!-- /ko -->

  <!-- ko if: question.selectToRankEnabled -->
  <div data-bind="css: question.rootClass">
    <div data-bind="css: question.getContainerClasses('from')" data-ranking="from-container">
      <!-- ko foreach: { data: question.unRankingChoices, as: 'item', afterRender: question.koAfterRender } -->
        <!-- ko component: { name: question.getItemValueWrapperComponentName(item), params: { number: '', componentData:  question.getItemValueWrapperComponentData(item), templateData: { name: 'survey-ranking-item', data: item } } } -->
        <!-- /ko -->
      <!-- /ko -->
      <!-- ko if: question.unRankingChoices.length === 0 -->
        <div data-bind="css: cssClasses.containerPlaceholder">
            <!-- ko template: { name: 'survey-string', data: question.locSelectToRankEmptyRankedAreaText } -->
            <!-- /ko -->
        </div>
      <!-- /ko -->
    </div>
    <div data-bind="css: cssClasses.containersDivider"></div>
    <div data-bind="css: question.getContainerClasses('to')" data-ranking="to-container">
      <!-- ko foreach: { data: question.rankingChoices, as: 'item', afterRender: question.koAfterRender } -->
        <!-- ko component: { name: question.getItemValueWrapperComponentName(item), params: { number: question.getNumberByIndex($index()), componentData:  question.getItemValueWrapperComponentData(item), templateData: { name: 'survey-ranking-item', data: item } } } -->
        <!-- /ko -->
      <!-- /ko -->
      <!-- ko if: question.rankingChoices.length === 0 -->
      <div data-bind="css: cssClasses.containerPlaceholder">
          <!-- ko template: { name: 'survey-string', data: question.locSelectToRankEmptyUnrankedAreaText } -->
          <!-- /ko -->
      </div>
      <!-- /ko -->
    </div>
  </div>

  <!-- /ko -->
</script>

<script type="text/html" id="survey-ranking-item">
  <div
    data-bind="event: { keydown: question.koHandleKeydown, pointerdown: question.koHandlePointerDown}, css: question.getItemClass($data), attr: {tabindex: question.getItemTabIndex($data), 'data-sv-drop-target-ranking-item': $index() }"
  >
    <div tabindex="-1" style="outline: none;">
      <div data-bind="css: question.cssClasses.itemGhostNode"></div>
      <div data-bind="css: question.cssClasses.itemContent">
        <div data-bind="css: question.cssClasses.itemIconContainer">
          <svg data-bind="css:question.getIconHoverCss()">
            <use data-bind="attr:{'xlink:href':question.dragDropSvgIcon}" xlink:href=''></use>
          </svg>
          <svg data-bind="css:question.getIconFocusCss()">
            <use data-bind="attr:{'xlink:href':question.arrowsSvgIcon}" xlink:href=''></use>
          </svg>
        </div>
        <!-- ko if: $parent.number -->
        <div
          data-bind="css: question.getItemIndexClasses(item), text: $parent.number"
        ></div>
        <!-- /ko -->
        <!-- ko ifnot: $parent.number -->
        <div
          data-bind="css: question.getItemIndexClasses(item)"
        >
        <svg>
          <use data-bind="attr:{'xlink:href':question.dashSvgIcon}" xlink:href=''></use>
        </svg>
      </div>
        <!-- /ko -->
        <div data-bind="css: question.cssClasses.controlLabel">
          <!-- ko template: { name: 'survey-string', data: $data.locText } -->
          <!-- /ko -->
        </div>
      </div>
    </div>
  </div>
</script>
`},"./src/knockout/templates/question-rating.html":function(d,P){d.exports=`<script type="text/html" id="survey-question-rating">
    <div data-bind="css: question.ratingRootCss">
        <fieldset role="radiogroup">
            <legend role="presentation" class="sv-hidden"></legend>
            <!-- ko if: question.hasMinLabel-->
            <span data-bind="css: question.cssClasses.minText">
              <!-- ko template: { name: 'survey-string', data: question.locMinRateDescription } -->
              <!-- /ko -->
              </span>
            <!-- /ko -->
            <!-- ko foreach: question.renderedRateItems -->
              <!-- ko component: { name: question.itemComponent, params: { question: question, item: $data, index: $index() } } -->
              <!-- /ko -->
              
            <!-- /ko -->
            <!-- ko if: question.hasMaxLabel-->
            <span data-bind="css: question.cssClasses.maxText">
              <!-- ko template: { name: 'survey-string', data: question.locMaxRateDescription } -->
              <!-- /ko -->
              </span>
            <!-- /ko -->

        </fieldset>
    </div>
  </fieldset>
</script>
`},"./src/knockout/templates/question-signaturepad.html":function(d,P){d.exports=`<script type="text/html" id="survey-question-signaturepad">
    <div data-bind="css: question.cssClasses.root, style: { width: question.renderedCanvasWidth }">
        <div data-bind="css: question.cssClasses.placeholder, visible: $data.needShowPlaceholder()">
            <!-- ko template: { name: 'survey-string', data: question.locPlaceholder } -->
            <!-- /ko -->
        </div>
        <div>
            <!-- ko if: question.backgroundImage -->
            <img data-bind="attr: { src: question.backgroundImage}, style: { width: question.renderedCanvasWidth }, css: question.cssClasses.backgroundImage">
            <!-- /ko -->
            <canvas tabindex='-1' data-bind="css: question.cssClasses.canvas, event: { blur: question.koOnBlur }" ></canvas>
        </div>
        <!-- ko if: question.canShowClearButton -->
        <div data-bind="css: question.cssClasses.controls">
            <button type='button'
                data-bind="click: question.clearValue, css: question.cssClasses.clearButton, attr: { title: question.clearButtonCaption }">
                    <!-- ko ifnot: question.cssClasses.clearButtonIconId -->
                        <span>\u2716</span>
                    <!-- /ko -->
                    <!-- ko if: question.cssClasses.clearButtonIconId -->
                        <sv-svg-icon params="iconName: question.cssClasses.clearButtonIconId, size: 'auto'"></sv-svg-icon>
                    <!-- /ko -->
            </button>
        </div>
        <!-- /ko -->
        <!-- ko if: question.showLoadingIndicator -->
        <div data-bind="css: question.cssClasses.loadingIndicator">
        <!-- ko component: { name: "sv-loading-indicator" } -->
        <!-- /ko -->
        </div>
        <!-- /ko -->
    </div>
</script>`},"./src/knockout/templates/question-tagbox.html":function(d,P){d.exports=`<script type="text/html" id="survey-question-tagbox">
  <div data-bind="css: question.renderCssRoot">
    <!-- ko component: { name: 'sv-tagbox', params: { question: question } } -->
    <!-- /ko -->
  <!-- ko if: question.isOtherSelected -->
  <div
    data-bind="css: question.getCommentAreaCss(true), template: { name: 'survey-other', data: {'question': question, 'visible': question.isOtherSelected } }, style: {display: question.isFlowLayout ? 'inline': ''}">
  </div>
  <!-- /ko -->
  </div>
</script>`},"./src/knockout/templates/question-text.html":function(d,P){d.exports=`<script type="text/html" id="survey-question-text">
  <!--ko if: !question.dataListId && !question.isReadOnlyRenderDiv()-->
    <!-- ko template: { name: 'survey-question-text-input' } --><!-- /ko -->
  <!--/ko-->
  <!--ko if: question.dataListId && !question.isReadOnlyRenderDiv()-->
  <div>
    <!-- ko template: { name: 'survey-question-text-input' } --><!-- /ko -->
    <datalist data-bind="attr: {id: question.dataListId}">
    <!-- ko foreach: question.dataList -->
      <option data-bind="value:$data"></option>
    <!--/ko-->
    </datalist>
  </div>
  <!--/ko-->
  <!--ko if: question.isReadOnlyRenderDiv() -->
  <div data-bind="text: question.value"></div>
  <!--/ko-->
</script>
<script type="text/html" id="survey-question-text-input">
  <input
  data-bind="disable: question.isInputReadOnly, 
    style: question.inputStyle, 
    attr: { type: question.inputType, size: question.renderedInputSize, id: question.inputId, placeholder: question.renderedPlaceholder, maxLength: question.getMaxLength(), min: question.renderedMin, max: question.renderedMax, step: question.renderedStep, 'aria-required': question.a11y_input_ariaRequired, 'aria-invalid': question.ariaInvalid, 'aria-label': question.a11y_input_ariaLabel, 'aria-labelledby': question.a11y_input_ariaLabelledBy, 'aria-invalid': question.a11y_input_ariaInvalid, 'aria-describedby': question.a11y_input_ariaDescribedBy, autocomplete: question.autocomplete, list:question.dataListId }, 
    event: { keydown: koOnKeyDown, keyup: koOnKeyUp, change: koOnChange, compositionupdate: koOnCompositeUpdate, blur: koOnBlur, focus: koOnFocus },
    value: question.koReadOnlyValue,
    css: question.getControlClass()"/>
  <!--ko if: question.getMaxLength() -->
  <!-- ko component: { name: 'sv-character-counter', params: { counter: question.characterCounter, remainingCharacterCounter: question.cssClasses.remainingCharacterCounter } } -->
  <!-- /ko -->
  <!--/ko-->
</script>`},"./src/knockout/templates/question.html":function(d,P){d.exports=`<script type="text/html" id="survey-question">
<div data-bind="css: question.getRootCss(), style: question.getRootStyle(), attr: { id: question.id, 'data-name': question.name, role: question.ariaRole, 'aria-required': question.ariaRequired, 'aria-invalid': question.ariaInvalid, 'aria-labelledby': question.ariaLabelledBy, 'aria-expanded': question.ariaExpanded}">
  <!-- ko if: question.showErrorsAboveQuestion -->
    <!-- ko template: { name: 'survey-question-errors', data: question } -->
    <!-- /ko -->
  <!-- /ko -->
  <!-- ko if: question.hasTitleOnLeftTop -->
    <!--ko template: { name: 'survey-question-title', data: question  } -->
    <!-- /ko -->
  <!-- /ko -->
  <!-- ko component: { name: question.survey.getQuestionContentWrapperComponentName(question), params: { componentData:  question.survey.getElementWrapperComponentData(question), templateData: { name: 'survey-question-content', data: question } } } -->
  <!-- /ko -->
  <!-- ko if: question.showErrorsBelowQuestion -->
    <!-- ko template: { name: 'survey-question-errors', data: question } -->
    <!-- /ko -->
  <!-- /ko -->
  </script>
`},"./src/knockout/templates/questioncontent.html":function(d,P){d.exports=`<script type="text/html" id="survey-question-content">
<div data-bind="visible: !question.isCollapsed, css: question.cssContent, event: {focusin: question.focusIn }" role="presentation">
    <!-- ko if: question.showErrorOnTop -->
      <!-- ko template: { name: 'survey-question-errors', data: question } -->
      <!-- /ko -->
    <!-- /ko -->
    <!-- ko if: question.isDefaultRendering() -->
      <!-- ko template: { name: question.koTemplateName(), data: question, afterRender: question.koQuestionAfterRender } -->
      <!-- /ko -->
    <!-- /ko -->
    <!-- ko ifnot: question.isDefaultRendering() -->
      <!-- ko component: { name: getComponentName(), params: { question: question } } -->
      <!-- /ko -->
    <!-- /ko -->
    <!-- ko if: question.hasComment -->
    <div data-bind="css: question.getCommentAreaCss()">
      <div>
        <!-- ko template: { name: 'survey-string', data: question.locCommentText } -->
        <!-- /ko -->
      </div>
      <!-- ko template: { name: 'survey-comment',  data: {'question': question, 'visible': true } } -->
      <!-- /ko -->
    </div>
    <!-- /ko -->
    <!-- ko if: question.showErrorOnBottom -->
      <!-- ko template: { name: 'survey-question-errors', data: question } -->
      <!-- /ko -->
    <!-- /ko -->
    <!-- ko if: question.hasDescriptionUnderInput -->
    <div data-bind="css: cssClasses.descriptionUnderInput">
      <!-- ko template: { name: 'survey-string', data: locDescription } -->
      <!-- /ko -->
    </div>
    <!-- /ko -->
    <!-- ko if: question.hasTitleOnBottom -->
      <!--ko template: { name: 'survey-question-title', data: question  } -->
      <!-- /ko -->
    <!-- /ko -->
  </div>
</script>`},"./src/knockout/templates/questiontitle.html":function(d,P){d.exports=`<script type="text/html" id="survey-question-title">
  <div data-bind="css: question.cssHeader, click: function(m, e) { if(question.clickTitleFunction) return question.clickTitleFunction(e); }">
    <!-- ko component: { name: 'survey-element-title', params: { element: $data } } --><!-- /ko -->
    <!-- ko if: $data.hasDescriptionUnderTitle -->
    <div data-bind="css: $data.cssDescription, visible: $data.hasDescription">
      <!-- ko template: { name: 'survey-string', data: $data.locDescription } --><!-- /ko -->
    </div>
    <!-- /ko -->
    <!-- ko if: !!$data.additionalTitleToolbar -->
    <!-- ko component: { name: 'sv-action-bar', params: { model: $data.additionalTitleToolbar } } --><!-- /ko -->
    <!-- /ko -->
  </div>
</script>`},"./src/knockout/templates/row.html":function(d,P){d.exports=`<script type="text/html" id="survey-row">
  <div data-bind="css: row.getRowCss()">
    <!-- ko template: { name: "survey-row-content", afterRender: row.rowAfterRender } -->
    <!-- /ko -->
  </div>
</script>
<script type="text/html" id="survey-row-content">
<!-- ko foreach: { data: row.visibleElements, as: 'question', afterRender: row.koAfterRender } -->
  <div data-bind="css: question.cssClasses.questionWrapper, style: $data.rootStyle">
  <!-- ko if: row.isNeedRender -->
    <!-- ko component: { name: row.panel.survey.getElementWrapperComponentName(question), params: { componentData:  row.panel.survey.getElementWrapperComponentData(question), templateData: { name: question.koElementType, data: question, afterRender: $parent.koElementAfterRender } } } -->
    <!-- /ko -->
  <!-- /ko -->
  <!-- ko if: !row.isNeedRender && question.skeletonComponentName -->
    <!-- ko component: { name: question.skeletonComponentName, params: { element: question } } -->
    <!-- /ko -->
  <!-- /ko -->
  </div>
<!-- /ko -->
</script>`},"./src/knockout/templates/rows.html":function(d,P){d.exports=`<script type="text/html" id="survey-rows">
  <!-- ko foreach: { data: rows, as: 'row'} -->
    <!-- ko if: row.visible -->
      <!-- ko component: { name: $parent.survey.getRowWrapperComponentName(row), params: { componentData:  $parent.survey.getRowWrapperComponentData(row), templateData: { name: 'survey-row', data: row } } } -->
      <!-- /ko -->
    <!-- /ko -->
  <!-- /ko -->
</script>`},"./src/knockout/templates/string.html":function(d,P){d.exports=`<script type="text/html" id="survey-string">
    <!-- ko component: { name: renderAs, params: { locString: renderAsData } } -->
    <!-- /ko -->
</script>
`},"./src/knockout/templates/timerpanel.html":function(d,P){d.exports=`<script type="text/html" id="survey-timerpanel">
    <!-- ko if: isRunning && showTimerAsClock -->
    <div data-bind="css: rootCss">
        <!-- ko if: showProgress -->
        <svg data-bind="css: getProgressCss(), style: { strokeDasharray: 440, strokeDashoffset: -440 * progress }">
            <use data-bind="attr:{'xlink:href': '#icon-timercircle'}" xlink:href=''></use>
        </svg>
        <!-- /ko -->
        <div data-bind="css: textContainerCss">
            <span data-bind="css: majorTextCss, text: clockMajorText"></span>
            <!-- ko if: !!minorTextCss -->
            <span data-bind="css: minorTextCss, text: clockMinorText"></span>
            <!-- /ko -->
        </div>
    </div>
    <!-- /ko -->
    <!-- ko if: isRunning && !showTimerAsClock -->
    <div data-bind="css: survey.getCss().timerRoot, text: text"></div>
    <!--/ko -->
</script>
`},knockout:function(d,P){d.exports=q},"survey-core":function(d,P){d.exports=M}})})});var $n=xt(qn(),1),sr=xt(ht(),1),Jn=xt(ht(),1),er=xt(Mt(),1);window.knockout=er;window.Survey=$n.Survey;window.Model=Jn.Model;
/*! Bundled license information:

knockout/build/output/knockout-latest.js:
  (*!
   * Knockout JavaScript library v3.5.1
   * (c) The Knockout.js team - http://knockoutjs.com/
   * License: MIT (http://www.opensource.org/licenses/mit-license.php)
   *)

survey-core/survey.core.js:
  (*!
   * surveyjs - Survey JavaScript library v1.9.128
   * Copyright (c) 2015-2024 Devsoft Baltic O  - http://surveyjs.io/
   * License: MIT (http://www.opensource.org/licenses/mit-license.php)
   *)
  (*!
   * Signature Pad v4.1.7 | https://github.com/szimek/signature_pad
   * (c) 2023 Szymon Nowak | Released under the MIT license
   *)

survey-knockout-ui/survey-knockout-ui.js:
  (*!
   * surveyjs - Survey JavaScript library v1.9.128
   * Copyright (c) 2015-2024 Devsoft Baltic O  - http://surveyjs.io/
   * License: MIT (http://www.opensource.org/licenses/mit-license.php)
   *)
*/
